{
  "version": 3,
  "sources": ["../../@vkontakte/vkui/src/components/AppRoot/AppRoot.tsx", "../../@vkontakte/vkjs/src/other/dom.ts", "../../@vkontakte/vkjs/src/animation/animate.ts", "../../@swc/helpers/esm/_array_like_to_array.js", "../../@swc/helpers/esm/_unsupported_iterable_to_array.js", "../../@swc/helpers/esm/_type_of.js", "../../@vkontakte/vkjs/src/async/debounce.ts", "../../@vkontakte/vkjs/src/async/throttle.ts", "../../@vkontakte/vkjs/src/datetime/isSameDate.ts", "../../@vkontakte/vkjs/src/datetime/date.ts", "../../@vkontakte/vkjs/src/device/IOSDetections.ts", "../../@vkontakte/vkjs/src/device/InputUtils.ts", "../../@swc/helpers/esm/_class_call_check.js", "../../@swc/helpers/esm/_create_class.js", "../../@vkontakte/vkjs/src/other/regexp.ts", "../../@vkontakte/vkjs/src/internal/replacer.ts", "../../@vkontakte/vkjs/src/internal/codepoints.ts", "../../@vkontakte/vkjs/src/html/escape.ts", "../../clsx/dist/clsx.mjs", "../../@vkontakte/vkjs/src/other/functions.ts", "../../@vkontakte/vkjs/src/other/detections.ts", "../../@vkontakte/vkjs/src/typecheck/type_checkers.ts", "../../@vkontakte/vkjs/src/other/equal.ts", "../../@swc/helpers/esm/_instanceof.js", "../../@vkontakte/vkjs/src/other/react_utils.ts", "../../@vkontakte/vkjs/src/other/storage.ts", "../../@vkontakte/vkjs/src/text/transliteration.ts", "../../@vkontakte/vkui/src/hooks/useKeyboardInputTracker.ts", "../../@vkontakte/vkui/src/lib/children.ts", "../../@vkontakte/vkui/src/lib/accessibility.ts", "../../@vkontakte/vkui/src/lib/dom.tsx", "../../@floating-ui/utils/dist/floating-ui.utils.mjs", "../../@vkontakte/vkui-floating-ui/utils/dist/floating-ui.utils.dom.mjs", "../../@vkontakte/vkui/src/lib/useIsomorphicLayoutEffect.ts", "../../@vkontakte/vkui/src/hooks/useSyncHTMLWithBaseVKUIClasses.ts", "../../@vkontakte/vkui/src/lib/tokens/useTokenClassName.ts", "../../@vkontakte/vkui/src/components/ConfigProvider/ConfigProviderContext.tsx", "../../@vkontakte/vkui/src/lib/browser.ts", "../../@vkontakte/vkui/src/lib/platform.ts", "../../@vkontakte/vkui/src/lib/tokens/constants.ts", "../../@vkontakte/vkui/src/lib/colorScheme/index.ts", "../../@vkontakte/vkui/src/hooks/useSyncHTMLWithTokens.ts", "../../@vkontakte/vkui/src/components/AppRoot/AppRootContext.ts", "../../@vkontakte/vkui/src/components/AppRoot/AppRootStyleContainer/AppRootStyleContainer.tsx", "../../@vkontakte/vkui/src/hooks/useAdaptivity.ts", "../../@vkontakte/vkui/src/components/AdaptivityProvider/AdaptivityContext.tsx", "../../@vkontakte/vkui/src/components/RootComponent/RootComponent.tsx", "../../@vkontakte/vkui/src/helpers/mergeStyle.ts", "../../@vkontakte/vkui/src/components/AppRoot/helpers.ts", "../../@vkontakte/vkui/src/lib/isRefObject.ts", "../../@vkontakte/vkui/src/components/AppRoot/ScrollContext.tsx", "../../@vkontakte/vkui/src/helpers/math.ts", "../../@vkontakte/vkui/src/components/AppRoot/AppRootPortal.tsx", "../../@vkontakte/vkui/src/hooks/useColorScheme.ts", "../../@vkontakte/vkui/src/lib/createPortal.ts", "../../@vkontakte/vkui/src/components/ColorSchemeProvider/ColorSchemeProvider.tsx", "../../@vkontakte/vkui/src/lib/tokens/TokensClassProvider.tsx", "../../@vkontakte/vkui/src/components/ConfigProvider/ConfigProviderOverride.tsx", "../../@vkontakte/vkui/src/components/Typography/Typography.tsx", "../../@vkontakte/vkui/src/components/Typography/DisplayTitle/DisplayTitle.tsx", "../../@vkontakte/vkui/src/components/Typography/Title/Title.tsx", "../../@vkontakte/vkui/src/components/Typography/Headline/Headline.tsx", "../../@vkontakte/vkui/src/components/Typography/Text/Text.tsx", "../../@vkontakte/vkui/src/components/Typography/Paragraph/Paragraph.tsx", "../../@vkontakte/vkui/src/components/Typography/Subhead/Subhead.tsx", "../../@vkontakte/vkui/src/components/Typography/Footnote/Footnote.tsx", "../../@vkontakte/vkui/src/components/Typography/Caption/Caption.tsx", "../../@vkontakte/vkui/src/components/Typography/EllipsisText/EllipsisText.tsx", "../../@vkontakte/vkui/src/components/UnstyledTextField/UnstyledTextField.tsx", "../../@vkontakte/vkui/src/lib/adaptivity/constants.ts", "../../@vkontakte/vkui/src/lib/adaptivity/breakpoints.ts", "../../@vkontakte/vkui/src/lib/adaptivity/functions.ts", "../../@vkontakte/vkui/src/lib/callMultiple.ts", "../../@vkontakte/vkui/src/lib/mergeCalls.ts", "../../@vkontakte/vkui/src/components/Clickable/Clickable.tsx", "../../@vkontakte/vkui/src/hooks/useFocusVisible.ts", "../../@vkontakte/vkui/src/hooks/useFocusVisibleClassName.ts", "../../@vkontakte/vkui/src/lib/utils.ts", "../../@vkontakte/vkui/src/components/Clickable/useState.tsx", "../../@vkontakte/vkui/src/components/Clickable/useStateWithDelay.tsx", "../../@vkontakte/vkui/src/components/Tappable/Ripple.tsx", "../../@vkontakte/vkui/src/hooks/usePlatform.ts", "../../@vkontakte/vkui/src/lib/offset.ts", "../../@vkontakte/vkui/src/components/Tappable/state.tsx", "../../@vkontakte/vkui/src/components/Tappable/Tappable.tsx", "../../@vkontakte/vkui/src/components/FixedLayout/FixedLayout.tsx", "../../@vkontakte/vkui/src/hooks/useResizeObserver.ts", "../../@vkontakte/vkui/src/lib/floating/customResizeObserver.ts", "../../@vkontakte/vkui/src/hooks/useStableCallback.ts", "../../@vkontakte/vkui/src/components/OnboardingTooltip/OnboardingTooltipContainer.tsx", "../../@vkontakte/vkui/src/lib/react/defineComponentDisplayNames.ts", "../../@vkontakte/vkui/src/components/SplitCol/SplitColContext.tsx", "../../@vkontakte/vkui/src/components/ImageBase/ImageBase.tsx", "../../@swc/helpers/esm/_class_apply_descriptor_get.js", "../../@swc/helpers/esm/_class_extract_field_descriptor.js", "../../@swc/helpers/esm/_class_private_field_get.js", "../../@swc/helpers/esm/_check_private_redeclaration.js", "../../@swc/helpers/esm/_class_private_field_init.js", "../../@swc/helpers/esm/_class_apply_descriptor_set.js", "../../@swc/helpers/esm/_class_private_field_set.js", "../../@vkontakte/vkui/src/hooks/useExternRef.ts", "../../@vkontakte/vkui/src/lib/comparing.ts", "../../@vkontakte/vkui/src/components/ImageBase/ImageBaseBadge/ImageBaseBadge.tsx", "../../@vkontakte/vkui/src/components/ImageBase/context.ts", "../../@vkontakte/vkui/src/lib/warnOnce.ts", "../../@vkontakte/vkui/src/components/ImageBase/helpers.ts", "../../@vkontakte/vkui/src/components/ImageBase/types.ts", "../../@vkontakte/vkui/src/components/ImageBase/validators.ts", "../../@vkontakte/vkui/src/components/ImageBase/ImageBaseFloatElement/ImageBaseFloatElement.tsx", "../../@vkontakte/vkui/src/components/ImageBase/ImageBaseFloatElement/helpers.ts", "../../@vkontakte/vkui/src/components/ImageBase/ImageBaseOverlay/ImageBaseOverlay.tsx", "../../@vkontakte/vkui/src/components/ImageBase/ImageBaseOverlay/hooks.ts", "../../@vkontakte/vkui/src/hooks/useFocusWithin.ts", "../../@vkontakte/vkui/src/hooks/useIsClient.ts", "../../@vkontakte/vkui/src/components/Button/Button.tsx", "../../@vkontakte/vkui/src/components/Spinner/Spinner.tsx", "../../@vkontakte/vkui/src/styles/animationVisibilityDelay.ts", "../../@vkontakte/vkui/src/components/VisuallyHidden/VisuallyHidden.tsx", "../../@vkontakte/vkui/src/lib/animation/useCSSKeyframesAnimationController.ts", "../../@vkontakte/vkui/src/lib/animation/useReducedMotion.ts", "../../@vkontakte/vkui/src/lib/matchMedia.ts", "../../@vkontakte/vkui/src/lib/animation/rubberbandIfOutOfBounds.ts", "../../@vkontakte/vkui/src/lib/animation/fades.ts", "../../@vkontakte/vkui/src/lib/animation/transformOrigin.ts", "../../@vkontakte/vkui/src/lib/animation/useCSSTransition.ts", "../../@vkontakte/vkui-date-fns-tz/constants/index.js", "../../@vkontakte/vkui-date-fns-tz/tzName/index.js", "../../@vkontakte/vkui-date-fns-tz/tzOffset/index.js", "../../@vkontakte/vkui-date-fns-tz/date/mini.js", "../../@vkontakte/vkui-date-fns-tz/date/index.js", "../../@vkontakte/vkui/src/lib/date.ts", "../../@vkontakte/vkui/src/components/Spinner/SpinnerAnimation.tsx", "../../@vkontakte/vkui/src/components/Spinner/icons.tsx", "../../@vkontakte/vkui/src/components/IconButton/IconButton.tsx", "../../@vkontakte/vkui/src/components/AdaptiveIconRenderer/AdaptiveIconRenderer.tsx", "../../@vkontakte/vkui/src/hooks/useAdaptivityConditionalRender/useAdaptivityConditionalRender.tsx", "../../@vkontakte/vkui/src/hooks/useAdaptivityConditionalRender/constants.ts", "../../@vkontakte/vkui/src/hooks/useAdaptivityConditionalRender/helpers.ts", "../../@vkontakte/vkui/src/components/ToolButton/ToolButton.tsx", "../../@vkontakte/vkui/src/components/Root/Root.tsx", "../../@vkontakte/vkui/src/lib/getNavId.ts", "../../@vkontakte/vkui/src/components/NavTransitionContext/NavTransitionContext.tsx", "../../@vkontakte/vkui/src/components/NavTransitionDirectionContext/NavTransitionDirectionContext.tsx", "../../@vkontakte/vkui/src/components/View/View.tsx", "../../@vkontakte/vkui/src/hooks/usePrevious.ts", "../../@vkontakte/vkui/src/components/NavIdContext/NavIdContext.tsx", "../../@vkontakte/vkui/src/components/Touch/Touch.tsx", "../../@vkontakte/vkui/src/lib/touch/functions.ts", "../../@vkontakte/vkui/src/lib/touch/UIPanGestureRecognizer.ts", "../../@vkontakte/vkui/src/components/View/useLayoutEffectCall.tsx", "../../@vkontakte/vkui/src/lib/floating/functions.ts", "../../@swc/helpers/esm/_array_with_holes.js", "../../@swc/helpers/esm/_iterable_to_array_limit.js", "../../@swc/helpers/esm/_non_iterable_rest.js", "../../@swc/helpers/esm/_sliced_to_array.js", "../../@floating-ui/core/dist/floating-ui.core.mjs", "../../@floating-ui/utils/dist/floating-ui.utils.dom.mjs", "../../@floating-ui/dom/dist/floating-ui.dom.mjs", "../../@vkontakte/vkui-floating-ui/react-dom/dist/floating-ui.react-dom.mjs", "../../@vkontakte/vkui/src/lib/floating/adapters.ts", "../../@vkontakte/vkui/src/lib/floating/useFloatingMiddlewaresBootstrap/index.ts", "../../@vkontakte/vkui/src/lib/floating/useFloatingWithInteractions/useFloatingWithInteractions.ts", "../../@vkontakte/vkui/src/hooks/useEnsuredControl.ts", "../../@vkontakte/vkui/src/hooks/useGlobalOnClickOutside.ts", "../../@vkontakte/vkui/src/lib/floating/useFloatingWithInteractions/constants.ts", "../../@vkontakte/vkui/src/lib/floating/useFloatingWithInteractions/useResolveTriggerType.ts", "../../@vkontakte/vkui/src/lib/floating/usePlacementChangeCallback.ts", "../../@vkontakte/vkui/src/components/View/utils.ts", "../../@vkontakte/vkui/src/components/Panel/Panel.tsx", "../../@vkontakte/vkui/src/components/PanelHeaderButton/PanelHeaderButton.tsx", "../../@vkontakte/vkui/src/components/PanelHeader/PanelHeader.tsx", "../../@vkontakte/vkui/src/context/ModalContext.tsx", "../../@vkontakte/vkui/src/lib/spacings/sizes.ts", "../../@vkontakte/vkui/src/components/Separator/Separator.tsx", "../../@vkontakte/vkui/src/components/Spacing/Spacing.tsx", "../../@vkontakte/vkui/src/components/PanelHeaderContent/PanelHeaderContent.tsx", "../../@vkontakte/vkui/src/components/PanelHeaderContext/PanelHeaderContext.tsx", "../../@vkontakte/vkui/src/components/SplitLayout/SplitLayout.tsx", "../../@vkontakte/vkui/src/components/SplitCol/SplitCol.tsx", "../../@vkontakte/vkui/src/hooks/useMediaQueries.ts", "../../@vkontakte/vkui/src/components/Epic/Epic.tsx", "../../@vkontakte/vkui/src/components/Epic/ScrollSaver.tsx", "../../@vkontakte/vkui/src/components/Tabbar/Tabbar.tsx", "../../@vkontakte/vkui/src/components/TabbarItem/TabbarItem.tsx", "../../@vkontakte/vkui/src/components/ScrollArrow/ScrollArrow.tsx", "../../@vkontakte/vkui/src/hooks/useConfigDirection.ts", "../../@vkontakte/vkui/src/components/HorizontalScroll/HorizontalScroll.tsx", "../../@vkontakte/vkui/src/hooks/useAdaptivityHasPointer.ts", "../../@vkontakte/vkui/src/lib/fx.ts", "../../@vkontakte/vkui/src/components/AspectRatio/AspectRatio.tsx", "../../@vkontakte/vkui/src/lib/layouts/gaps.ts", "../../@vkontakte/vkui/src/components/Flex/FlexItem/FlexItem.tsx", "../../@vkontakte/vkui/src/components/Flex/Flex.tsx", "../../@vkontakte/vkui/src/components/SimpleGrid/SimpleGrid.tsx", "../../@vkontakte/vkui/src/components/PopoutWrapper/PopoutWrapper.tsx", "../../@vkontakte/vkui/src/components/Alert/Alert.tsx", "../../@vkontakte/vkui/src/components/Alert/AlertBase.tsx", "../../@vkontakte/vkui/src/hooks/useAdaptivityWithJSMediaQueries.ts", "../../@vkontakte/vkui/src/helpers/getOrDefault.ts", "../../@vkontakte/vkui/src/hooks/useFocusTrap.ts", "../../@vkontakte/vkui/src/helpers/array.ts", "../../@vkontakte/vkui/src/hooks/useMutationObserver.ts", "../../@vkontakte/vkui/src/components/FocusTrap/FocusTrap.tsx", "../../@vkontakte/vkui/src/components/ModalDismissButton/ModalDismissButton.tsx", "../../@vkontakte/vkui/src/components/ModalOutsideButton/ModalOutsideButton.tsx", "../../@vkontakte/vkui/src/components/Alert/AlertActions.tsx", "../../@vkontakte/vkui/src/components/Alert/AlertAction.tsx", "../../@vkontakte/vkui/src/components/Alert/AlertTypography.tsx", "../../@vkontakte/vkui/src/components/ActionSheet/ActionSheet.tsx", "../../@vkontakte/vkui/src/components/ActionSheet/ActionSheetContext.ts", "../../@vkontakte/vkui/src/components/ActionSheetItem/ActionSheetItem.tsx", "../../@vkontakte/vkui/src/components/ActionSheetItem/helpers.ts", "../../@vkontakte/vkui/src/components/ActionSheetItem/subcomponents/Radio/Radio.tsx", "../../@vkontakte/vkui/src/components/ActionSheet/ActionSheetDefaultIosCloseItem.tsx", "../../@vkontakte/vkui/src/components/ActionSheet/ActionSheetDropdownMenu.tsx", "../../@vkontakte/vkui/src/hooks/useEffectDev.ts", "../../@vkontakte/vkui/src/hooks/useEventListener.ts", "../../@vkontakte/vkui/src/components/Popper/Popper.tsx", "../../@vkontakte/vkui/src/lib/floating/useReferenceHiddenChangeCallback.ts", "../../@vkontakte/vkui/src/components/FloatingArrow/DefaultIcon.tsx", "../../@vkontakte/vkui/src/components/FloatingArrow/FloatingArrow.tsx", "../../@vkontakte/vkui/src/components/ActionSheet/ActionSheetDropdownSheet.tsx", "../../@vkontakte/vkui/src/components/ScreenSpinner/ScreenSpinner.tsx", "../../@vkontakte/vkui/src/components/ScreenSpinner/context.ts", "../../@vkontakte/vkui/src/components/ScreenSpinner/ScreenSpinnerContainer.tsx", "../../@vkontakte/vkui/src/components/ScreenSpinner/ScreenSpinnerLoader.tsx", "../../@vkontakte/vkui/src/components/ScreenSpinner/ScreenSpinnerSwapIcon.tsx", "../../@vkontakte/vkui/src/components/ScreenSpinner/Icon48CancelCircle.tsx", "../../@vkontakte/vkui/src/components/ScreenSpinner/Icon48DoneOutline.tsx", "../../@vkontakte/vkui/src/components/Snackbar/Snackbar.tsx", "../../@vkontakte/vkui/src/hooks/useGlobalEscKeyDown.ts", "../../@vkontakte/vkui/src/components/Snackbar/subcomponents/Basic/Basic.tsx", "../../@vkontakte/vkui/src/components/Snackbar/utils.ts", "../../@vkontakte/vkui/src/components/Tooltip/Tooltip.tsx", "../../@vkontakte/vkui/src/hooks/usePatchChildren.ts", "../../@vkontakte/vkui/src/helpers/getMergedSameEventsByProps.ts", "../../@vkontakte/vkui/src/hooks/useReferenceElement.tsx", "../../@vkontakte/vkui/src/components/Tooltip/useTooltip.tsx", "../../@vkontakte/vkui/src/hooks/useFloatingElement.tsx", "../../@vkontakte/vkui/src/components/TooltipBase/TooltipBase.tsx", "../../@vkontakte/vkui/src/components/ModalRoot/ModalRoot.tsx", "../../@vkontakte/vkui/src/components/ModalOverlay/ModalOverlay.tsx", "../../@vkontakte/vkui/src/components/ModalRoot/ModalRootContext.tsx", "../../@vkontakte/vkui/src/components/ModalRoot/withModalRootContext.tsx", "../../@vkontakte/vkui/src/components/ModalRoot/useModalRootContext.ts", "../../@vkontakte/vkui/src/components/CustomScrollView/CustomScrollView.tsx", "../../@vkontakte/vkui/src/components/ModalPageContent/ModalPageContent.tsx", "../../@vkontakte/vkui/src/components/ModalPage/ModalPage.tsx", "../../@vkontakte/vkui/src/helpers/range.ts", "../../@vkontakte/vkui/src/lib/sheet/constants.ts", "../../@vkontakte/vkui/src/lib/sheet/useBottomSheet.ts", "../../@vkontakte/vkui/src/lib/sheet/controllers/BottomSheetController.ts", "../../@vkontakte/vkui/src/lib/sheet/controllers/CSSTransitionController.ts", "../../@vkontakte/vkui/src/components/ModalRoot/useModalManager.tsx", "../../@vkontakte/vkui/src/components/ModalRoot/VisuallyHiddenModalOverlay/VisuallyHiddenModalOverlay.tsx", "../../@vkontakte/vkui/src/components/ModalPage/ModalPageInternal.tsx", "../../@vkontakte/vkui/src/hooks/useVirtualKeyboardState.ts", "../../@vkontakte/vkui/src/components/ModalOutlet/ModalOutlet.tsx", "../../@vkontakte/vkui/src/components/ModalOutsideButtons/ModalOutsideButtons.tsx", "../../@vkontakte/vkui/src/components/ModalPage/ModalPageBase.tsx", "../../@vkontakte/vkui/src/components/ModalPageHeader/ModalPageHeader.tsx", "../../@vkontakte/vkui/src/components/ModalCard/ModalCardInternal.tsx", "../../@vkontakte/vkui/src/components/ModalCardBase/ModalCardBase.tsx", "../../@vkontakte/vkui/src/components/ModalCard/ModalCard.tsx", "../../@vkontakte/vkui/src/components/Badge/Badge.tsx", "../../@vkontakte/vkui/src/components/ContentBadge/ContentBadge.tsx", "../../@vkontakte/vkui/src/components/ContentBadge/ContentBadgeContext.tsx", "../../@vkontakte/vkui/src/components/ContentBadge/ContentBadgeIconSlot.tsx", "../../@vkontakte/vkui/src/components/ButtonGroup/ButtonGroup.tsx", "../../@vkontakte/vkui/src/components/Card/Card.tsx", "../../@vkontakte/vkui/src/components/CardGrid/CardGrid.tsx", "../../@vkontakte/vkui/src/components/CardScroll/CardScroll.tsx", "../../@vkontakte/vkui/src/components/ContentCard/ContentCard.tsx", "../../@vkontakte/vkui/src/components/Header/Header.tsx", "../../@vkontakte/vkui/src/components/Group/Group.tsx", "../../@vkontakte/vkui/src/components/Group/GroupContainer.tsx", "../../@vkontakte/vkui/src/components/Group/GroupDescription.tsx", "../../@vkontakte/vkui/src/components/Group/GroupExpandedContent.tsx", "../../@vkontakte/vkui/src/components/Group/GroupHeader.tsx", "../../@vkontakte/vkui/src/components/Gradient/Gradient.tsx", "../../@vkontakte/vkui/src/components/List/List.tsx", "../../@vkontakte/vkui/src/hooks/useDraggableWithDomApi/constants.ts", "../../@vkontakte/vkui/src/hooks/useDraggableWithDomApi/useDraggableWithDomApi.ts", "../../@vkontakte/vkui/src/lib/rafSchd.ts", "../../@vkontakte/vkui/src/hooks/useDraggableWithDomApi/autoScroll.ts", "../../@vkontakte/vkui/src/hooks/useDraggableWithDomApi/utils.ts", "../../@vkontakte/vkui/src/components/Cell/Cell.tsx", "../../@vkontakte/vkui/src/components/Removable/Removable.tsx", "../../@vkontakte/vkui/src/components/Removable/RemovableIos.tsx", "../../@vkontakte/vkui/src/hooks/useGlobalEventListener.ts", "../../@vkontakte/vkui/src/components/SimpleCell/SimpleCell.tsx", "../../@vkontakte/vkui/src/components/SimpleCell/Chevron/Chevron.tsx", "../../@vkontakte/vkui/src/components/Cell/CellCheckbox/CellCheckbox.tsx", "../../@vkontakte/vkui/src/components/Cell/CellDragger/CellDragger.tsx", "../../@vkontakte/vkui/src/components/Cell/constants.ts", "../../@vkontakte/vkui/src/components/RichCell/RichCell.tsx", "../../@vkontakte/vkui/src/components/RichCell/RichCellIcon/RichCellIcon.tsx", "../../@vkontakte/vkui/src/components/CellButton/CellButton.tsx", "../../@vkontakte/vkui/src/components/CellButtonGroup/CellButtonGroup.tsx", "../../@vkontakte/vkui/src/components/CellButtonGroup/CellButtonGroupSeparator/CellButtonGroupSeparator.tsx", "../../@vkontakte/vkui/src/components/HorizontalCell/HorizontalCell.tsx", "../../@vkontakte/vkui/src/components/Avatar/AvatarBadge/AvatarBadge.tsx", "../../@vkontakte/vkui/src/components/Avatar/AvatarBadge/AvatarBadgeWithPreset.tsx", "../../@vkontakte/vkui/src/components/Avatar/AvatarBadge/icons.tsx", "../../@vkontakte/vkui/src/components/Avatar/helpers.ts", "../../@vkontakte/vkui/src/components/Avatar/Avatar.tsx", "../../@vkontakte/vkui/src/components/HorizontalScroll/HorizontalCellShowMore/HorizontalCellShowMore.tsx", "../../@vkontakte/vkui/src/components/Footer/Footer.tsx", "../../@vkontakte/vkui/src/components/InfoRow/InfoRow.tsx", "../../@vkontakte/vkui/src/components/Gallery/Gallery.tsx", "../../@vkontakte/vkui/src/components/CarouselBase/CarouselBase.tsx", "../../@vkontakte/vkui/src/components/CarouselBase/Bullets.tsx", "../../@vkontakte/vkui/src/components/CarouselBase/CarouselViewPort.tsx", "../../@vkontakte/vkui/src/components/CarouselBase/ScrollArrows.tsx", "../../@vkontakte/vkui/src/components/CarouselBase/constants.ts", "../../@vkontakte/vkui/src/helpers/getValueByKey.ts", "../../@vkontakte/vkui/src/components/CarouselBase/helpers.ts", "../../@vkontakte/vkui/src/components/CarouselBase/hooks.ts", "../../@vkontakte/vkui/src/lib/animate.ts", "../../@vkontakte/vkui/src/components/Gallery/hooks.ts", "../../@vkontakte/vkui/src/components/GridAvatar/GridAvatarBadge/GridAvatarBadge.tsx", "../../@vkontakte/vkui/src/components/GridAvatar/GridAvatar.tsx", "../../@vkontakte/vkui/src/components/Image/Image.tsx", "../../@vkontakte/vkui/src/components/Image/ImageBadge/ImageBadge.tsx", "../../@vkontakte/vkui/src/components/Progress/Progress.tsx", "../../@vkontakte/vkui/src/components/Search/Search.tsx", "../../@vkontakte/vkui/src/hooks/useBooleanState.ts", "../../@vkontakte/vkui/src/hooks/useNativeFormResetListener.ts", "../../@vkontakte/vkui/src/components/Tabs/Tabs.tsx", "../../@vkontakte/vkui/src/hooks/useTabsNavigation.ts", "../../@vkontakte/vkui/src/components/Tabs/TabsController.ts", "../../@vkontakte/vkui/src/components/Tabs/TabsControllerContext.ts", "../../@vkontakte/vkui/src/components/Tabs/TabsModeContext.ts", "../../@vkontakte/vkui/src/components/TabsItem/TabsItem.tsx", "../../@vkontakte/vkui/src/components/PullToRefresh/PullToRefresh.tsx", "../../@vkontakte/vkui/src/hooks/useStateWithPrev.ts", "../../@vkontakte/vkui/src/components/Touch/TouchContext.ts", "../../@vkontakte/vkui/src/components/PullToRefresh/PullToRefreshSpinner.tsx", "../../@vkontakte/vkui/src/components/Link/Link.tsx", "../../@vkontakte/vkui/src/components/Mark/Mark.tsx", "../../@vkontakte/vkui/src/components/OnboardingTooltip/OnboardingTooltip.tsx", "../../@vkontakte/vkui/src/components/Counter/Counter.tsx", "../../@vkontakte/vkui/src/components/UsersStack/UsersStack.tsx", "../../@vkontakte/vkui/src/components/Placeholder/Placeholder.tsx", "../../@vkontakte/vkui/src/components/Banner/Banner.tsx", "../../@vkontakte/vkui/src/components/MiniInfoCell/MiniInfoCell.tsx", "../../@vkontakte/vkui/src/components/WriteBar/WriteBar.tsx", "../../@vkontakte/vkui/src/components/Textarea/useResizeTextarea.ts", "../../@vkontakte/vkui/src/components/WriteBarIcon/WriteBarIcon.tsx", "../../@vkontakte/vkui/src/components/SubnavigationBar/SubnavigationBar.tsx", "../../@vkontakte/vkui/src/components/SubnavigationButton/SubnavigationButton.tsx", "../../@vkontakte/vkui/src/components/Pagination/Pagination.tsx", "../../@vkontakte/vkui/src/hooks/usePagination.ts", "../../@vkontakte/vkui/src/components/Pagination/PaginationNavigationButton/PaginationNavigationButton.tsx", "../../@vkontakte/vkui/src/components/Pagination/PaginationPage/PaginationPageButton.tsx", "../../@vkontakte/vkui/src/components/Pagination/PaginationPage/usePaginationPageClasses.ts", "../../@vkontakte/vkui/src/components/Pagination/PaginationPage/PaginationPageEllipsis.tsx", "../../@vkontakte/vkui/src/components/Accordion/Accordion.tsx", "../../@vkontakte/vkui/src/components/Accordion/AccordionContent.tsx", "../../@vkontakte/vkui/src/components/Accordion/AccordionContext.tsx", "../../@vkontakte/vkui/src/components/Accordion/AccordionSummary.tsx", "../../@vkontakte/vkui/src/components/FormItem/FormItem.tsx", "../../@vkontakte/vkui/src/components/FormItem/FormItemTop/FormItemTop.tsx", "../../@vkontakte/vkui/src/components/FormItem/FormItemTop/FormItemTopAside.tsx", "../../@vkontakte/vkui/src/components/FormItem/FormItemTop/FormItemTopLabel.tsx", "../../@vkontakte/vkui/src/components/FormItem/context.ts", "../../@vkontakte/vkui/src/components/FormField/FormField.tsx", "../../@vkontakte/vkui/src/components/FormLayoutGroup/FormLayoutGroup.tsx", "../../@vkontakte/vkui/src/components/FormStatus/FormStatus.tsx", "../../@vkontakte/vkui/src/components/Switch/Switch.tsx", "../../@vkontakte/vkui/src/components/File/File.tsx", "../../@vkontakte/vkui/src/components/DropZone/DropZone.tsx", "../../@vkontakte/vkui/src/components/DropZone/components/DropZoneGrid.tsx", "../../@vkontakte/vkui/src/components/Input/Input.tsx", "../../@vkontakte/vkui/src/components/ChipsInputBase/Chip/Chip.tsx", "../../@vkontakte/vkui/src/components/ChipsInputBase/ChipsInputBase.tsx", "../../@vkontakte/vkui/src/components/FormFieldClearButton/FormFieldClearButton.tsx", "../../@vkontakte/vkui/src/components/ChipsInputBase/constants.tsx", "../../@vkontakte/vkui/src/components/ChipsInputBase/helpers.ts", "../../@vkontakte/vkui/src/components/ChipsInput/useChipsInput.ts", "../../@vkontakte/vkui/src/lib/react/simulateReactInput.ts", "../../@vkontakte/vkui/src/components/ChipsInput/ChipsInput.tsx", "../../@vkontakte/vkui/src/components/ChipsSelect/ChipsSelect.tsx", "../../@vkontakte/vkui/src/lib/select.ts", "../../@vkontakte/vkui/src/components/CustomSelectDropdown/CustomSelectDropdown.tsx", "../../@vkontakte/vkui/src/components/CustomSelectOption/CustomSelectOption.tsx", "../../@vkontakte/vkui/src/components/DropdownIcon/DropdownIcon.tsx", "../../@vkontakte/vkui/src/components/ChipsSelect/constants.tsx", "../../@vkontakte/vkui/src/components/ChipsSelect/useChipsSelect.ts", "../../@vkontakte/vkui/src/components/Slider/Slider.tsx", "../../@vkontakte/vkui/src/components/Slider/SliderThumb/SliderThumb.tsx", "../../@vkontakte/vkui/src/components/Slider/helpers.ts", "../../@vkontakte/vkui/src/components/Textarea/Textarea.tsx", "../../@vkontakte/vkui/src/components/SelectionControl/SelectionControl.tsx", "../../@vkontakte/vkui/src/components/SelectionControl/SelectionControlContext.ts", "../../@vkontakte/vkui/src/components/SelectionControl/SelectionControlLabel/SelectionControlLabel.tsx", "../../@vkontakte/vkui/src/components/Radio/Radio.tsx", "../../@vkontakte/vkui/src/components/Radio/RadioInput/RadioInput.tsx", "../../@vkontakte/vkui/src/components/RadioGroup/RadioGroup.tsx", "../../@vkontakte/vkui/src/components/Checkbox/Checkbox.tsx", "../../@vkontakte/vkui/src/components/Checkbox/CheckboxInput/CheckboxInput.tsx", "../../@vkontakte/vkui/src/components/Checkbox/CheckboxSimple/CheckboxSimple.tsx", "../../@vkontakte/vkui/src/components/Select/Select.tsx", "../../@vkontakte/vkui/src/components/CustomSelect/CustomSelect.tsx", "../../@vkontakte/vkui/src/components/NativeSelect/NativeSelect.tsx", "../../@vkontakte/vkui/src/components/SelectTypography/SelectTypography.tsx", "../../@vkontakte/vkui/src/components/CustomSelect/CustomSelectInput/CustomSelectInput.tsx", "../../@vkontakte/vkui/src/components/CustomSelect/helpers.ts", "../../@vkontakte/vkui/src/components/CustomSelect/hooks/useAfterItems.tsx", "../../@vkontakte/vkui/src/components/CustomSelect/CustomSelectClearButton.tsx", "../../@vkontakte/vkui/src/components/CustomSelect/hooks/useDropdownOpenedController.ts", "../../@vkontakte/vkui/src/components/CustomSelect/hooks/useFocusedOptionController.ts", "../../@vkontakte/vkui/src/components/CustomSelect/hooks/useInputKeyboardController.ts", "../../@vkontakte/vkui/src/components/CustomSelect/hooks/useInputValueController.ts", "../../@vkontakte/vkui/src/components/CustomSelect/hooks/useScrollListController.ts", "../../@vkontakte/vkui/src/components/CustomSelect/hooks/useSelectedOptionController.ts", "../../@vkontakte/vkui/src/components/SelectMimicry/SelectMimicry.tsx", "../../@vkontakte/vkui/src/hooks/useAutoFocus.ts", "../../@vkontakte/vkui/src/components/SegmentedControl/SegmentedControl.tsx", "../../@vkontakte/vkui/src/components/SegmentedControl/SegmentedControlOption/SegmentedControlOption.tsx", "../../@vkontakte/vkui/src/components/Calendar/Calendar.tsx", "../../date-fns/constants.js", "../../date-fns/constructFrom.js", "../../date-fns/toDate.js", "../../date-fns/addDays.js", "../../date-fns/addMonths.js", "../../date-fns/_lib/defaultOptions.js", "../../date-fns/startOfWeek.js", "../../date-fns/startOfISOWeek.js", "../../date-fns/getISOWeekYear.js", "../../date-fns/_lib/getTimezoneOffsetInMilliseconds.js", "../../date-fns/_lib/normalizeDates.js", "../../date-fns/startOfDay.js", "../../date-fns/startOfISOWeekYear.js", "../../date-fns/addWeeks.js", "../../date-fns/constructNow.js", "../../date-fns/differenceInMilliseconds.js", "../../date-fns/_lib/normalizeInterval.js", "../../date-fns/eachDayOfInterval.js", "../../date-fns/startOfMonth.js", "../../date-fns/endOfWeek.js", "../../date-fns/locale/_lib/buildFormatLongFn.js", "../../date-fns/locale/en-US/_lib/formatLong.js", "../../date-fns/locale/_lib/buildLocalizeFn.js", "../../date-fns/locale/en-US/_lib/localize.js", "../../date-fns/locale/_lib/buildMatchFn.js", "../../date-fns/locale/_lib/buildMatchPatternFn.js", "../../date-fns/locale/en-US/_lib/match.js", "../../date-fns/getISOWeek.js", "../../date-fns/getWeekYear.js", "../../date-fns/startOfWeekYear.js", "../../date-fns/getWeek.js", "../../date-fns/getDaysInMonth.js", "../../date-fns/getISODay.js", "../../date-fns/parse/_lib/Setter.js", "../../date-fns/parse/_lib/Parser.js", "../../date-fns/parse/_lib/parsers/EraParser.js", "../../date-fns/parse/_lib/constants.js", "../../date-fns/parse/_lib/utils.js", "../../date-fns/parse/_lib/parsers/YearParser.js", "../../date-fns/parse/_lib/parsers/LocalWeekYearParser.js", "../../date-fns/parse/_lib/parsers/ISOWeekYearParser.js", "../../date-fns/parse/_lib/parsers/ExtendedYearParser.js", "../../date-fns/parse/_lib/parsers/QuarterParser.js", "../../date-fns/parse/_lib/parsers/StandAloneQuarterParser.js", "../../date-fns/parse/_lib/parsers/MonthParser.js", "../../date-fns/parse/_lib/parsers/StandAloneMonthParser.js", "../../date-fns/setWeek.js", "../../date-fns/parse/_lib/parsers/LocalWeekParser.js", "../../date-fns/setISOWeek.js", "../../date-fns/parse/_lib/parsers/ISOWeekParser.js", "../../date-fns/parse/_lib/parsers/DateParser.js", "../../date-fns/parse/_lib/parsers/DayOfYearParser.js", "../../date-fns/setDay.js", "../../date-fns/parse/_lib/parsers/DayParser.js", "../../date-fns/parse/_lib/parsers/LocalDayParser.js", "../../date-fns/parse/_lib/parsers/StandAloneLocalDayParser.js", "../../date-fns/setISODay.js", "../../date-fns/parse/_lib/parsers/ISODayParser.js", "../../date-fns/parse/_lib/parsers/AMPMParser.js", "../../date-fns/parse/_lib/parsers/AMPMMidnightParser.js", "../../date-fns/parse/_lib/parsers/DayPeriodParser.js", "../../date-fns/parse/_lib/parsers/Hour1to12Parser.js", "../../date-fns/parse/_lib/parsers/Hour0to23Parser.js", "../../date-fns/parse/_lib/parsers/Hour0To11Parser.js", "../../date-fns/parse/_lib/parsers/Hour1To24Parser.js", "../../date-fns/parse/_lib/parsers/MinuteParser.js", "../../date-fns/parse/_lib/parsers/SecondParser.js", "../../date-fns/parse/_lib/parsers/FractionOfSecondParser.js", "../../date-fns/parse/_lib/parsers/ISOTimezoneWithZParser.js", "../../date-fns/parse/_lib/parsers/ISOTimezoneParser.js", "../../date-fns/parse/_lib/parsers/TimestampSecondsParser.js", "../../date-fns/parse/_lib/parsers/TimestampMillisecondsParser.js", "../../date-fns/parse/_lib/parsers.js", "../../date-fns/startOfMinute.js", "../../date-fns/subDays.js", "../../date-fns/setMonth.js", "../../date-fns/setHours.js", "../../date-fns/setMinutes.js", "../../date-fns/setYear.js", "../../date-fns/startOfTomorrow.js", "../../date-fns/subMonths.js", "../../date-fns/subWeeks.js", "../../@vkontakte/vkui/src/hooks/useCalendar.ts", "../../@vkontakte/vkui/src/lib/calendar.ts", "../../@vkontakte/vkui/src/components/CalendarDays/CalendarDays.tsx", "../../@vkontakte/vkui/src/hooks/useTodayDate.ts", "../../@vkontakte/vkui/src/components/CalendarDay/CalendarDay.tsx", "../../@vkontakte/vkui/src/components/CalendarHeader/CalendarHeader.tsx", "../../@vkontakte/vkui/src/components/AdaptivityProvider/AdaptivityProvider.tsx", "../../@vkontakte/vkui/src/components/CalendarTime/CalendarTime.tsx", "../../@vkontakte/vkui/src/components/CalendarRange/CalendarRange.tsx", "../../@vkontakte/vkui/src/components/CalendarRange/utils.ts", "../../@vkontakte/vkui/src/components/DateInput/DateInput.tsx", "../../@vkontakte/vkui/src/hooks/useDateInput.ts", "../../@vkontakte/vkui/src/components/InputLike/InputLikeDivider.tsx", "../../@vkontakte/vkui/src/components/InputLike/InputLike.tsx", "../../@vkontakte/vkui/src/components/NumberInputLike/NumberInputLike.tsx", "../../@vkontakte/vkui/src/components/DateInput/hooks.ts", "../../@vkontakte/vkui/src/components/DateRangeInput/DateRangeInput.tsx", "../../@vkontakte/vkui/src/components/Skeleton/Skeleton.tsx", "../../@vkontakte/vkui/src/components/Div/Div.tsx", "../../@vkontakte/vkui/src/components/PanelSpinner/PanelSpinner.tsx", "../../@vkontakte/vkui/src/components/PanelHeaderClose/PanelHeaderClose.tsx", "../../@vkontakte/vkui/src/components/PanelHeaderBack/PanelHeaderBack.tsx", "../../@vkontakte/vkui/src/components/PanelHeaderSubmit/PanelHeaderSubmit.tsx", "../../@vkontakte/vkui/src/components/PanelHeaderEdit/PanelHeaderEdit.tsx", "../../@vkontakte/vkui/src/components/ConfigProvider/ConfigProvider.tsx", "../../@vkontakte/vkui/src/hooks/useAutoDetectColorScheme.ts", "../../@vkontakte/vkui/src/hooks/useAutoDetectDirection.ts", "../../@vkontakte/vkui/src/components/LocaleProvider/LocaleProvider.tsx", "../../@vkontakte/vkui/src/components/DirectionProvider/DirectionProvider.tsx", "../../@vkontakte/vkui/src/components/PlatformProvider/PlatformProvider.tsx", "../../@vkontakte/vkui/src/components/Popover/Popover.tsx", "../../@vkontakte/vkui/src/components/Popover/usePopover.tsx", "../../@vkontakte/vkui/src/hoc/withPlatform.tsx", "../../@vkontakte/vkui/src/hooks/useLocale.ts", "../../@vkontakte/vkui/src/hooks/useOrientationChange.ts", "../../@vkontakte/vkui/src/components/NavIdContext/useNavId.ts", "../../@vkontakte/vkui/src/lib/removeObjectKeys.ts", "../../@vkontakte/vkui/src/lib/SSR.tsx", "../../@vkontakte/vkui/src/helpers/avatar.ts", "../../@vkontakte/vkui/src/components/View/ViewInfinite.tsx", "../../@vkontakte/vkui/src/hoc/withContext.tsx", "../../@vkontakte/vkui/src/components/ModalPageFooter/ModalPageFooter.tsx"],
  "sourcesContent": ["'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useKeyboardInputTracker } from '../../hooks/useKeyboardInputTracker';\nimport { useSyncHTMLWithBaseVKUIClasses } from '../../hooks/useSyncHTMLWithBaseVKUIClasses';\nimport { useSyncHTMLWithTokens } from '../../hooks/useSyncHTMLWithTokens';\nimport { AppRootContext } from './AppRootContext';\nimport { AppRootStyleContainer } from './AppRootStyleContainer/AppRootStyleContainer';\nimport { ElementScrollController, GlobalScrollController } from './ScrollContext';\nimport { useSafeAreaInsetsMemo } from './helpers';\nimport type {\n  AppRootLayout,\n  AppRootMode,\n  AppRootScroll,\n  AppRootUserSelectMode,\n  SafeAreaInsets,\n} from './types';\nimport styles from './AppRoot.module.css';\n\nconst layoutClassNames = {\n  card: styles.layoutCard,\n  plain: styles.layoutPlain,\n};\n\nexport interface AppRootProps extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * Режим встраивания.\n   */\n  mode?: AppRootMode;\n  /**\n   * - `global` (по умолчанию) — VKUI-приложение скроллится вместе со страницей.\n   * - `contain` — VKUI-приложение живет в отдельной зоне и скроллится независимо внутри `AppRoot` (например, в модалке).\n   *\n   * Полезно при использовании `mode=\"embedded\"`.\n   */\n  scroll?: AppRootScroll;\n  /**\n   * См. Документацию [mdn web docs | env#values](https://developer.mozilla.org/en-US/docs/Web/CSS/env#values).\n   */\n  safeAreaInsets?: SafeAreaInsets;\n  /**\n   * Кастомный root-элемент портала.\n   */\n  portalRoot?: HTMLElement | React.RefObject<HTMLElement | null> | null;\n  /**\n   * Отключает рендер всплывающих компонентов в отдельном контейнере.\n   */\n  disablePortal?: boolean;\n  /**\n   * По умолчанию, mode=\"embedded\" переносит систему координат элементов с `position: fixed` на\n   * свой контейнер через `transform: translate3d(0, 0, 0)`.\n   *\n   * Это поведение можно отключить с помощью этого параметра.\n   */\n  disableParentTransformForPositionFixedElements?: boolean;\n  /**\n   * Глобально задаёт тип оформления макета для компонентов\n   * [Panel](https://vkui.io/components/panel) и [Group](https://vkui.io/components/group).\n   */\n  layout?: AppRootLayout;\n  /**\n   * Задаёт режим выбора текста (выделения текста) для всего приложения.\n   * По умолчанию, если режим не задан, запрещает выбор текста в приложениях,\n   * запущенных в webview (по значению свойства `isWebView` из [ConfigProvider](https://vkui.io/components/config-provider)).\n   *\n   * - `enabled-with-pointer` – разрешает выбор текста, если устройство ввода типа `pointer` (например, `мышь`), в остальных случаях запрещает;\n   * - `disabled` – запрещает выбор текста;\n   * - `enabled` – разрешает выбор текста.\n   *\n   * @since 6.2.0\n   */\n  userSelectMode?: AppRootUserSelectMode;\n  /**\n   * По умолчанию в режиме `mode=\"full\"` VKUI в рантайме выставляет:\n   * - класс .vkui на html элемент\n   * - класс .vkui__root на элемент-контейнер, в который монтируется VKUI\n   * С помощью этой опции такое поведение можно отключить.\n   *\n   * Для корректной работы SSR рекоммендуется выставлять эти классы самостоятельно\n   * и отключить это поведение.\n   */\n  disableSettingVKUIClassesInRuntime?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/app-root\n */\nexport const AppRoot = ({\n  children,\n  mode = 'full',\n  scroll = 'global',\n  portalRoot,\n  disablePortal = false,\n  disableParentTransformForPositionFixedElements,\n  safeAreaInsets: safeAreaInsetsProp,\n  layout,\n  userSelectMode,\n  disableSettingVKUIClassesInRuntime,\n  className,\n  ...props\n}: AppRootProps): React.ReactNode => {\n  const appRootRef = React.useRef<HTMLDivElement | null>(null);\n\n  const isKeyboardInputActiveRef = useKeyboardInputTracker();\n  const safeAreaInsets = useSafeAreaInsetsMemo(safeAreaInsetsProp);\n\n  const contextValue = React.useMemo(\n    () => ({\n      appRoot: appRootRef,\n      portalRoot,\n      safeAreaInsets,\n      embedded: mode === 'embedded',\n      mode,\n      disablePortal,\n      layout,\n      get keyboardInput() {\n        return isKeyboardInputActiveRef.current;\n      },\n      userSelectMode,\n    }),\n    [\n      portalRoot,\n      disablePortal,\n      isKeyboardInputActiveRef,\n      layout,\n      mode,\n      safeAreaInsets,\n      userSelectMode,\n    ],\n  );\n\n  /*\n   * Вешаем класс токенов на html в режиме full.\n   * Это необходимо, чтобы цвета html элемента и скроллбара соответствовали текущей цветовой схеме:\n   * - фон html элемента виден, если пользователь оверскролит. Тогда возникает анимация bounce-эффекта и виден фон html элемента. Без токенов в черной теме будет выглядывать белый фон.\n   * - цвет системного сколлбара зависит от color-sheme свойства, значение которого задётся токенами и должно быть выставлено именно на html элементе.\n   * В режме SSR пользователи сами могу задать этот класс на html-элементе. главное, чтобы он соответствовал переданным platform и appearence свойствам.\n   */\n  useSyncHTMLWithTokens({ appRootRef, enable: mode === 'full' });\n  /*\n   * По умолчанию VKUI будет выставлять .vkui на html и .vkui__root на контейнере в режиме full.\n   * В режиме embedded будет выставлять только .vkui__root и .vkui__root--embedded на контейнере.\n   * В режиме partial мы классы не выставляем.\n   */\n  useSyncHTMLWithBaseVKUIClasses({\n    appRootRef,\n    mode,\n    layout,\n    enable: mode !== 'partial' && !disableSettingVKUIClassesInRuntime,\n  });\n\n  const ScrollController = React.useMemo(\n    () => (scroll === 'contain' ? ElementScrollController : GlobalScrollController),\n    [scroll],\n  );\n\n  return mode === 'partial' ? (\n    <AppRootContext.Provider value={contextValue}>\n      <ScrollController elRef={appRootRef}>{children}</ScrollController>\n    </AppRootContext.Provider>\n  ) : (\n    <AppRootContext.Provider value={contextValue}>\n      <AppRootStyleContainer\n        getRootRef={appRootRef}\n        className={classNames(\n          className,\n          styles.host,\n          layout && layoutClassNames[layout],\n          mode === 'embedded' && !disableParentTransformForPositionFixedElements\n            ? styles.transformForPositionFixedElements\n            : undefined,\n        )}\n        {...props}\n      >\n        <ScrollController elRef={appRootRef}>{children}</ScrollController>\n      </AppRootStyleContainer>\n    </AppRootContext.Provider>\n  );\n};\n", "export const canUseDOM = /*#__PURE__*/ (() =>\n  !!(typeof window !== 'undefined' && window.document && window.document.createElement))();\n\nexport const canUseEventListeners: boolean = /*#__PURE__*/ (() =>\n  canUseDOM && !!window.addEventListener)();\n\nexport function onDOMLoaded(callback: (...args: any[]) => any) {\n  if (document.readyState !== 'loading') {\n    callback();\n  } else {\n    document.addEventListener('DOMContentLoaded', callback);\n  }\n}\n", "import { canUseDOM, canUseEventListeners } from '../other/dom';\nimport { type SupportEvent } from '../other/types';\n\ntype TimingInterface = (timeFraction: number) => number;\n\ntype DrawInterface = (progress: number) => void;\n\ninterface AnimateArgumentsInterface {\n  /**\n   * Длительность\n   */\n  duration: number;\n\n  /**\n   * Тайминг функция анимации\n   */\n  timing: TimingInterface;\n\n  /**\n   * Коллбэк, в который прокидывается прогресс [0, 1]\n   */\n  draw: DrawInterface;\n}\n\n/**\n * Функция для js анимации\n */\nexport function animate({ duration, timing, draw }: AnimateArgumentsInterface) {\n  if (!canUseDOM) {\n    return;\n  }\n\n  const start = window.performance.now();\n\n  // eslint-disable-next-line no-shadow\n  window.requestAnimationFrame(function animate(time) {\n    let timeFraction = (time - start) / duration;\n\n    if (timeFraction > 1) {\n      timeFraction = 1;\n    }\n\n    const progress = timing(timeFraction);\n\n    draw(progress);\n\n    if (timeFraction < 1) {\n      window.requestAnimationFrame(animate);\n    }\n  });\n}\n\n// WebKitAnimationEvent и WebKitTransitionEvent не существуют в глобальном контексте\ndeclare const WebKitAnimationEvent: AnimationEvent;\ndeclare const WebKitTransitionEvent: TransitionEvent;\n\nexport const animationEvent = /*#__PURE__*/ (() => {\n  const obj: SupportEvent<'animationend'> = {\n    supported: false,\n    name: 'animationend',\n  };\n\n  if (canUseDOM) {\n    if (typeof AnimationEvent !== 'undefined') {\n      obj.supported = true;\n    } else if (typeof WebKitAnimationEvent !== 'undefined') {\n      obj.supported = true;\n\n      // webkitAnimationEnd не входит в перечисление событий, но соответствует animationend\n      obj.name = 'webkitAnimationEnd' as unknown as 'animationend';\n    }\n  }\n\n  return obj;\n})();\n\nexport const transitionEvent = /*#__PURE__*/ (() => {\n  const obj: SupportEvent<'transitionend'> = {\n    supported: false,\n    name: 'transitionend',\n  };\n\n  if (canUseDOM) {\n    if (typeof TransitionEvent !== 'undefined') {\n      obj.supported = true;\n    } else if (typeof WebKitTransitionEvent !== 'undefined') {\n      obj.supported = true;\n\n      // webkitTransitionEnd не входит в перечисление событий, но соответствует transitionend\n      obj.name = 'webkitTransitionEnd' as unknown as 'transitionend';\n    }\n  }\n\n  return obj;\n})();\n\n/**\n * Ожидание окончания анимации на элементе\n *\n * @param listener Коллбэк окончания ожидания\n * @param fallbackTime Сколько ждать в мс если событие не поддерживается\n * @param el Элемент\n */\nexport function waitAnimationEnd(\n  listener: (ev?: AnimationEvent) => any,\n  fallbackTime: number,\n  el?: GlobalEventHandlers,\n) {\n  if (canUseEventListeners) {\n    if (animationEvent.supported && el) {\n      el.addEventListener(animationEvent.name, listener);\n    } else {\n      return window.setTimeout(listener, fallbackTime);\n    }\n  }\n}\n\n/**\n * Прекращение ожидания окончания анимации на элементе\n *\n * @param listener Коллбэк окончания ожидания\n * @param handle то, что вернулось из ```waitAnimationEnd```\n * @param el Элемент\n */\nexport function cancelWaitAnimationEnd(\n  listener: (ev?: AnimationEvent) => any,\n  handle?: number,\n  el?: GlobalEventHandlers,\n) {\n  if (canUseEventListeners) {\n    if (animationEvent.supported && el) {\n      el.removeEventListener(animationEvent.name, listener);\n    } else {\n      window.clearTimeout(handle);\n    }\n  }\n}\n\n/**\n * Ожидание окончания анимации перехода на элементе\n *\n * @param listener Коллбэк окончания ожидания\n * @param fallbackTime Сколько ждать в мс если событие не поддерживается\n * @param el Элемент\n */\nexport function waitTransitionEnd(\n  el: GlobalEventHandlers,\n  listener: (ev?: TransitionEvent) => any,\n  fallbackTime: number,\n) {\n  if (canUseEventListeners) {\n    if (transitionEvent.supported && el) {\n      el.addEventListener(transitionEvent.name, listener);\n    } else {\n      return window.setTimeout(listener, fallbackTime);\n    }\n  }\n}\n\n/**\n * Прекращение ожидания окончания анимации перехода на элементе\n *\n * @param listener Коллбэк окончания ожидания\n * @param handle То, что вернулось из ```waitTransitionEnd```\n * @param el Элемент\n */\nexport function cancelWaitTransitionEnd(\n  listener: (ev?: TransitionEvent) => any,\n  handle?: number,\n  el?: GlobalEventHandlers,\n) {\n  if (canUseEventListeners) {\n    if (transitionEvent.supported && el) {\n      el.removeEventListener(transitionEvent.name, listener);\n    } else {\n      window.clearTimeout(handle);\n    }\n  }\n}\n", "function _array_like_to_array(arr, len) {\r\n    if (len == null || len > arr.length) len = arr.length;\r\n\r\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\r\n\r\n    return arr2;\r\n}\r\nexport { _array_like_to_array as _ };\r\n", "import { _ as _array_like_to_array } from \"./_array_like_to_array.js\";\r\n\r\nfunction _unsupported_iterable_to_array(o, minLen) {\r\n    if (!o) return;\r\n    if (typeof o === \"string\") return _array_like_to_array(o, minLen);\r\n\r\n    var n = Object.prototype.toString.call(o).slice(8, -1);\r\n\r\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\r\n    if (n === \"Map\" || n === \"Set\") return Array.from(n);\r\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _array_like_to_array(o, minLen);\r\n}\r\nexport { _unsupported_iterable_to_array as _ };\r\n", "function _type_of(obj) {\r\n    \"@swc/helpers - typeof\";\r\n\r\n    return obj && typeof Symbol !== \"undefined\" && obj.constructor === Symbol ? \"symbol\" : typeof obj;\r\n}\r\nexport { _type_of as _ };\r\n", "/**\n * Функция debounced, которая будет задержана на заданное `delay` время\n * в миллисекундах. Если метод будет вызван снова до истечения тайм-аута,\n * предыдущий вызов будет прерван.\n */\nexport interface DebouncedFunction<T extends unknown[]> {\n  (...a: T): void;\n\n  /**\n   * Отменяет вызов функции\n   */\n  cancel(): void;\n}\n\n/**\n * Возвращает debounced функцию, которая задерживает вызов `fn` на заданное\n * `delay` время в миллисекундах. Если метод вызывается снова до истечения\n * тайм-аута, предыдущий вызов будет прерван.\n *\n * @param fn Функция которую надо \"отложить\"\n * @param delay Время задержки вызова в миллисекундах\n * @param context Контекст с которым будет совершен вызов функции\n */\nexport function debounce<T extends any[]>(\n  fn: (...args: T) => unknown,\n  delay: number,\n  context = typeof window !== 'undefined' ? window : undefined,\n): DebouncedFunction<T> {\n  let timeoutId: ReturnType<typeof setTimeout>;\n  let args: T;\n\n  const later = () => fn.apply(context, args);\n  const debouncedFn = (...a: T) => {\n    args = a;\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(later, delay);\n  };\n\n  debouncedFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return debouncedFn;\n}\n", "/**\n * Возвращает throttled функцию, которая задерживает вызов `fn` на\n * `threshold` миллисекунд от последнего вызова. Если метод вызывается снова до\n * выполнения предыдущего, предыдущий вызов будет прерван.\n *\n * @param fn Функция, которую надо вызывать\n * @param threshold Длительность в миллисекундах\n * @param scope Контекст, с которым будет совершен вызов функции\n */\nexport function throttle<T extends any[]>(\n  fn: (...args: T) => unknown,\n  threshold = 50,\n  scope = typeof window !== 'undefined' ? window : undefined,\n) {\n  let prevDate: number = Date.now() - threshold;\n  let timeoutId: ReturnType<typeof setTimeout>;\n\n  const throttledFn = (...args: T) => {\n    const timeLeft = prevDate + threshold - Date.now();\n\n    clearTimeout(timeoutId);\n    if (timeLeft > 0) {\n      timeoutId = setTimeout(() => {\n        prevDate = Date.now();\n        fn.apply(scope, args);\n      }, timeLeft);\n      return;\n    }\n\n    prevDate = Date.now();\n    fn.apply(scope, args);\n  };\n\n  throttledFn.cancel = () => {\n    clearTimeout(timeoutId);\n  };\n\n  return throttledFn;\n}\n", "/**\n * Проверяет, что переданные даты относятся к одному и тому же дню\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { isSameDate } from '@vkontakte/vkjs';\n *\n * const d1 = new Date();\n * const d2 = new Date();\n * assert.ok(isSameDate(d1, d2));\n * ```\n */\nexport function isSameDate(d1: Date, d2: Date): boolean {\n  return (\n    d1.getDate() === d2.getDate() &&\n    d1.getMonth() === d2.getMonth() &&\n    d1.getFullYear() === d2.getFullYear()\n  );\n}\n", "import { leadingZero } from '../other/numbers';\nimport { isDateToday } from './isDateToday';\n\nexport const SECONDS_IN_THE_DAY = 86400;\nconst MILLISECONDS_IN_THE_DAY = SECONDS_IN_THE_DAY * 1000;\n\n/**\n * Проверяет, что переданная дата - вчерашний день\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { isDateYesterday } from '@vkontakte/vkjs';\n *\n * assert.strictEqual(isDateYesterday(new Date(), false);\n * ```\n */\nexport function isDateYesterday(date: Date): boolean {\n  const yesterdayDate = new Date(date.getTime() + MILLISECONDS_IN_THE_DAY);\n  return isDateToday(yesterdayDate);\n}\n\n/**\n * Проверяет, что переданная дата - завтрашний день\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { isDateTomorrow } from '@vkontakte/vkjs';\n *\n * assert.strictEqual(isDateTomorrow(new Date(), false);\n * ```\n */\nexport function isDateTomorrow(date: Date): boolean {\n  const tomorrowDate = new Date(date.getTime() - MILLISECONDS_IN_THE_DAY);\n  return isDateToday(tomorrowDate);\n}\n\n/**\n * Возвращает новую дату — начало переданного дня\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { getBeginningOfDay } from '@vkontakte/vkjs';\n *\n * assert.deepStrictEqual(\n *   getBeginningOfDay(new Date(2024, 0, 1, 12, 34, 56, 789)),\n *   new Date(2024, 0, 1),\n * );\n * ```\n *\n * @param date Дата\n */\nexport function getBeginningOfDay(date: Date) {\n  const year = date.getFullYear();\n  const month = date.getMonth();\n  const day = date.getDate();\n\n  return new Date(year, month, day, 0, 0, 0, 0);\n}\n\n/**\n * Возвращает true, если год високосный\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { isLeapYear } from '@vkontakte/vkjs';\n *\n * assert.strictEqual(isLeapYear(2024), true);\n * assert.strictEqual(isLeapYear(2025), false);\n * ```\n *\n * @param year Год\n */\nexport function isLeapYear(year: number) {\n  return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n}\n\n/**\n * Возвращает кол-во дней в месяце (последнее число месяца)\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { getLastDayOfMonth } from '@vkontakte/vkjs';\n *\n * assert.strictEqual(getLastDayOfMonth(2024, 2), 29);\n * assert.strictEqual(getLastDayOfMonth(2025, 2), 28);\n * ```\n *\n * @param year Год\n * @param month Месяц\n */\nexport function getLastDayOfMonth(year: number, month: number): number {\n  if (+month === 2) {\n    return isLeapYear(year) ? 29 : 28;\n  } else if (month > 0 && ((month < 8 && month % 2 === 0) || (month > 7 && month % 2 === 1))) {\n    return 30;\n  }\n  return 31;\n}\n\n/**\n * Ближайший понедельник в прошлом относительно date\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { getStartOfWeek } from '@vkontakte/vkjs';\n *\n * assert.deepStrictEqual(\n *   getStartOfWeek(new Date(2024, 0, 1), 10),\n *   new Date(2024, 11, 31),\n * );\n * ```\n *\n * @param date Дата\n */\nexport function getStartOfWeek(date: Date): Date {\n  const weekDay = date.getDay();\n  if (weekDay === 0) {\n    return addDays(date, -6);\n  }\n  return addDays(date, -weekDay + 1);\n}\n\n/**\n * Добавляет дни к дате и возвращает новый объект\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { addDays } from '@vkontakte/vkjs';\n *\n * assert.deepStrictEqual(\n *   addDays(new Date(2024, 0, 1), 10),\n *   new Date(2024, 0, 11),\n * );\n * ```\n *\n * @param date Дата\n * @param dayCount Количество дней, которые требуется добавить\n */\nexport function addDays(date: Date, dayCount: number): Date {\n  const modified = new Date(date.getTime());\n  modified.setDate(modified.getDate() + dayCount);\n  return modified;\n}\n\n/**\n * Создаёт дату из Unix Timestamp\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { createDateFromUnixTimestamp } from '@vkontakte/vkjs';\n *\n * assert.deepStrictEqual(\n *   createDateFromUnixTimestamp(1704056400),\n *   new Date(2024, 0, 1),\n * );\n * ```\n *\n * @param timestamp Дата в формате unix timestamp (секунды)\n */\nexport function createDateFromUnixTimestamp(timestamp: number): Date {\n  return new Date(timestamp * 1000);\n}\n\n/**\n * Возвращает Unix Timestamp из даты\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { getUnixTimestampFromDate } from '@vkontakte/vkjs';\n *\n * assert.strictEqual(\n *   getUnixTimestampFromDate(new Date(2024, 0, 1)),\n *   1704056400,\n * );\n * ```\n *\n * @param date Дата, которую требуется перевести в Unix Timestamp\n */\nexport function getUnixTimestampFromDate(date: Date): number {\n  return Math.floor(date.getTime() / 1000);\n}\n\n/**\n * Возвращает дату в формате YYYY-MM-DD\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { convertDateToInputFormat } from '@vkontakte/vkjs';\n *\n * assert.strictEqual(\n *   convertDateToInputFormat(new Date(2024, 0, 1)),\n *   \"2024-01-01\",\n * );\n * ```\n *\n * @param date Дата, которую требуется отформатировать\n */\nexport function convertDateToInputFormat(date: Date): string {\n  const day = date.getDate();\n  const month = date.getMonth() + 1;\n  const year = date.getFullYear();\n\n  return [year, leadingZero(month), leadingZero(day)].join('-');\n}\n", "import { canUseDOM } from '../other/dom';\n\nexport const IPHONE_SAFARI_BOTTOM_BAR = 45;\nexport const IPHONE_X_SAFARI_BOTTOM_BAR = 85;\n\nexport const IPHONE_KEYBOARD_REJECT_OFFSET = 180;\n\n// 44 iPhone, 55 iPad, iPad Pro 69\nexport const IOS_NO_KEYBOARD_ALLOWED_OFFSET = 70;\n\nexport function detectIOS(ua?: string) {\n  if (!ua) {\n    ua = canUseDOM ? navigator.userAgent : '';\n  }\n  ua = ua.toLowerCase();\n\n  const isIPadOS = checkIPadOS(ua);\n  const isIPad = isIPadOS || ua.includes('ipad');\n  const isIPhone = !isIPad && ua.search(/iphone|ipod/) !== -1;\n  const isIOS = isIPhone || isIPad;\n\n  let iosVersion: string[] | typeof isIOS | ReturnType<typeof String.prototype.match> =\n    isIOS && ua.match(/os ([\\d_]+) like mac os x/i);\n  let iosMajor = 0;\n  let iosMinor = 0;\n\n  if (isIPadOS) {\n    iosMajor = 13;\n    iosMinor = 0;\n  } else if (iosVersion) {\n    iosVersion = iosVersion[1].split('_');\n    iosMajor = +iosVersion[0];\n    iosMinor = +iosVersion[1];\n  }\n\n  iosVersion = null;\n\n  const isScrollBasedViewport = iosMajor < 13 && !(iosMajor === 11 && iosMinor < 3);\n  const isWKWebView = isIOS && checkWKWebView(ua);\n\n  let isIPhoneX = false;\n\n  if (canUseDOM) {\n    isIPhoneX =\n      isIOS && screen.width === 375 && screen.height === 812 && window.devicePixelRatio === 3;\n  }\n\n  const isIOSChrome = ua.search(/crios/i) !== -1;\n\n  return {\n    isIPad,\n    isIPhone,\n    isIOS,\n    isIPadOS,\n    iosMajor,\n    iosMinor,\n    isWKWebView,\n    isScrollBasedViewport,\n    isIPhoneX,\n    isIOSChrome,\n  };\n}\n\nconst detect = /*#__PURE__*/ detectIOS();\n\nexport const isIPad = /*#__PURE__*/ (() => detect.isIPad)();\nexport const isIPhone = /*#__PURE__*/ (() => detect.isIPhone)();\nexport const isIOS = /*#__PURE__*/ (() => detect.isIOS)();\nexport const isIPadOS = /*#__PURE__*/ (() => detect.isIPadOS)();\nexport const iosMajor = /*#__PURE__*/ (() => detect.iosMajor)();\nexport const iosMinor = /*#__PURE__*/ (() => detect.iosMinor)();\nexport const isWKWebView = /*#__PURE__*/ (() => detect.isWKWebView)();\nexport const isScrollBasedViewport = /*#__PURE__*/ (() => detect.isScrollBasedViewport)();\nexport const isIPhoneX = /*#__PURE__*/ (() => detect.isIPhoneX)();\nexport const isIOSChrome = /*#__PURE__*/ (() => detect.isIOSChrome)();\n\nexport function isLandscapePhone() {\n  return Math.abs(window.orientation) === 90 && !isIPad;\n}\n\n// Reference:\n// https://stackoverflow.com/questions/28795476/detect-if-page-is-loaded-inside-wkwebview-in-javascript/30495399#30495399\nfunction checkWKWebView(ua: string) {\n  if (!canUseDOM) {\n    return false;\n  }\n\n  const webkit = (window as any).webkit;\n\n  if (webkit && webkit.messageHandlers) {\n    return true;\n  }\n\n  const lte9 = /constructor/i.test(String(window.HTMLElement));\n  const idb = !!window.indexedDB;\n\n  if (ua.includes('safari') && ua.includes('version') && !(navigator as any).standalone) {\n    // Safari (WKWebView/Nitro since 6+)\n  } else if ((!idb && lte9) || !(window.statusbar && window.statusbar.visible)) {\n    // UIWebView\n  } else if (!lte9 || idb) {\n    // WKWebView\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * В Safari на iPadOS поле User Agent содержит почти такую же информацию, что и в Safari на MacOS.\n * Из-за чего мы не можем ориентироваться на User Agent.\n *\n * Вместо этого мы пробуем определять есть ли событие 'ontouchend' в объекте document.\n *\n * см. https://developer.apple.com/forums/thread/119186?answerId=705140022#705140022\n */\nexport function checkIPadOS(ua: string) {\n  if (!canUseDOM) {\n    return false;\n  }\n\n  const isNotIOS = !/ipPad|iPhone|iPod/i.test(ua);\n  const isMacOS = /Mac OS/i.test(ua);\n\n  return isNotIOS && isMacOS && 'ontouchend' in document;\n}\n", "import { isIOS, isIPadOS } from './IOSDetections';\nimport { canUseDOM } from '../other/dom';\n\nconst detect = /*#__PURE__*/ (() => {\n  const obj = {\n    hasMouse: false,\n    hasTouchEvents: false,\n    hasHover: false,\n    hasTouch: false,\n  };\n\n  if (!canUseDOM) {\n    return obj;\n  }\n\n  if (isIOS && !isIPadOS) {\n    obj.hasMouse = false;\n    obj.hasHover = false;\n    obj.hasTouchEvents = true;\n    obj.hasTouch = true;\n  } else {\n    obj.hasTouchEvents = 'ontouchstart' in document;\n    obj.hasTouch =\n      obj.hasTouchEvents || ('maxTouchPoints' in navigator && navigator.maxTouchPoints > 0);\n\n    if (obj.hasTouch) {\n      const notMobile = !/android|mobile|tablet/i.test(navigator.userAgent);\n\n      obj.hasMouse =\n        typeof window.matchMedia === 'function' && window.matchMedia('(pointer)').matches\n          ? matchMedia('(pointer: fine)').matches\n          : notMobile;\n\n      obj.hasHover =\n        obj.hasMouse &&\n        (typeof window.matchMedia === 'function' && window.matchMedia('(hover)').matches\n          ? matchMedia('(hover: hover)').matches\n          : notMobile);\n    } else {\n      obj.hasMouse = true;\n      obj.hasHover = true;\n    }\n  }\n\n  return obj;\n})();\n\nexport const hasMouse = /*#__PURE__*/ (() => detect.hasMouse)();\nexport const hasHover = /*#__PURE__*/ (() => detect.hasHover)();\nexport const hasTouchEvents = /*#__PURE__*/ (() => detect.hasTouchEvents)();\nexport const hasTouch = /*#__PURE__*/ (() => detect.hasTouch)();\n", "function _class_call_check(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) throw new TypeError(\"Cannot call a class as a function\");\r\n}\r\nexport { _class_call_check as _ };\r\n", "function _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n\r\n        if (\"value\" in descriptor) descriptor.writable = true;\r\n\r\n        Object.defineProperty(target, descriptor.key, descriptor);\r\n    }\r\n}\r\nfunction _create_class(Constructor, protoProps, staticProps) {\r\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\r\n    if (staticProps) _defineProperties(Constructor, staticProps);\r\n\r\n    return Constructor;\r\n}\r\nexport { _create_class as _ };\r\n", "/**\n * Escapes a string so that it can be put into RegExp as a variable\n *\n * @example\n * new RegExp(`foo-${escapeRegExp('(bar)')}`, 'i')\n */\nexport function escapeRegExp(string: string): string {\n  if (string) {\n    return string.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, '\\\\$1');\n  }\n\n  return '';\n}\n", "import { escapeRegExp } from '../other/regexp';\n\nexport class Replacer {\n  private regexp: RegExp | undefined;\n  private readonly map: Record<string, string>;\n\n  constructor(map: Record<string, string>) {\n    this.map = map;\n  }\n\n  private build() {\n    if (this.regexp) {\n      return;\n    }\n\n    const groups = Object.keys(this.map)\n      .map(escapeRegExp)\n      .sort((a, b) => b.length - a.length);\n    const pattern = `(?:${groups.join('|')})`;\n\n    this.regexp = new RegExp(pattern, 'g');\n  }\n\n  replace(string: string) {\n    if (!string) {\n      return '';\n    }\n\n    this.build();\n\n    return string.replace(this.regexp!, (substring) => this.map[substring]);\n  }\n}\n", "export const numericUnicodeMap: Record<number, number> = {\n  0: 65533,\n  128: 8364,\n  130: 8218,\n  131: 402,\n  132: 8222,\n  133: 8230,\n  134: 8224,\n  135: 8225,\n  136: 710,\n  137: 8240,\n  138: 352,\n  139: 8249,\n  140: 338,\n  142: 381,\n  145: 8216,\n  146: 8217,\n  147: 8220,\n  148: 8221,\n  149: 8226,\n  150: 8211,\n  151: 8212,\n  152: 732,\n  153: 8482,\n  154: 353,\n  155: 8250,\n  156: 339,\n  158: 382,\n  159: 376,\n};\n\nexport const highSurrogateFrom = 0xd800;\nexport const highSurrogateTo = 0xdbff;\n\nexport const fromCodePoint = /*#__PURE__*/ (() =>\n  String.fromCodePoint ||\n  function (astralCodePoint: number) {\n    return String.fromCharCode(\n      Math.floor((astralCodePoint - 0x10000) / 0x400) + 0xd800,\n      ((astralCodePoint - 0x10000) % 0x400) + 0xdc00,\n    );\n  })();\n\nconst codePointAtNative = /*#__PURE__*/ (() =>\n  // eslint-disable-next-line @typescript-eslint/unbound-method\n  String.prototype.codePointAt as typeof String.prototype.codePointAt | undefined)();\n\nexport const getCodePointAt = /*#__PURE__*/ (() =>\n  codePointAtNative\n    ? function (input: string, position: number) {\n        return input.codePointAt(position);\n      }\n    : function (input: string, position: number) {\n        return (\n          (input.charCodeAt(position) - 0xd800) * 0x400 +\n          input.charCodeAt(position + 1) -\n          0xdc00 +\n          0x10000\n        );\n      })();\n", "/* eslint-disable @typescript-eslint/quotes */\nimport { Replacer } from '../internal/replacer';\nimport { fromCodePoint, getCodePointAt, numericUnicodeMap } from '../internal/codepoints';\nimport { Dictionary } from '../other/types';\nimport { buildFullNamedEntities, fullNamedEntities } from './entity';\n\nconst escapeReplacer = /*#__PURE__*/ new Replacer({\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  \"'\": '&#39;',\n  '\"': '&quot;',\n});\n\nconst unescapeReplacer = /*#__PURE__*/ new Replacer({\n  '&amp;': '&',\n  '&#38;': '&',\n  '&lt;': '<',\n  '&#60;': '<',\n  '&gt;': '>',\n  '&#62;': '>',\n  '&apos;': \"'\",\n  '&#39;': \"'\",\n  '&quot;': '\"',\n  '&#34;': '\"',\n});\n\nconst namedEntities: Record<string, string> = {\n  'amp;': '&',\n  'lt;': '<',\n  'gt;': '>',\n  'quot;': '\"',\n  'apos;': `'`,\n};\n\n/**\n * Safely escape HTML entities such as `&`, `<`, `>`, `\"`, and `'`\n * @param {string} input\n */\nexport function escape(input: string): string {\n  return escapeReplacer.replace(input);\n}\n\n/**\n * Unescape HTML entities such as `&`, `<`, `>`, `\"`, and `'`\n * @param {string} input\n */\nexport function unescape(input: string): string {\n  return unescapeReplacer.replace(input);\n}\n\nconst outOfBoundsChar = /*#__PURE__*/ String.fromCharCode(65533);\n\nconst ENCODE_REGEX =\n  /(?:[<>'\"&\\x01-\\x08\\x11-\\x15\\x17-\\x1F\\x7f-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\n\nexport function encodeHTMLEntities(input: string): string {\n  if (input == null) {\n    return '';\n  }\n\n  return input.replace(ENCODE_REGEX, (entity) => {\n    const code = entity.length > 1 ? getCodePointAt(entity, 0) : entity.charCodeAt(0);\n    return '&#' + String(code) + ';';\n  });\n}\n\nconst DECODE_REGEX = /&(?:#\\d+|#[xX][\\da-fA-F]+|[0-9a-zA-Z]+);?/g;\n\nfunction decodeString(input: string, entities: Record<string, string>): string {\n  if (typeof input !== 'string' || !input) {\n    return '';\n  }\n\n  return input.replace(DECODE_REGEX, (entity) => {\n    if (entity[1] === '#') {\n      // We need to have at least \"&#.\".\n      if (entity.length <= 3) {\n        return entity;\n      }\n\n      const secondChar = entity.charAt(2);\n      const code =\n        secondChar === 'x' || secondChar === 'X'\n          ? parseInt(entity.substr(3).toLowerCase(), 16)\n          : parseInt(entity.substr(2));\n\n      if (code >= 0x10ffff) {\n        return outOfBoundsChar;\n      }\n\n      if (code > 65535) {\n        return fromCodePoint(code);\n      }\n\n      return String.fromCharCode(numericUnicodeMap[code] || code);\n    }\n\n    return entities[entity.slice(1)] || entity;\n  });\n}\n\nexport function decodeHTMLEntitiesDeep<T>(input: T): T {\n  if (typeof input === 'string') {\n    return decodeHTMLEntities(input) as unknown as T;\n  }\n\n  if (typeof input === 'object') {\n    const correctType = Object.prototype.toString.apply(input);\n\n    if (correctType === '[object Array]') {\n      return (input as unknown[]).map((item) => {\n        return decodeHTMLEntitiesDeep(item);\n      }) as T;\n    }\n\n    if (correctType === '[object Object]') {\n      const response: Dictionary<unknown> = {};\n      Object.keys(input as Dictionary<unknown>).forEach((item) => {\n        response[decodeHTMLEntities(item)] = decodeHTMLEntitiesDeep(\n          (input as Dictionary<unknown>)[item],\n        );\n      });\n\n      return response as unknown as T;\n    }\n  }\n\n  return input;\n}\n\n/**\n * `decodeHTMLEntities` декодирует зарезервированные HTML-сущности.\n *\n * Если нужна возможность декодировать все сущности, используйте\n * {@link decodeHTMLFullEntities}\n *\n * @param input Текст который необходимо декодировать\n * @param entities Кастомный словарь сущностей `{'lt;': '<'}`\n */\nexport function decodeHTMLEntities(input: string, entities = namedEntities): string {\n  return decodeString(input, entities);\n}\n\n/**\n * `decodeHTMLFullEntities` декодирует все HTML-сущности.\n *\n * Если вам нужно декодировать не все сущности, используйте\n * {@link decodeHTMLEntities} и кастомный словарь.\n *\n * @param input Текст который необходимо декодировать\n */\nexport function decodeHTMLFullEntities(input: string): string {\n  buildFullNamedEntities();\n\n  return decodeString(input, fullNamedEntities);\n}\n", "function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;", "/**\n * Функция, которая ничего не делает\n */\nexport const noop = () => {\n  // Совсем ничего не делает\n};\n\n/**\n * Создает функцию, которая вызовет `fn` только один раз. Последующие вызовы\n * будут проигнорированы.\n *\n * @example\n * ```ts\n * import {once} from '@vkontakte/vkjs';\n *\n * let counter = 0;\n * const onceFn = once(() => counter++);\n *\n * onceFn();\n * onceFn();\n * onceFn();\n *\n * console.log(counter); // 1\n * ```\n *\n * @param fn Функция, которую необходимо вызвать только один раз\n */\nexport function once<T extends (...args: any) => any>(fn: T) {\n  // TODO: once должна кэшировать данные, но она это не делает\n  let called = false;\n  return function (...args) {\n    if (called) {\n      return;\n    }\n\n    called = true;\n    return fn.apply(this, args);\n  } as T;\n}\n", "import { noop } from './functions';\nimport { canUseDOM, canUseEventListeners } from './dom';\n\nexport const isPassiveEventsSupported = /*#__PURE__*/ (() => {\n  let isSupported = false;\n\n  if (canUseEventListeners) {\n    try {\n      const options = Object.defineProperty({}, 'passive', {\n        get() {\n          isSupported = true;\n        },\n      });\n\n      window.addEventListener('test', noop, options);\n      window.removeEventListener('test', noop, options);\n    } catch (e) {}\n  }\n\n  return isSupported;\n})();\n\nfunction detectSmoothScrollSupport() {\n  if (!canUseDOM) {\n    return false;\n  }\n\n  let isSupported = false;\n  try {\n    const div = document.createElement('div');\n    div.scrollTo({\n      top: 0,\n      get behavior(): ScrollBehavior {\n        isSupported = true;\n        return 'smooth';\n      },\n    });\n  } catch (e) {}\n  return isSupported;\n}\n\nexport const isSmoothScrollSupported = /*#__PURE__*/ detectSmoothScrollSupport();\n", "export function isObjectLike(object: any): boolean {\n  return typeof object === 'object' && object !== null;\n}\n\nexport function isArray(object: any): object is any[] {\n  return Array.isArray(object);\n}\n\nexport function isObject(object: any): boolean {\n  return Object.prototype.toString.call(object) === '[object Object]';\n}\n\nexport function isUndefined(object: any): object is undefined {\n  return typeof object === 'undefined';\n}\n\nexport function isFunction(object: any): object is (...args: any[]) => any {\n  return typeof object === 'function';\n}\n\nexport function isFormData(object: any): object is FormData {\n  return object && Object.prototype.toString.call(object) === '[object FormData]';\n}\n\nexport function isString(object: any): object is string {\n  return typeof object === 'string';\n}\n\n/**\n * Проверяет что переданное значение является `Number`\n *\n * ## Пример\n *\n * ```ts\n * import assert from 'node:assert';\n * import { isNumber } from '@vkontakte/vkjs';\n *\n * assert.strictEqual(isNumber(3), true);\n * assert.strictEqual(isNumber(Infinity), true);\n * assert.strictEqual(isNumber('3'), false);\n * ```\n *\n * Для исключения `Infinity` `-Infinity` и `NaN` используйте `Number.isFinite`\n *\n * ```ts\n * import assert from 'node:assert';\n *\n * assert.strictEqual(Number.isFinite(3), true);\n * assert.strictEqual(Number.isFinite(Infinity), false);\n * assert.strictEqual(Number.isFinite('3'), false);\n * ```\n */\nexport function isNumber(object: any): object is number {\n  return typeof object === 'number';\n}\n\nexport function isPromiseLike<T = any>(object: any): object is PromiseLike<T> {\n  return (isObject(object) || isFunction(object)) && isFunction(object.then);\n}\n", "import { isObjectLike } from '../typecheck/type_checkers';\n\nexport function isEqual(value: any, other: any): boolean {\n  if (value === other) {\n    return true;\n  }\n\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n\n  if (isObjectLike(value) && isObjectLike(other)) {\n    if (Object.keys(value).length !== Object.keys(other).length) {\n      return false;\n    }\n\n    for (const prop in value) {\n      if (value.hasOwnProperty(prop) && other.hasOwnProperty(prop)) {\n        if (!isEqual(value[prop], other[prop])) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return false;\n}\n", "function _instanceof(left, right) {\r\n    if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\r\n        return !!right[Symbol.hasInstance](left);\r\n    } else return left instanceof right;\r\n}\r\nexport { _instanceof as _ };\r\n", "import type { ReactNode } from 'react';\n\nexport function hasReactNode(value: ReactNode): boolean {\n  return value !== undefined && value !== false && value !== null && value !== '';\n}\n\nexport function isPrimitiveReactNode(node: ReactNode): boolean {\n  return typeof node === 'string' || typeof node === 'number';\n}\n", "import { Dictionary } from './types';\n\nclass CustomStorage {\n  private data: Dictionary<string> = {};\n\n  public setItem(key: string, val: string) {\n    this.data[key] = String(val);\n  }\n\n  public getItem = (key: string) => (this.data.hasOwnProperty(key) ? this.data[key] : null);\n\n  public removeItem(id: string) {\n    delete this.data[id];\n  }\n\n  public clear() {\n    this.data = {};\n  }\n\n  public get length() {\n    return Object.keys(this.data).length;\n  }\n\n  public key(index: number): string | null {\n    return Object.keys(this.data)[index];\n  }\n\n  public keys = (): string[] => Object.keys(this.data);\n}\n\nconst dummyKey = 'vk-ls-dummy';\nconst dummyContent = 'test';\n\nlet ls: CustomStorage | Storage;\n\nfunction getLocalStorage() {\n  if (ls) {\n    return ls;\n  }\n  try {\n    // Проверяем, нет ли в FF или Safari cross domain security restrictions\n    window.localStorage.setItem(dummyKey, dummyContent);\n    if (dummyContent !== window.localStorage.getItem(dummyKey)) {\n      throw new Error('localStorage is broken');\n    }\n    window.localStorage.removeItem(dummyKey);\n    ls = window.localStorage;\n  } catch (e) {\n    ls = new CustomStorage();\n  }\n  return ls;\n}\n\n/**\n * Обертка над localStorage для кода, который может использоваться на других сайтах\n * Firefox блокирует доступ к localStorage для скриптов с других доменов\n */\nexport const localStorage = {\n  setItem: (key: string, val: string) => getLocalStorage().setItem(key, val),\n  getItem: (key: string) => getLocalStorage().getItem(key),\n  removeItem: (key: string) => getLocalStorage().removeItem(key),\n  clear: () => getLocalStorage().clear(),\n  length: () => getLocalStorage().length,\n  key: (index: number) => getLocalStorage().key(index),\n  keys(): string[] {\n    const storage = getLocalStorage();\n    if (storage instanceof CustomStorage) {\n      return storage.keys();\n    } else {\n      return Object.keys(storage);\n    }\n  },\n  getPrefixedKeys: (prefix: string): string[] => {\n    return localStorage.keys().filter((key) => key.startsWith(prefix));\n  },\n};\n\nlet sessionStorageCache: CustomStorage | Storage;\n\nfunction getSessionStorage() {\n  if (sessionStorageCache) {\n    return sessionStorageCache;\n  }\n  try {\n    // Проверяем, нет ли в FF или Safari cross domain security restrictions\n    window.sessionStorage.setItem(dummyKey, dummyContent);\n    if (dummyContent !== window.sessionStorage.getItem(dummyKey)) {\n      throw new Error('sessionStorage is broken');\n    }\n    window.sessionStorage.removeItem(dummyKey);\n    sessionStorageCache = window.sessionStorage;\n  } catch (e) {\n    sessionStorageCache = new CustomStorage();\n  }\n  return sessionStorageCache;\n}\n\nexport const sessionStorage = {\n  setItem: (key: string, val: string) => getSessionStorage().setItem(key, val),\n  getItem: (key: string) => getSessionStorage().getItem(key),\n  removeItem: (key: string) => getSessionStorage().removeItem(key),\n  clear: () => getSessionStorage().clear(),\n  length: () => getSessionStorage().length,\n  key: (index: number) => getSessionStorage().key(index),\n  keys(): string[] {\n    const storage = getSessionStorage();\n    if (storage instanceof CustomStorage) {\n      return storage.keys();\n    } else {\n      return Object.keys(storage);\n    }\n  },\n  getPrefixedKeys: (prefix: string): string[] => {\n    return sessionStorage.keys().filter((key) => key.startsWith(prefix));\n  },\n};\n", "import { Replacer } from '../internal/replacer';\n\n/**\n * Словарь транслитерации ВКонтакте из русского в английский.\n */\nconst transliterationDictVKRusToEng: Record<string, string> = {\n  'А': 'A',\n  'Б': 'B',\n  'В': 'V',\n  'Г': 'G',\n  '\\xa5': 'G',\n  'Д': 'D',\n  'Е': 'E',\n  'Є': 'Ye',\n  'Ё': 'Yo',\n  'Ж': 'Zh',\n  'З': 'Z',\n  'И': 'I',\n  'Ї': 'Yi',\n  '\\xb2': 'I',\n  'Й': 'J',\n  'К': 'K',\n  'Л': 'L',\n  'М': 'M',\n  'Н': 'N',\n  'О': 'O',\n  'П': 'P',\n  'Р': 'R',\n  'С': 'S',\n  'Т': 'T',\n  'У': 'U',\n  'Ў': 'W',\n  'Ф': 'F',\n  'Х': 'Kh',\n  'Ц': 'Ts',\n  'Ч': 'Ch',\n  'Ш': 'Sh',\n  'Щ': 'Sch',\n  'Ы': 'Y',\n  'Ый': 'Y',\n  'Э': 'E',\n  'Ю': 'Yu',\n  'Я': 'Ya',\n\n  'а': 'a',\n  'б': 'b',\n  'в': 'v',\n  'г': 'g',\n  '\\xb4': 'g',\n  'д': 'd',\n  'е': 'e',\n  'є': 'ye',\n  'ё': 'yo',\n  'ж': 'zh',\n  'з': 'z',\n  'ия': 'ia',\n  'ий': 'y',\n  'и': 'i',\n  'й': 'y',\n  'ї': 'yi',\n  '\\xb3': 'i',\n  'кс': 'x',\n  'к': 'k',\n  'л': 'l',\n  'м': 'm',\n  'н': 'n',\n  'о': 'o',\n  'п': 'p',\n  'р': 'r',\n  'с': 's',\n  'т': 't',\n  'у': 'u',\n  'ў': 'w',\n  'ф': 'f',\n  'х': 'kh',\n  'ц': 'ts',\n  'ч': 'ch',\n  'ш': 'sh',\n  'щ': 'sch',\n  'ъ': '',\n  'ый': 'y',\n  'ы': 'y',\n  'ь': '',\n  'ье': 'ye',\n  'ьо': 'io',\n  'э': 'e',\n  'ю': 'yu',\n  'я': 'ya',\n};\n\n/**\n * Словарь транслитерации ВКонтакте из английского в русский.\n */\nconst transliterationDictVKEngToRus: Record<string, string> = {\n  'a': 'а',\n  'b': 'б',\n  'v': 'в',\n  'g': 'г',\n  'd': 'д',\n  'e': 'е',\n  'z': 'з',\n  'i': 'и',\n  'j': 'й',\n  'k': 'к',\n  'l': 'л',\n  'm': 'м',\n  'n': 'н',\n  'o': 'о',\n  'p': 'п',\n  'r': 'р',\n  's': 'с',\n  't': 'т',\n  'u': 'у',\n  'f': 'ф',\n  'h': 'х',\n  'c': 'ц',\n  'y': 'ы',\n  'A': 'А',\n  'B': 'Б',\n  'V': 'В',\n  'G': 'Г',\n  'D': 'Д',\n  'E': 'Е',\n  'Z': 'З',\n  'I': 'И',\n  'J': 'Й',\n  'K': 'К',\n  'L': 'Л',\n  'M': 'М',\n  'N': 'Н',\n  'O': 'О',\n  'P': 'П',\n  'R': 'Р',\n  'S': 'С',\n  'T': 'Т',\n  'U': 'У',\n  'F': 'Ф',\n  'H': 'Х',\n  'C': 'Ц',\n  'Y': 'Ы',\n  'w': 'в',\n  'q': 'к',\n  'x': 'кс',\n  'W': 'В',\n  'Q': 'К',\n  'X': 'КС',\n\n  'yo': 'ё',\n  'zh': 'ж',\n  'kh': 'х',\n  'ts': 'ц',\n  'ch': 'ч',\n  'sch': 'щ',\n  'shch': 'щ',\n  'sh': 'ш',\n  'eh': 'э',\n  'yu': 'ю',\n  'ya': 'я',\n  'YO': 'Ё',\n  'ZH': 'Ж',\n  'KH': 'Х',\n  'TS': 'Ц',\n  'CH': 'Ч',\n  'SCH': 'Щ',\n  'SHCH': 'Щ',\n  'SH': 'Ш',\n  'EH': 'Э',\n  'YU': 'Ю',\n  'YA': 'Я',\n  \"'\": 'ь',\n};\n\n/**\n * Словарь транслитерации ГОСТ 7.79-2000 (ISO 9-95) по по системе Б\n * (с использованием буквосочетаний) для русского языка.\n */\nconst transliterationDictGostLetterCombinationsRu = {\n  'А': 'A',\n  'Б': 'B',\n  'В': 'V',\n  'Г': 'G',\n  'Д': 'D',\n  'Е': 'E',\n  'Ё': 'Yo',\n  'Ж': 'Zh',\n  'З': 'Z',\n  'И': 'I',\n  'Й': 'J',\n  'К': 'K',\n  'Л': 'L',\n  'М': 'M',\n  'Н': 'N',\n  'О': 'O',\n  'П': 'P',\n  'Р': 'R',\n  'С': 'S',\n  'Т': 'T',\n  'У': 'U',\n  'Ф': 'F',\n  'Х': 'X',\n  'Ц': 'Cz',\n  'Ч': 'Ch',\n  'Ш': 'Sh',\n  'Щ': 'Shh',\n  'Ъ': '``',\n  'Ы': 'Y`',\n  'Ь': '`',\n  'Э': 'E`',\n  'Ю': 'Yu',\n  'Я': 'Ya',\n\n  'а': 'a',\n  'б': 'b',\n  'в': 'v',\n  'г': 'g',\n  'д': 'd',\n  'е': 'e',\n  'ё': 'yo',\n  'ж': 'zh',\n  'з': 'z',\n  'и': 'i',\n  'й': 'j',\n  'к': 'k',\n  'л': 'l',\n  'м': 'm',\n  'н': 'n',\n  'о': 'o',\n  'п': 'p',\n  'р': 'r',\n  'с': 's',\n  'т': 't',\n  'у': 'u',\n  'ф': 'f',\n  'х': 'x',\n  'ц': 'cz',\n  'ч': 'ch',\n  'ш': 'sh',\n  'щ': 'shh',\n  'ъ': '``',\n  'ы': 'y`',\n  'ь': '`',\n  'э': 'e`',\n  'ю': 'yu',\n  'я': 'ya',\n\n  '’': `'`, // апостроф\n  'Ѣ': 'ye', // ять\n  'Ѳ': 'fh', //\tфита\n  'Ѵ': 'yh', // ижица\n};\n\n/**\n * Транслитератор, для передачи знаков одной письменности знаками другой.\n */\nexport class Transliterator {\n  private readonly replacer: Replacer;\n\n  constructor(dict: Record<string, string>) {\n    this.replacer = new Replacer(dict);\n  }\n\n  /**\n   * Производит транслитерацию текста\n   */\n  transliteration(text: string): string {\n    return this.replacer.replace(text);\n  }\n}\n\n/**\n * Транслитератор ВКонтакте из русского в английский\n */\nexport const transliteratorVKRusToEng = /*#__PURE__*/ new Transliterator(\n  transliterationDictVKRusToEng,\n);\n\n/**\n * Транслитератор ВКонтакте из английского в русский\n */\nexport const transliteratorVKEngToRus = /*#__PURE__*/ new Transliterator(\n  transliterationDictVKEngToRus,\n);\n\n/**\n * Транслитератор ГОСТ 7.79-2000 (ISO 9-95) по системе Б\n * (с использованием буквосочетаний) для русского языка.\n */\nexport const transliteratorGostLetterCombinationsRu = /*#__PURE__*/ new Transliterator(\n  transliterationDictGostLetterCombinationsRu,\n);\n", "import * as React from 'react';\nimport { isKeyboardFocusingStarted } from '../lib/accessibility';\nimport { useDOM } from '../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nexport const ENABLE_KEYBOARD_INPUT_EVENT_NAME = 'enableKeyboardInput';\nexport const DISABLE_KEYBOARD_INPUT_EVENT_NAME = 'disableKeyboardInput';\n\nconst EVENT_OPTIONS = {\n  passive: true,\n  capture: true,\n};\n\n/**\n * Чтобы оптимизировать рендер, сохраняем в ref.\n *\n * В контекст можно передать через getter, подробнее в примере ниже.\n *\n * ```tsx\n * const keyboardInputTrackerRef = useKeyboardInputTracker();\n * <SomeContext.Provider value={{\n *  get keyboardInput() {\n *    return keyboardInputTrackerRef.current;\n *  }\n * }}>\n *  {children}\n * </SomeContext.Provider>\n * ```\n *\n * @private\n */\nexport function useKeyboardInputTracker(): React.RefObject<boolean> {\n  const { document } = useDOM();\n  const keyboardFocusingStartedRef = React.useRef(false);\n\n  useIsomorphicLayoutEffect(() => {\n    /* istanbul ignore if: невозможный кейс, т.к. в SSR эффекты не вызываются. Проверка на будущее, если вдруг эффект будет вызываться. */\n    if (!document) {\n      return;\n    }\n\n    const handleKeydown = (event: KeyboardEvent) => {\n      if (isKeyboardFocusingStarted(event)) {\n        keyboardFocusingStartedRef.current = true;\n      }\n    };\n\n    const handleCustomEnableKeyboardEvent = () => {\n      keyboardFocusingStartedRef.current = true;\n    };\n\n    const handleCustomDisableKeyboardEvent = () => {\n      keyboardFocusingStartedRef.current = false;\n    };\n\n    document.addEventListener('keydown', handleKeydown, EVENT_OPTIONS);\n    document.addEventListener(ENABLE_KEYBOARD_INPUT_EVENT_NAME, handleCustomEnableKeyboardEvent, EVENT_OPTIONS); // prettier-ignore\n    document.addEventListener(DISABLE_KEYBOARD_INPUT_EVENT_NAME, handleCustomDisableKeyboardEvent, EVENT_OPTIONS); // prettier-ignore\n    document.addEventListener('mousedown', handleCustomDisableKeyboardEvent, EVENT_OPTIONS);\n    document.addEventListener('touchstart', handleCustomDisableKeyboardEvent, EVENT_OPTIONS);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeydown, EVENT_OPTIONS);\n      document.removeEventListener(ENABLE_KEYBOARD_INPUT_EVENT_NAME, handleCustomEnableKeyboardEvent, EVENT_OPTIONS); // prettier-ignore\n      document.removeEventListener(DISABLE_KEYBOARD_INPUT_EVENT_NAME, handleCustomDisableKeyboardEvent, EVENT_OPTIONS); // prettier-ignore\n      document.removeEventListener('mousedown', handleCustomDisableKeyboardEvent, EVENT_OPTIONS);\n      document.removeEventListener('touchstart', handleCustomDisableKeyboardEvent, EVENT_OPTIONS);\n    };\n  }, [document]);\n\n  return keyboardFocusingStartedRef;\n}\n", "// copied from react-children-utilities\n// @see https://github.com/fernandopasik/react-children-utilities/tree/main\n\nimport type * as React from 'react';\nimport { Children, isValidElement } from 'react';\n\nexport const childToString = (child?: React.ReactNode): string => {\n  if (typeof child === 'undefined' || child === null || typeof child === 'boolean') {\n    return '';\n  }\n\n  if (JSON.stringify(child) === '{}') {\n    return '';\n  }\n\n  return (child as number | string).toString();\n};\n\nexport const getTextFromChildren = (children: React.ReactNode | React.ReactNode[]): string => {\n  if (!(children instanceof Array) && !isValidElement(children)) {\n    return childToString(children);\n  }\n\n  return Children.toArray(children).reduce((text: string, child: React.ReactNode): string => {\n    let newText = '';\n\n    const isValidElementResult = isValidElement<{ children?: React.ReactNode | React.ReactNode[] }>(\n      child,\n    );\n    const hasChildren = isValidElementResult && 'children' in child.props;\n\n    if (isValidElementResult && hasChildren) {\n      newText = getTextFromChildren(child.props.children);\n    } else if (isValidElementResult && !hasChildren) {\n      newText = '';\n    } else {\n      newText = childToString(child);\n    }\n\n    return text.concat(newText);\n  }, '');\n};\n", "import type * as React from 'react';\nimport type { HasChildren, ValuesOfObject } from '../types';\nimport { getTextFromChildren } from './children';\n\nexport const FOCUSABLE_ELEMENTS_LIST: string[] = [\n  'a[href]',\n  'area[href]',\n  'input:not([disabled]):not([hidden]):not([type=\"hidden\"]):not([aria-hidden])',\n  'select:not([disabled]):not([hidden]):not([aria-hidden])',\n  'textarea:not([disabled])',\n  'button:not([disabled])',\n  'iframe',\n  'audio',\n  'video',\n  '[contenteditable]',\n  '[tabindex]:not([tabindex=\"-1\"])',\n];\n\nexport const Keys = {\n  ENTER: 'Enter',\n  SPACE: 'Space',\n  TAB: 'Tab',\n  ESCAPE: 'Escape',\n  HOME: 'Home',\n  END: 'End',\n  DELETE: 'Delete',\n  BACKSPACE: 'Backspace',\n  ARROW_LEFT: 'ArrowLeft',\n  ARROW_RIGHT: 'ArrowRight',\n  ARROW_UP: 'ArrowUp',\n  ARROW_DOWN: 'ArrowDown',\n  PAGE_UP: 'PageUp',\n  PAGE_DOWN: 'PageDown',\n} as const;\n\nexport type KeysValues = ValuesOfObject<typeof Keys>;\n\nconst EVENT_KEY_TO_COMMON_KEY_MAP = new Map([\n  ['Enter', Keys.ENTER],\n  ['Space', Keys.SPACE],\n  ['Spacebar', Keys.SPACE],\n  [' ', Keys.SPACE],\n  ['Tab', Keys.TAB],\n  ['Escape', Keys.ESCAPE],\n  ['Delete', Keys.DELETE],\n  ['Backspace', Keys.BACKSPACE],\n  ['Home', Keys.HOME],\n  ['End', Keys.END],\n  ['ArrowLeft', Keys.ARROW_LEFT],\n  ['ArrowRight', Keys.ARROW_RIGHT],\n  ['ArrowUp', Keys.ARROW_UP],\n  ['ArrowDown', Keys.ARROW_DOWN],\n  ['PageUp', Keys.PAGE_UP],\n  ['PageDown', Keys.PAGE_DOWN],\n]);\n\nexport function pressedKey<T extends KeyboardEvent | React.KeyboardEvent>(\n  event: T,\n):\n  | 'Enter'\n  | 'Space'\n  | 'Tab'\n  | 'Escape'\n  | 'Home'\n  | 'End'\n  | 'ArrowLeft'\n  | 'ArrowRight'\n  | 'ArrowUp'\n  | 'ArrowDown'\n  | 'PageUp'\n  | 'PageDown'\n  | 'Backspace'\n  | 'Delete'\n  | null {\n  const foundKey = EVENT_KEY_TO_COMMON_KEY_MAP.get(event.key);\n  return foundKey ? foundKey : null;\n}\n\nexport const FOCUS_ALLOW_LIST_KEYS: Set<string> = new Set<string>([\n  Keys.TAB,\n  Keys.ARROW_LEFT,\n  Keys.ARROW_RIGHT,\n  Keys.ARROW_UP,\n  Keys.ARROW_DOWN,\n  Keys.BACKSPACE,\n  Keys.DELETE,\n]);\n\nexport function isKeyboardFocusingStarted<T extends KeyboardEvent | React.KeyboardEvent>(\n  event: T,\n): boolean {\n  return FOCUS_ALLOW_LIST_KEYS.has(event.key);\n}\n\nexport function shouldTriggerClickOnEnterOrSpace(\n  e: KeyboardEvent | React.KeyboardEvent<HTMLElement>,\n): boolean {\n  const el = e.target as HTMLElement;\n  const { tagName } = el;\n\n  const role = el.getAttribute('role');\n\n  const isValidKeyboardEventTarget: boolean =\n    el.isContentEditable !== true &&\n    tagName !== 'INPUT' &&\n    tagName !== 'TEXTAREA' &&\n    (role === 'button' || role === 'link' || role === 'menuitem');\n\n  const isNativeAnchorEl = tagName === 'A' && el.hasAttribute('href');\n  const keyPressed = pressedKey(e);\n\n  return (\n    isValidKeyboardEventTarget &&\n    // trigger buttons on Space\n    ((keyPressed === Keys.SPACE && role === 'button') ||\n      // trigger non-native links and buttons on Enter\n      (keyPressed === Keys.ENTER && !isNativeAnchorEl))\n  );\n}\n\n/**\n * @see https://doka.guide/a11y/aria-expanded/\n */\nexport const injectAriaExpandedPropByRole = (\n  props: React.ComponentProps<any>,\n  state: boolean,\n  role?: React.AriaRole,\n): React.ComponentProps<any> => {\n  switch (role) {\n    case 'dialog':\n    case 'menu':\n    case 'application':\n    case 'tab':\n    case 'menuitem':\n    case 'treeitem':\n    case 'gridcell':\n      props['aria-expanded'] = state;\n      return props;\n    default:\n      return props;\n  }\n};\n\ninterface HasAccessibleNameProps\n  extends Pick<React.AriaAttributes, 'aria-label' | 'aria-labelledby'>,\n    HasChildren {\n  title?: string;\n}\n\nexport function hasAccessibleName({\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledBy,\n  title,\n  children,\n}: HasAccessibleNameProps): boolean {\n  if (ariaLabel || ariaLabelledBy || title) {\n    return true;\n  }\n\n  const accessibleLabel = getTextFromChildren(children);\n\n  if (accessibleLabel.trim() !== '') {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * @private\n */\nexport const getHorizontalFocusGoTo = (\n  keys: Extract<KeysValues, 'ArrowUp' | 'ArrowLeft' | 'ArrowDown' | 'ArrowRight' | 'Home' | 'End'>,\n): 'prev' | 'next' | 'first' | 'last' => {\n  switch (keys) {\n    case Keys.ARROW_UP:\n    case Keys.ARROW_LEFT:\n      return 'prev';\n    case Keys.ARROW_DOWN:\n    case Keys.ARROW_RIGHT:\n      return 'next';\n    case Keys.HOME:\n      return 'first';\n    case Keys.END:\n      return 'last';\n  }\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { canUseDOM } from '@vkontakte/vkjs';\nimport { rectToClientRect } from '@vkontakte/vkui-floating-ui/core';\nimport {\n  getParentNode,\n  getWindow,\n  isElement,\n  isHTMLElement,\n  isLastTraversableNode,\n  isOverflowElement,\n} from '@vkontakte/vkui-floating-ui/utils/dom';\n\nexport {\n  getWindow,\n  getNodeScroll,\n  isHTMLElement,\n  isElement,\n  getParentNode,\n} from '@vkontakte/vkui-floating-ui/utils/dom';\n\nexport { canUseDOM, canUseEventListeners, onDOMLoaded } from '@vkontakte/vkjs';\nexport interface DOMContextInterface {\n  /**\n   * @ignore\n   */\n  window?: Window;\n  /**\n   * @ignore\n   */\n  document?: Document;\n}\n\nexport type DOMProps = DOMContextInterface;\n\n/* eslint-disable no-restricted-globals */\nconst getDOM = (): DOMContextInterface => ({\n  window: canUseDOM ? window : undefined,\n  document: canUseDOM ? document : undefined,\n});\n/* eslint-enable no-restricted-globals */\n\nexport const DOMContext: React.Context<DOMContextInterface> =\n  React.createContext<DOMContextInterface>(getDOM());\n\nexport const useDOM = (): DOMContextInterface => {\n  return React.useContext(DOMContext);\n};\n\n/**\n * В случае, если используется DOMContext, при проверке 'node instanceOf Window' – Window может быть\n * другим объектом.\n */\nexport const isWindow = (\n  node: Element | Window | VisualViewport | undefined | null,\n): node is Window => {\n  return node !== null && node !== undefined && 'navigator' in node;\n};\n\nexport const isBody = (\n  node: Element | Window | VisualViewport | undefined | null,\n): node is HTMLBodyElement => {\n  return node !== null && node !== undefined && 'tagName' in node && node.tagName === 'BODY';\n};\n\nexport const isDocumentElement = (\n  node: Element | Window | VisualViewport | undefined | null,\n): node is HTMLHtmlElement => {\n  return node !== null && node !== undefined && 'tagName' in node && node.tagName === 'HTML';\n};\n\nexport function withDOM<Props>(\n  Component: React.ComponentType<Props & DOMProps>,\n): React.ComponentType<Props> {\n  const WithDOM = (props: Props) => {\n    const dom = useDOM();\n    return <Component {...props} {...dom} />;\n  };\n  return WithDOM;\n}\n\nexport function blurActiveElement(document: Document | undefined): void {\n  if (document && document.activeElement) {\n    (document.activeElement as HTMLElement).blur();\n  }\n}\n\nexport const TRANSFORM_DEFAULT_VALUES: string[] = ['none', 'initial', 'inherit', 'unset'];\nexport const WILL_CHANGE_DEFAULT_VALUES: string[] = ['auto', 'initial', 'inherit', 'unset'];\nexport function getTransformedParentCoords(element: Element): {\n  x: number;\n  y: number;\n} {\n  let parentNode = element.parentNode;\n  while (parentNode !== null) {\n    if (isHTMLElement(parentNode)) {\n      let { transform, willChange } = getComputedStyle(parentNode);\n      if (transform === '') {\n        transform = 'unset';\n      }\n      if (willChange === '') {\n        willChange = 'unset';\n      }\n      if (\n        !TRANSFORM_DEFAULT_VALUES.includes(transform) ||\n        !WILL_CHANGE_DEFAULT_VALUES.includes(willChange)\n      ) {\n        const { x, y } = parentNode.getBoundingClientRect();\n        return { x, y };\n      }\n    }\n    parentNode = parentNode.parentNode;\n  }\n  return { x: 0, y: 0 };\n}\n\nexport const getBoundingClientRect = (node: Element | Window, isFixedStrategy = false) => {\n  const element = isWindow(node) ? node.document.documentElement : node;\n  const clientRect = element.getBoundingClientRect();\n\n  if (isDocumentElement(element)) {\n    /**\n     * Если на странице не используется `html, body { height: 100% }` (или `height: 100vh`), то\n     * `height`, полученный из `document.documentElement.getBoundingClientRect()`, будет возвращать\n     * `scrollHeight`, а не `clientHeight`. Поэтому перебиваем `height` на `clientHeight`.\n     */\n    clientRect.height = element.clientHeight;\n  }\n\n  let offsetX = 0;\n  let offsetY = 0;\n  if (isFixedStrategy) {\n    const { x, y } = getTransformedParentCoords(element);\n    offsetX = x;\n    offsetY = y;\n  }\n\n  return rectToClientRect({\n    x: clientRect.left - offsetX,\n    y: clientRect.top - offsetY,\n    width: clientRect.width,\n    height: clientRect.height,\n  }) as DOMRect;\n};\n\nexport const getRelativeBoundingClientRect = (parent: Element, child: Element) => {\n  const parentRect = getBoundingClientRect(parent);\n  const childRect = getBoundingClientRect(child);\n  return rectToClientRect({\n    x: childRect.left - parentRect.left,\n    y: childRect.top - parentRect.top,\n    width: childRect.width,\n    height: childRect.height,\n  }) as DOMRect;\n};\n\n/**\n * Переписанный `getNearestOverflowAncestor` из @floating-ui/utils/dom.\n *\n * [1] добавляем ноду, на которой нужно остановить рекурсию\n * [2] document.body подменяем на window, т.к. на document.body нельзя применить скролл.\n *\n * @link https://github.com/floating-ui/floating-ui/blob/%40floating-ui/dom%401.6.3/packages/utils/src/dom.ts#L143\n */\nexport function getNearestOverflowAncestor(node: Node): HTMLElement | Window | null;\nexport function getNearestOverflowAncestor(node: Node, terminalNode: Node): HTMLElement | null;\nexport function getNearestOverflowAncestor(node: Node, terminalNode?: any): any {\n  const parentNode = getParentNode(node);\n\n  if (terminalNode === parentNode) {\n    return null; /* [1] */\n  }\n\n  if (isLastTraversableNode(parentNode)) {\n    return getWindow(parentNode); /* [2] */\n  }\n\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n\n  return getNearestOverflowAncestor(parentNode, terminalNode);\n}\n\nexport const getScrollHeight = (node: Element | Window): number => {\n  return isWindow(node) ? node.document.documentElement.scrollHeight : node.scrollHeight;\n};\n\nexport const getScrollRect = (\n  node: Element | Window,\n): {\n  relative: DOMRect;\n  edges: {\n    y: [number, number];\n  };\n} => {\n  const window = isElement(node) ? getWindow(node) : node;\n  const scrollElRect = getBoundingClientRect(node);\n\n  const edgeTop = window.scrollY + scrollElRect.top;\n  const edgeBottom = edgeTop + scrollElRect.height;\n  const y: [number, number] = [edgeTop, edgeBottom];\n\n  return {\n    relative: scrollElRect,\n    edges: { y },\n  };\n};\n\nexport const getDocumentBody = (node?: any): HTMLElement => getWindow(node).document.body;\n\nexport const getActiveElementByAnotherElement = (el: Element | null): Element | null =>\n  el ? el.ownerDocument.activeElement : null;\n\nexport const contains = (parent?: Element | null, child?: Element | null): boolean => {\n  return parent && child ? parent.contains(child) : false;\n};\n\nexport const getFirstTouchEventData = (\n  event: UIEvent | React.UIEvent<HTMLElement>,\n): {\n  screenX: number;\n  screenY: number;\n  clientX: number;\n  clientY: number;\n  pageX: number;\n  pageY: number;\n} => {\n  let dataRaw = (function resolveData() {\n    switch (event.type) {\n      case 'touchend':\n        return (event as TouchEvent).changedTouches[0];\n      case 'touchstart':\n      case 'touchmove':\n      case 'touchcancel':\n        return (event as TouchEvent).touches[0];\n      case 'mousedown':\n      case 'mousemove':\n      case 'mouseup':\n      case 'mouseleave':\n        return event as MouseEvent;\n      default:\n        return { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0 };\n    }\n  })();\n  /* istanbul ignore if */\n  if (process.env.NODE_ENV === 'test') {\n    dataRaw = dataRaw\n      ? dataRaw\n      : { screenX: 0, screenY: 0, clientX: 0, clientY: 0, pageX: 0, pageY: 0 };\n  }\n  return {\n    screenX: dataRaw.screenX || 0,\n    screenY: dataRaw.screenY || 0,\n    clientX: dataRaw.clientX || 0,\n    clientY: dataRaw.clientY || 0,\n    pageX: dataRaw.pageX || 0,\n    pageY: dataRaw.pageY || 0,\n  };\n};\n\n/**\n * ⚠️ В частности, необходимо для iOS 15. Начиная с этой версии в Safari добавили\n * pull-to-refresh. CSS св-во `overflow-behavior` появился только с iOS 16.\n *\n * Во вторую очередь, полезна блокированием скролла, чтобы пользователь дождался обновления\n * данных.\n */\nexport const initializeBrowserGesturePreventionEffect = (window: Window): VoidFunction => {\n  const options: AddEventListenerOptions & EventListenerOptions = { passive: false };\n  const handleWindowTouchMove = (event: TouchEvent) => {\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  window.document.documentElement.classList.add('vkui--disable-overscroll-behavior'); // eslint-disable-line no-restricted-properties\n  window.addEventListener('touchmove', handleWindowTouchMove, options);\n\n  return function dispose() {\n    window.document.documentElement.classList.remove('vkui--disable-overscroll-behavior'); // eslint-disable-line no-restricted-properties\n    window.removeEventListener('touchmove', handleWindowTouchMove, options);\n  };\n};\n\nconst nonTextInputTypes = { button: true, submit: true, reset: true, color: true, file: true, image: true, checkbox: true, radio: true }; // prettier-ignore\n\nexport const isHTMLContentEditableElement = (\n  el: Element | null,\n): el is HTMLInputElement | HTMLTextAreaElement | HTMLElement => {\n  if (el === null) {\n    return false;\n  }\n\n  if (el.tagName === 'INPUT') {\n    // @ts-expect-error: TS2339 за счёт `tagName` удовлетворяемся, что это `HTMLInputElement`\n    return !nonTextInputTypes[el.type]; // prettier-ignore\n  }\n\n  return (\n    el.tagName === 'TEXTAREA' ||\n    // eslint-disable-next-line no-restricted-properties\n    el.closest('[contenteditable=true]') !== null\n  );\n};\n\nexport type VisualViewport = {\n  offsetTop: number;\n  offsetLeft: number;\n  width: number;\n  height: number;\n};\n\n/**\n * Фоллбек `visualViewport` для **Safari 12**.\n */\nexport function getVisualViewport(win: Window): VisualViewport {\n  const result: VisualViewport = { offsetTop: 0, offsetLeft: 0, width: 0, height: 0 };\n  if (win.visualViewport) {\n    const { offsetTop, offsetLeft, width, height } = win.visualViewport;\n    result.offsetTop = Math.round(offsetTop);\n    result.offsetLeft = offsetLeft;\n    result.width = width;\n    result.height = Math.round(height);\n\n    return result;\n  }\n\n  // TODO[Safari@>=13] Удалить фоллбек\n  result.offsetTop = win.pageYOffset;\n  result.offsetLeft = win.pageXOffset;\n  result.width = win.innerWidth; // note: вызывает reflow в отличии от visualViewport\n  result.height = win.innerHeight; // note: вызывает reflow в отличии от visualViewport\n  return result;\n}\n\nexport const hasSelectionWithRangeType = (node: unknown) => {\n  const selection = getWindow(node).getSelection();\n  return selection ? selection.type === 'Range' : false;\n};\n\nexport function isSVGElement(value: unknown): value is SVGElement {\n  if (!canUseDOM) {\n    return false;\n  }\n\n  return value instanceof SVGElement || value instanceof getWindow(value).SVGElement;\n}\n", "/**\r\n * Custom positioning reference element.\r\n * @see https://floating-ui.com/docs/virtual-elements\r\n */\r\n\r\nconst sides = ['top', 'right', 'bottom', 'left'];\r\nconst alignments = ['start', 'end'];\r\nconst placements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-\" + alignments[0], side + \"-\" + alignments[1]), []);\r\nconst min = Math.min;\r\nconst max = Math.max;\r\nconst round = Math.round;\r\nconst floor = Math.floor;\r\nconst createCoords = v => ({\r\n  x: v,\r\n  y: v\r\n});\r\nconst oppositeSideMap = {\r\n  left: 'right',\r\n  right: 'left',\r\n  bottom: 'top',\r\n  top: 'bottom'\r\n};\r\nconst oppositeAlignmentMap = {\r\n  start: 'end',\r\n  end: 'start'\r\n};\r\nfunction clamp(start, value, end) {\r\n  return max(start, min(value, end));\r\n}\r\nfunction evaluate(value, param) {\r\n  return typeof value === 'function' ? value(param) : value;\r\n}\r\nfunction getSide(placement) {\r\n  return placement.split('-')[0];\r\n}\r\nfunction getAlignment(placement) {\r\n  return placement.split('-')[1];\r\n}\r\nfunction getOppositeAxis(axis) {\r\n  return axis === 'x' ? 'y' : 'x';\r\n}\r\nfunction getAxisLength(axis) {\r\n  return axis === 'y' ? 'height' : 'width';\r\n}\r\nconst yAxisSides = /*#__PURE__*/new Set(['top', 'bottom']);\r\nfunction getSideAxis(placement) {\r\n  return yAxisSides.has(getSide(placement)) ? 'y' : 'x';\r\n}\r\nfunction getAlignmentAxis(placement) {\r\n  return getOppositeAxis(getSideAxis(placement));\r\n}\r\nfunction getAlignmentSides(placement, rects, rtl) {\r\n  if (rtl === void 0) {\r\n    rtl = false;\r\n  }\r\n  const alignment = getAlignment(placement);\r\n  const alignmentAxis = getAlignmentAxis(placement);\r\n  const length = getAxisLength(alignmentAxis);\r\n  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\r\n  if (rects.reference[length] > rects.floating[length]) {\r\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\r\n  }\r\n  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];\r\n}\r\nfunction getExpandedPlacements(placement) {\r\n  const oppositePlacement = getOppositePlacement(placement);\r\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\r\n}\r\nfunction getOppositeAlignmentPlacement(placement) {\r\n  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);\r\n}\r\nconst lrPlacement = ['left', 'right'];\r\nconst rlPlacement = ['right', 'left'];\r\nconst tbPlacement = ['top', 'bottom'];\r\nconst btPlacement = ['bottom', 'top'];\r\nfunction getSideList(side, isStart, rtl) {\r\n  switch (side) {\r\n    case 'top':\r\n    case 'bottom':\r\n      if (rtl) return isStart ? rlPlacement : lrPlacement;\r\n      return isStart ? lrPlacement : rlPlacement;\r\n    case 'left':\r\n    case 'right':\r\n      return isStart ? tbPlacement : btPlacement;\r\n    default:\r\n      return [];\r\n  }\r\n}\r\nfunction getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {\r\n  const alignment = getAlignment(placement);\r\n  let list = getSideList(getSide(placement), direction === 'start', rtl);\r\n  if (alignment) {\r\n    list = list.map(side => side + \"-\" + alignment);\r\n    if (flipAlignment) {\r\n      list = list.concat(list.map(getOppositeAlignmentPlacement));\r\n    }\r\n  }\r\n  return list;\r\n}\r\nfunction getOppositePlacement(placement) {\r\n  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);\r\n}\r\nfunction expandPaddingObject(padding) {\r\n  return {\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    left: 0,\r\n    ...padding\r\n  };\r\n}\r\nfunction getPaddingObject(padding) {\r\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\r\n    top: padding,\r\n    right: padding,\r\n    bottom: padding,\r\n    left: padding\r\n  };\r\n}\r\nfunction rectToClientRect(rect) {\r\n  const {\r\n    x,\r\n    y,\r\n    width,\r\n    height\r\n  } = rect;\r\n  return {\r\n    width,\r\n    height,\r\n    top: y,\r\n    left: x,\r\n    right: x + width,\r\n    bottom: y + height,\r\n    x,\r\n    y\r\n  };\r\n}\r\n\r\nexport { alignments, clamp, createCoords, evaluate, expandPaddingObject, floor, getAlignment, getAlignmentAxis, getAlignmentSides, getAxisLength, getExpandedPlacements, getOppositeAlignmentPlacement, getOppositeAxis, getOppositeAxisPlacements, getOppositePlacement, getPaddingObject, getSide, getSideAxis, max, min, placements, rectToClientRect, round, sides };\r\n", "import { _ as _instanceof } from \"@swc/helpers/_/_instanceof\";\r\nfunction hasWindow() {\r\n    return typeof window !== 'undefined';\r\n}\r\nfunction getNodeName(node) {\r\n    if (isNode(node)) {\r\n        return (node.nodeName || '').toLowerCase();\r\n    }\r\n    // Mocked nodes in testing environments may not be instances of Node. By\r\n    // returning `#document` an infinite loop won't occur.\r\n    // https://github.com/floating-ui/floating-ui/issues/2317\r\n    return '#document';\r\n}\r\nfunction getWindow(node) {\r\n    var _node$ownerDocument;\r\n    return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\r\n}\r\nfunction getDocumentElement(node) {\r\n    var _ref;\r\n    return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\r\n}\r\nfunction isNode(value) {\r\n    if (!hasWindow()) {\r\n        return false;\r\n    }\r\n    return _instanceof(value, Node) || _instanceof(value, getWindow(value).Node);\r\n}\r\nfunction isElement(value) {\r\n    if (!hasWindow()) {\r\n        return false;\r\n    }\r\n    return _instanceof(value, Element) || _instanceof(value, getWindow(value).Element);\r\n}\r\nfunction isHTMLElement(value) {\r\n    if (!hasWindow()) {\r\n        return false;\r\n    }\r\n    return _instanceof(value, HTMLElement) || _instanceof(value, getWindow(value).HTMLElement);\r\n}\r\nfunction isShadowRoot(value) {\r\n    if (!hasWindow() || typeof ShadowRoot === 'undefined') {\r\n        return false;\r\n    }\r\n    return _instanceof(value, ShadowRoot) || _instanceof(value, getWindow(value).ShadowRoot);\r\n}\r\nvar invalidOverflowDisplayValues = /*#__PURE__*/ new Set([\r\n    'inline',\r\n    'contents'\r\n]);\r\nfunction isOverflowElement(element) {\r\n    var _getComputedStyle = getComputedStyle(element), overflow = _getComputedStyle.overflow, overflowX = _getComputedStyle.overflowX, overflowY = _getComputedStyle.overflowY, display = _getComputedStyle.display;\r\n    return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\r\n}\r\nvar tableElements = /*#__PURE__*/ new Set([\r\n    'table',\r\n    'td',\r\n    'th'\r\n]);\r\nfunction isTableElement(element) {\r\n    return tableElements.has(getNodeName(element));\r\n}\r\nvar topLayerSelectors = [\r\n    ':popover-open',\r\n    ':modal'\r\n];\r\nfunction isTopLayer(element) {\r\n    return topLayerSelectors.some(function(selector) {\r\n        try {\r\n            return element.matches(selector);\r\n        } catch (_e) {\r\n            return false;\r\n        }\r\n    });\r\n}\r\nvar transformProperties = [\r\n    'transform',\r\n    'translate',\r\n    'scale',\r\n    'rotate',\r\n    'perspective'\r\n];\r\nvar willChangeValues = [\r\n    'transform',\r\n    'translate',\r\n    'scale',\r\n    'rotate',\r\n    'perspective',\r\n    'filter'\r\n];\r\nvar containValues = [\r\n    'paint',\r\n    'layout',\r\n    'strict',\r\n    'content'\r\n];\r\nfunction isContainingBlock(elementOrCss) {\r\n    var webkit = isWebKit();\r\n    var css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\r\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\r\n    // https://drafts.csswg.org/css-transforms-2/#individual-transforms\r\n    return transformProperties.some(function(value) {\r\n        return css[value] ? css[value] !== 'none' : false;\r\n    }) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(function(value) {\r\n        return (css.willChange || '').includes(value);\r\n    }) || containValues.some(function(value) {\r\n        return (css.contain || '').includes(value);\r\n    });\r\n}\r\nfunction getContainingBlock(element) {\r\n    var currentNode = getParentNode(element);\r\n    while(isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)){\r\n        if (isContainingBlock(currentNode)) {\r\n            return currentNode;\r\n        } else if (isTopLayer(currentNode)) {\r\n            return null;\r\n        }\r\n        currentNode = getParentNode(currentNode);\r\n    }\r\n    return null;\r\n}\r\nfunction isWebKit() {\r\n    if (typeof CSS === 'undefined' || !CSS.supports) return false;\r\n    return CSS.supports('-webkit-backdrop-filter', 'none');\r\n}\r\nvar lastTraversableNodeNames = /*#__PURE__*/ new Set([\r\n    'html',\r\n    'body',\r\n    '#document'\r\n]);\r\nfunction isLastTraversableNode(node) {\r\n    return lastTraversableNodeNames.has(getNodeName(node));\r\n}\r\nfunction getComputedStyle(element) {\r\n    return getWindow(element).getComputedStyle(element);\r\n}\r\nfunction getNodeScroll(element) {\r\n    if (isElement(element)) {\r\n        return {\r\n            scrollLeft: element.scrollLeft,\r\n            scrollTop: element.scrollTop\r\n        };\r\n    }\r\n    return {\r\n        scrollLeft: element.scrollX,\r\n        scrollTop: element.scrollY\r\n    };\r\n}\r\nfunction getParentNode(node) {\r\n    if (getNodeName(node) === 'html') {\r\n        return node;\r\n    }\r\n    var result = // Step into the shadow DOM of the parent of a slotted node.\r\n    node.assignedSlot || // DOM Element detected.\r\n    node.parentNode || // ShadowRoot detected.\r\n    isShadowRoot(node) && node.host || // Fallback.\r\n    getDocumentElement(node);\r\n    return isShadowRoot(result) ? result.host : result;\r\n}\r\nfunction getNearestOverflowAncestor(node) {\r\n    var parentNode = getParentNode(node);\r\n    if (isLastTraversableNode(parentNode)) {\r\n        return node.ownerDocument ? node.ownerDocument.body : node.body;\r\n    }\r\n    if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\r\n        return parentNode;\r\n    }\r\n    return getNearestOverflowAncestor(parentNode);\r\n}\r\nfunction getOverflowAncestors(node, list, traverseIframes) {\r\n    var _node$ownerDocument2;\r\n    if (list === void 0) {\r\n        list = [];\r\n    }\r\n    if (traverseIframes === void 0) {\r\n        traverseIframes = true;\r\n    }\r\n    var scrollableAncestor = getNearestOverflowAncestor(node);\r\n    var isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\r\n    var win = getWindow(scrollableAncestor);\r\n    if (isBody) {\r\n        var frameElement = getFrameElement(win);\r\n        return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\r\n    }\r\n    return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\r\n}\r\nfunction getFrameElement(win) {\r\n    return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\r\n}\r\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\r\n", "import * as React from 'react';\nimport { canUseDOM } from './dom';\n\nexport const useIsomorphicLayoutEffect: typeof React.useLayoutEffect = canUseDOM\n  ? // eslint-disable-next-line no-restricted-properties\n    React.useLayoutEffect\n  : React.useEffect;\n", "import type * as React from 'react';\nimport type { AppRootLayout, AppRootMode } from '../components/AppRoot/types';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nconst layoutClassNames = { card: 'vkui--layout-card', plain: 'vkui--layout-plain' };\n\nexport function useSyncHTMLWithBaseVKUIClasses({\n  appRootRef,\n  mode,\n  enable,\n  layout,\n}: {\n  appRootRef: React.RefObject<HTMLElement | null>;\n  mode: AppRootMode;\n  layout?: AppRootLayout;\n  enable: boolean;\n}) {\n  useIsomorphicLayoutEffect(() => {\n    if (!enable) {\n      return;\n    }\n\n    const htmlElement = appRootRef.current?.ownerDocument.documentElement;\n    const parentElement = appRootRef.current?.parentElement ?? null;\n\n    const htmlElementClasses = ['vkui'];\n    const parentElementClasses = ['vkui__root'];\n\n    if (mode === 'embedded') {\n      parentElementClasses.push('vkui__root--embedded');\n    }\n\n    if (mode === 'full') {\n      if (layout) {\n        htmlElementClasses.push(layoutClassNames[layout]);\n      }\n      /* eslint-disable-next-line no-restricted-properties */\n      htmlElement?.classList.add(...htmlElementClasses);\n    }\n\n    /* eslint-disable-next-line no-restricted-properties */\n    parentElement?.classList.add(...parentElementClasses);\n\n    return () => {\n      if (mode === 'full') {\n        /* eslint-disable-next-line no-restricted-properties */\n        htmlElement?.classList.remove(...htmlElementClasses);\n      }\n      /* eslint-disable-next-line no-restricted-properties */\n      parentElement?.classList.remove(...parentElementClasses);\n    };\n  }, [mode, enable, layout]);\n}\n", "import * as React from 'react';\nimport { ConfigProviderContext } from '../../components/ConfigProvider/ConfigProviderContext';\nimport { type ColorSchemeType, DEFAULT_COLOR_SCHEME } from '../colorScheme';\nimport { Platform, type PlatformType } from '../platform';\nimport { DEFAULT_TOKENS_CLASS_NAMES } from './constants';\nimport type {\n  TokensClassNames,\n  TokensClassNamesByAppearances,\n  TokensClassNamesByPlatforms,\n} from './types';\n\nconst isTokensClassNamesForPlatforms = (\n  tokensClassNames: TokensClassNames,\n): tokensClassNames is TokensClassNamesByPlatforms =>\n  Platform.ANDROID in tokensClassNames ||\n  Platform.IOS in tokensClassNames ||\n  Platform.VKCOM in tokensClassNames;\n\nconst getTokenClassNameByAppearance = (\n  colorScheme: ColorSchemeType,\n  tokensClassNames?: TokensClassNamesByAppearances,\n) => (tokensClassNames ? tokensClassNames[colorScheme] : undefined);\n\nconst getAppearanceTokenClassNameByPlatform = (\n  platform: PlatformType,\n  tokensClassNames?: TokensClassNamesByPlatforms,\n) => (tokensClassNames ? tokensClassNames[platform] : undefined);\n\n/**\n * @private\n */\nexport const useTokensClassName = (): string => {\n  const {\n    platform,\n    colorScheme = DEFAULT_COLOR_SCHEME,\n    tokensClassNames,\n  } = React.useContext(ConfigProviderContext);\n\n  const colorSchemeClassName = isTokensClassNamesForPlatforms(tokensClassNames)\n    ? getAppearanceTokenClassNameByPlatform(platform, tokensClassNames)\n    : tokensClassNames;\n\n  const tokensClassName = getTokenClassNameByAppearance(colorScheme, colorSchemeClassName);\n\n  return tokensClassName ? tokensClassName : DEFAULT_TOKENS_CLASS_NAMES[platform][colorScheme];\n};\n", "'use client';\n\nimport * as React from 'react';\nimport type { ColorSchemeType } from '../../lib/colorScheme';\nimport { type Direction } from '../../lib/direction';\nimport { platform, type PlatformType } from '../../lib/platform';\nimport { DEFAULT_TOKENS_CLASS_NAMES } from '../../lib/tokens/constants';\nimport { type TokensClassNames } from '../../lib/tokens/types';\n\nexport interface ConfigProviderContextInterface {\n  /**\n   * Подсказывает приложению, обёрнутому в `ConfigProvider`, где открыто приложение: внутри webview или в мобильном браузере.\n   *\n   * В условиях когда:\n   * - `isWebView={true}`\n   * - platform=\"ios\".\n   *\n   * Для компонента `View` включается возможность навигации через смахивание.\n   */\n  isWebView: boolean;\n  /**\n   * При `true` слот `after` у `PanelHeader` игнорируется под размещение пользовательского\n   * \"плавающего\" элемента (например, панель управления webview).\n   *\n   * > Note: Правило не распространяется на `PanelHeader` внутри модальных окон, предоставляемых\n   * > библиотекой.\n   */\n  hasCustomPanelHeaderAfter: boolean;\n  /**\n   * Задаёт необходимый минимальную ширину слота `after` в `PanelHeader` под пользовательский\n   * \"плавающий\" элемент (например, ширина панели управления webview).\n   *\n   * Учитывается только при `hasCustomPanelHeaderAfter={true}` (см документацию `hasCustomPanelHeaderAfter`).\n   *\n   * @default 90\n   */\n  customPanelHeaderAfterMinWidth: number | string;\n  /**\n   * Тип цветовой схемы – `light` или `dark`.\n   */\n  colorScheme: ColorSchemeType | undefined;\n  /**\n   * Включена ли анимация переходов между экранами в `Root` и `View`.\n   */\n  transitionMotionEnabled: boolean;\n  /**\n   * Платформа.\n   */\n  platform: PlatformType;\n  /**\n   * CSS классы, определяющие набор токенов.\n   *\n   * - Используйте `{ light?: '<css_class>', dark?: '<css_class>' }`, чтобы задать для всех платформ одинаковый набор токенов для светлой и/или тёмной тем.\n   * - Используйте `{ [key in 'android' | 'ios' | 'vkcom']?: '<css_class>' }`, чтобы задать для одной или нескольких платформ свой набор токенов.\n   *\n   * @default\n   * {\n   *   android: {\n   *     light: 'vkui--vkBase--light',\n   *     dark: 'vkui--vkBase--dark',\n   *   },\n   *   ios: {\n   *     light: 'vkui--vkIOS--light',\n   *     dark: 'vkui--vkIOS--dark',\n   *   },\n   *   vkcom: {\n   *     light: 'vkui--vkCom--light',\n   *     dark: 'vkui--vkCom--dark',\n   *   }\n   * }\n   */\n  tokensClassNames: TokensClassNames;\n  /**\n   * Строка с языковой меткой BCP 47.\n   */\n  locale: string;\n  /**\n   * Направление контента.\n   *\n   * При использовании определенного значения, важно установить атрибут `dir` с таким же значением либо на дочерний элемент,\n   * либо на все страницу в целом.\n   *\n   * @default Определяется автоматически в зависимости от значения атрибута `dir` установленного на `body` страницы\n   */\n  direction: Direction | undefined;\n}\n\nexport const ConfigProviderContext: React.Context<ConfigProviderContextInterface> =\n  React.createContext<ConfigProviderContextInterface>({\n    hasCustomPanelHeaderAfter: false,\n    customPanelHeaderAfterMinWidth: 90,\n    isWebView: false,\n    transitionMotionEnabled: true,\n    platform: platform(),\n    colorScheme: undefined, // undefined обозначает что тема должна определиться автоматически\n    tokensClassNames: DEFAULT_TOKENS_CLASS_NAMES,\n    locale: 'ru',\n    direction: undefined,\n  });\n\nexport const useConfigProvider = (): ConfigProviderContextInterface =>\n  React.useContext(ConfigProviderContext);\n\nexport function useConfigProviderContextMemo(config: ConfigProviderContextInterface) {\n  const {\n    isWebView,\n    hasCustomPanelHeaderAfter,\n    customPanelHeaderAfterMinWidth,\n    colorScheme,\n    transitionMotionEnabled,\n    platform,\n    tokensClassNames,\n    locale,\n    direction,\n  } = config;\n\n  return React.useMemo<ConfigProviderContextInterface>(() => {\n    return {\n      isWebView,\n      hasCustomPanelHeaderAfter,\n      customPanelHeaderAfterMinWidth,\n      colorScheme,\n      transitionMotionEnabled,\n      platform,\n      tokensClassNames,\n      locale,\n      direction,\n    };\n  }, [\n    isWebView,\n    hasCustomPanelHeaderAfter,\n    customPanelHeaderAfterMinWidth,\n    colorScheme,\n    transitionMotionEnabled,\n    platform,\n    tokensClassNames,\n    locale,\n    direction,\n  ]);\n}\n", "import { detectIOS, noop } from '@vkontakte/vkjs';\nimport type { Version } from '../types';\n\nexport interface BrowserInfo {\n  userAgent: string;\n  system: 'ios' | '';\n  systemVersion: Version | null;\n}\n\nconst memoized: { [index: string]: BrowserInfo } = {};\n\nexport function computeBrowserInfo(userAgent = ''): BrowserInfo {\n  if (memoized[userAgent]) {\n    return memoized[userAgent];\n  }\n\n  const browserInfo: BrowserInfo = {\n    userAgent,\n    system: '',\n    systemVersion: null,\n  };\n\n  const { isIOS, iosMajor, iosMinor } = detectIOS(userAgent);\n\n  if (isIOS) {\n    browserInfo.system = 'ios';\n    browserInfo.systemVersion = {\n      major: iosMajor,\n      minor: iosMinor,\n    };\n  }\n\n  memoized[userAgent] = browserInfo;\n\n  return browserInfo;\n}\n\n/**\n * Эмуляция функции `window.matchMedia` для SSR.\n *\n * ⚠️ Желательно избегать использование этой эмуляции в SSR.\n */\nexport function mediaQueryNull(query: string): MediaQueryList {\n  return {\n    matches: false,\n    media: query,\n    onchange: noop,\n    addListener: noop,\n    removeListener: noop,\n    addEventListener: noop,\n    removeEventListener: noop,\n    dispatchEvent() {\n      return false;\n    },\n  };\n}\n", "/**\n * android - базовая платформа\n * ios - платформа которая подстраивается под ios\n * vkcom - платформа предназначенная для миниприложений которые встраиваются в vk.com\n */\n\nimport { type BrowserInfo, computeBrowserInfo } from './browser';\n\nexport const Platform = {\n  ANDROID: 'android',\n  IOS: 'ios',\n  VKCOM: 'vkcom',\n} as const;\n\nexport type PlatformType = 'android' | 'ios' | 'vkcom';\n\nexport function platform(browserInfo?: BrowserInfo): PlatformType {\n  if (!browserInfo) {\n    browserInfo = computeBrowserInfo();\n  }\n\n  return browserInfo.system === 'ios' ? 'ios' : 'android';\n}\n", "export const DEFAULT_TOKENS_CLASS_NAMES = {\n  android: {\n    light: 'vkui--vkBase--light',\n    dark: 'vkui--vkBase--dark',\n  },\n  ios: {\n    light: 'vkui--vkIOS--light',\n    dark: 'vkui--vkIOS--dark',\n  },\n  vkcom: {\n    light: 'vkui--vkCom--light',\n    dark: 'vkui--vkCom--dark',\n  },\n};\n", "export type { ColorSchemeType } from './types';\n\nexport const DEFAULT_COLOR_SCHEME = 'light';\n\nexport const ColorScheme = {\n  DARK: 'dark',\n  LIGHT: 'light',\n} as const;\n", "import { useTokensClassName } from '../lib/tokens/useTokenClassName';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nexport function useSyncHTMLWithTokens({\n  appRootRef,\n  enable,\n}: {\n  appRootRef: React.RefObject<HTMLElement | null>;\n  enable: boolean;\n}) {\n  const tokenClassName = useTokensClassName();\n\n  useIsomorphicLayoutEffect(() => {\n    if (!enable) {\n      return;\n    }\n\n    const htmlElement = appRootRef.current?.ownerDocument.documentElement;\n    /* eslint-disable-next-line no-restricted-properties */\n    htmlElement?.classList.add(tokenClassName);\n\n    return () => {\n      /* eslint-disable-next-line no-restricted-properties */\n      htmlElement?.classList.remove(tokenClassName);\n    };\n  }, [tokenClassName]);\n}\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { type AppRootUserSelectMode, type SafeAreaInsets } from './types';\n\nexport interface AppRootContextInterface {\n  appRoot: React.RefObject<HTMLElement | null>;\n  portalRoot?: HTMLElement | React.RefObject<HTMLElement | null> | null;\n  safeAreaInsets?: SafeAreaInsets;\n  embedded: boolean;\n  mode: 'partial' | 'embedded' | 'full';\n  keyboardInput: boolean;\n  disablePortal: boolean;\n  layout?: 'card' | 'plain';\n  userSelectMode?: AppRootUserSelectMode;\n}\n\n/**\n * Вынесен в константу, чтобы можно было в тестах создавать свой контекст и сливать перед этим значения по-умолчанию.\n *\n * > Note: не смог убрать из покрытия через 'istanbul ignore next'.\n */\nexport const DEFAULT_APP_ROOT_CONTEXT_VALUE: AppRootContextInterface = {\n  appRoot: React.createRef(),\n  mode: 'full',\n  portalRoot: null,\n  safeAreaInsets: undefined,\n  embedded: false,\n  keyboardInput: false,\n  disablePortal: false,\n};\n\nexport const AppRootContext: React.Context<AppRootContextInterface> =\n  React.createContext<AppRootContextInterface>(DEFAULT_APP_ROOT_CONTEXT_VALUE);\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { useTokensClassName } from '../../../lib/tokens/useTokenClassName';\nimport { useConfigProvider } from '../../ConfigProvider/ConfigProviderContext';\nimport { RootComponent, type RootComponentProps } from '../../RootComponent/RootComponent';\nimport { AppRootContext } from '../AppRootContext';\nimport { getSafeAreaInsetsAsCssVariables, getUserSelectModeClassName } from '../helpers';\nimport styles from './AppRootStyleContainer.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport function useAppRootStyles() {\n  const { safeAreaInsets, mode, userSelectMode } = React.useContext(AppRootContext);\n  const { hasPointer, sizeY = 'none' } = useAdaptivity();\n  const { isWebView } = useConfigProvider();\n  const userSelectModeClassName = getUserSelectModeClassName({\n    userSelectMode,\n    isWebView,\n    hasPointer,\n  });\n  const tokensClassName = useTokensClassName();\n\n  return {\n    style: safeAreaInsets ? getSafeAreaInsetsAsCssVariables(safeAreaInsets) : undefined,\n    className: classNames(\n      styles.host,\n      mode === 'embedded' && styles.embedded,\n      sizeY !== 'regular' && sizeYClassNames[sizeY],\n      userSelectModeClassName,\n      tokensClassName,\n    ),\n  };\n}\n\ntype AppRootStyleContainerProps = RootComponentProps<HTMLDivElement>;\n\n/**\n * Специальный контейнер для переиспользования стилей, токенов и safe-area-inset в:\n * - точке монтирования приложения – `AppRoot`;\n * - точке монтирования порталов для модальных окон – `AppRootPortal`.\n *\n * @private\n */\nexport function AppRootStyleContainer(props: AppRootStyleContainerProps) {\n  const { style: appRootStyle, className: appRootClassName } = useAppRootStyles();\n\n  return <RootComponent baseClassName={appRootClassName} baseStyle={appRootStyle} {...props} />;\n}\n", "import * as React from 'react';\nimport {\n  AdaptivityContext,\n  type AdaptivityProps,\n} from '../components/AdaptivityProvider/AdaptivityContext';\n\nexport type { AdaptivityProps };\n\n/**\n * Хук из контекста возвращает свойства, переданные в `AdaptivityProvider`.\n */\nexport const useAdaptivity = (): AdaptivityProps => {\n  return React.useContext(AdaptivityContext);\n};\n", "'use client';\n\nimport * as React from 'react';\nimport type { SizeTypeValues, ViewHeightType, ViewWidthType } from '../../lib/adaptivity';\n\nexport interface SizeProps {\n  /**\n   * Тип размера экрана по горизонтали.\n   */\n  sizeX?: SizeTypeValues;\n  /**\n   * Тип размера экрана по вертикали.\n   */\n  sizeY?: SizeTypeValues;\n}\n\nexport interface AdaptivityProps extends SizeProps {\n  /**\n   * Тип ширины экрана для адаптивного отображения.\n   */\n  viewWidth?: ViewWidthType;\n  /**\n   * Тип высоты экрана для адаптивного отображения.\n   */\n  viewHeight?: ViewHeightType;\n  /**\n   * Флаг наличия указателя (например, мыши) на устройстве.\n   */\n  hasPointer?: boolean;\n  /**\n   * @deprecated Since 7.3.0.\n   *\n   * Свойство нигде не используется и будет удалено в `v8`.\n   */\n  hasHover?: boolean;\n}\n\nexport const AdaptivityContext: React.Context<AdaptivityProps> =\n  React.createContext<AdaptivityProps>({});\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport type { HasComponent, HasRootRef } from '../../types';\nimport styles from './RootComponent.module.css';\n\nexport interface RootComponentProps<T>\n  extends React.AllHTMLAttributes<T>,\n    HasRootRef<T>,\n    HasComponent {\n  /**\n   * @deprecated Since 7.3.0.\n   *\n   * Свойство устарело и будет удалено в `v8`, используйте свойство `className`.\n   */\n  baseClassName?: string | false; // TODO:  Перенести свойство в RootComponentInternalProps, в непубличное API\n  /**\n   * @deprecated Since 7.3.0.\n   *\n   * Свойство устарело и будет удалено в `v8`, используйте свойство `style`.\n   */\n  baseStyle?: React.CSSProperties; // TODO:  Перенести свойство в RootComponentInternalProps, в непубличное API\n}\n\n/**\n * Базовый корневой компонент.\n */\nexport const RootComponent = <T,>({\n  Component = 'div',\n  baseClassName,\n  className,\n  baseStyle,\n  style,\n  getRootRef,\n  ...restProps\n}: RootComponentProps<T>): React.ReactNode => (\n  <Component\n    ref={getRootRef}\n    className={classNames(\n      className,\n      baseClassName,\n      styles.host,\n      restProps.hidden === true && styles.hidden,\n    )}\n    style={mergeStyle(baseStyle, style)}\n    {...restProps}\n  />\n);\n", "/**\n * Мержит стили, пытаясь уменьшить кол-во копирований\n *\n * ## Пример\n *\n * ```ts\n * const style = mergeStyle(arrowStyles, styleProp)\n * ```\n */\nexport function mergeStyle(\n  a: React.CSSProperties | undefined,\n  b: React.CSSProperties | undefined,\n): React.CSSProperties | undefined {\n  return a && b ? { ...a, ...b } : a || b;\n}\n", "import * as React from 'react';\nimport { isRefObject } from '../../lib/isRefObject';\nimport type { AppRootUserSelectMode, SafeAreaInsets } from './types';\nimport styles from './AppRootStyleContainer/AppRootStyleContainer.module.css';\n\nexport const extractPortalRootByProp = (\n  portalRootProp: HTMLElement | React.RefObject<HTMLElement>,\n): HTMLElement | null => (isRefObject(portalRootProp) ? portalRootProp.current : portalRootProp);\n\nexport const CUSTOM_PROPERTY_INSET_PREFIX = `--vkui_internal--safe_area_inset_`;\n\nexport function useSafeAreaInsetsMemo(safeAreaInsetsProp: SafeAreaInsets | undefined) {\n  const { top, right, bottom, left } = safeAreaInsetsProp ?? {};\n  const safeAreaInsets = React.useMemo(\n    () => ({\n      top,\n      right,\n      bottom,\n      left,\n    }),\n    [top, right, bottom, left],\n  );\n\n  return safeAreaInsets;\n}\n\nexport function getSafeAreaInsetsAsCssVariables(\n  safeAreaInsets: SafeAreaInsets | undefined,\n): Record<string, string> {\n  if (!safeAreaInsets) {\n    return {};\n  }\n\n  const cssVariables: Record<string, string> = {};\n\n  for (const key in safeAreaInsets) {\n    if (safeAreaInsets.hasOwnProperty(key) && typeof safeAreaInsets[key] === 'number') {\n      const propertyKey = `${CUSTOM_PROPERTY_INSET_PREFIX}${key}`;\n      const propertyValue = safeAreaInsets[key];\n\n      cssVariables[propertyKey] = `${propertyValue}px`;\n    }\n  }\n\n  return cssVariables;\n}\n\nexport function getUserSelectModeClassName({\n  userSelectMode,\n  isWebView,\n  hasPointer,\n}: {\n  userSelectMode: AppRootUserSelectMode | undefined;\n  isWebView: boolean;\n  hasPointer: boolean | undefined;\n}): string | null {\n  switch (userSelectMode) {\n    case 'enabled-with-pointer': {\n      if (hasPointer) {\n        return null;\n      }\n\n      const enableByHasPointerMediaQuery = hasPointer === undefined;\n      if (enableByHasPointerMediaQuery) {\n        return styles.pointerNone;\n      }\n\n      return styles.userSelectNone;\n    }\n    case 'disabled':\n      return styles.userSelectNone;\n    case 'enabled':\n      return null;\n    default:\n      return isWebView ? styles.userSelectNone : null;\n  }\n}\n", "import type * as React from 'react';\n\nexport const isRefObject = <T, E = Element>(\n  refObject: React.RefObject<E> | T,\n): refObject is React.RefObject<E> => {\n  return (\n    typeof refObject === 'object' &&\n    refObject !== null &&\n    (refObject as React.RefObject<E>).hasOwnProperty('current')\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { clamp } from '../../helpers/math';\nimport { useDOM } from '../../lib/dom';\nimport type { HasChildren } from '../../types';\n\nconst clearDisableScrollStyle = (node: HTMLElement) => {\n  Object.assign(node.style, {\n    position: '',\n    top: '',\n    left: '',\n    right: '',\n    overscrollBehavior: '',\n    overflowY: '',\n    overflowX: '',\n  });\n};\n\nconst getPageYOffsetWithoutKeyboardHeight = (window: Window, scrollTop: number) => {\n  // Note: здесь расчёт на то, что `clientHeight` равен `window.innerHeight`.\n  //  Это достигается тем, что тегу `html` задали`height: 100%` и у него нет отступов сверху и снизу. Если есть отступы,\n  //  то надо задать `box-sizing: border-box`, чтобы они не учитывались.\n  const diffOfClientHeightAndViewportHeight =\n    window.document.documentElement.clientHeight - window.innerHeight;\n  return scrollTop - diffOfClientHeightAndViewportHeight;\n};\n\nexport type GetScrollOptions = {\n  compensateKeyboardHeight?: boolean;\n};\n\nexport interface ScrollContextInterface {\n  getScroll: (this: void, options?: GetScrollOptions) => { x: number; y: number };\n  scrollTo: (this: void, x?: number, y?: number) => void;\n  /**\n   * Увеличивает счетчик блокировки прокрутки.\n   */\n  incrementScrollLockCounter: (this: void) => void;\n  /**\n   * Уменьшает счетчик блокировки прокрутки.\n   */\n  decrementScrollLockCounter: (this: void) => void;\n  beforeScrollLockFnSetRef?: React.RefObject<Set<() => void>>;\n}\n\nexport const ScrollContext: React.Context<ScrollContextInterface> =\n  React.createContext<ScrollContextInterface>({\n    getScroll: () => ({ x: 0, y: 0 }),\n    scrollTo: noop,\n    incrementScrollLockCounter: noop,\n    decrementScrollLockCounter: noop,\n  });\n\nexport const useScroll = (): ScrollContextInterface => React.useContext(ScrollContext);\n\n/**\n * Управляет блокировкой окна в зависимости от внутреннего счетчика.\n * Если счетчик больше нуля, требуется заблокировать прокрутку.\n */\nfunction useScrollLockController(enableScrollLock: () => void, disableScrollLock: () => void) {\n  const countRef = React.useRef(0);\n\n  const updateScrollLock = React.useCallback(() => {\n    if (countRef.current > 0) {\n      enableScrollLock();\n    } else {\n      disableScrollLock();\n    }\n  }, [enableScrollLock, disableScrollLock]);\n\n  const incrementScrollLockCounter = React.useCallback(() => {\n    countRef.current += 1;\n    updateScrollLock();\n  }, [updateScrollLock]);\n\n  const decrementScrollLockCounter = React.useCallback(() => {\n    countRef.current -= 1;\n    updateScrollLock();\n  }, [updateScrollLock]);\n\n  return [incrementScrollLockCounter, decrementScrollLockCounter];\n}\n\nexport function useManualScroll(): Pick<ScrollContextInterface, 'scrollTo' | 'getScroll'> {\n  const { scrollTo, getScroll } = React.useContext(ScrollContext);\n  return React.useMemo(\n    () => ({\n      scrollTo,\n      getScroll,\n    }),\n    [getScroll, scrollTo],\n  );\n}\n\nexport interface ScrollControllerProps extends HasChildren {\n  elRef: React.RefObject<HTMLElement | null>;\n}\n\nconst _scrollTo = ({\n  x,\n  y,\n  scrollWidth,\n  clientWidth,\n  scrollHeight,\n  clientHeight,\n  scrollLockEnabled,\n  lockedElement,\n  elementToScroll,\n}: {\n  x: number;\n  y: number;\n  scrollWidth: number;\n  clientWidth: number;\n  scrollHeight: number;\n  clientHeight: number;\n  scrollLockEnabled: boolean;\n  lockedElement: HTMLElement;\n  elementToScroll: Window | HTMLElement;\n}) => {\n  // Some iOS versions do not normalize scroll — do it manually.\n  const left = x ? clamp(x, 0, scrollWidth - clientWidth) : 0;\n  const top = y ? clamp(y, 0, scrollHeight - clientHeight) : 0;\n\n  if (scrollLockEnabled) {\n    Object.assign(lockedElement.style, {\n      left: `-${left}px`,\n      top: `-${top}px`,\n    });\n  } else {\n    elementToScroll.scrollTo({\n      left,\n      top,\n    });\n  }\n};\n\nconst _getScroll = ({\n  xOffset,\n  yOffset,\n  element,\n  scrollLockEnabled,\n  customCalcY = (v) => v,\n}: {\n  xOffset: number;\n  yOffset: number;\n  element: HTMLElement;\n  scrollLockEnabled: boolean;\n  customCalcY?: (scrollTop: number) => number;\n}) => {\n  const elementStyles = element.style;\n  const [scrollLeft, scrollTop] = scrollLockEnabled\n    ? [-parseFloat(elementStyles.left || '0'), -parseFloat(elementStyles.top || '0')]\n    : [xOffset, yOffset];\n  return {\n    x: scrollLeft || 0,\n    y: customCalcY(scrollTop) || 0,\n  };\n};\n\nexport const GlobalScrollController = ({ children }: ScrollControllerProps): React.ReactNode => {\n  const { window, document } = useDOM();\n  const beforeScrollLockFnSetRef = React.useRef<Set<() => void>>(new Set());\n  const scrollLockEnabledRef = React.useRef(false);\n\n  const getScroll = React.useCallback<ScrollContextInterface['getScroll']>(\n    (options = { compensateKeyboardHeight: true }) => {\n      if (!window || !document) {\n        return { x: 0, y: 0 };\n      }\n      return _getScroll({\n        xOffset: window.pageXOffset,\n        yOffset: window.pageYOffset,\n        element: document.documentElement,\n        scrollLockEnabled: scrollLockEnabledRef.current,\n        customCalcY: (scrollTop) =>\n          options.compensateKeyboardHeight\n            ? getPageYOffsetWithoutKeyboardHeight(window, scrollTop)\n            : scrollTop,\n      });\n    },\n    [document, window],\n  );\n  const scrollTo = React.useCallback<ScrollContextInterface['scrollTo']>(\n    (x = 0, y = 0) => {\n      if (!window || !document) {\n        return;\n      }\n      _scrollTo({\n        x,\n        y,\n\n        scrollWidth: document.body.scrollWidth,\n        clientWidth: window.innerWidth,\n\n        scrollHeight: document.body.scrollHeight,\n        clientHeight: window.innerHeight,\n\n        scrollLockEnabled: scrollLockEnabledRef.current,\n        lockedElement: document.documentElement,\n        elementToScroll: window,\n      });\n    },\n    [document, window],\n  );\n\n  const enableScrollLock = React.useCallback(() => {\n    beforeScrollLockFnSetRef.current.forEach((fn) => {\n      fn();\n    });\n    const { x: scrollX, y: scrollY } = getScroll({ compensateKeyboardHeight: false });\n    const overflowY = window!.innerWidth > document!.documentElement.clientWidth ? 'scroll' : '';\n    const overflowX = window!.innerHeight > document!.documentElement.clientHeight ? 'scroll' : '';\n\n    Object.assign(document!.documentElement.style, {\n      position: 'fixed',\n      top: `-${scrollY}px`,\n      left: `-${scrollX}px`,\n      right: '0',\n      overscrollBehavior: 'none',\n      overflowY,\n      overflowX,\n    });\n\n    scrollLockEnabledRef.current = true;\n  }, [document, getScroll, window]);\n\n  const disableScrollLock = React.useCallback(() => {\n    const scrollData = getScroll({ compensateKeyboardHeight: false });\n    clearDisableScrollStyle(document!.documentElement);\n    scrollLockEnabledRef.current = false;\n\n    scrollTo(scrollData.x, scrollData.y);\n  }, [document, getScroll, scrollTo]);\n\n  const [incrementScrollLockCounter, decrementScrollLockCounter] = useScrollLockController(\n    enableScrollLock,\n    disableScrollLock,\n  );\n\n  const scrollController = React.useMemo<ScrollContextInterface>(\n    () => ({\n      getScroll,\n      scrollTo,\n      incrementScrollLockCounter,\n      decrementScrollLockCounter,\n      beforeScrollLockFnSetRef: beforeScrollLockFnSetRef,\n    }),\n    [getScroll, scrollTo, incrementScrollLockCounter, decrementScrollLockCounter],\n  );\n\n  return <ScrollContext.Provider value={scrollController}>{children}</ScrollContext.Provider>;\n};\n\nexport const ElementScrollController = ({\n  elRef,\n  children,\n}: ScrollControllerProps): React.ReactNode => {\n  const beforeScrollLockFnSetRef = React.useRef<Set<() => void>>(new Set());\n  const scrollLockEnabledRef = React.useRef(false);\n\n  const getScroll = React.useCallback<ScrollContextInterface['getScroll']>(() => {\n    const element = elRef.current;\n    if (!element) {\n      return { x: 0, y: 0 };\n    }\n    return _getScroll({\n      xOffset: element.scrollLeft,\n      yOffset: element.scrollTop,\n      element: element,\n      scrollLockEnabled: scrollLockEnabledRef.current,\n    });\n  }, [elRef]);\n\n  const scrollTo = React.useCallback<ScrollContextInterface['scrollTo']>(\n    (x = 0, y = 0) => {\n      const el = elRef.current;\n      if (!el) {\n        return;\n      }\n      _scrollTo({\n        x,\n        y,\n\n        scrollWidth: el.scrollWidth,\n        clientWidth: el.clientWidth,\n\n        scrollHeight: el.scrollHeight,\n        clientHeight: el.clientHeight,\n\n        scrollLockEnabled: scrollLockEnabledRef.current,\n        lockedElement: el,\n        elementToScroll: el,\n      });\n    },\n    [elRef],\n  );\n\n  const enableScrollLock = React.useCallback(() => {\n    const el = elRef.current;\n    if (!el) {\n      return;\n    }\n    beforeScrollLockFnSetRef.current.forEach((fn) => {\n      fn();\n    });\n\n    const { x: scrollX, y: scrollY } = getScroll();\n\n    const overflowY = el.scrollWidth > el.clientWidth ? 'scroll' : '';\n    const overflowX = el.scrollHeight > el.clientHeight ? 'scroll' : '';\n\n    Object.assign(el.style, {\n      position: 'absolute',\n      right: '0',\n      top: `-${scrollY}px`,\n      left: `-${scrollX}px`,\n      overflowY,\n      overflowX,\n    });\n    scrollLockEnabledRef.current = true;\n  }, [elRef, getScroll]);\n\n  const disableScrollLock = React.useCallback(() => {\n    const el = elRef.current;\n    if (!el) {\n      return;\n    }\n\n    const scrollData = getScroll();\n    clearDisableScrollStyle(el);\n    scrollLockEnabledRef.current = false;\n\n    scrollTo(scrollData.x, scrollData.y);\n  }, [elRef, getScroll, scrollTo]);\n\n  const [incrementScrollLockCounter, decrementScrollLockCounter] = useScrollLockController(\n    enableScrollLock,\n    disableScrollLock,\n  );\n\n  const scrollController = React.useMemo<ScrollContextInterface>(\n    () => ({\n      getScroll,\n      scrollTo,\n      incrementScrollLockCounter,\n      decrementScrollLockCounter,\n      beforeScrollLockFnSetRef,\n    }),\n    [getScroll, scrollTo, incrementScrollLockCounter, decrementScrollLockCounter],\n  );\n\n  return <ScrollContext.Provider value={scrollController}>{children}</ScrollContext.Provider>;\n};\n\n/**\n * Блокирует прокрутку окна.\n *\n * @param enabled - Если false то не будет блокировать.\n */\nexport const useScrollLock = (enabled = true): void => {\n  const { incrementScrollLockCounter, decrementScrollLockCounter } = useScroll();\n\n  React.useEffect(() => {\n    if (enabled) {\n      incrementScrollLockCounter();\n      return decrementScrollLockCounter;\n    }\n\n    return noop;\n  }, [enabled, incrementScrollLockCounter, decrementScrollLockCounter]);\n};\n", "export const clamp = (value: number, min: number, max: number): number =>\n  Math.max(min, Math.min(value, max));\n\nexport function precisionRound(number: number, precision = 1): number {\n  let factor = Math.pow(10, precision);\n  return Math.round(number * factor) / factor;\n}\n\n/**\n * Решение скопировано без изменений у MUI:\n * https://github.com/mui/material-ui/blob/v5.13.7/packages/mui-base/src/useSlider/useSlider.ts#L89-L105\n */\nfunction getDecimalPrecision(num: number) {\n  // This handles the case when num is very small (0.00000001), js will turn this into 1e-8.\n  // When num is bigger than 1 or less than -1 it won't get converted to this notation so it's fine.\n  if (Math.abs(num) < 1) {\n    const parts = num.toExponential().split('e-');\n    const matissaDecimalPart = parts[0].split('.')[1];\n    return (matissaDecimalPart ? matissaDecimalPart.length : 0) + parseInt(parts[1], 10);\n  }\n\n  const decimalPart = num.toString().split('.')[1];\n  return decimalPart ? decimalPart.length : 0;\n}\n\nfunction roundValueToStep(value: number, step: number, min: number) {\n  const nearest = Math.round((value - min) / step) * step + min;\n  return Number(nearest.toFixed(getDecimalPrecision(step)));\n}\n\nfunction decimatedClamp(val: number, min: number, max: number, step?: number) {\n  if (step == null || step <= 0) {\n    return clamp(val, min, max);\n  }\n  const roundedValue = roundValueToStep(val, step, min);\n  return clamp(roundedValue, min, max);\n}\n\nexport function rescale(\n  value: number,\n  from: [number, number],\n  to: [number, number],\n  options: { step?: number } = {},\n): number {\n  const scaled = ((value - from[0]) / (from[1] - from[0])) * (to[1] - to[0]) + to[0];\n  return decimatedClamp(scaled, to[0], to[1], options.step);\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { useColorScheme } from '../../hooks/useColorScheme';\nimport { createPortal } from '../../lib/createPortal';\nimport { useDOM } from '../../lib/dom';\nimport { isRefObject } from '../../lib/isRefObject';\nimport type { HasChildren } from '../../types';\nimport { ColorSchemeProvider } from '../ColorSchemeProvider/ColorSchemeProvider';\nimport { AppRootContext, type AppRootContextInterface } from './AppRootContext';\nimport { AppRootStyleContainer } from './AppRootStyleContainer/AppRootStyleContainer';\n\nexport interface AppRootPortalProps extends HasChildren {\n  /**\n   * Настройка портала для рендеринга компонента.\n   *\n   * `true` - использует `portalRoot` из контекста `AppRoot` (если доступен) или `document.body`;\n   * `false` - отключает использование портала;\n   * `HTMLElement` - указывает конкретный DOM-элемент для использования в качестве портала;\n   * `React.RefObject<HTMLElement | null>` - ссылка на DOM-элемент для использования в качестве портала;\n   * `null` - эквивалентно `false`, отключает использование портала.\n   *\n   * @default true (использует `document.body` как портал по умолчанию)\n   */\n  usePortal?: boolean | HTMLElement | React.RefObject<HTMLElement | null> | null;\n  /**\n   * `className` для контейнера портала.\n   */\n  className?: string;\n}\n\nexport const AppRootPortal = ({\n  children,\n  usePortal,\n  className,\n}: AppRootPortalProps): React.ReactNode => {\n  const { mode, disablePortal: disableCreatePortalInGlobalPortalRoot } =\n    React.useContext(AppRootContext);\n  const colorScheme = useColorScheme();\n\n  const canUsePortal = shouldUsePortal(\n    usePortal,\n    mode,\n    Boolean(disableCreatePortalInGlobalPortalRoot),\n  );\n\n  const portalContainer = usePortalContainer(usePortal);\n\n  if (canUsePortal && portalContainer) {\n    return createPortal(\n      <ColorSchemeProvider value={colorScheme}>\n        <AppRootStyleContainer className={className}>{children}</AppRootStyleContainer>\n      </ColorSchemeProvider>,\n      portalContainer,\n    );\n  }\n\n  return children;\n};\n\nfunction shouldUsePortal(\n  usePortal: AppRootPortalProps['usePortal'],\n  mode: AppRootContextInterface['mode'],\n  disableCreatePortalInGlobalPortalRoot: boolean,\n) {\n  if (usePortal === undefined) {\n    return disableCreatePortalInGlobalPortalRoot === false && mode !== 'full';\n  }\n\n  if (typeof usePortal !== 'boolean') {\n    return true;\n  }\n\n  return disableCreatePortalInGlobalPortalRoot === false && usePortal === true;\n}\n\nfunction usePortalContainer(usePortal: AppRootPortalProps['usePortal']): HTMLElement | null {\n  const { portalRoot: portalRootFromContext } = React.useContext(AppRootContext);\n\n  const { document } = useDOM();\n\n  if (usePortal && typeof usePortal !== 'boolean') {\n    return isRefObject(usePortal) ? usePortal.current : usePortal;\n  }\n\n  const resolvedPortalFromContext = isRefObject(portalRootFromContext)\n    ? portalRootFromContext.current\n    : portalRootFromContext;\n  // если portalRoot не передали через AppRoot, то мы используем body\n  // мы можем использовать body как портал,\n  // так как все стили передаются вместе с AppRootStyleContainer\n  const portalRoot = resolvedPortalFromContext || document?.body || null;\n  return portalRoot;\n}\n", "import { useConfigProvider } from '../components/ConfigProvider/ConfigProviderContext';\nimport { type ColorSchemeType, DEFAULT_COLOR_SCHEME } from '../lib/colorScheme';\n\nexport function useColorScheme(): ColorSchemeType {\n  const { colorScheme } = useConfigProvider();\n\n  return colorScheme ?? DEFAULT_COLOR_SCHEME;\n}\n", "import * as ReactDOM from 'react-dom';\nimport { getDocumentBody } from './dom';\n\nexport const createPortal = <T extends Element | DocumentFragment | null>(\n  children: React.ReactNode,\n  container?: T,\n  key?: null | string,\n): React.ReactPortal => {\n  const resolvedContainer = container ? container : getDocumentBody();\n  return resolvedContainer && ReactDOM.createPortal(children, resolvedContainer, key);\n};\n", "import * as React from 'react';\nimport { IconAppearanceProvider } from '@vkontakte/icons';\nimport type { ColorSchemeType } from '../../lib/colorScheme';\nimport { TokensClassProvider } from '../../lib/tokens/TokensClassProvider';\nimport { ConfigProviderOverride } from '../ConfigProvider/ConfigProviderOverride';\n\nexport interface ColorSchemeProviderProps {\n  /**\n   * Цветовая схема.\n   */\n  value: ColorSchemeType;\n  /**\n   * Содержимое.\n   */\n  children: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/color-scheme-provider\n */\nexport const ColorSchemeProvider = ({\n  value,\n  children,\n}: ColorSchemeProviderProps): React.ReactNode => {\n  return (\n    <ConfigProviderOverride colorScheme={value}>\n      <IconAppearanceProvider value={value}>\n        <TokensClassProvider>{children}</TokensClassProvider>\n      </IconAppearanceProvider>\n    </ConfigProviderOverride>\n  );\n};\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useTokensClassName } from './useTokenClassName';\nimport styles from './TokensClassProvider.module.css';\n\ntype ProvidedChildProps = {\n  className?: string;\n};\n\ntype InjectTokenClassNameToChildProps = {\n  children: React.ReactElement<ProvidedChildProps>;\n};\n\nconst InjectTokenClassNameToChild = ({ children }: InjectTokenClassNameToChildProps) => {\n  const tokensClassName = useTokensClassName();\n\n  return React.cloneElement(children, {\n    className: classNames(tokensClassName, styles.defaultColor, children.props.className),\n  });\n};\n\nexport interface TokensClassProviderProps {\n  children: React.ReactNode;\n}\n\nexport const TokensClassProvider: React.FC<TokensClassProviderProps> = ({ children }) => {\n  return React.Children.map(children, (child) => {\n    if (React.isValidElement<ProvidedChildProps>(child)) {\n      return <InjectTokenClassNameToChild>{child}</InjectTokenClassNameToChild>;\n    }\n    return child;\n  });\n};\n", "'use client';\n\nimport * as React from 'react';\nimport {\n  ConfigProviderContext,\n  type ConfigProviderContextInterface,\n  useConfigProvider,\n  useConfigProviderContextMemo,\n} from './ConfigProviderContext';\n\nexport interface ConfigProviderOverrideProps extends Partial<ConfigProviderContextInterface> {\n  /**\n   * Содержимое.\n   */\n  children: React.ReactNode;\n}\n\n/**\n * Компонент предназначен для перебивания одного из значений контекста.\n */\nexport function ConfigProviderOverride({\n  children,\n  ...contextValue\n}: ConfigProviderOverrideProps): React.ReactNode {\n  const parentConfig = useConfigProvider();\n\n  const configContext = useConfigProviderContextMemo({ ...parentConfig, ...contextValue });\n\n  return (\n    <ConfigProviderContext.Provider value={configContext}>\n      {children}\n    </ConfigProviderContext.Provider>\n  );\n}\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasComponent, HasRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Typography.module.css';\n\nconst stylesWeight = {\n  '1': styles.weight1,\n  '2': styles.weight2,\n  '3': styles.weight3,\n};\n\nexport function weightClassNames(weight: '1' | '2' | '3' | undefined, useAccentWeight = false) {\n  if (!weight) {\n    return '';\n  }\n\n  return classNames(stylesWeight[weight], useAccentWeight && styles.accent);\n}\n\nexport interface HasCaps {\n  /**\n   * Отображение текста в верхнем регистре.\n   */\n  caps?: boolean;\n}\n\nexport interface TypographyProps\n  extends React.AllHTMLAttributes<HTMLElement>,\n    HasComponent,\n    HasRootRef<HTMLElement> {\n  /**\n   * Задаёт начертание шрифта, отличное от стандартного.\n   */\n  weight?: '1' | '2' | '3';\n  /**\n   * Включает акцентный тип начертания шрифта.\n   * Используются токены fontWeightAccent[1, 2, 3]\n   * Используется только вместе с `weight`.\n   */\n  useAccentWeight?: boolean;\n  /**\n   * Убирает внешние отступы.\n   */\n  normalize?: boolean;\n  /**\n   * Делает блок инлайновым.\n   */\n  inline?: boolean;\n}\n\nexport const Typography = ({\n  weight,\n  useAccentWeight,\n  Component = 'span',\n  normalize,\n  inline,\n  ...restProps\n}: TypographyProps): React.ReactNode => (\n  <RootComponent\n    Component={Component}\n    baseClassName={classNames(\n      styles.host,\n      normalize && styles.normalize,\n      inline && styles.inline,\n      weightClassNames(weight, useAccentWeight),\n    )}\n    {...restProps}\n  />\n);\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { Typography, type TypographyProps } from '../Typography';\nimport styles from './DisplayTitle.module.css';\n\nconst stylesLevel = {\n  '1': styles.level1,\n  '2': styles.level2,\n  '3': styles.level3,\n  '4': styles.level4,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface DisplayTitleProps extends TypographyProps {\n  /**\n   * Уровень заголовка (от 1 до 4).\n   */\n  level?: '1' | '2' | '3' | '4';\n}\n\n/**\n * Используется для крупных заголовков.\n *\n * @see https://vkui.io/components/typography#display-title\n */\nexport const DisplayTitle = ({\n  className,\n  level = '1',\n  Component = 'span',\n  normalize = true,\n  inline = false,\n  ...restProps\n}: DisplayTitleProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Typography\n      Component={Component}\n      normalize={normalize}\n      inline={inline}\n      className={classNames(\n        className,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        stylesLevel[level],\n      )}\n      {...restProps}\n    />\n  );\n};\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { Typography, type TypographyProps } from '../Typography';\nimport styles from './Title.module.css';\n\nconst stylesLevel = {\n  '1': styles.level1,\n  '2': styles.level2,\n  '3': styles.level3,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface TitleProps extends TypographyProps {\n  /**\n   * Уровень заголовка (от 1 до 3).\n   */\n  level?: '1' | '2' | '3';\n}\n\n/**\n * Используется для заголовков.\n *\n * @see https://vkui.io/components/typography#title\n */\nexport const Title = ({\n  className,\n  level = '1',\n  Component = 'span',\n  normalize = true,\n  inline = false,\n  ...restProps\n}: TitleProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Typography\n      Component={Component}\n      normalize={normalize}\n      inline={inline}\n      className={classNames(\n        className,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        stylesLevel[level],\n      )}\n      {...restProps}\n    />\n  );\n};\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { Typography, type TypographyProps } from '../Typography';\nimport styles from './Headline.module.css';\n\nconst stylesLevel = {\n  '1': styles.level1,\n  '2': styles.level2,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface HeadlineProps extends TypographyProps {\n  /**\n   * Уровень заголовка (от 1 до 2).\n   */\n  level?: '1' | '2';\n}\n\n/**\n * Используется для подзаголовков.\n *\n * @see https://vkui.io/components/typography#headline\n */\nexport const Headline = ({\n  className,\n  level = '1',\n  Component = 'span',\n  normalize = true,\n  inline = false,\n  ...restProps\n}: HeadlineProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Typography\n      Component={Component}\n      normalize={normalize}\n      inline={inline}\n      className={classNames(\n        className,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        stylesLevel[level],\n      )}\n      {...restProps}\n    />\n  );\n};\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { Typography, type TypographyProps } from '../Typography';\nimport styles from './Text.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport type TextProps = TypographyProps;\n\n/**\n * Основной наборный текст.\n *\n * @see https://vkui.io/components/typography#text\n */\nexport const Text = ({\n  className,\n  Component = 'span',\n  normalize = true,\n  inline = false,\n  ...restProps\n}: TextProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Typography\n      Component={Component}\n      normalize={normalize}\n      inline={inline}\n      className={classNames(className, styles.host, sizeY !== 'regular' && sizeYClassNames[sizeY])}\n      {...restProps}\n    />\n  );\n};\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { Typography, type TypographyProps } from '../Typography';\nimport styles from './Paragraph.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport type ParagraphProps = TypographyProps;\n\n/**\n * Используется для основного текста.\n *\n * @see https://vkui.io/components/typography#paragraph\n */\nexport const Paragraph = ({\n  className,\n  Component = 'span',\n  normalize = false,\n  inline = false,\n  ...restProps\n}: ParagraphProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Typography\n      Component={Component}\n      normalize={normalize}\n      inline={inline}\n      className={classNames(className, styles.host, sizeY !== 'regular' && sizeYClassNames[sizeY])}\n      {...restProps}\n    />\n  );\n};\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { Typography, type TypographyProps } from '../Typography';\nimport styles from './Subhead.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport type SubheadProps = TypographyProps;\n\n/**\n * Используется для подзаголовков 2 уровня.\n *\n * @see https://vkui.io/components/typography#subhead\n */\nexport const Subhead = ({\n  className,\n  Component = 'span',\n  normalize = true,\n  inline = false,\n  ...restProps\n}: SubheadProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Typography\n      Component={Component}\n      normalize={normalize}\n      inline={inline}\n      className={classNames(className, styles.host, sizeY !== 'regular' && sizeYClassNames[sizeY])}\n      {...restProps}\n    />\n  );\n};\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { type SizeTypeValues } from '../../../lib/adaptivity';\nimport { type HasCaps, Typography, type TypographyProps } from '../Typography';\nimport styles from './Footnote.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport function footnoteClassNames(sizeY: 'none' | SizeTypeValues, caps = false) {\n  return classNames(\n    styles.host,\n    sizeY !== 'regular' && sizeYClassNames[sizeY],\n    caps && styles.caps,\n  );\n}\n\nexport interface FootnoteProps extends TypographyProps, HasCaps {}\n\n/**\n * Используется для основных подписей.\n *\n * @see https://vkui.io/components/typography#footnote\n */\nexport const Footnote = ({\n  className,\n  caps,\n  Component = 'span',\n  normalize = true,\n  inline = false,\n  ...restProps\n}: FootnoteProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Typography\n      Component={Component}\n      normalize={normalize}\n      inline={inline}\n      className={classNames(className, footnoteClassNames(sizeY, caps))}\n      {...restProps}\n    />\n  );\n};\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { type SizeTypeValues } from '../../../lib/adaptivity';\nimport { type HasCaps, Typography, type TypographyProps } from '../Typography';\nimport styles from './Caption.module.css';\n\nconst stylesLevel = {\n  '1': styles.level1,\n  '2': styles.level2,\n  '3': styles.level3,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport function captionClassNames(\n  sizeY: 'none' | SizeTypeValues,\n  level: '1' | '2' | '3' | undefined = '1',\n  caps = false,\n) {\n  return classNames(\n    sizeY !== 'regular' && sizeYClassNames[sizeY],\n    caps && styles.caps,\n    stylesLevel[level],\n  );\n}\n\nexport interface CaptionProps extends TypographyProps, HasCaps {\n  /**\n   * Уровень заголовка (от 1 до 3).\n   */\n  level?: '1' | '2' | '3';\n}\n\n/**\n * Используется для мелких подписей.\n *\n * @see https://vkui.io/components/typography#caption\n */\nexport const Caption = ({\n  className,\n  level = '1',\n  caps,\n  Component = 'span',\n  normalize = true,\n  inline = false,\n  ...restProps\n}: CaptionProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Typography\n      Component={Component}\n      normalize={normalize}\n      inline={inline}\n      className={classNames(className, captionClassNames(sizeY, level, caps))}\n      {...restProps}\n    />\n  );\n};\n", "'use client';\n\nimport { useRef } from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { getTextFromChildren } from '../../../lib/children';\nimport { useIsomorphicLayoutEffect } from '../../../lib/useIsomorphicLayoutEffect';\nimport type { HasRootRef } from '../../../types';\nimport { RootComponent, type RootComponentProps } from '../../RootComponent/RootComponent';\nimport styles from './EllipsisText.module.css';\n\nexport interface EllipsisTextProps\n  extends Omit<RootComponentProps<HTMLElement>, 'title'>,\n    HasRootRef<HTMLElement> {\n  /**\n   * Пользовательская маскимальная ширина.\n   *\n   * Используйте в случаях, когда у контейнера ширина зависит от размера контента,\n   * другими словами, когда ширина не ограничена.\n   */\n  maxWidth?: number;\n  /**\n   * Максимальное количество видимых строк.\n   *\n   * > При `maxLines > 1` используется свойство line-clamp, которое поддерживается не всеми версиями браузеров. Используйте с осторожностью\n   * > @see [line-clamp](https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-line-clamp).\n   */\n  maxLines?: number;\n  /**\n   * Отключает отображение нативного тултипа с полным текстом.\n   */\n  disableNativeTitle?: boolean;\n}\n\n/** Компонент ограничивает текстовый контент, убирая его в многоточие.\n *\n * @since 6.1.0\n * @see https://vkui.io/components/ellipsis-text\n */\nconst EllipsisText = ({\n  Component = 'span',\n  className,\n  children,\n  maxWidth,\n  maxLines = 1,\n  disableNativeTitle = false,\n  ...restProps\n}: EllipsisTextProps): React.ReactNode => {\n  const contentRef = useRef<HTMLSpanElement | null>(null);\n\n  useIsomorphicLayoutEffect(() => {\n    if (contentRef && contentRef.current) {\n      contentRef.current.style.setProperty('-webkit-line-clamp', maxLines > 1 ? `${maxLines}` : '');\n    }\n  }, [contentRef, maxLines]);\n\n  return (\n    <RootComponent\n      Component={Component}\n      className={classNames(\n        styles.host,\n        disableNativeTitle && styles.disableNativeTitle,\n        className,\n      )}\n      title={disableNativeTitle ? undefined : getTextFromChildren(children)}\n      {...restProps}\n    >\n      <span\n        style={{ maxWidth }}\n        ref={contentRef}\n        className={classNames(styles.content, maxLines > 1 && styles.contentMultiline)}\n      >\n        {children}\n      </span>\n    </RootComponent>\n  );\n};\n\nexport { EllipsisText };\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasRootRef } from '../../types';\nimport { Text } from '../Typography/Text/Text';\nimport styles from './UnstyledTextField.module.css';\n\nexport interface UnstyledTextFieldBaseProps {\n  /**\n   * Задаёт какой из DOM-элементов для ввода текста использовать.\n   */\n  as: 'input' | 'textarea';\n  /**\n   * По умолчанию отключено во избежание проблем из-за очередности загрузки стилей.\n   */\n  noPadding?: boolean;\n}\n\nexport interface UnstyledTextFieldAsInputProps\n  extends UnstyledTextFieldBaseProps,\n    React.InputHTMLAttributes<HTMLInputElement>,\n    HasRootRef<HTMLInputElement> {\n  /**\n   * Тег используемый в компоненте.\n   */\n  as: 'input';\n}\n\nexport interface UnstyledTextFieldAsTextareaProps\n  extends UnstyledTextFieldBaseProps,\n    React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n    HasRootRef<HTMLTextAreaElement> {\n  /**\n   * Тег используемый в компоненте.\n   */\n  as: 'textarea';\n}\n\nexport type UnstyledTextFieldProps =\n  | UnstyledTextFieldAsInputProps\n  | UnstyledTextFieldAsTextareaProps;\n\n/**\n * Компонент сбрасывает [User-agent stylesheets](https://www.geeksforgeeks.org/what-is-a-user-agent-stylesheet/)\n * полей ввода.\n *\n * Используется в <a href=\"?path=/story/forms-input--playground\" data-prod-href=\"https://vkui.io/playground/?path=/story/forms-input--playground\">Input</a> и <a href=\"?path=/story/forms-textarea--playground\" data-prod-href=\"https://vkui.io/playground/?path=/story/forms-textarea--playground\">Textarea</a>.\n *\n * @since 6.1.0\n *\n * @see https://vkui.io/components/unstyled-text-field\n *\n */\nexport const UnstyledTextField = ({\n  as,\n  noPadding = false,\n  className,\n  ...restProps\n}: UnstyledTextFieldProps): React.ReactNode => (\n  <Text\n    Component={as}\n    normalize={false}\n    className={classNames(styles.host, noPadding && styles.noPadding, className)}\n    {...restProps}\n  />\n);\n", "import type { ValuesOfObject } from '../../types';\n\n/**\n * Public API.\n * Брейкпоинты на ширину.\n *\n * > Note: Используется порядковый номер вместо значений в пикселях... ¯\\_(ツ)_/¯\n */\nexport const ViewWidth = {\n  SMALL_MOBILE: 1,\n  MOBILE: 2,\n  SMALL_TABLET: 3,\n  TABLET: 4,\n  DESKTOP: 5,\n} as const;\n\nexport type ViewWidthType = ValuesOfObject<typeof ViewWidth>;\n\n/**\n * Public API.\n * Брейкпоинт на высоту.\n *\n * > Note: Используется порядковый номер вместо значений в пикселях... ¯\\_(ツ)_/¯\n */\nexport const ViewHeight = {\n  EXTRA_SMALL: 1,\n  SMALL: 2,\n  MEDIUM: 3,\n};\n\nexport type ViewHeightType = ValuesOfObject<typeof ViewHeight>;\n\n/**\n * Public API.\n * Классы размеров. Заимствованы из гайдлайнов Apple.\n *\n * Ссылки\n * - {@link https://www.figma.com/file/2sQl2eaxsp7RDRdMOeneEC/%F0%9F%92%A0-VKUI-Common-Library-%5BBeta%5D?node-id=3220%3A0 | Figma VKUI – Адаптивность}\n * - {@link https://developer.apple.com/design/human-interface-guidelines/foundations/layout/ | Layout - Foundations - Human Interface Guidelines - Design}\n */\nexport const SizeType = {\n  COMPACT: 'compact',\n  REGULAR: 'regular',\n} as const;\n\nexport type SizeTypeValues = ValuesOfObject<typeof SizeType>;\n\nexport const VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP: Record<\n  ViewWidthType,\n  'smallMobileMinus' | 'mobile' | 'smallTablet' | 'tablet' | 'desktopPlus'\n> = {\n  [ViewWidth.SMALL_MOBILE]: 'smallMobileMinus',\n  [ViewWidth.MOBILE]: 'mobile',\n  [ViewWidth.SMALL_TABLET]: 'smallTablet',\n  [ViewWidth.TABLET]: 'tablet',\n  [ViewWidth.DESKTOP]: 'desktopPlus',\n} as const;\n", "export const BREAKPOINTS = {\n  DESKTOP: 1280,\n  TABLET: 1024,\n  SMALL_TABLET: 768,\n  MOBILE: 320,\n  MOBILE_LANDSCAPE_HEIGHT: 415,\n  MEDIUM_HEIGHT: 720,\n} as const;\n\n/**\n * Луч [a;+∞)\n */\nexport function widthPlus(a: number): string {\n  return `(min-width: ${a}px)`;\n}\n\n/**\n * Открытый луч (-∞;b)\n */\nexport function widthMinus(b: number): string {\n  // NOTE: `not` плохо поддерживается, поэтому используем max-width и вычитаем\n  // от числа 0.1\n  return `(max-width: ${b - 0.1}px)`;\n}\n\n/**\n * Полуинтервал [a;b)\n */\nexport function widthHalfInterval(a: number, b: number): string {\n  return `${widthPlus(a)} and ${widthMinus(b)}`;\n}\n\n/**\n * Луч [a;+∞)\n */\nexport function heightPlus(a: number): string {\n  return `(min-height: ${a}px)`;\n}\n\n/**\n * Открытый луч (-∞;b)\n */\nexport function heightMinus(b: number): string {\n  // NOTE: `not` плохо поддерживается, поэтому используем max-width и вычитаем\n  // от числа 0.1\n  return `(max-height: ${b - 0.1}px)`;\n}\n\n/**\n * Полуинтервал [a;b)\n */\nexport function heightHalfInterval(a: number, b: number): string {\n  return `${heightPlus(a)} and ${heightMinus(b)}`;\n}\n\nexport const MEDIA_QUERIES = {\n  DESKTOP_PLUS: widthPlus(BREAKPOINTS.DESKTOP),\n\n  TABLET: widthHalfInterval(BREAKPOINTS.TABLET, BREAKPOINTS.DESKTOP),\n\n  SMALL_TABLET_PLUS: widthPlus(BREAKPOINTS.SMALL_TABLET),\n  SMALL_TABLET: widthHalfInterval(BREAKPOINTS.SMALL_TABLET, BREAKPOINTS.TABLET),\n\n  MOBILE: widthHalfInterval(BREAKPOINTS.MOBILE, BREAKPOINTS.SMALL_TABLET),\n\n  MEDIUM_HEIGHT: heightPlus(BREAKPOINTS.MEDIUM_HEIGHT),\n\n  MOBILE_LANDSCAPE_HEIGHT: heightPlus(BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT),\n} as const;\n", "import type { Exact } from '../../types';\nimport { type PlatformType } from '../platform';\nimport { BREAKPOINTS } from './breakpoints';\nimport {\n  type SizeTypeValues,\n  VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP,\n  ViewHeight,\n  type ViewHeightType,\n  ViewWidth,\n  type ViewWidthType,\n} from './constants';\nimport type { CSSBreakpointsClassNames, MediaQueries } from './types';\n\n/**\n * @public\n */\nexport function getViewWidthByViewportWidth(viewportWidth: number): ViewWidthType {\n  if (viewportWidth >= BREAKPOINTS.DESKTOP) {\n    return ViewWidth.DESKTOP;\n  }\n  if (viewportWidth >= BREAKPOINTS.TABLET) {\n    return ViewWidth.TABLET;\n  }\n  if (viewportWidth >= BREAKPOINTS.SMALL_TABLET) {\n    return ViewWidth.SMALL_TABLET;\n  }\n  if (viewportWidth >= BREAKPOINTS.MOBILE) {\n    return ViewWidth.MOBILE;\n  }\n  return ViewWidth.SMALL_MOBILE;\n}\n\nexport function getViewWidthByMediaQueries(mediaQueries: MediaQueries): ViewWidthType {\n  /* eslint-disable no-restricted-properties */\n  if (mediaQueries.desktopPlus.matches) {\n    return ViewWidth.DESKTOP;\n  }\n  if (mediaQueries.tablet.matches) {\n    return ViewWidth.TABLET;\n  }\n  if (mediaQueries.smallTablet.matches) {\n    return ViewWidth.SMALL_TABLET;\n  }\n  if (mediaQueries.mobile.matches) {\n    return ViewWidth.MOBILE;\n  }\n  /* eslint-enable no-restricted-properties */\n  return ViewWidth.SMALL_MOBILE;\n}\n\n/**\n * @public\n */\nexport function getViewHeightByViewportHeight(viewportHeight: number): ViewHeightType {\n  if (viewportHeight >= BREAKPOINTS.MEDIUM_HEIGHT) {\n    return ViewHeight.MEDIUM;\n  }\n  if (viewportHeight >= BREAKPOINTS.MOBILE_LANDSCAPE_HEIGHT) {\n    return ViewHeight.SMALL;\n  }\n  return ViewHeight.EXTRA_SMALL;\n}\n\nexport function getViewHeightByMediaQueries(mediaQueries: MediaQueries): ViewHeightType {\n  /* eslint-disable no-restricted-properties */\n  if (mediaQueries.mediumHeight.matches) {\n    return ViewHeight.MEDIUM;\n  }\n  if (mediaQueries.mobileLandscapeHeight.matches) {\n    return ViewHeight.SMALL;\n  }\n  /* eslint-enable no-restricted-properties */\n  return ViewHeight.EXTRA_SMALL;\n}\n\nexport function getSizeX(viewWidth: ViewWidthType): SizeTypeValues {\n  return viewWidth <= ViewWidth.MOBILE ? 'compact' : 'regular';\n}\n\nexport function isCompactByViewWidth(\n  viewWidth: ViewWidthType | undefined,\n  hasPointer?: boolean,\n): boolean | undefined {\n  return viewWidth !== undefined && viewWidth >= ViewWidth.SMALL_TABLET && hasPointer;\n}\n\nexport function isCompactByViewHeight(viewHeight: ViewHeightType | undefined): boolean {\n  return viewHeight !== undefined && viewHeight <= ViewHeight.EXTRA_SMALL;\n}\n\nexport function getSizeY(\n  viewWidth: ViewWidthType,\n  viewHeight: ViewHeightType,\n  hasPointer: boolean,\n): SizeTypeValues {\n  if (isCompactByViewWidth(viewWidth, hasPointer) || isCompactByViewHeight(viewHeight)) {\n    return 'compact';\n  }\n  return 'regular';\n}\n\n/**\n * Проверка на Desktop.\n *\n * Функция гарантировано вернёт `boolean` или `null` в зависимости от условий.\n *\n * Возвращаем `null` в случае, если у нас недостаточно данных, чтобы определить платформу.\n *\n * ⚠️ При передаче 'vkcom' всегда будет возвращать `true`.\n */\nexport function tryToCheckIsDesktop(viewWidth: ViewWidthType, viewHeight: ViewHeightType, hasPointer: undefined | boolean, platform?: PlatformType): boolean; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: ViewWidthType, viewHeight: undefined, hasPointer: boolean, platform?: PlatformType): boolean; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: undefined | ViewWidthType, viewHeight: undefined, hasPointer: undefined, platform?: PlatformType): null; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: undefined, viewHeight: undefined | ViewHeightType, hasPointer: undefined, platform?: PlatformType): null; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: undefined, viewHeight: undefined, hasPointer: undefined | boolean, platform?: PlatformType): null; // prettier-ignore\nexport function tryToCheckIsDesktop(viewWidth: undefined | ViewWidthType, viewHeight: undefined | ViewHeightType, hasPointer: undefined | boolean, platform?: PlatformType): null | boolean; // prettier-ignore\nexport function tryToCheckIsDesktop(\n  viewWidth: undefined | ViewWidthType,\n  viewHeight: undefined | ViewHeightType,\n  hasPointer: undefined | boolean,\n  platform?: PlatformType,\n): null | boolean {\n  // см. https://github.com/VKCOM/VKUI/pull/2473\n  const IS_VKCOM_CRUTCH = platform === 'vkcom';\n\n  if (\n    ((viewWidth === undefined || hasPointer === undefined) &&\n      (viewWidth === undefined || viewHeight === undefined)) ||\n    (hasPointer === undefined && viewHeight === undefined)\n  ) {\n    return IS_VKCOM_CRUTCH ? true : null;\n  }\n\n  const widthIsLikeDesktop = viewWidth >= ViewWidth.SMALL_TABLET;\n  const otherParametersIsLikeDesktop =\n    hasPointer || (viewHeight !== undefined ? viewHeight >= ViewHeight.MEDIUM : false);\n\n  return (widthIsLikeDesktop && otherParametersIsLikeDesktop) || IS_VKCOM_CRUTCH;\n}\n\n/**\n * Конвертирует `viewWidth` в CSS брейкпоинты (см. тесты для наглядности).\n *\n * > Note: используется восклицательный знак (!), чтобы принудить TS поверить, что св-во точно не может быть\n * > `undefined`. Это всё из-за применения `Partial<...>` для объекта.\n */\nexport function viewWidthToClassName<T extends Partial<CSSBreakpointsClassNames>>(\n  breakpointClassNames: Exact<CSSBreakpointsClassNames, T>,\n  viewWidth: ViewWidthType | 'none' = 'none',\n): string | null {\n  if (viewWidth === 'none') {\n    return breakpointClassNames.hasOwnProperty('none') ? breakpointClassNames['none']! : null;\n  }\n\n  const breakpoints: string[] = [];\n  const breakpointName = VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP[viewWidth];\n\n  if (breakpointClassNames.hasOwnProperty(breakpointName)) {\n    breakpoints.push(breakpointClassNames[breakpointName]!);\n  }\n\n  if (viewWidth >= ViewWidth.MOBILE) {\n    if (breakpointClassNames.hasOwnProperty('mobilePlus')) {\n      breakpoints.push(breakpointClassNames['mobilePlus']!);\n    }\n  }\n\n  if (viewWidth >= ViewWidth.SMALL_TABLET) {\n    if (breakpointClassNames.hasOwnProperty('smallTabletPlus')) {\n      breakpoints.push(breakpointClassNames['smallTabletPlus']!);\n    }\n  } else {\n    if (breakpointClassNames.hasOwnProperty('smallTabletMinus')) {\n      breakpoints.push(breakpointClassNames['smallTabletMinus']!);\n    }\n  }\n\n  if (viewWidth >= ViewWidth.TABLET) {\n    if (breakpointClassNames.hasOwnProperty('tabletPlus')) {\n      breakpoints.push(breakpointClassNames['tabletPlus']!);\n    }\n  } else {\n    if (breakpointClassNames.hasOwnProperty('tabletMinus')) {\n      breakpoints.push(breakpointClassNames['tabletMinus']!);\n    }\n  }\n\n  return breakpoints.length > 0 ? breakpoints.join(' ') : null;\n}\n", "export const callMultiple =\n  (...fns: any[]) =>\n  (...args: any[]): void =>\n    fns.filter((f) => typeof f === 'function').forEach((f) => f(...args));\n", "import { callMultiple } from './callMultiple';\n\n/**\n * Собирает события в callMultiple\n *\n * # Пример\n *\n * ```js\n * const handlers = mergeCalls(focusEvents, { onFocus, onBlur })\n * ```\n */\nexport function mergeCalls(...props: Array<Record<string, any>>): Record<string, any> {\n  const objectToArrays = props.reduce<Record<string, any[]>>((record, obj) => {\n    Object.entries(obj).forEach(([key, value]) => {\n      if (!record.hasOwnProperty(key)) {\n        record[key] = [];\n      }\n      record[key].push(value);\n    });\n\n    return record;\n  }, {});\n\n  return Object.entries(objectToArrays).reduce<Record<string, any>>((record, [key, array]) => {\n    record[key] = callMultiple(...array);\n    return record;\n  }, {});\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { useFocusVisible } from '../../hooks/useFocusVisible';\nimport { type FocusVisibleModeProps } from '../../hooks/useFocusVisibleClassName';\nimport { useFocusVisibleClassName } from '../../hooks/useFocusVisibleClassName';\nimport { mergeCalls } from '../../lib/mergeCalls';\nimport { clickByKeyboardHandler } from '../../lib/utils';\nimport { RootComponent, type RootComponentProps } from '../RootComponent/RootComponent';\nimport { type StateProps } from './useState';\nimport { ClickableLockStateContext, DEFAULT_ACTIVE_EFFECT_DELAY, useState } from './useState';\nimport styles from './Clickable.module.css';\n\nfunction nonClickableProps<T>({\n  href,\n  onClick,\n  onClickCapture,\n  activeClassName,\n  hoverClassName,\n  hasActive,\n  hasHover,\n  hovered,\n  unlockParentHover,\n  activated,\n  activeEffectDelay,\n  focusVisibleMode,\n  DefaultComponent,\n  Component,\n  ...restProps\n}: ClickableProps<T>) {\n  return {\n    Component: Component || DefaultComponent,\n    ...restProps,\n    lockStateContextValue: {\n      lockHoverStateBubbling: undefined,\n      lockActiveStateBubbling: undefined,\n    },\n  };\n}\n\nfunction useClickableProps<T>({\n  baseClassName,\n  focusVisibleMode = 'inside',\n  activeClassName,\n  hoverClassName,\n  activeEffectDelay = DEFAULT_ACTIVE_EFFECT_DELAY,\n  hasHover = true,\n  hasActive = true,\n  hovered,\n  activated,\n  hasHoverWithChildren,\n  unlockParentHover,\n  onPointerEnter,\n  onPointerLeave,\n  onPointerDown,\n  onPointerCancel,\n  onPointerUp,\n  onBlur,\n  onFocus,\n  onKeyDown,\n  DefaultComponent,\n  ...restProps\n}: ClickableProps<T>) {\n  const { focusVisible, ...focusEvents } = useFocusVisible();\n  const focusVisibleClassNames = useFocusVisibleClassName({ focusVisible, mode: focusVisibleMode });\n\n  const {\n    stateClassName,\n    setLockHoverBubblingImmediate,\n    setLockActiveBubblingImmediate,\n    ...stateEvents\n  } = useState({\n    activeClassName,\n    hoverClassName,\n    activeEffectDelay,\n    hasHover,\n    hasActive,\n    hovered,\n    activated,\n    unlockParentHover,\n  });\n\n  const handlers = mergeCalls(\n    focusEvents,\n    stateEvents,\n    { onKeyDown: clickByKeyboardHandler },\n    {\n      onPointerEnter,\n      onPointerLeave,\n      onPointerDown,\n      onPointerCancel,\n      onPointerUp,\n      onBlur,\n      onFocus,\n      onKeyDown,\n    },\n  );\n\n  const lockStateContextValue = React.useMemo(\n    () => ({\n      lockHoverStateBubbling: hasHoverWithChildren ? noop : setLockHoverBubblingImmediate,\n      lockActiveStateBubbling: setLockActiveBubblingImmediate,\n    }),\n    [setLockHoverBubblingImmediate, setLockActiveBubblingImmediate, hasHoverWithChildren],\n  );\n\n  return {\n    baseClassName: classNames(\n      baseClassName,\n      styles.realClickable,\n      focusVisibleClassNames,\n      stateClassName,\n    ),\n    ...handlers,\n    ...restProps,\n    lockStateContextValue,\n  };\n}\n\nfunction useProps<T>(props: ClickableProps<T>): RootComponentProps<T> & {\n  lockStateContextValue: {\n    lockHoverStateBubbling: undefined | ((...args: any[]) => void);\n    lockActiveStateBubbling: undefined | ((...args: any[]) => void);\n  };\n} {\n  const commonProps = component(props);\n  const isClickable = checkClickable(props);\n\n  const {\n    baseClassName,\n    disabled, // Игнорируем disabled из пропсов, т.к. он обрабатывается в commonProps\n    Component,\n    ...restProps\n  } = props;\n\n  const nextProps = {\n    baseClassName: classNames(baseClassName, styles.host),\n    ...commonProps,\n    ...restProps,\n  };\n\n  const clickableProps = useClickableProps(nextProps);\n\n  return isClickable ? clickableProps : nonClickableProps(nextProps);\n}\n\nexport interface ClickableProps<T = HTMLElement>\n  extends RootComponentProps<T>,\n    FocusVisibleModeProps,\n    StateProps {\n  /**\n   * Компонент который будет при передаче `onClick`. По умолчанию `\"div\"`.\n   */\n  DefaultComponent?: React.ElementType;\n}\n\n/**\n * Проверяем, является ли компонент кликабельным.\n */\nexport function checkClickable<T>(props: ClickableProps<T>): boolean {\n  return (\n    (props.href !== undefined ||\n      props.onClick !== undefined ||\n      props.onClickCapture !== undefined ||\n      props.Component === 'a' ||\n      props.Component === 'button' ||\n      props.Component === 'label' ||\n      props.Component === 'input') &&\n    !props.disabled\n  );\n}\n\n/**\n * Определяет правильный компонент и его свойства.\n *\n * - если передан Component, используем его\n * - при передаче `href` превратится в `a`,\n * - при передаче `onClick` превратится в `div` c `role=\"button\"` и `tabIndex=\"0\"`.\n * - иначе используется `div`.\n */\nfunction component<T>({\n  Component,\n  DefaultComponent = 'div',\n  onClick,\n  onClickCapture,\n  href,\n  disabled,\n}: ClickableProps<T>): RootComponentProps<T> {\n  if (Component !== undefined) {\n    return { Component, disabled };\n  } else if (href !== undefined) {\n    return {\n      Component: 'a',\n\n      /**\n       * Если ссылка отключена, добавляем атрибуты для доступности.\n       *\n       * - Тег `a` не поддерживает атрибут disabled, поэтому используем `aria-disabled`\n       * - Тег `a` без `href` не является ссылкой, поэтому добавляем `role=\"link\"`.\n       *\n       * @see см. https://w3c.github.io/html-aria/#example-communicate-a-disabled-link-with-aria.\n       *\n       */\n      ...(disabled && {\n        'aria-disabled': true,\n        'role': 'link',\n      }),\n    };\n  } else if (onClick !== undefined || onClickCapture !== undefined) {\n    return {\n      Component: DefaultComponent,\n      role: 'button',\n      ...(disabled ? { 'aria-disabled': true } : { tabIndex: 0 }),\n    };\n  }\n\n  return {};\n}\n\n/**\n * Базовый кликабельный корневой компонент.\n *\n * - при передаче `href` превратится в `a`,\n * - при передаче `onClick` превратится в `div` c `role=\"button\"` и `tabIndex=\"0\"`.\n * - иначе используется `div`.\n *\n * Отвечает за:\n *\n * - стейты наведения и нажатия\n * - a11y компонентов.\n */\nexport const Clickable = <T,>(props: ClickableProps<T>): React.ReactNode => {\n  const { lockStateContextValue, children, ...restProps } = useProps(props);\n\n  return (\n    <RootComponent {...restProps}>\n      <ClickableLockStateContext.Provider value={lockStateContextValue}>\n        {children}\n      </ClickableLockStateContext.Provider>\n    </RootComponent>\n  );\n};\n", "import { type FocusEvent, useCallback, useContext, useState } from 'react';\nimport { AppRootContext } from '../components/AppRoot/AppRootContext';\n\n/**\n * Определяет фокус элемента, когда его наличие необходимо обозначить визуально.\n *\n * Этот хук полезен для обозначения фокуса, когда для навигации используется\n * клавиатура\n *\n * @since 7.2.0\n */\nexport function useFocusVisible(): {\n  focusVisible: boolean;\n  onFocus: (event: FocusEvent<HTMLElement>) => void;\n  onBlur: (event: FocusEvent<HTMLElement>) => void;\n} {\n  const [isFocused, setIsFocused] = useState(false);\n\n  // FIXME: Избавиться от чека контекста, так как без AppRoot не работает фокус\n  const withKeyboardInputCheck = true;\n  const { keyboardInput } = useContext(AppRootContext);\n\n  const onFocus = useCallback(\n    (event: FocusEvent<HTMLElement>) => {\n      event.stopPropagation();\n      setIsFocused(true);\n    },\n    [setIsFocused],\n  );\n\n  const onBlur = useCallback(\n    (event: FocusEvent<HTMLElement>) => {\n      event.stopPropagation();\n      setIsFocused(false);\n    },\n    [setIsFocused],\n  );\n\n  const focusVisible = withKeyboardInputCheck ? keyboardInput && isFocused : isFocused;\n\n  return {\n    focusVisible,\n    onFocus,\n    onBlur,\n  };\n}\n", "import { classNames } from '@vkontakte/vkjs';\nimport type { LiteralUnion } from '../types';\nimport styles from '../styles/focusVisible.module.css';\n\nexport const focusVisiblePresetModeClassNames: Record<'inside' | 'outside', string> = {\n  inside: styles['-focus-visible--mode-inside'],\n  outside: styles['-focus-visible--mode-outside'],\n};\n\ntype FocusVisiblePresetMode = keyof typeof focusVisiblePresetModeClassNames;\n\nexport type FocusVisibleMode = LiteralUnion<FocusVisiblePresetMode, string>;\n\nconst isPresetMode = (mode: FocusVisibleMode): mode is FocusVisiblePresetMode =>\n  mode === 'inside' || mode === 'outside';\n\nexport interface FocusVisibleModeProps {\n  /**\n   * Стиль аутлайна focus visible. Если передать произвольную строку, она добавится как css-класс при :focus-visible\n   */\n  focusVisibleMode?: FocusVisibleMode;\n}\n\nexport interface UseFocusVisibleClassNameProps {\n  focusVisible?: boolean;\n  mode?: FocusVisibleMode;\n}\n\n/**\n * Используется для проброса классов состояния :focus-visible в компонент.\n *\n * Рулит исключительно классами. Чтобы определить, есть ли фокусное состояние,\n * используйте хуки `useFocusVisible()` и `useFocusWithin()`.\n */\nexport function useFocusVisibleClassName({\n  focusVisible = false,\n  mode = 'inside',\n}: UseFocusVisibleClassNameProps): string {\n  const modeClassName = isPresetMode(mode) ? focusVisiblePresetModeClassNames[mode] : mode;\n\n  const focusVisibleClassNames = classNames(\n    styles['-focus-visible'],\n    focusVisible && styles['-focus-visible--focused'],\n    focusVisible && modeClassName,\n  );\n\n  return focusVisibleClassNames;\n}\n", "import * as React from 'react';\nimport { shouldTriggerClickOnEnterOrSpace } from './accessibility';\nimport { isHTMLElement } from './dom';\n\nexport type ImgOnlyAttributes = {\n  [index in Exclude<\n    keyof React.ImgHTMLAttributes<HTMLImageElement>,\n    keyof React.HTMLAttributes<HTMLImageElement>\n  >]: React.ImgHTMLAttributes<HTMLImageElement>[index];\n};\n\nexport function setRef<T>(element: T, ref?: React.Ref<T>): void {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(element);\n    } else {\n      (ref as React.RefObject<T>).current = element;\n    }\n  }\n}\n\nexport function multiRef<T>(...refs: Array<React.Ref<T> | undefined>): React.RefObject<T | null> {\n  let current: T | null = null;\n  return {\n    get current() {\n      return current;\n    },\n    set current(element) {\n      current = element;\n      refs.forEach((ref) => ref && setRef(element, ref));\n    },\n  };\n}\n\nexport const stopPropagation = <T extends React.SyntheticEvent>(event: T): void =>\n  event.stopPropagation();\n\nexport const preventDefault = <T extends React.SyntheticEvent>(event: T): void =>\n  event.preventDefault();\n\nexport function addClassNameToElement(element: HTMLElement, className: string): void {\n  const elementClassName = element.getAttribute('class') || '';\n  const updatedClassName = `${elementClassName}${elementClassName ? ' ' : ''}${className}`;\n\n  element.setAttribute('class', updatedClassName);\n}\n\nexport function removeClassNameFromElement(element: HTMLElement, classNameToRemove: string): void {\n  const classNamesArray = (element.getAttribute('class') || '').split(/\\s+/);\n  const elementIndexToRemove = classNamesArray.findIndex(\n    (className) => className === classNameToRemove,\n  );\n  if (elementIndexToRemove === -1) {\n    return;\n  }\n  classNamesArray.splice(elementIndexToRemove, 1);\n\n  element.setAttribute('class', classNamesArray.join(' '));\n}\n\ntype ExcludeKeysWithUndefined<T> = {\n  [P in keyof T]?: Exclude<T[P], undefined>;\n};\n\nexport const excludeKeysWithUndefined = <T extends Record<string | number | symbol, any>>(\n  obj: T,\n): ExcludeKeysWithUndefined<T> => {\n  const filteredObj: ExcludeKeysWithUndefined<T> = {};\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key) && obj[key] !== undefined) {\n      filteredObj[key] = obj[key];\n    }\n  }\n  return filteredObj;\n};\n\nexport const isDOMTypeElement = <\n  P extends React.HTMLAttributes<T> | React.SVGAttributes<T>,\n  T extends Element,\n>(\n  element: React.ReactElement,\n): element is Omit<React.DOMElement<P, T>, 'ref'> & { ref?: React.Ref<T> | undefined } =>\n  typeof element.type === 'string';\n\nexport function isValidNotReactFragmentElement(\n  children: Parameters<typeof React.isValidElement>[0],\n): children is React.ReactElement<Record<PropertyKey, any>> {\n  return (\n    React.isValidElement(children) &&\n    // @ts-expect-error: TS2339 $$typeof всегда symbol, в отличии от type, благодаря этому пропускаем лишние проверки на тип.\n    children.$$typeof !== Symbol.for('react.fragment')\n  );\n}\n\nexport function isForwardRefElement<\n  P extends React.HTMLAttributes<T> | React.SVGAttributes<T>,\n  T extends Element,\n>(\n  children: Parameters<typeof React.isValidElement>[0],\n): children is Omit<React.DOMElement<P, T>, 'ref'> & { ref?: React.Ref<T> | undefined } {\n  if (!React.isValidElement(children)) {\n    return false;\n  }\n\n  // @ts-expect-error: TS2339 $$typeof всегда symbol, в отличии от type, благодаря этому пропускаем лишние проверки на тип.\n  // черпаем вдохновение из react-is https://github.com/facebook/react/blob/d48dbb824985166ecb7b2959db03090a8593dce0/packages/react-is/src/ReactIs.js#L119-L121\n  const typeOfOfType = children.type && children.type.$$typeof;\n  return typeOfOfType === Symbol.for('react.forward_ref');\n}\n\n/**\n * При использовании пропа fetchPriority генерируется warning \"Invalid DOM property\" (версия React 18.*)\n * Ворнинга нет в React версии 19.*, поэтому пока поддерживаем 2 версии наименования\n */\nexport function getFetchPriorityProp(value: React.ImgHTMLAttributes<HTMLElement>['fetchPriority']):\n  | {\n      fetchPriority: 'high' | 'low' | 'auto' | undefined;\n    }\n  | {\n      fetchpriority: 'high' | 'low' | 'auto' | undefined;\n    } {\n  if (React.version.startsWith('19')) {\n    return { fetchPriority: value };\n  }\n  return { fetchpriority: value };\n}\n\n/*\n * [a11y]\n * Обрабатывает событие onkeydown\n * для кастомных доступных элементов:\n * - role=\"link\" (активация по Enter)\n * - role=\"button\" (активация по Space и Enter)\n */\nexport function clickByKeyboardHandler(event: React.KeyboardEvent<HTMLDivElement>): void {\n  if (!isHTMLElement(event.target) || !shouldTriggerClickOnEnterOrSpace(event)) {\n    return;\n  }\n\n  event.preventDefault();\n  event.target.click?.();\n}\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { mergeCalls } from '../../lib/mergeCalls';\nimport { useStateWithDelay } from './useStateWithDelay';\n\nexport interface StateProps {\n  /**\n   * Указывает, должен ли компонент реагировать на `hover`-состояние.\n   */\n  hasHover?: boolean;\n  /**\n   * Позволяет управлять `hovered`-состоянием извне.\n   */\n  hovered?: boolean;\n  /**\n   * Позволяет управлять `activated`-состоянием извне.\n   */\n  activated?: boolean;\n  /**\n   * Указывает, должен ли компонент реагировать на `active`-состояние.\n   */\n  hasActive?: boolean;\n\n  /**\n   * Позволяет родительскому компоненту\n   * иметь `hovered`-cостояние при наведении\n   * на любой дочерний элемент.\n   * По умолчанию состояние hovered у родителя сбрасывается.\n   *\n   * Присваивается родителькому компоненту.\n   *\n   * @example\n   * <Tappable hasHoverWithChildren>\n   *   <IconButton />\n   *   <IconButton />\n   *   <IconButton />\n   * </Tappable>\n   */\n  hasHoverWithChildren?: boolean;\n\n  /**\n   * Позволяет родительскому компоненту показывать hovered-состояние при наведении\n   * на текущий дочерний компонент.\n   *\n   * Присваивается дочернему компоненту.\n   *\n   * @example\n   * <Tappable>\n   *   <IconButton unlockParentHover />\n   *   <IconButton unlockParentHover />\n   *   <IconButton />\n   * </Tappable>\n   */\n  unlockParentHover?: boolean;\n\n  /**\n   * Длительность показа `active`-состояния.\n   */\n  activeEffectDelay?: number;\n\n  /**\n   * Стиль подсветки `active`-состояния.\n   */\n  activeClassName?: string;\n\n  /**\n   * Стиль подсветки `hover`-состояния.\n   */\n  hoverClassName?: string;\n}\n\nexport const DEFAULT_ACTIVE_EFFECT_DELAY = 600;\n\nconst ACTIVE_DELAY = 70;\n\ninterface UseHoverProps extends Pick<StateProps, 'hovered' | 'hasHover'> {\n  /**\n   * Блокирование активации состояний.\n   */\n  lockState: boolean;\n  setParentStateLock: (v: boolean) => void;\n}\n\n/**\n * Управляет наведением на компонент, игнорирует тач события.\n */\nfunction useHover({ hovered, hasHover = true, lockState, setParentStateLock }: UseHoverProps) {\n  const [hoveredStateLocal, setHoveredStateLocal] = React.useState(false);\n\n  const prevIsHoveredRef = React.useRef<boolean | undefined>(undefined);\n\n  const handleHover = React.useCallback(\n    (isHover: boolean) => {\n      setHoveredStateLocal(isHover);\n\n      const isHovered =\n        hovered ??\n        calculateStateValue({\n          hasState: hasHover,\n          isLocked: lockState,\n          stateValueLocal: isHover,\n        });\n\n      // проверка сделана чтобы реже вызывать обновление состояния\n      // контекста родителя\n      if (isHovered !== prevIsHoveredRef.current) {\n        prevIsHoveredRef.current = isHovered;\n        setParentStateLock(isHovered);\n      }\n    },\n    [setParentStateLock, hasHover, hovered, lockState],\n  );\n\n  const onPointerEnter: React.PointerEventHandler<any> = (e) => {\n    if (e.pointerType === 'touch') {\n      return;\n    }\n\n    handleHover(true);\n  };\n\n  const onPointerLeave = () => {\n    handleHover(false);\n  };\n\n  const isHovered =\n    hovered ??\n    calculateStateValue({\n      hasState: hasHover,\n      isLocked: lockState,\n      stateValueLocal: hoveredStateLocal,\n    });\n\n  return {\n    isHovered,\n    onPointerEnter: hasHover ? onPointerEnter : noop,\n    onPointerLeave: hasHover ? onPointerLeave : noop,\n  };\n}\n\ninterface UseActiveProps extends Pick<StateProps, 'activated' | 'activeEffectDelay' | 'hasActive'> {\n  /**\n   * Блокирование активации состояний.\n   */\n  lockStateRef: React.RefObject<boolean>;\n  setParentStateLock: (v: boolean) => void;\n}\n\n/**\n * Управляет активацией компонента.\n */\nfunction useActive({\n  activated,\n  activeEffectDelay,\n  hasActive = true,\n  lockStateRef,\n  setParentStateLock,\n}: UseActiveProps) {\n  // передаём setParentStateLock, чтобы функция вызывалась вместе с установкой стейта,\n  // если установка отложена c помощью delay, то и вызов будет отложен\n  const [activatedState, setActivated] = useStateWithDelay<boolean>(false, 0, setParentStateLock);\n\n  // Список нажатий которые не требуется отменять\n  const pointersUp = React.useMemo(() => new Set<number>(), []);\n\n  const onPointerDown = () => {\n    if (lockStateRef.current) {\n      return;\n    }\n\n    setActivated(true, ACTIVE_DELAY);\n    // намеренно выставляем lock, так как setActivated вызов отложен\n    // а у отложенного setActivated setParentStateLock тоже вызовится отложенно\n    // родитель сейчас тоже обработает это же событие PointerDown\n    // если мы не залочим activatedState у родителя сейчас, то родитель выставит active состояние\n    setParentStateLock(true);\n  };\n\n  const onPointerCancel: React.PointerEventHandler = (e) => {\n    if (pointersUp.has(e.pointerId)) {\n      pointersUp.delete(e.pointerId);\n      return;\n    }\n\n    setActivated(false);\n  };\n\n  const onPointerUp: React.PointerEventHandler = (e) => {\n    pointersUp.add(e.pointerId);\n\n    if (lockStateRef.current) {\n      return;\n    }\n\n    setActivated(true);\n    setActivated(false, activeEffectDelay);\n  };\n\n  const isActivated =\n    activated ??\n    calculateStateValue({\n      hasState: hasActive,\n      isLocked: lockStateRef.current,\n      stateValueLocal: activatedState,\n    });\n\n  return {\n    isActivated,\n    onPointerLeave: hasActive ? onPointerCancel : noop,\n    onPointerDown: hasActive ? onPointerDown : noop,\n    onPointerCancel: hasActive ? onPointerCancel : noop,\n    onPointerUp: hasActive ? onPointerUp : noop,\n  };\n}\n\ninterface ClickableLockStateContextInterface {\n  lockHoverStateBubbling?: (v: boolean) => void;\n  lockActiveStateBubbling?: (v: boolean) => void;\n}\n\nexport const ClickableLockStateContext: React.Context<ClickableLockStateContextInterface> =\n  React.createContext<ClickableLockStateContextInterface>({\n    lockHoverStateBubbling: undefined,\n    lockActiveStateBubbling: undefined,\n  });\n\n/**\n * Блокирует стейт на всплытие.\n */\nfunction useLockState(\n  setParentStateLockBubbling: (v: boolean) => void,\n): readonly [boolean, (v: boolean) => void, (...args: any[]) => void] {\n  const [lockState, setLockState] = React.useState(false);\n\n  const setStateLockBubblingImmediate = React.useCallback(\n    (isLock: boolean) => {\n      setLockState(isLock);\n      setParentStateLockBubbling(isLock);\n    },\n    [setParentStateLockBubbling],\n  );\n\n  return [lockState, setParentStateLockBubbling, setStateLockBubblingImmediate] as const;\n}\n\nfunction useLockRef(\n  setParentStateLockBubbling: (v: boolean) => void,\n): readonly [React.RefObject<boolean>, (v: boolean) => void, (...args: any[]) => void] {\n  const lockStateRef = React.useRef(false);\n\n  const setStateLockBubblingImmediate = React.useCallback(\n    (isLock: boolean) => {\n      lockStateRef.current = isLock;\n      setParentStateLockBubbling(isLock);\n    },\n    [setParentStateLockBubbling],\n  );\n\n  return [lockStateRef, setParentStateLockBubbling, setStateLockBubblingImmediate] as const;\n}\n\n/**\n * Управляет состоянием компонента.\n */\nexport function useState({\n  hovered,\n  hasHover,\n  activated,\n  hasActive,\n  activeEffectDelay,\n  unlockParentHover,\n  hoverClassName,\n  activeClassName,\n}: StateProps): {\n  stateClassName: string;\n  setLockHoverBubblingImmediate: (...args: any[]) => void;\n  setLockActiveBubblingImmediate: (...args: any[]) => void;\n} {\n  const { lockHoverStateBubbling = noop, lockActiveStateBubbling = noop } =\n    React.useContext(ClickableLockStateContext);\n\n  const [lockHoverState, setParentStateLockHoverBubbling, setLockHoverBubblingImmediate] =\n    useLockState(unlockParentHover ? noop : lockHoverStateBubbling);\n  const [lockActiveStateRef, setParentStateLockActiveBubbling, setLockActiveBubblingImmediate] =\n    useLockRef(lockActiveStateBubbling);\n\n  const { isHovered, ...hoverEvent } = useHover({\n    hasHover,\n    hovered,\n    lockState: lockHoverState,\n    setParentStateLock: setParentStateLockHoverBubbling,\n  });\n\n  const { isActivated, ...activeEvent } = useActive({\n    activated,\n    hasActive,\n    activeEffectDelay,\n    lockStateRef: lockActiveStateRef,\n    setParentStateLock: setParentStateLockActiveBubbling,\n  });\n\n  const stateClassName = classNames(isHovered && hoverClassName, isActivated && activeClassName);\n  const handlers = mergeCalls(hoverEvent, activeEvent);\n\n  return {\n    stateClassName,\n    setLockHoverBubblingImmediate,\n    setLockActiveBubblingImmediate,\n    ...handlers,\n  };\n}\n\n// Общая функция для определения конечного состояния active/hovered\nfunction calculateStateValue({\n  hasState,\n  isLocked,\n  stateValueLocal,\n}: {\n  hasState: boolean;\n  isLocked: boolean;\n  stateValueLocal: boolean;\n}): boolean {\n  return hasState && !isLocked && stateValueLocal;\n}\n", "import * as React from 'react';\nimport { isFunction, noop } from '@vkontakte/vkjs';\n\ntype DispatchWithDelay<S> = (value: S, delay?: number) => void;\n\n/**\n * Возвращает значение с состоянием и функции на обновление состояния\n * без и с задержкой.\n *\n * # Пример\n *\n * ```ts\n * const [count, setCount] = useStateWithDelay(initialState);\n *\n * const click = () => {\n *   setCount(count + 1, 500)\n * }\n * ```\n *\n * Есть возможность передать функцию-обработчик, которая будет\n * вызвана сразу после вызова setState с новым значением стейта\n * в качестве аргумента.\n *\n * ```ts\n * const onCountChange = React.useCallback((count) => {\n *   // обработчик нового значения count\n *   // будет вызван через 500мс\n * }, []);\n *\n *\n * const [count, setCount] = useStateWithDelay(initialState, 0, onCountChange);\n *\n * const click = () => {\n *   setCount(count + 1, 500)\n * }\n * ```\n */\nexport function useStateWithDelay<S>(\n  initialState: S | (() => S),\n  defaultDelay = 0,\n  onStateChange: (v: S) => void = noop,\n): [S, DispatchWithDelay<React.SetStateAction<S>>] {\n  const [value, setValue] = React.useState(initialState);\n  const timeout = React.useRef<ReturnType<typeof setTimeout>>(undefined);\n\n  const handleSetValue = React.useCallback(\n    (nextValue: React.SetStateAction<S>) => {\n      if (isFunction(nextValue)) {\n        setValue((prevValue) => {\n          const value = nextValue(prevValue);\n          onStateChange(value);\n\n          return value;\n        });\n      } else {\n        setValue(nextValue);\n        onStateChange(nextValue);\n      }\n    },\n    [onStateChange],\n  );\n\n  const setValueWithDelay = React.useCallback(\n    (newValue: React.SetStateAction<S>, delay: number = defaultDelay) => {\n      clearTimeout(timeout.current);\n      if (delay === 0) {\n        handleSetValue(newValue);\n        return;\n      }\n\n      timeout.current = setTimeout(() => handleSetValue(newValue), delay);\n    },\n    [defaultDelay, handleSetValue],\n  );\n\n  return [value, setValueWithDelay];\n}\n", "import * as React from 'react';\nimport { classNames, hasMouse as hasPointerLib, noop } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { getOffsetRect } from '../../lib/offset';\nimport styles from './Tappable.module.css';\n\n/* eslint-disable jsdoc/require-jsdoc */\n\n/**\n * Возможно нужен Ripple эффект. Данный хук нужен для отказа\n * от двойного ререндера.\n */\nexport const useMaybeNeedRipple = (\n  activeMode: string,\n  hasPointer: boolean | undefined,\n): boolean => {\n  const platform = usePlatform();\n\n  return platform === 'android' && !hasPointer && activeMode === 'background';\n};\n\ninterface Wave {\n  x: number;\n  y: number;\n  id: number;\n  pointerId: number;\n}\n\nconst DELAY = 70;\nconst WAVE_LIVE = 225;\n\n/**\n * Хук для создания Ripple эффектов.\n */\nexport const useRipple = (\n  needRipple: boolean,\n  hasPointerContext: boolean | undefined,\n): {\n  clicks: Wave[];\n  onPointerDown: React.PointerEventHandler<HTMLSpanElement>;\n  onPointerCancel: React.PointerEventHandler<HTMLSpanElement>;\n} => {\n  const [clicks, setClicks] = React.useState<Wave[]>([]);\n\n  /**\n   * Коллекция нажатий и таймеров задержки появления волны.\n   */\n  const pointerDelayTimers = React.useMemo(\n    () => new Map<number, ReturnType<typeof setTimeout>>(),\n    [],\n  );\n\n  React.useEffect(\n    function setClearClicksTimeout() {\n      const clicksTimeoutId = clicks.length > 0 ? setTimeout(() => setClicks([]), WAVE_LIVE) : null;\n      return function cancelClearClicksTimeout() {\n        if (clicksTimeoutId) {\n          clearTimeout(clicksTimeoutId);\n        }\n      };\n    },\n    [clicks],\n  );\n\n  function addClick(x: number, y: number, pointerId: number) {\n    const dateNow = Date.now();\n    const filteredClicks = clicks.filter((click) => click.id + WAVE_LIVE > dateNow);\n\n    setClicks([...filteredClicks, { x, y, id: dateNow, pointerId }]);\n    pointerDelayTimers.delete(pointerId);\n  }\n\n  /**\n   * Добавляем волну с задержкой. Задержка необходима при отмене волны.\n   */\n  const onPointerDown: React.PointerEventHandler<HTMLSpanElement> = (e) => {\n    const { top, left } = getOffsetRect(e.currentTarget);\n    const x = e.clientX - (left ?? 0);\n    const y = e.clientY - (top ?? 0);\n\n    pointerDelayTimers.set(\n      e.pointerId,\n      setTimeout(() => addClick(x, y, e.pointerId), DELAY),\n    );\n  };\n\n  const onPointerCancel: React.PointerEventHandler<HTMLSpanElement> = (e) => {\n    const timer = pointerDelayTimers.get(e.pointerId);\n    clearTimeout(timer);\n    pointerDelayTimers.delete(e.pointerId);\n  };\n\n  // WARNING: не использовать для рендеринга\n  const reallyNeedRipple = (!hasPointerLib || hasPointerContext === false) && needRipple;\n\n  return {\n    clicks,\n    onPointerDown: reallyNeedRipple ? onPointerDown : noop,\n    onPointerCancel: reallyNeedRipple ? onPointerCancel : noop,\n  };\n};\n\nexport interface RippleProps {\n  needRipple: boolean;\n  clicks: Wave[];\n}\n\nexport const Ripple = ({ needRipple = true, clicks }: RippleProps): React.ReactNode => {\n  return (\n    <span aria-hidden className={classNames(styles.stateLayer, needRipple && styles.ripple)}>\n      {clicks.map((wave) => (\n        <span key={wave.id} className={styles.wave} style={{ top: wave.y, left: wave.x }} />\n      ))}\n    </span>\n  );\n};\n", "import { useConfigProvider } from '../components/ConfigProvider/ConfigProviderContext';\nimport type { PlatformType } from '../lib/platform';\n\nexport function usePlatform(): PlatformType {\n  const { platform } = useConfigProvider();\n\n  return platform;\n}\n", "export interface OffsetRectInterface {\n  top: number | undefined;\n  left: number | undefined;\n  width: number | undefined;\n  height: number | undefined;\n}\n\nexport function getOffsetRect(elem: HTMLElement | null): OffsetRectInterface {\n  const box = elem?.getBoundingClientRect();\n\n  return {\n    top: box?.top,\n    left: box?.left,\n    width: elem?.offsetWidth,\n    height: elem?.offsetHeight,\n  };\n}\n", "import type { LiteralUnion } from '../../types';\nimport styles from './Tappable.module.css';\n\ntype StateMode = 'opacity' | 'background' | 'none';\nexport type StateModeLiteral = LiteralUnion<StateMode, string>;\n\nexport interface StateProps {\n  /**\n   * Стиль подсветки active-состояния. Если передать произвольную строку, она добавится как css-класс во время active.\n   */\n  activeMode?: StateModeLiteral;\n\n  /**\n   * Стиль подсветки hover-состояния. Если передать произвольную строку, она добавится как css-класс во время hover.\n   */\n  hoverMode?: StateModeLiteral;\n}\n\n/**\n * Состояние по умолчанию.\n */\nexport const DEFAULT_STATE_MODE: StateMode = 'background';\n\nconst stylesHovered: Record<string, string> = {\n  background: styles.hoveredBackground,\n  opacity: styles.hoveredOpacity,\n  none: '',\n};\n\n/**\n * Определяем класс наведения.\n */\nexport function hoverClass(hoverMode: StateModeLiteral = DEFAULT_STATE_MODE): string {\n  const presetClass = stylesHovered[hoverMode] as string | undefined;\n\n  return presetClass !== undefined ? presetClass : hoverMode;\n}\n\nconst stylesActivated: Record<string, string> = {\n  background: styles.activatedBackground,\n  opacity: styles.activatedOpacity,\n  none: '',\n};\n\n/**\n * Определяем класс наведения.\n */\nexport function activeClass(activeMode: StateModeLiteral = DEFAULT_STATE_MODE): string {\n  const presetClass = stylesActivated[activeMode] as string | undefined;\n\n  return presetClass !== undefined ? presetClass : activeMode;\n}\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { SizeType } from '../../lib/adaptivity';\nimport { mergeCalls } from '../../lib/mergeCalls';\nimport { checkClickable, Clickable, type ClickableProps } from '../Clickable/Clickable';\nimport { Ripple, useMaybeNeedRipple, useRipple } from './Ripple';\nimport { activeClass, DEFAULT_STATE_MODE, hoverClass, type StateProps } from './state';\nimport styles from './Tappable.module.css';\n\nconst sizeXClassNames = {\n  none: styles.sizeXNone,\n  compact: styles.sizeXCompact,\n};\n\nfunction hasPointerClassName(hasPointer: boolean | undefined) {\n  switch (hasPointer) {\n    case undefined:\n      return styles.hasPointerNone;\n    case false:\n      return styles.hasPointerFalse;\n  }\n\n  return undefined;\n}\n\nexport interface TappableProps extends ClickableProps, StateProps {\n  /**\n   * Задает border-radius элементу\n   * В режиме `auto` на маленьких экранах `border-radius: 0`, иначе определяется токеном `--vkui--size_border_radius--regular`.\n   */\n  borderRadiusMode?: 'auto' | 'inherit';\n  /**\n   * @deprecated Since 7.3.0.\n   *\n   * Свойство устарело и будет удалено в `v8`, используйте свойство `activeMode`.\n   */\n  activeClassName?: string; // Переделать на Omit<ClickableProps, 'activeClassName' | 'hoverClassName'>\n  /**\n   * @deprecated Since 7.3.0.\n   *\n   * Свойство устарело и будет удалено в `v8`, используйте свойство `hoverMode`.\n   */\n  hoverClassName?: string; // Переделать на Omit<ClickableProps, 'activeClassName' | 'hoverClassName'>\n}\n\n// TODO [>=8]: = React.AllHTMLAttributes<HTMLElement> & HasRootRef<HTMLElement>\n//\n// NOTE: Возможно стоит вообще запретить компонентам расширяться от TappableProps?\nexport type TappableOmitProps = Omit<TappableProps, 'DefaultComponent'>;\n\nexport const Tappable = ({\n  baseClassName,\n  borderRadiusMode = 'auto',\n  children,\n  hoverMode = DEFAULT_STATE_MODE,\n  activeMode = DEFAULT_STATE_MODE,\n  onPointerDown,\n  onPointerCancel,\n  ...restProps\n}: TappableProps): React.ReactNode => {\n  const isClickable = checkClickable(restProps);\n\n  const { sizeX = 'none', hasPointer } = useAdaptivity();\n\n  const needRipple = useMaybeNeedRipple(activeMode, hasPointer);\n  const { clicks, ...rippleEvents } = useRipple(needRipple, hasPointer);\n\n  const handlers = mergeCalls(rippleEvents, {\n    onPointerDown,\n    onPointerCancel,\n  });\n\n  const typeProps = restProps.Component === 'button' ? { type: 'button' } : {};\n\n  return (\n    <Clickable\n      baseClassName={classNames(\n        'vkuiInternalTappable',\n        baseClassName,\n        styles.host,\n        sizeX !== SizeType.REGULAR && sizeXClassNames[sizeX],\n        borderRadiusMode === 'inherit' && styles.borderRadiusInherit,\n        hasPointerClassName(hasPointer),\n      )}\n      hoverClassName={hoverClass(hoverMode)}\n      activeClassName={activeClass(activeMode)}\n      {...typeProps}\n      {...handlers}\n      {...restProps}\n    >\n      {children}\n      {isClickable && (hoverMode === 'background' || activeMode === 'background') && (\n        <Ripple needRipple={needRipple} clicks={clicks} />\n      )}\n    </Clickable>\n  );\n};\n", "'use client';\n\nimport { useCallback } from 'react';\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useResizeObserver } from '../../hooks/useResizeObserver';\nimport { useDOM } from '../../lib/dom';\nimport { setRef } from '../../lib/utils';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { OnboardingTooltipContainer } from '../OnboardingTooltip/OnboardingTooltipContainer';\nimport { SplitColContext } from '../SplitCol/SplitColContext';\nimport styles from './FixedLayout.module.css';\n\nconst stylesVertical = {\n  top: styles.verticalTop,\n  bottom: classNames(styles.verticalBottom, 'vkuiInternalFixedLayout--vertical-bottom'),\n};\n\nexport interface FixedLayoutProps extends HTMLAttributesWithRootRef<HTMLDivElement>, HasComponent {\n  /**\n   * Положение по вертикали, либо сверху, либо снизу.\n   */\n  vertical?: 'top' | 'bottom';\n  /**\n   * Это свойство определяет, будет ли фон компонента окрашен в цвет фона контента.\n   * Это часто необходимо для фиксированных кнопок в нижней части экрана.\n   */\n  filled?: boolean;\n  /**\n   * Всегда соответствовать ширине родителя.\n   * Ширина пересчитывается по событию `window` `resize`.\n   */\n  useParentWidth?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/fixed-layout\n */\nexport const FixedLayout = ({\n  children,\n  style,\n  vertical,\n  getRootRef,\n  filled,\n  className,\n  useParentWidth,\n  ...restProps\n}: FixedLayoutProps): React.ReactNode => {\n  const platform = usePlatform();\n  const ref = React.useRef<HTMLElement | null>(null);\n  const [width, setWidth] = React.useState<string | undefined>(undefined);\n  const { window } = useDOM();\n  const { colRef } = React.useContext(SplitColContext);\n  const parentRef = React.useRef<HTMLElement | null>(null);\n\n  const handleRootRef = useCallback(\n    (node: HTMLElement | null) => {\n      if (!node) {\n        return;\n      }\n\n      setRef(node, getRootRef);\n      setRef(node, ref);\n      setRef(node.parentElement, parentRef);\n    },\n    [getRootRef],\n  );\n\n  const doResize = () => {\n    if (useParentWidth && parentRef.current) {\n      const parentWidth = parentRef.current.getBoundingClientRect().width;\n      setWidth(parentWidth ? `${parentWidth}px` : undefined);\n    } else if (colRef?.current) {\n      const computedStyle = getComputedStyle(colRef.current);\n\n      setWidth(\n        `${\n          colRef.current.clientWidth -\n          parseFloat(computedStyle.paddingLeft || '0') -\n          parseFloat(computedStyle.paddingRight || '0')\n        }px`,\n      );\n    } else {\n      setWidth(undefined);\n    }\n  };\n  React.useEffect(doResize, [colRef, platform, ref, useParentWidth]);\n\n  useResizeObserver(window, doResize);\n  useResizeObserver(useParentWidth ? parentRef : colRef, doResize);\n\n  return (\n    <OnboardingTooltipContainer\n      {...restProps}\n      fixed\n      ref={handleRootRef}\n      className={classNames(\n        styles.host,\n        platform === 'ios' && 'vkuiInternalFixedLayout--ios',\n        filled && styles.filled,\n        vertical && stylesVertical[vertical],\n        className,\n      )}\n      style={{ width, ...style }}\n    >\n      {children}\n    </OnboardingTooltipContainer>\n  );\n};\n", "import { useEffect } from 'react';\nimport type * as React from 'react';\nimport { useDOM } from '../lib/dom';\nimport { CustomResizeObserver } from '../lib/floating/customResizeObserver';\nimport { isRefObject } from '../lib/isRefObject';\nimport { useStableCallback } from './useStableCallback';\n\n/**\n * Хук вызывает переданный коллбэк при изменении размеров элемента.\n */\nexport function useResizeObserver(\n  ref: React.RefObject<HTMLElement | null> | Window | null | undefined,\n  callback: (element: HTMLElement | Window) => void,\n): void {\n  const stableCallback = useStableCallback(callback);\n  const { window } = useDOM();\n\n  useEffect(\n    function addResizeObserverHandler() {\n      if (!ref || !window) {\n        return;\n      }\n\n      if (ref === window) {\n        const onResize = () => stableCallback(ref);\n        ref.addEventListener('resize', onResize);\n        return () => ref.removeEventListener('resize', onResize);\n      }\n\n      /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n      if (!isRefObject(ref) || !ref.current) {\n        return;\n      }\n      const element = ref.current;\n      const canUseResizeObserver =\n        'ResizeObserver' in window && window.ResizeObserver !== undefined;\n\n      const observeFn = () => stableCallback(element);\n\n      const observer: ResizeObserver | CustomResizeObserver = canUseResizeObserver\n        ? // eslint-disable-next-line compat/compat\n          new ResizeObserver(observeFn)\n        : new CustomResizeObserver(observeFn);\n      observer.observe(element);\n\n      if (observer instanceof CustomResizeObserver) {\n        observer.appendToTheDOM();\n      }\n\n      return () => observer.disconnect();\n    },\n    [ref, stableCallback, window],\n  );\n}\n", "const defaultIframeStyles: Pick<\n  CSSStyleDeclaration,\n  | 'position'\n  | 'left'\n  | 'top'\n  | 'zIndex'\n  | 'width'\n  | 'height'\n  | 'pointerEvents'\n  | 'opacity'\n  | 'border'\n> = {\n  position: 'absolute',\n  left: '0',\n  top: '0',\n  zIndex: '-1',\n  width: '100%',\n  height: '100%',\n  pointerEvents: 'none',\n  opacity: '0',\n  border: '0',\n};\n\n/*\n * Специальный CustomResizeObserver как fallback для ResizeObserver\n * Используется для вызова update() функции (перерисовка плавающего окна) floating-ui\n * при изменении размера reference или floating элементов.\n *\n * По умолчанию пытаемся нарисовать скрытый, абсолютно позиционированный относительно\n * наблюдаемого элемента iframe.\n * В случае же, если наблюдаемый элемент имеет position: static, то правильно спозиционировать\n * iframe у нас не получится, поэтому в такой ситуации мы используем MutationObserver.\n *\n * Использовать только MutationObserver мы не можем, потому что с помощью него нельзя отследить\n * изменение размера вызванное переполнением текста.\n *\n * Применяется только если нету поддержики или полифила ResizeObserver.\n * */\nexport class CustomResizeObserver {\n  records: Array<{\n    target: HTMLElement;\n    iframe: HTMLIFrameElement;\n  }> = [];\n  mutationObserverFallback: MutationObserver | null = null;\n  private readonly updateFunction: () => void;\n\n  constructor(updateFunction: () => void) {\n    this.updateFunction = updateFunction;\n  }\n\n  observe(element: HTMLElement): void {\n    if (isPositioned(element)) {\n      return this.observeUsingIframe(element);\n    }\n    return this.observeUsingMutationObserver(element);\n  }\n\n  appendToTheDOM(): void {\n    for (let record of this.records) {\n      record.target.appendChild(record.iframe);\n    }\n\n    for (let record of this.records) {\n      if (record.iframe.contentWindow) {\n        record.iframe.contentWindow.addEventListener('resize', this.updateFunction);\n      }\n    }\n  }\n\n  observeUsingIframe(element: HTMLElement): void {\n    const iframe = element.ownerDocument.createElement('iframe');\n    iframe.ariaHidden = 'true';\n    iframe.tabIndex = -1;\n    Object.assign(iframe.style, defaultIframeStyles);\n\n    this.records.push({ target: element, iframe });\n  }\n\n  observeUsingMutationObserver(element: HTMLElement): void {\n    if (!this.mutationObserverFallback) {\n      this.mutationObserverFallback = new MutationObserver(this.updateFunction);\n    }\n\n    this.mutationObserverFallback.observe(element, {\n      childList: true,\n      subtree: true,\n    });\n  }\n\n  disconnect(): void {\n    this.records.map(({ target, iframe }) => {\n      if (iframe.contentWindow) {\n        iframe.contentWindow.removeEventListener('resize', this.updateFunction);\n      }\n\n      target.removeChild(iframe);\n    });\n    this.records = [];\n\n    if (this.mutationObserverFallback) {\n      this.mutationObserverFallback.disconnect();\n    }\n    this.mutationObserverFallback = null;\n  }\n}\n\nfunction isPositioned(element: HTMLElement): boolean {\n  return getComputedStyle(element).position !== 'static';\n}\n", "import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\n/**\n * Inspired by https://github.com/facebook/react/issues/14099#issuecomment-440013892\n */\nexport function useStableCallback<\n  Fn extends (...args: any[]) => any = (...args: unknown[]) => unknown,\n>(fn: Fn): Fn;\nexport function useStableCallback<Args extends unknown[], Return>(\n  fn: (...args: Args) => Return,\n): (...args: Args) => Return;\nexport function useStableCallback<Args extends unknown[], Return>(\n  fn: (...args: Args) => Return,\n): (...args: Args) => Return {\n  const ref = React.useRef(fn);\n  useIsomorphicLayoutEffect(() => {\n    ref.current = fn;\n  });\n  return React.useCallback((...args: Args) => (0, ref.current)(...args), []);\n}\n", "import * as React from 'react';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport type { HasComponent, HasDataAttribute } from '../../types';\n\nexport const onboardingTooltipContainerAttr = 'data-onboarding-tooltip-container';\n\ntype OnboardingTooltipContainerProps = React.HTMLAttributes<HTMLDivElement> &\n  HasComponent &\n  HasDataAttribute & {\n    /**\n     * Фиксированное отображение тултипа.\n     */\n    fixed?: boolean;\n  };\n\nexport const OnboardingTooltipContainer: React.ForwardRefExoticComponent<\n  React.PropsWithoutRef<OnboardingTooltipContainerProps> & React.RefAttributes<HTMLDivElement>\n  // eslint-disable-next-line react/display-name -- используется defineComponentDisplayNames\n> = React.forwardRef<HTMLDivElement, OnboardingTooltipContainerProps>(\n  ({ fixed = false, Component = 'div', ...props }, ref) => {\n    const dataProps = {\n      [onboardingTooltipContainerAttr]: fixed ? 'fixed' : 'true',\n    };\n\n    return <Component {...dataProps} {...props} ref={ref} />;\n  },\n);\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(OnboardingTooltipContainer, 'OnboardingTooltipContainer');\n}\n", "export function defineComponentDisplayNames(Component: React.FC<any>, name: string) {\n  Component.displayName = name;\n  Object.defineProperty(Component, 'name', {\n    value: name,\n  });\n}\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\n\nexport interface SplitColContextProps {\n  colRef: React.RefObject<HTMLDivElement | null> | null;\n  animate: boolean;\n}\n\nexport const SplitColContext: React.Context<SplitColContextProps> =\n  React.createContext<SplitColContextProps>({\n    colRef: null,\n    animate: true,\n  });\n\nexport const useSplitCol = (): SplitColContextProps => React.useContext(SplitColContext);\n", "'use client';\n\nimport { useRef } from 'react';\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { minOr } from '../../lib/comparing';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { getFetchPriorityProp } from '../../lib/utils';\nimport type {\n  AnchorHTMLAttributesOnly,\n  CSSCustomProperties,\n  HasRef,\n  HasRootRef,\n  LiteralUnion,\n} from '../../types';\nimport { Clickable } from '../Clickable/Clickable';\nimport { ImageBaseBadge, type ImageBaseBadgeProps } from './ImageBaseBadge/ImageBaseBadge';\nimport {\n  type FloatElementIndentation,\n  type FloatElementPlacement,\n  ImageBaseFloatElement,\n  type ImageBaseFloatElementProps,\n} from './ImageBaseFloatElement/ImageBaseFloatElement';\nimport { ImageBaseOverlay, type ImageBaseOverlayProps } from './ImageBaseOverlay/ImageBaseOverlay';\nimport { ImageBaseContext } from './context';\nimport type { ImageBaseContextProps, ImageBaseExpectedIconProps, ImageBaseSize } from './types';\nimport { validateFallbackIcon, validateSize } from './validators';\nimport styles from './ImageBase.module.css';\n\nexport type {\n  ImageBaseSize,\n  ImageBaseExpectedIconProps,\n  ImageBaseBadgeProps,\n  ImageBaseOverlayProps,\n  ImageBaseContextProps,\n  ImageBaseFloatElementProps,\n  FloatElementPlacement,\n  FloatElementIndentation,\n};\n\nexport {\n  getBadgeIconSizeByImageBaseSize,\n  getFallbackIconSizeByImageBaseSize,\n  getOverlayIconSizeByImageBaseSize,\n} from './helpers';\n\nexport { ImageBaseContext };\n\n/**\n * Размер по умолчанию.\n */\nconst defaultSize = 24;\n\nexport interface ImageBaseProps\n  extends React.ImgHTMLAttributes<HTMLElement>,\n    AnchorHTMLAttributesOnly,\n    HasRootRef<HTMLDivElement>,\n    HasRef<HTMLImageElement> {\n  /**\n   * Задаёт размер картинки.\n   *\n   * Используйте размеры заданные дизайн-системой `16 | 20 | 24 | 28 | 32 | 36 | 40 | 44 | 48 | 56 | 64 | 72 | 80 | 88 | 96`.\n   *\n   * > ⚠️ Использование кастомного размера – это пограничный кейс.\n   */\n  size?: LiteralUnion<ImageBaseSize, number>;\n  /**\n   * Ширина изображения.\n   */\n  widthSize?: number | string;\n  /**\n   * Высота изображения.\n   */\n  heightSize?: number | string;\n  /**\n   * Отключает обводку.\n   */\n  noBorder?: boolean;\n  /**\n   * Фолбек на случай, если картинка не прогрузилась.\n   *\n   * > 📝 Нужный для `<ImageBase size={...} />` размер можно узнать из функции `getFallbackIconSizeByImageBaseSize()`.\n   *\n   * > Предпочтительней использовать иконки из `@vkontakte/icons`.\n   *\n   * > 📊️ Если вы хотите передать кастомную иконку, то следует именовать её по шаблону `Icon<size><name>`. Или же\n   * > чтобы в неё был передан параметр `width`. Тогда мы сможем выводить в консоль подсказку правильного ли размера вы\n   * > использовали иконку.\n   *\n   * > ⚠️ Может перекрывать `children`.\n   */\n  fallbackIcon?: React.ReactElement<ImageBaseExpectedIconProps>;\n  /**\n   * Отключает фон, заданный по умолчанию. Полезен для отображения картинок с прозрачностью.\n   * @since 5.10.0\n   */\n  withTransparentBackground?: boolean;\n  /**\n   * Пользовательское значения стиля object-fit\n   * Подробнее можно почитать в [документации](https://developer.mozilla.org/ru/docs/Web/CSS/object-fit).\n   */\n  objectFit?: React.CSSProperties['objectFit'];\n  /**\n   * Пользовательское значения стиля object-position\n   * Подробнее можно почитать в [документации](https://developer.mozilla.org/ru/docs/Web/CSS/object-position).\n   */\n  objectPosition?: React.CSSProperties['objectPosition'];\n  /**\n   * Флаг для сохранения пропорций картинки.\n   * Для корректной работы необходимо задать размеры хотя бы одной стороны картинки.\n   */\n  keepAspectRatio?: boolean;\n  /**\n   * Смотри https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/elementtiming.\n   */\n  elementTiming?: string;\n  /**\n   * Пользовательское значения стиля filter\n   * Подробнее можно почитать в [документации](https://developer.mozilla.org/ru/docs/Web/CSS/filter).\n   */\n  filter?: React.CSSProperties['filter'];\n}\n\nconst getObjectFitClassName = (objectFit: React.CSSProperties['objectFit']) => {\n  switch (objectFit) {\n    case 'contain':\n      return styles.imgObjectFitContain;\n    case 'cover':\n      return styles.imgObjectFitCover;\n    case 'none':\n      return styles.imgObjectFitNone;\n    case 'scale-down':\n      return styles.imgObjectFitScaleDown;\n  }\n  return undefined;\n};\n\nconst parsePx = (value: string): number | undefined => {\n  if (value.endsWith('px')) {\n    return parseInt(value);\n  }\n  return undefined;\n};\n\nconst sizeToNumber = (size: number | string | undefined): number | undefined => {\n  if (typeof size === 'string') {\n    return parsePx(size);\n  }\n  return size;\n};\n\n/**\n * @see https://vkui.io/components/image-base\n */\nexport const ImageBase: React.FC<ImageBaseProps> & {\n  Badge: typeof ImageBaseBadge;\n  Overlay: typeof ImageBaseOverlay;\n  FloatElement: typeof ImageBaseFloatElement;\n} = ({\n  alt,\n  crossOrigin,\n  decoding,\n  loading,\n  referrerPolicy,\n  sizes,\n  src,\n  srcSet,\n  useMap,\n  fetchPriority,\n  getRef,\n  size: sizeProp,\n  width: widthImg,\n  height: heightImg,\n  widthSize,\n  heightSize,\n  noBorder = false,\n  fallbackIcon: fallbackIconProp,\n  children,\n  onLoad,\n  onError,\n  withTransparentBackground,\n  objectFit = 'cover',\n  objectPosition,\n  filter,\n  keepAspectRatio = false,\n  getRootRef,\n  elementTiming,\n  ...restProps\n}: ImageBaseProps) => {\n  const size = sizeProp ?? minOr([sizeToNumber(widthSize), sizeToNumber(heightSize)], defaultSize);\n  const wrapperRef = useExternRef(getRootRef);\n\n  const width = widthSize ?? (keepAspectRatio ? undefined : size);\n  const height = heightSize ?? (keepAspectRatio ? undefined : size);\n\n  const [loaded, setLoaded] = React.useState(false);\n  const [failed, setFailed] = React.useState(false);\n\n  const mouseOverHandlersRef = useRef<VoidFunction[]>([]);\n  const mouseOutHandlersRef = useRef<VoidFunction[]>([]);\n\n  const hasSrc = src || srcSet;\n  const fallbackIcon = failed || !hasSrc ? fallbackIconProp : null;\n\n  if (process.env.NODE_ENV === 'development') {\n    validateSize(size);\n    if (React.isValidElement(fallbackIcon)) {\n      validateFallbackIcon(size, { name: 'fallbackIcon', value: fallbackIcon });\n    }\n  }\n\n  const handleImageLoad = (event: React.SyntheticEvent<HTMLImageElement>) => {\n    if (loaded) {\n      return;\n    }\n\n    setLoaded(true);\n    setFailed(false);\n    onLoad?.(event);\n  };\n\n  const handleImageError = (event: React.SyntheticEvent<HTMLImageElement>) => {\n    setLoaded(false);\n    setFailed(true);\n    onError?.(event);\n  };\n\n  const imgRef = useExternRef(getRef);\n  const isOnLoadStatusCheckedRef = React.useRef(false);\n  React.useEffect(\n    function dispatchLoadEventForAlreadyLoadedResourceIfReactInitializedLater() {\n      if (isOnLoadStatusCheckedRef.current) {\n        return;\n      }\n      isOnLoadStatusCheckedRef.current = true;\n\n      if (imgRef.current && imgRef.current.complete && !loaded) {\n        const event = new Event('load');\n        imgRef.current.dispatchEvent(event);\n      }\n    },\n    [imgRef, loaded],\n  );\n\n  const onMouseOver = () => {\n    mouseOverHandlersRef.current.forEach((fn) => fn());\n  };\n\n  const onMouseOut = () => {\n    mouseOutHandlersRef.current.forEach((fn) => fn());\n  };\n\n  const contextValue = React.useMemo(\n    () => ({\n      size,\n      onMouseOverHandlers: mouseOverHandlersRef.current,\n      onMouseOutHandlers: mouseOutHandlersRef.current,\n    }),\n    [size],\n  );\n\n  const imgStyles:\n    | CSSCustomProperties<React.CSSProperties['objectPosition'] | React.CSSProperties['filter']>\n    | undefined =\n    objectPosition || filter\n      ? {\n          '--vkui_internal--ImageBase_object_position': objectPosition,\n          '--vkui_internal--ImageBase_object_filter': filter,\n        }\n      : undefined;\n\n  const keepAspectRationStyles = keepAspectRatio\n    ? {\n        width: widthImg || width,\n        height: heightImg || height,\n      }\n    : undefined;\n\n  return (\n    <ImageBaseContext.Provider value={contextValue}>\n      <Clickable\n        baseStyle={{ width, height }}\n        baseClassName={classNames(\n          styles.host,\n          hasSrc && loaded && styles.loaded,\n          withTransparentBackground && styles.transparentBackground,\n        )}\n        getRootRef={wrapperRef}\n        onMouseOver={onMouseOver}\n        onMouseOut={onMouseOut}\n        {...restProps}\n      >\n        {hasSrc && (\n          <img\n            ref={imgRef}\n            alt={alt}\n            className={classNames(\n              styles.img,\n              getObjectFitClassName(objectFit),\n              objectPosition && styles.withObjectPosition,\n              filter && styles.withFilter,\n              keepAspectRatio && styles.imgKeepRatio,\n              failed && styles.imgHiddenAlt,\n            )}\n            crossOrigin={crossOrigin}\n            decoding={decoding}\n            loading={loading}\n            referrerPolicy={referrerPolicy}\n            style={mergeStyle(keepAspectRationStyles, imgStyles)}\n            sizes={sizes}\n            src={src}\n            srcSet={srcSet}\n            useMap={useMap}\n            width={widthImg}\n            height={heightImg}\n            onLoad={handleImageLoad}\n            onError={handleImageError}\n            // @ts-expect-error: TS2322 отсутствует в @types/react\n            elementtiming={elementTiming} // eslint-disable-line react/no-unknown-property\n            {...getFetchPriorityProp(fetchPriority)}\n          />\n        )}\n        {fallbackIcon && <div className={styles.fallback}>{fallbackIcon}</div>}\n        {children && <div className={styles.children}>{children}</div>}\n        {!noBorder && <div aria-hidden className={styles.border} />}\n      </Clickable>\n    </ImageBaseContext.Provider>\n  );\n};\nImageBase.Badge = ImageBaseBadge;\nImageBase.Overlay = ImageBaseOverlay;\nImageBase.FloatElement = ImageBaseFloatElement;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(ImageBase.Badge, 'ImageBase.Badge');\n  defineComponentDisplayNames(ImageBase.Overlay, 'ImageBase.Overlay');\n  defineComponentDisplayNames(ImageBase.FloatElement, 'ImageBase.FloatElement');\n}\n", "function _class_apply_descriptor_get(receiver, descriptor) {\r\n    if (descriptor.get) return descriptor.get.call(receiver);\r\n\r\n    return descriptor.value;\r\n}\r\nexport { _class_apply_descriptor_get as _ };\r\n", "function _class_extract_field_descriptor(receiver, privateMap, action) {\r\n    if (!privateMap.has(receiver)) throw new TypeError(\"attempted to \" + action + \" private field on non-instance\");\r\n\r\n    return privateMap.get(receiver);\r\n}\r\nexport { _class_extract_field_descriptor as _ };\r\n", "import { _ as _class_apply_descriptor_get } from \"./_class_apply_descriptor_get.js\";\r\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\r\n\r\nfunction _class_private_field_get(receiver, privateMap) {\r\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"get\");\r\n    return _class_apply_descriptor_get(receiver, descriptor);\r\n}\r\nexport { _class_private_field_get as _ };\r\n", "function _check_private_redeclaration(obj, privateCollection) {\r\n    if (privateCollection.has(obj)) {\r\n        throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\r\n    }\r\n}\r\nexport { _check_private_redeclaration as _ };\r\n", "import { _ as _check_private_redeclaration } from \"./_check_private_redeclaration.js\";\r\n\r\nfunction _class_private_field_init(obj, privateMap, value) {\r\n    _check_private_redeclaration(obj, privateMap);\r\n    privateMap.set(obj, value);\r\n}\r\nexport { _class_private_field_init as _ };\r\n", "function _class_apply_descriptor_set(receiver, descriptor, value) {\r\n    if (descriptor.set) descriptor.set.call(receiver, value);\r\n    else {\r\n        if (!descriptor.writable) {\r\n            // This should only throw in strict mode, but class bodies are\r\n            // always strict and private fields can only be used inside\r\n            // class bodies.\r\n            throw new TypeError(\"attempted to set read only private field\");\r\n        }\r\n        descriptor.value = value;\r\n    }\r\n}\r\nexport { _class_apply_descriptor_set as _ };\r\n", "import { _ as _class_apply_descriptor_set } from \"./_class_apply_descriptor_set.js\";\r\nimport { _ as _class_extract_field_descriptor } from \"./_class_extract_field_descriptor.js\";\r\n\r\nfunction _class_private_field_set(receiver, privateMap, value) {\r\n    var descriptor = _class_extract_field_descriptor(receiver, privateMap, \"set\");\r\n    _class_apply_descriptor_set(receiver, descriptor, value);\r\n    return value;\r\n}\r\nexport { _class_private_field_set as _ };\r\n", "import * as React from 'react';\nimport { setRef } from '../lib/utils';\n\nclass ExternalRef<T> implements React.RefObject<T | null> {\n  #element: T | null = null;\n  readonly #externRefs = new Set<React.Ref<T>>();\n\n  constructor(externRefs: Array<React.Ref<T> | undefined | false> = []) {\n    externRefs.forEach((ref) => {\n      if (ref) {\n        this.#externRefs.add(ref);\n      }\n    });\n  }\n\n  updateExternRefs(refs: Array<React.Ref<T> | undefined | false>) {\n    refs.forEach((ref) => {\n      if (!ref || this.#externRefs.has(ref)) {\n        return;\n      }\n\n      setRef(this.#element, ref);\n      this.#externRefs.add(ref);\n    });\n  }\n\n  get current() {\n    return this.#element;\n  }\n\n  set current(el) {\n    this.#element = el;\n    this.#externRefs.forEach((ref) => setRef(el, ref));\n  }\n\n  /**\n   * React проверяет наличие свойства current у объектов через hasOwnProperty\n   *\n   * https://github.com/facebook/react/blob/c3cdbec0a78d39b5ff7329384cb41c4573a38212/packages/react-reconciler/src/ReactFiberCommitWork.js#L1612\n   */\n  hasOwnProperty(v: PropertyKey): v is keyof ExternalRef<T> {\n    return v === 'current';\n  }\n}\n\nexport function useExternRef<T>(\n  ...externRefs: Array<React.Ref<T> | undefined | false>\n): React.RefObject<T | null> {\n  const ref = React.useRef<ExternalRef<T> | null>(null);\n  if (ref.current === null) {\n    ref.current = new ExternalRef(externRefs);\n  } else {\n    ref.current.updateExternRefs(externRefs);\n  }\n\n  return ref.current;\n}\n", "/**\n * Определяет, является ли значение не `undefined`\n *\n * ## Пример\n *\n * ```ts\n * import { strict as assert } from 'node:assert';\n *\n * assert.equal(isNotUndefined(\"Some string\"), true);\n * assert.equal(isNotUndefined(undefined), false);\n * ```\n */\nfunction isNotUndefined<T>(value: T | undefined): value is T {\n  return value !== undefined;\n}\n\n/**\n * Фильтрует `undefined` значения и возвращает результат выполнение `fn`. Если\n * значений не существует, вернется значение по умолчанию `defaultValue`.\n */\nfunction fnArgsOr<T, U>(fn: (...args: T[]) => U, args: Array<T | undefined>, defaultValue: U): U {\n  const definedArgs = args.filter(isNotUndefined);\n  if (definedArgs.length) {\n    return fn(...definedArgs);\n  }\n\n  return defaultValue;\n}\n\n/**\n * Функция для определения минимального числа. Если чисел не существует,\n * вернется значение по умолчанию `defaultValue`.\n *\n * ## Пример\n *\n * ```js\n * import { strict as assert } from 'node:assert';\n *\n * const defaultValue = 24;\n * assert.equal(minOr([48, 10, 12], defaultValue), 10);\n * assert.equal(minOr([undefined], defaultValue), 24);\n * ```\n */\nexport function minOr(args: Array<number | undefined>, defaultValue: number): number {\n  return fnArgsOr(Math.min, args, defaultValue);\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../../types';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport { ImageBaseContext } from '../context';\nimport type { ImageBaseExpectedIconProps } from '../types';\nimport { validateBadgeIcon } from '../validators';\nimport styles from './ImageBaseBadge.module.css';\n\nfunction DevelopmentCheck({ children }: Pick<ImageBaseBadgeProps, 'children'>) {\n  const { size } = React.useContext(ImageBaseContext);\n\n  if (children) {\n    validateBadgeIcon(size, { name: 'children', value: children });\n  }\n\n  return null;\n}\n\nconst backgroundStyles = {\n  stroke: styles.backgroundStroke,\n  shadow: styles.backgroundShadow,\n};\n\nexport interface ImageBaseBadgeProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Вид подложки под иконку.\n   *\n   * - `\"stroke\"` – имитирует вырез (⚠️ если фон под компонентом динамический, то ожидайте баг).\n   * - `\"shadow\"` – добавляет небольшую тень (⚠️ если фон под компонентом динамический, то ожидайте баг).\n   */\n  background?: 'stroke' | 'shadow';\n  /**\n   * Принимает иконку.\n   *\n   * > 📝 Нужный для `<ImageBase size={...} />` размер можно узнать из функции `getBadgeIconSizeByImageBaseSize()`.\n   *\n   * > Предпочтительней использовать иконки из `@vkontakte/icons`.\n   *\n   * > 📊️ Если вы хотите передать кастомную иконку, то следует именовать её по шаблону `Icon<size><name>`. Или же\n   * > чтобы в неё был передан параметр `width`. Тогда мы сможем выводить в консоль подсказку правильного ли размера вы\n   * > использовали иконку.\n   */\n  children: React.ReactElement<ImageBaseExpectedIconProps>;\n}\n\n/**\n * Бейдж в правом нижнем углу компонента.\n *\n * > Не используйте при `size < 24`.\n */\nexport const ImageBaseBadge = ({ background = 'shadow', ...restProps }: ImageBaseBadgeProps) => {\n  return (\n    <>\n      <RootComponent\n        {...restProps}\n        baseClassName={classNames(styles.host, backgroundStyles[background])}\n      />\n      {process.env.NODE_ENV === 'development' && (\n        <DevelopmentCheck>{restProps.children}</DevelopmentCheck>\n      )}\n    </>\n  );\n};\n", "import * as React from 'react';\nimport type { ImageBaseContextProps } from './types';\n\nexport const ImageBaseContext: React.Context<ImageBaseContextProps> =\n  React.createContext<ImageBaseContextProps>({\n    size: 0,\n    onMouseOverHandlers: [],\n    onMouseOutHandlers: [],\n  });\n", "type WarnOnceType = 'log' | 'warn' | 'error';\nexport type WarnOnceHandler = (message: string, type?: WarnOnceType) => void;\n\nexport function warnOnce(zone: string): WarnOnceHandler {\n  const didWarn = new Set<string>();\n\n  return (message: string, type: WarnOnceType = 'warn') => {\n    if (!didWarn.has(message)) {\n      didWarn.add(message);\n\n      const formattedMessage = `%c[VKUI/${zone}] ${message}`;\n      const styles = type === 'log' ? 'color: steelblue; font-style: italic' : undefined;\n\n      // eslint-disable-next-line no-console\n      console[type](formattedMessage, styles);\n    }\n  };\n}\n\nfunction getA11yRuleUrl(ruleName: string): string {\n  // see jest-axe's axe-core dependency\n  const AXE_CORE_MINOR_VERSION = '4.5';\n\n  return `https://dequeuniversity.com/rules/axe/${AXE_CORE_MINOR_VERSION}/${ruleName}`;\n}\n\nexport const COMMON_WARNINGS = {\n  a11y: {\n    'button-name': `a11y: Кнопка должна содержать текст, доступный для скринридеров. Чтобы исправить эту ошибку, передайте компоненту текст или свойство aria-label.\n${getA11yRuleUrl('button-name')}`,\n    'link-name': `a11y: Ссылка должна содержать текст, доступный для скринридеров. Чтобы исправить эту ошибку, передайте компоненту текст или свойство aria-label.\n${getA11yRuleUrl('link-name')}`,\n    'image-alt': `a11y: Изображение должно содержать альтернативный текст, который его описывает. Чтобы исправить эту ошибку, передайте компоненту свойство alt.\n${getA11yRuleUrl('image-alt')}`,\n  },\n};\n", "/**\n * Возвращает размер иконки основанный на дизайн-системы.\n *\n * @param imageSize Наименьшая сторона изображения.\n */\nexport function getFallbackIconSizeByImageBaseSize(imageSize: number): 12 | 16 | 20 | 24 | 28 | 36 {\n  if (imageSize <= 20) {\n    return 12;\n  } else if (imageSize > 20 && imageSize <= 28) {\n    return 16;\n  } else if (imageSize > 28 && imageSize <= 32) {\n    return 20;\n  } else if (imageSize > 32 && imageSize <= 44) {\n    return 24;\n  } else if (imageSize > 44 && imageSize <= 64) {\n    return 28;\n  }\n  return getFallbackIconSizeByImageBaseSize.MAX_SIZE;\n}\nexport declare namespace getFallbackIconSizeByImageBaseSize {\n  export let MAX_SIZE: 36;\n}\n\ngetFallbackIconSizeByImageBaseSize.MAX_SIZE = 36;\n\n/**\n * Возвращает размер иконки основанный на дизайн-системы.\n *\n * @param imageSize Наименьшая сторона изображения.\n */\nexport function getBadgeIconSizeByImageBaseSize(imageSize: number): 12 | 16 | 20 | 24 {\n  if (imageSize <= 36) {\n    return 12;\n  } else if (imageSize > 36 && imageSize <= 48) {\n    return 16;\n  } else if (imageSize > 48 && imageSize <= 64) {\n    return 20;\n  }\n  return getBadgeIconSizeByImageBaseSize.MAX_SIZE;\n}\nexport declare namespace getBadgeIconSizeByImageBaseSize {\n  export let MAX_SIZE: 24;\n}\n\ngetBadgeIconSizeByImageBaseSize.MAX_SIZE = 24 as const;\n\n/**\n * Возвращает размер иконки основанный на дизайн-системы.\n *\n * @param imageSize Наименьшая сторона изображения.\n */\nexport function getOverlayIconSizeByImageBaseSize(\n  imageSize: number,\n): 12 | 16 | 18 | 20 | 24 | 28 | 32 {\n  if (imageSize <= 20) {\n    return 12;\n  } else if (imageSize > 20 && imageSize <= 24) {\n    return 16;\n  } else if (imageSize > 24 && imageSize <= 28) {\n    return 18;\n  } else if (imageSize > 28 && imageSize <= 40) {\n    return 20;\n  } else if (imageSize > 40 && imageSize <= 48) {\n    return 24;\n  } else if (imageSize > 48 && imageSize <= 88) {\n    return 28;\n  }\n  return getOverlayIconSizeByImageBaseSize.MAX_SIZE;\n}\nexport declare namespace getOverlayIconSizeByImageBaseSize {\n  export let MAX_SIZE: 32;\n}\n\ngetOverlayIconSizeByImageBaseSize.MAX_SIZE = 32 as const;\n", "export const imageBaseSizes = [16, 20, 24, 28, 32, 36, 40, 44, 48, 56, 64, 72, 80, 88, 96] as const;\n\nexport type ImageBaseSize = (typeof imageBaseSizes)[number];\n\nexport type ImageBaseExpectedIconProps = {\n  /**\n   * Ширина иконки.\n   */\n  width?: number;\n  /**\n   * Высота иконки.\n   */\n  height?: number;\n  /**\n   * ClassName для иконки.\n   */\n  className?: string;\n};\n\nexport interface ImageBaseContextProps {\n  /**\n   * Размер картинки.\n   */\n  size: ImageBaseSize | number;\n  /**\n   * Обработчики события `mouseOver`.\n   */\n  onMouseOverHandlers: VoidFunction[];\n  /**\n   * Обработчики события `mouseOut`.\n   */\n  onMouseOutHandlers: VoidFunction[];\n}\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport type * as React from 'react';\nimport { warnOnce } from '../../lib/warnOnce';\nimport {\n  getBadgeIconSizeByImageBaseSize,\n  getFallbackIconSizeByImageBaseSize,\n  getOverlayIconSizeByImageBaseSize,\n} from './helpers';\nimport { imageBaseSizes } from './types';\n\n/**\n * Пример,\n * Icon28User -> 28\n * Icon12Circle1 -> 12\n * Icon12Circle2 -> 12\n * Icon20TextHeading1Outline -> 20.\n */\nfunction parseIconSizeByDisplayName(displayName: unknown): number | null {\n  if (typeof displayName !== 'string') {\n    return null;\n  }\n\n  const match = /Icon(\\d+)/.exec(displayName);\n\n  return match ? Number(match[1]) : null;\n}\n\nfunction parseIconSizeByWidthProp(width: unknown): number | null {\n  if (typeof width !== 'string' && typeof width !== 'number') {\n    return null;\n  }\n  const size = Number(width);\n  return size > 0 ? size : null;\n}\n\nfunction getElementDisplayName(element: React.JSX.Element): string | null {\n  return element.type.displayName ?? element.type.name ?? null;\n}\n\nfunction getElementWidthProp(element: React.JSX.Element): number | string | null {\n  return element.props.width ?? null;\n}\n\nfunction getIconSizeByElement(element: React.JSX.Element): number | null {\n  const sizeByDisplayName = parseIconSizeByDisplayName(getElementDisplayName(element));\n  const sizeByWidth = parseIconSizeByWidthProp(getElementWidthProp(element));\n  return sizeByWidth ? sizeByWidth : sizeByDisplayName;\n}\n\ninterface IconProp {\n  name: string;\n  value: React.JSX.Element;\n}\n\ninterface SelectorFn {\n  (imageSize: number): number;\n  MAX_SIZE: number;\n}\n\nfunction validateIconComponentSizeByImageSize(\n  imageSize: number,\n  iconProp: IconProp,\n  selectorFn: SelectorFn,\n  logger: ReturnType<typeof warnOnce>,\n) {\n  const iconSize = getIconSizeByElement(iconProp.value);\n\n  if (iconSize === null) {\n    return;\n  }\n\n  const result = selectorFn(imageSize);\n\n  if (result === iconSize || (result === selectorFn.MAX_SIZE && iconSize >= result)) {\n    return;\n  }\n\n  const iconName = getElementDisplayName(iconProp.value);\n  const propMessage = iconName ? `${iconProp.name}={<${iconName} />}` : iconProp.name;\n\n  logger(\n    `Размер \\`${propMessage}\\` не соответствует дизайн-системе. Для \\`size={${imageSize}}\\` размер иконки для \\`${iconProp.name}\\` должен соответствовать <Icon${result}<name> />. Если такого размера нет, то используйте <${iconName} width={${result}} height={${result}} />`,\n    'log',\n  );\n}\n\nconst warnImageBase = warnOnce('ImageBase');\n\nexport function validateFallbackIcon(imageSize: number, iconProp: IconProp): void {\n  return validateIconComponentSizeByImageSize(\n    imageSize,\n    iconProp,\n    getFallbackIconSizeByImageBaseSize,\n    warnImageBase,\n  );\n}\n\nconst mapOfExpectedSize = new Set<number>(imageBaseSizes);\n\nconst arrayOfSizes = Array.from(mapOfExpectedSize).map((str) => Number(str));\nconst maxSize = arrayOfSizes.reduce((maxSize, size) => (size > maxSize ? size : maxSize), 0);\n\nexport function validateSize(imageSize: number): void {\n  if (imageSize > maxSize || mapOfExpectedSize.has(imageSize)) {\n    return;\n  }\n  warnImageBase(\n    `\\`size={${imageSize}}\\` не соответствует дизайн-системе. Пожалуйста, используйте один из следующих вариантов: ${arrayOfSizes.join(\n      ' | ',\n    )}`,\n    'log',\n  );\n}\n\nconst warnImageBaseBadge = warnOnce('ImageBase.Badge');\n\nexport function validateBadgeIcon(imageSize: number, iconProp: IconProp): void {\n  if (imageSize < 24 && iconProp) {\n    return warnImageBaseBadge('Не используйте бейдж при `size < 24`.', 'log');\n  }\n  validateIconComponentSizeByImageSize(\n    imageSize,\n    iconProp,\n    getBadgeIconSizeByImageBaseSize,\n    warnImageBaseBadge,\n  );\n}\n\nconst warnImageBaseOverlay = warnOnce('ImageBase.Overlay');\n\nexport function validateOverlayIcon(imageSize: number, iconProp: IconProp): void {\n  validateIconComponentSizeByImageSize(\n    imageSize,\n    iconProp,\n    getOverlayIconSizeByImageBaseSize,\n    warnImageBaseOverlay,\n  );\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useIsomorphicLayoutEffect } from '../../../lib/useIsomorphicLayoutEffect';\nimport { type HTMLAttributesWithRootRef } from '../../../types';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport { ImageBaseContext } from '../context';\nimport { mutableRemoveElement, resolveIndent } from './helpers';\nimport styles from './ImageBaseFloatElement.module.css';\n\nexport type FloatElementPlacement =\n  | 'top-start'\n  | 'top'\n  | 'top-end'\n  | 'bottom-start'\n  | 'bottom'\n  | 'bottom-end'\n  | 'middle-start'\n  | 'middle'\n  | 'middle-end';\n\nexport type FloatElementIndentation =\n  | '2xs'\n  | 'xs'\n  | 's'\n  | 'm'\n  | 'l'\n  | 'xl'\n  | '2xl'\n  | '3xl'\n  | '4xl'\n  | number\n  | string;\n\nconst positionPlacementClassNames = {\n  'top-start': styles.placementTopStart,\n  'top': styles.placementTop,\n  'top-end': styles.placementTopEnd,\n  'bottom-start': styles.placementBottomStart,\n  'bottom': styles.placementBottom,\n  'bottom-end': styles.placementBottomEnd,\n  'middle-start': styles.placementMiddleStart,\n  'middle': styles.placementMiddle,\n  'middle-end': styles.placementMiddleEnd,\n};\n\nconst inlineIndentClassNames = {\n  '2xs': styles.inlineIndent2xs,\n  'xs': styles.inlineIndentXs,\n  's': styles.inlineIndentS,\n  'm': styles.inlineIndentM,\n  'l': styles.inlineIndentL,\n  'xl': styles.inlineIndentXl,\n  '2xl': styles.inlineIndent2xl,\n  '3xl': styles.inlineIndent3xl,\n  '4xl': styles.inlineIndent4xl,\n};\n\nconst blockIndentClassNames = {\n  '2xs': styles.blockIndent2xs,\n  'xs': styles.blockIndentXs,\n  's': styles.blockIndentS,\n  'm': styles.blockIndentM,\n  'l': styles.blockIndentL,\n  'xl': styles.blockIndentXl,\n  '2xl': styles.blockIndent2xl,\n  '3xl': styles.blockIndent3xl,\n  '4xl': styles.blockIndent4xl,\n};\n\nexport interface ImageBaseFloatElementProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Позиция компонента относительно родителя.\n   */\n  placement: FloatElementPlacement;\n  /**\n   * Отступ компонента от края контейнера по горизонтали.\n   */\n  inlineIndent?: FloatElementIndentation;\n  /**\n   * Отступ компонента от края контейнера по вертикали.\n   */\n  blockIndent?: FloatElementIndentation;\n  /**\n   * Режим отображения компонента:\n   *\n   * - `\"always\"`: Всегда\n   * - `\"on-hover\"`: При наведении на картинку.\n   */\n  visibility?: 'always' | 'on-hover';\n}\n\nexport const ImageBaseFloatElement = ({\n  placement,\n  visibility = 'always',\n  style,\n  className,\n  inlineIndent,\n  blockIndent,\n  ...restProps\n}: ImageBaseFloatElementProps) => {\n  const [hidden, setHidden] = React.useState(visibility !== 'always');\n  const { onMouseOverHandlers, onMouseOutHandlers } = React.useContext(ImageBaseContext);\n\n  useIsomorphicLayoutEffect(\n    function resetHidden() {\n      setHidden(visibility === 'on-hover');\n    },\n    [visibility],\n  );\n\n  useIsomorphicLayoutEffect(\n    function addMouseHandlers() {\n      if (visibility === 'on-hover') {\n        const onMouseOver = () => setHidden(false);\n        const onMouseOut = () => setHidden(true);\n\n        onMouseOverHandlers.push(onMouseOver);\n        onMouseOutHandlers.push(onMouseOut);\n\n        return () => {\n          mutableRemoveElement(onMouseOverHandlers, onMouseOver);\n          mutableRemoveElement(onMouseOutHandlers, onMouseOut);\n        };\n      }\n      return;\n    },\n    [visibility],\n  );\n\n  const [inlineIndentStyle, blockIndentStyle, inlineIndentClassName, blockIndentClassName] =\n    React.useMemo(() => {\n      const [inlineIndentStyle, inlineIndentClassName] = resolveIndent(\n        inlineIndent,\n        '--vkui_internal--FloatElement_horizontal_indent',\n        inlineIndentClassNames,\n      );\n      const [blockIndentStyle, blockIndentClassName] = resolveIndent(\n        blockIndent,\n        '--vkui_internal--FloatElement_vertical_indent',\n        blockIndentClassNames,\n      );\n\n      return [inlineIndentStyle, blockIndentStyle, inlineIndentClassName, blockIndentClassName];\n    }, [inlineIndent, blockIndent]);\n\n  return (\n    <RootComponent\n      {...restProps}\n      style={{\n        ...style,\n        ...inlineIndentStyle,\n        ...blockIndentStyle,\n      }}\n      className={classNames(\n        styles.host,\n        hidden && styles.hidden,\n        positionPlacementClassNames[placement],\n        inlineIndentClassName,\n        blockIndentClassName,\n        className,\n      )}\n    />\n  );\n};\n", "import { type FloatElementIndentation } from './ImageBaseFloatElement';\n\nfunction isIndentSizeConstant(indent: FloatElementIndentation) {\n  return (\n    indent === '2xs' ||\n    indent === 'xs' ||\n    indent === 's' ||\n    indent === 'm' ||\n    indent === 'l' ||\n    indent === 'xl' ||\n    indent === '2xl' ||\n    indent === '3xl' ||\n    indent === '4xl'\n  );\n}\n\nfunction calculateIndent(indent: FloatElementIndentation) {\n  if (isIndentSizeConstant(indent)) {\n    return;\n  }\n  return typeof indent === 'string' ? indent : `${indent}px`;\n}\n\nexport const resolveIndent = (\n  indent: FloatElementIndentation | undefined,\n  cssProperty: string,\n  classNames: Record<string, string>,\n): [React.CSSProperties | undefined, string | undefined] => {\n  if (!indent) {\n    return [undefined, undefined];\n  }\n\n  const calculatedIndent = calculateIndent(indent);\n\n  if (calculatedIndent) {\n    return [{ [cssProperty]: calculatedIndent }, undefined];\n  }\n\n  return [undefined, classNames[indent]];\n};\n\nexport const mutableRemoveElement = <T>(arr: T[], element: T) => {\n  arr.splice(arr.indexOf(element), 1);\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useColorScheme } from '../../../hooks/useColorScheme';\nimport { useExternRef } from '../../../hooks/useExternRef';\nimport { useFocusVisible } from '../../../hooks/useFocusVisible';\nimport { useFocusVisibleClassName } from '../../../hooks/useFocusVisibleClassName';\nimport { clickByKeyboardHandler } from '../../../lib/utils';\nimport { ImageBaseContext } from '../context';\nimport { validateOverlayIcon } from '../validators';\nimport { useCalculatedDefaultVisibility, useNonInteractiveOverlayProps } from './hooks';\nimport type {\n  ImageBaseOverlayInteractiveProps,\n  ImageBaseOverlayNonInteractiveProps,\n} from './types';\nimport styles from './ImageBaseOverlay.module.css';\n\nfunction DevelopmentCheck({ children }: Pick<ImageBaseOverlayInteractiveProps, 'children'>) {\n  const { size } = React.useContext(ImageBaseContext);\n\n  if (process.env.NODE_ENV === 'development') {\n    if (children) {\n      validateOverlayIcon(size, { name: 'children', value: children });\n    }\n  }\n\n  return null;\n}\n\nexport type ImageBaseOverlayProps =\n  | ImageBaseOverlayInteractiveProps\n  | ImageBaseOverlayNonInteractiveProps;\n\nconst ImageBaseOverlayInteractive = ({\n  children,\n  className,\n  getRootRef,\n  overlayShown,\n  ...restProps\n}: ImageBaseOverlayInteractiveProps & { overlayShown?: boolean }) => {\n  const { focusVisible, ...focusEvents } = useFocusVisible();\n  const focusVisibleClassNames = useFocusVisibleClassName({ focusVisible, mode: 'inside' });\n\n  return (\n    <>\n      <div\n        {...restProps}\n        tabIndex={0}\n        role=\"button\"\n        className={classNames(\n          styles.clickable,\n          (focusVisible || overlayShown) && styles.visible,\n          focusVisibleClassNames,\n          className,\n        )}\n        ref={getRootRef}\n        onKeyDown={clickByKeyboardHandler}\n        {...focusEvents}\n      >\n        {children}\n      </div>\n      {process.env.NODE_ENV === 'development' && <DevelopmentCheck>{children}</DevelopmentCheck>}\n    </>\n  );\n};\n\nconst ImageBaseOverlayNonInteractive = ({\n  className,\n  getRootRef,\n  overlayShown: overlayShownProps,\n  ...restProps\n}: ImageBaseOverlayNonInteractiveProps & { overlayShown?: boolean }) => {\n  const rootRef = useExternRef(getRootRef);\n  const { shown: overlayShown, onClick: onOverlayClick } = useNonInteractiveOverlayProps(rootRef);\n\n  return (\n    <div\n      {...restProps}\n      ref={rootRef}\n      className={classNames((overlayShown || overlayShownProps) && styles.visible, className)}\n      onClick={onOverlayClick}\n    />\n  );\n};\n\n/**\n * Оверлей над картинкой.\n */\nexport const ImageBaseOverlay = ({\n  className,\n  theme: themeProp,\n  visibility: visibilityProp,\n  ...restProps\n}: ImageBaseOverlayProps) => {\n  const colorScheme = useColorScheme();\n\n  const theme = themeProp ?? colorScheme;\n\n  const commonClassNames = classNames(\n    styles.host,\n    theme === 'light' && styles.themeLight,\n    theme === 'dark' && styles.themeDark,\n    className,\n  );\n\n  const defaultVisibility = useCalculatedDefaultVisibility();\n  const visibility = visibilityProp ?? defaultVisibility;\n\n  const commonProps = {\n    className: commonClassNames,\n    overlayShown: visibility === 'always',\n  };\n\n  // Не делаем деструктуризацию пропа, потому что Typescript не вывозит\n  if (!restProps.onClick) {\n    return <ImageBaseOverlayNonInteractive {...restProps} {...commonProps} />;\n  }\n\n  return <ImageBaseOverlayInteractive {...restProps} {...commonProps} />;\n};\n", "import * as React from 'react';\nimport { hasMouse as hasPointerLib } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { useFocusWithin } from '../../../hooks/useFocusWithin';\nimport { useIsClient } from '../../../hooks/useIsClient';\nimport { useIsomorphicLayoutEffect } from '../../../lib/useIsomorphicLayoutEffect';\n\nexport function useNonInteractiveOverlayProps(rootRef: React.RefObject<HTMLElement | null>) {\n  const focusWithin = useFocusWithin(rootRef);\n  const [nonInteractiveFocusShown, setNonInteractiveFocusShown] = React.useState(false);\n\n  function onClick(event: React.MouseEvent) {\n    if (event.detail > 0) {\n      // Если мы попали на вложенный в оверлей элемент через focus,\n      // то при клике мышкой мы должны начать реагировать на hover-состояние,\n      // даже если фокус всё ещё остался на вложенном элементе (был по нему клик)\n      setNonInteractiveFocusShown(false);\n    }\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    setNonInteractiveFocusShown(focusWithin);\n  }, [focusWithin]);\n\n  return {\n    shown: nonInteractiveFocusShown && focusWithin,\n    onClick,\n  };\n}\n\n/*\n * Определям значение по умолчанию для свойства visibility.\n *\n * Задача состоит в том, чтобы правильно рендерить Overlay.\n * Для устройств с мышкой, мы можем показывать его по наведению,\n * а для остальных устройств он должен быть виден всегда.\n *\n * Задача в том, чтобы избежать проблем при гидратации,\n * и отложить использование значения `always`, пока мы точно не уверены, что у пользоватея действительно нет мышки.\n * Иначе Overlay при первом рендере может показаться, а потом исчезнуть.\n *\n * Основано на хуке `useAdaptivityHasPointer`, но если при первом рендере мы точно не знаем значения hasPointer, то возвращаем `on-hover`.\n * */\nexport function useCalculatedDefaultVisibility() {\n  const { hasPointer: hasPointerContext } = useAdaptivity();\n\n  const needTwoPassRendering = hasPointerContext === undefined;\n  const isClient = useIsClient(!needTwoPassRendering);\n\n  if (!isClient && hasPointerContext === undefined) {\n    return 'on-hover';\n  }\n\n  const hasPointer = hasPointerContext ?? hasPointerLib;\n\n  return hasPointer ? 'on-hover' : 'always';\n}\n", "import * as React from 'react';\nimport { useDOM } from '../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nconst isFocusWithin = <T extends Element>(ref: T, document: Document) =>\n  ref.contains(document.activeElement);\n\nexport function useFocusWithin(ref: React.RefObject<HTMLElement | null>): boolean {\n  const { document } = useDOM();\n  const [focusWithin, setFocusWithin] = React.useState<boolean>(() =>\n    ref.current && document ? isFocusWithin(ref.current, document) : false,\n  );\n\n  useIsomorphicLayoutEffect(function handleAutoFocus() {\n    /* istanbul ignore if: невозможный кейс, т.к. в SSR эффекты не вызываются. Проверка на будущее, если вдруг эффект будет вызываться. */\n    if (!document) {\n      return;\n    }\n\n    const handleFocusOrBlurEvents = () => {\n      if (ref.current) {\n        setFocusWithin(isFocusWithin(ref.current, document));\n      }\n    };\n\n    // Вызываем в начале, чтобы проверить autoFocus\n    void handleFocusOrBlurEvents();\n\n    document.addEventListener('focus', handleFocusOrBlurEvents, { capture: true });\n    document.addEventListener('blur', handleFocusOrBlurEvents, { capture: true });\n    return () => {\n      document.removeEventListener('focus', handleFocusOrBlurEvents, { capture: true });\n      document.removeEventListener('blur', handleFocusOrBlurEvents, { capture: true });\n    };\n  }, []);\n\n  return focusWithin;\n}\n", "import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\n/**\n * Хук для two-pass рендеринга.\n *\n * ВНИМАНИЕ: Этот подход сделает ваши компоненты медленнее, потому что они\n * должны рендериться дважды, поэтому используйте хук с осторожностью.\n *\n * @see {@link https://react.dev/reference/react-dom/hydrate#handling-different-client-and-server-content React Docs}\n */\nexport function useIsClient(initial = false): boolean {\n  const [isClient, setIsClient] = React.useState(initial);\n\n  useIsomorphicLayoutEffect(() => {\n    setIsClient(true);\n  }, []);\n\n  return isClient;\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasAlign } from '../../types';\nimport { Spinner } from '../Spinner/Spinner';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport '../Tappable/Tappable.module.css';\nimport '../Spinner/Spinner.module.css';\nimport styles from './Button.module.css';\n\nconst stylesSize = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n  l: styles.sizeL,\n};\n\nconst stylesMode = {\n  primary: styles.modePrimary,\n  secondary: styles.modeSecondary,\n  tertiary: styles.modeTertiary,\n  outline: styles.modeOutline,\n  link: styles.modeLink,\n};\n\nconst stylesAppearance = {\n  'accent': styles.appearanceAccent,\n  'positive': styles.appearancePositive,\n  'negative': styles.appearanceNegative,\n  'neutral': styles.appearanceNeutral,\n  'overlay': styles.appearanceOverlay,\n  'accent-invariable': styles.appearanceAccentInvariable,\n};\n\nconst stylesAlign = {\n  left: styles.alignLeft,\n  right: styles.alignRight,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  regular: styles.sizeYRegular,\n};\n\nexport interface VKUIButtonProps extends HasAlign {\n  /**\n   * Режим отображения кнопки.\n   */\n  mode?: 'primary' | 'secondary' | 'tertiary' | 'outline' | 'link';\n  /**\n   * Цветовая схема кнопки.\n   */\n  appearance?: 'accent' | 'positive' | 'negative' | 'neutral' | 'overlay' | 'accent-invariable';\n  /**\n   * Размер кнопки.\n   */\n  size?: 's' | 'm' | 'l';\n  /**\n   * Растягивает кнопку на всю ширину контейнера.\n   */\n  stretched?: boolean;\n  /**\n   * Контент, отображаемый перед основным содержимым кнопки.\n   */\n  before?: React.ReactNode;\n  /**\n   * Контент, отображаемый после основного содержимого кнопки.\n   */\n  after?: React.ReactNode;\n  /**\n   * Включает состояние загрузки (отображает спиннер).\n   */\n  loading?: boolean;\n  /**\n   * Отключает анимацию спиннера загрузки.\n   */\n  disableSpinnerAnimation?: boolean;\n  /**\n   * Добавляет скругленные углы кнопке.\n   */\n  rounded?: boolean;\n}\n\nexport interface ButtonProps extends Omit<TappableOmitProps, 'size'>, VKUIButtonProps {}\n\n/**\n * @see https://vkui.io/components/button\n */\nexport const Button = ({\n  size = 's',\n  mode = 'primary',\n  appearance = 'accent',\n  stretched = false,\n  align = 'center',\n  children,\n  before,\n  after,\n  getRootRef,\n  loading,\n  onClick,\n  disableSpinnerAnimation,\n  rounded,\n  disabled,\n  ...restProps\n}: ButtonProps): React.ReactNode => {\n  const hasIconOnly = !children && Boolean(after) !== Boolean(before);\n  const { sizeY = 'none' } = useAdaptivity();\n  const platform = usePlatform();\n\n  return (\n    <Tappable\n      hoverMode={styles.hover}\n      activeMode={styles.active}\n      Component={restProps.href ? 'a' : 'button'}\n      focusVisibleMode=\"outside\"\n      disabled={loading || disabled}\n      {...restProps}\n      onClick={loading ? undefined : onClick}\n      baseClassName={classNames(\n        styles.host,\n        stylesSize[size],\n        stylesMode[mode],\n        stylesAppearance[appearance],\n        align !== 'center' && stylesAlign[align],\n        sizeY !== 'compact' && sizeYClassNames[sizeY],\n        platform === 'ios' && styles.ios,\n        stretched && styles.stretched,\n        hasIconOnly && !stretched && styles.singleIcon,\n        loading && styles.loading,\n        rounded && styles.rounded,\n        disabled && styles.disabled,\n      )}\n      getRootRef={getRootRef}\n    >\n      {loading && (\n        <Spinner\n          size=\"s\"\n          className={styles.spinner}\n          disableAnimation={disableSpinnerAnimation}\n          noColor\n        />\n      )}\n      <span className={styles.in}>\n        {hasReactNode(before) && (\n          <span\n            className={styles.before}\n            role=\"presentation\"\n            data-testid={process.env.NODE_ENV === 'test' ? 'before' : undefined}\n          >\n            {before}\n          </span>\n        )}\n        {hasReactNode(children) && (\n          <span\n            className={styles.content}\n            data-testid={process.env.NODE_ENV === 'test' ? 'children' : undefined}\n          >\n            {children}\n          </span>\n        )}\n        {hasReactNode(after) && (\n          <span\n            className={styles.after}\n            role=\"presentation\"\n            data-testid={process.env.NODE_ENV === 'test' ? 'after' : undefined}\n          >\n            {after}\n          </span>\n        )}\n      </span>\n    </Tappable>\n  );\n};\n", "import * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { animationVisibilityDelayStyles } from '../../styles/animationVisibilityDelay';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport { SpinnerAnimation } from './SpinnerAnimation';\nimport { Icon16Spinner, Icon24Spinner, Icon32Spinner, Icon44Spinner } from './icons';\nimport styles from './Spinner.module.css';\nimport stylesDelay from '../../styles/animationVisibilityDelay.module.css';\n\nconst spinnerIconMap = {\n  s: Icon16Spinner,\n  m: Icon24Spinner,\n  l: Icon32Spinner,\n  xl: Icon44Spinner,\n};\n\nexport interface SpinnerProps extends HTMLAttributesWithRootRef<HTMLSpanElement> {\n  /**\n   * Размер спиннера.\n   */\n  size?: 's' | 'm' | 'l' | 'xl';\n  /**\n   * Отключение анимации.\n   */\n  disableAnimation?: boolean;\n  /**\n   * Задать цвет можно будет через свойство color родителя.\n   */\n  noColor?: boolean;\n  /**\n   * Задерживает отрисовку элемента на заданное количество миллисекунд.\n   */\n  visibilityDelay?: number;\n}\n\n/**\n * @see https://vkui.io/components/spinner\n */\n// eslint-disable-next-line react/display-name -- используется defineComponentDisplayNames\nexport const Spinner = React.memo(\n  ({\n    size = 'm',\n    children = 'Загружается...',\n    disableAnimation = false,\n    noColor = false,\n    visibilityDelay,\n    ...restProps\n  }: SpinnerProps) => {\n    const SpinnerIcon = spinnerIconMap[size];\n\n    return (\n      <RootComponent\n        Component=\"span\"\n        role=\"status\"\n        {...restProps}\n        baseClassName={classNames(\n          styles.host,\n          noColor && styles.noColor,\n          visibilityDelay && stylesDelay.visibilityDelay,\n        )}\n        baseStyle={animationVisibilityDelayStyles(visibilityDelay)}\n      >\n        <SpinnerIcon>{disableAnimation ? null : <SpinnerAnimation size={size} />}</SpinnerIcon>\n        {hasReactNode(children) && <VisuallyHidden>{children}</VisuallyHidden>}\n      </RootComponent>\n    );\n  },\n);\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(Spinner, 'Spinner');\n}\n", "import { type CSSCustomProperties } from '../types';\n\nexport function animationVisibilityDelayStyles(\n  delay: number | undefined,\n): CSSCustomProperties | undefined {\n  if (delay === undefined) {\n    return undefined;\n  }\n\n  return {\n    '--vkui_internal--animation_delay_visibility': `${delay}ms`,\n  };\n}\n", "import { classNames } from '@vkontakte/vkjs';\nimport { RootComponent, type RootComponentProps } from '../RootComponent/RootComponent';\nimport styles from './VisuallyHidden.module.css';\n\nexport type VisuallyHiddenProps<T> = RootComponentProps<T>;\n\n/**\n * Компонент-обертка. Позволяет скрыть контент визуально, но оставить его\n * доступным для ассистивных технологий. По умолчанию — `span`.\n *\n * @since 5.4.0\n * @see https://vkui.io/components/visually-hidden\n */\nexport const VisuallyHidden = <T,>({\n  Component = 'span',\n  baseClassName,\n  ...restProps\n}: VisuallyHiddenProps<T>): React.ReactNode => (\n  <RootComponent\n    Component={Component}\n    {...restProps}\n    baseClassName={classNames(\n      baseClassName,\n      styles.host,\n      Component === 'input' && styles.focusableInput,\n    )}\n  />\n);\n", "import * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { useStableCallback } from '../../hooks/useStableCallback';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\n\nexport type UseCSSAnimationControllerCallback = {\n  onEnter?: VoidFunction;\n  onEntering?: VoidFunction;\n  onEntered?: VoidFunction;\n  onExit?: VoidFunction;\n  onExiting?: VoidFunction;\n  onExited?: VoidFunction;\n};\n\nexport type AnimationState = 'enter' | 'entering' | 'entered' | 'exit' | 'exiting' | 'exited';\n\nexport type AnimationHandlers = { onAnimationStart: VoidFunction; onAnimationEnd: VoidFunction };\n\nexport const useCSSKeyframesAnimationController = (\n  stateProp: 'enter' | 'exit',\n  {\n    onEnter: onEnterProp,\n    onEntering,\n    onEntered,\n    onExit: onExitProp,\n    onExiting,\n    onExited,\n  }: UseCSSAnimationControllerCallback = {},\n  disableInitAnimation = false,\n): [AnimationState, AnimationHandlers] => {\n  const [state, setState] = React.useState<AnimationState>(() =>\n    disableInitAnimation ? (stateProp === 'enter' ? 'entered' : 'exited') : stateProp,\n  );\n\n  const prevStateRef = React.useRef<'enter' | 'exit' | undefined>(undefined);\n  React.useEffect(() => {\n    prevStateRef.current = stateProp;\n  });\n\n  const onAnimationStart = () => {\n    if (state === 'enter') {\n      setState('entering');\n      if (onEntering) {\n        onEntering();\n      }\n    } else if (state === 'exit') {\n      setState('exiting');\n      if (onExiting) {\n        onExiting();\n      }\n    }\n  };\n\n  const onAnimationEnd = () => {\n    if (state === 'entering') {\n      setState('entered');\n      if (onEntered) {\n        onEntered();\n      }\n    } else if (state === 'exiting') {\n      setState('exited');\n      if (onExited) {\n        onExited();\n      }\n    }\n  };\n\n  const onEnter = useStableCallback(onEnterProp || noop);\n  const onExit = useStableCallback(onExitProp || noop);\n\n  useIsomorphicLayoutEffect(\n    function updateState() {\n      const prevState = prevStateRef.current;\n\n      if (prevState === stateProp) {\n        return;\n      }\n      switch (stateProp) {\n        case 'enter':\n          if (state === 'entering' || state === 'entered') {\n            break;\n          }\n\n          setState('enter');\n          onEnter();\n          break;\n        case 'exit':\n          if (state === 'exiting' || state === 'exited') {\n            break;\n          }\n\n          setState('exit');\n          onExit();\n          break;\n      }\n    },\n    [state, stateProp, onEnter, onExit],\n  );\n\n  return [state, { onAnimationStart, onAnimationEnd }];\n};\n", "/* eslint-disable no-restricted-properties */\nimport * as React from 'react';\nimport { useDOM } from '../dom';\nimport { matchMediaListAddListener, matchMediaListRemoveListener } from '../matchMedia';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\n\nexport const REDUCE_MOTION_MEDIA_QUERY = 'screen and (prefers-reduced-motion: reduce)';\n\nexport const useReducedMotion = (): boolean | undefined => {\n  const { window } = useDOM();\n\n  const [reducedMotion, setReducedMotion] = React.useState<boolean | undefined>(() => undefined);\n\n  useIsomorphicLayoutEffect(() => {\n    /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n    if (!window) {\n      return;\n    }\n    const match = window.matchMedia(REDUCE_MOTION_MEDIA_QUERY);\n    setReducedMotion(match.matches);\n    /* istanbul ignore next: на текущий момент, покрытие данного кейса неинтересно  */\n    const handleMediaQueryChange = (event: MediaQueryListEvent) => {\n      /* istanbul ignore next */\n      setReducedMotion(event.matches);\n    };\n    matchMediaListAddListener(match, handleMediaQueryChange);\n    return () => matchMediaListRemoveListener(match, handleMediaQueryChange);\n  }, [window]);\n\n  return reducedMotion;\n};\n", "export function matchMediaListAddListener(\n  mediaQueryList: MediaQueryList,\n  listener: (this: MediaQueryList, ev: MediaQueryListEvent) => any,\n): void {\n  mediaQueryList.addEventListener\n    ? mediaQueryList.addEventListener('change', listener)\n    : mediaQueryList.addListener(listener);\n}\n\nexport function matchMediaListRemoveListener(\n  mediaQueryList: MediaQueryList,\n  listener: (this: MediaQueryList, ev: MediaQueryListEvent) => any,\n): void {\n  mediaQueryList.removeEventListener\n    ? mediaQueryList.removeEventListener('change', listener)\n    : mediaQueryList.removeListener(listener);\n}\n", "/**\n * @author @aholachek\n *\n * @link https://twitter.com/chpwn/status/285540192096497664\n * @link https://medium.com/@nathangitter/building-fluid-interfaces-ios-swift-9732bb934bf5\n */\nimport { clamp } from '../../helpers/math';\n\nfunction rubberband(distance: number, dimension: number, constant: number) {\n  if (dimension === 0 || Math.abs(dimension) === Infinity) {\n    return Math.pow(distance, constant * 5);\n  }\n  return (distance * dimension * constant) / (dimension + constant * distance);\n}\n\nexport function rubberbandIfOutOfBounds(\n  position: number,\n  min: number,\n  max: number,\n  constant = 0.15,\n): number {\n  if (constant === 0) {\n    return clamp(position, min, max);\n  }\n  if (position < min) {\n    return -rubberband(min - position, max - min, constant) + min;\n  }\n  if (position > max) {\n    return +rubberband(position - max, max - min, constant) + max;\n  }\n  return position;\n}\n", "import styles from '../../styles/animationFades.module.css'; // eslint-disable-line import/order\n\nexport const animationFadeClassNames: Record<'in' | 'out', string> = {\n  in: styles['-anim-fade-in'],\n  out: styles['-anim-fade-out'],\n};\n", "import type { Placement } from '../floating';\nimport styles from '../../styles/transformOriginByPlacement.module.css'; // eslint-disable-line import/order\n\nexport const transformOriginClassNames: Record<Placement, string> = {\n  'top': styles['-anim-transform-origin-top'],\n  'top-start': styles['-anim-transform-origin-top-start'],\n  'top-end': styles['-anim-transform-origin-top-end'],\n  'right': styles['-anim-transform-origin-right'],\n  'right-start': styles['-anim-transform-origin-right-start'],\n  'right-end': styles['-anim-transform-origin-right-end'],\n  'bottom': styles['-anim-transform-origin-bottom'],\n  'bottom-start': styles['-anim-transform-origin-bottom-start'],\n  'bottom-end': styles['-anim-transform-origin-bottom-end'],\n  'left': styles['-anim-transform-origin-left'],\n  'left-start': styles['-anim-transform-origin-left-start'],\n  'left-end': styles['-anim-transform-origin-left-end'],\n};\n", "import { type TransitionEvent, type TransitionEventHandler, useRef, useState } from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { useStableCallback } from '../../hooks/useStableCallback';\nimport { millisecondsInSecond } from '../date';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\n\n/* istanbul ignore next: особенность рендера в браузере когда меняется className, в Jest не воспроизвести */\nconst forceReflowForFixNewMountedElement = (node: Element | null) => void node?.scrollTop;\n\nexport type UseCSSTransitionState =\n  | 'appear'\n  | 'appearing'\n  | 'appeared'\n  | 'enter'\n  | 'entering'\n  | 'entered'\n  | 'exit'\n  | 'exiting'\n  | 'exited';\n\nexport type UseCSSTransitionOptions = {\n  enableAppear?: boolean;\n  enableEnter?: boolean;\n  enableExit?: boolean;\n  onEnter?: (appear?: boolean) => void;\n  onEntering?: (appear?: boolean) => void;\n  onEntered?: (propertyName?: string, appear?: boolean) => void;\n  onExit?: () => void;\n  onExiting?: () => void;\n  onExited?: (propertyName?: string) => void;\n};\n\nexport type UseCSSTransition<Ref extends Element = Element> = [\n  state: UseCSSTransitionState,\n  {\n    ref: React.RefObject<Ref | null>;\n    onTransitionEnd?: TransitionEventHandler;\n  },\n];\n\nconst TRANSITION_FALLBACK_DELAY = 100;\n\n/**\n * Хук основан на компоненте `CSSTransition` из библиотеки `react-transition-group`.\n *\n * @link https://reactcommunity.org/react-transition-group/css-transition\n *\n * @private\n */\nexport const useCSSTransition = <Ref extends Element = Element>(\n  inProp?: boolean,\n  {\n    enableAppear = false,\n    enableEnter = true,\n    enableExit = true,\n    onEnter: onEnterProp,\n    onEntering: onEnteringProp,\n    onEntered: onEnteredProp,\n    onExit: onExitProp,\n    onExiting: onExitingProp,\n    onExited: onExitedProp,\n  }: UseCSSTransitionOptions = {},\n): UseCSSTransition<Ref> => {\n  const onEnter = useStableCallback(onEnterProp || noop);\n  const onEntering = useStableCallback(onEnteringProp || noop);\n  const onEntered = useStableCallback(onEnteredProp || noop);\n  const onExit = useStableCallback(onExitProp || noop);\n  const onExiting = useStableCallback(onExitingProp || noop);\n  const onExited = useStableCallback(onExitedProp || noop);\n  const timerRef = useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const ref = useRef<Ref | null>(null);\n  const [state, setState] = useState<UseCSSTransitionState>(() => {\n    if (!inProp) {\n      return 'exited';\n    }\n\n    if (enableAppear) {\n      onEnter(true);\n      return 'appear';\n    }\n\n    return 'entered';\n  });\n\n  const clearTimer = () => {\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n  };\n\n  useIsomorphicLayoutEffect(\n    function updateState() {\n      if (inProp) {\n        switch (state) {\n          case 'appear':\n            forceReflowForFixNewMountedElement(ref.current);\n            setState('appearing');\n            onEntering(true);\n            break;\n          case 'enter':\n            forceReflowForFixNewMountedElement(ref.current);\n            setState('entering');\n            onEntering();\n            break;\n          case 'exiting':\n            if (enableEnter) {\n              setState('entering');\n              onEntering();\n              break;\n            }\n\n            setState('entered');\n            onEntered();\n            break;\n          case 'exited':\n            if (enableEnter) {\n              setState('enter');\n              onEnter();\n              break;\n            }\n\n            setState('entered');\n            onEntered();\n            break;\n        }\n      } else {\n        switch (state) {\n          case 'exit':\n            forceReflowForFixNewMountedElement(ref.current);\n            setState('exiting');\n            onExiting();\n            break;\n          case 'appearing':\n          case 'entering':\n            if (enableExit) {\n              setState('exiting');\n              onExiting();\n              break;\n            }\n\n            setState('exited');\n            onExited();\n            break;\n          case 'appeared':\n          case 'entered':\n            if (enableExit) {\n              setState('exit');\n              onExit();\n              break;\n            }\n\n            setState('exited');\n            onExited();\n            break;\n        }\n      }\n    },\n    [\n      inProp,\n\n      state,\n      enableAppear,\n      enableEnter,\n      onEnter,\n      onEntering,\n      onEntered,\n\n      enableExit,\n      onExit,\n      onExiting,\n      onExited,\n    ],\n  );\n\n  const completeTransition = useStableCallback((event?: TransitionEvent) => {\n    clearTimer();\n\n    switch (state) {\n      case 'appearing':\n        setState('appeared');\n        onEntered(event?.propertyName, true);\n        break;\n      case 'entering':\n        setState('entered');\n        onEntered(event?.propertyName);\n        break;\n      case 'exiting':\n        setState('exited');\n        onExited(event?.propertyName);\n        break;\n    }\n  });\n\n  useIsomorphicLayoutEffect(\n    function scheduleTransitionCompletionFallback() {\n      const el = ref.current;\n      if (!el) {\n        return;\n      }\n\n      if (state === 'appearing' || state === 'entering' || state === 'exiting') {\n        const style = getComputedStyle(el);\n\n        const parseTime = (s: string) =>\n          s.includes('ms') ? parseFloat(s) : parseFloat(s) * millisecondsInSecond;\n\n        const duration =\n          Math.max(...style.transitionDuration.split(',').map(parseTime)) +\n          Math.max(...style.transitionDelay.split(',').map(parseTime));\n\n        if (duration <= 0) {\n          completeTransition();\n          return;\n        }\n\n        // fallback если onTransitionEnd не пришёл\n        // TRANSITION_FALLBACK_DELAY, чтобы минимизировать вероятность,\n        // что setTimeout сработает раньше onTransitionEnd\n        timerRef.current = setTimeout(completeTransition, duration + TRANSITION_FALLBACK_DELAY);\n\n        return clearTimer;\n      }\n      return;\n    },\n    [completeTransition, state],\n  );\n\n  return [\n    state,\n    {\n      ref,\n      onTransitionEnd:\n        state !== 'appeared' && state !== 'entered' && state !== 'exited'\n          ? completeTransition\n          : undefined,\n    },\n  ];\n};\n", "/**\r\n * The symbol to access the `TZDate`'s function to construct a new instance from\r\n * the provided value. It helps date-fns to inherit the time zone.\r\n */ export const constructFromSymbol = Symbol.for(\"constructDateFrom\");\r\n", "/**\r\n * Time zone name format.\r\n */ /**\r\n * The function returns the time zone name for the given date in the specified\r\n * time zone.\r\n *\r\n * It uses the `Intl.DateTimeFormat` API and by default outputs the time zone\r\n * name in a long format, e.g. \"Pacific Standard Time\" or\r\n * \"Singapore Standard Time\".\r\n *\r\n * It is possible to specify the format as the third argument using one of the following options\r\n *\r\n * - \"short\": e.g. \"EDT\" or \"GMT+8\".\r\n * - \"long\": e.g. \"Eastern Daylight Time\".\r\n * - \"shortGeneric\": e.g. \"ET\" or \"Singapore Time\".\r\n * - \"longGeneric\": e.g. \"Eastern Time\" or \"Singapore Standard Time\".\r\n *\r\n * These options correspond to TR35 tokens `z..zzz`, `zzzz`, `v`, and `vvvv` respectively: https://www.unicode.org/reports/tr35/tr35-dates.html#dfst-zone\r\n *\r\n * @param timeZone - Time zone name (IANA or UTC offset)\r\n * @param date - Date object to get the time zone name for\r\n * @param format - Optional format of the time zone name. Defaults to \"long\". Can be \"short\", \"long\", \"shortGeneric\", or \"longGeneric\".\r\n *\r\n * @returns Time zone name (e.g. \"Singapore Standard Time\")\r\n */ export function tzName(timeZone, date, format = \"long\") {\r\n    return new Intl.DateTimeFormat(\"en-US\", {\r\n        // Enforces engine to render the time. Without the option JavaScriptCore omits it.\r\n        hour: \"numeric\",\r\n        timeZone: timeZone,\r\n        timeZoneName: format\r\n    }).format(date).split(/\\s/g) // Format.JS uses non-breaking spaces\r\n    .slice(2) // Skip the hour and AM/PM parts\r\n    .join(\" \");\r\n}\r\n", "const offsetFormatCache = {};\r\nconst offsetCache = {};\r\n/**\r\n * The function extracts UTC offset in minutes from the given date in specified\r\n * time zone.\r\n *\r\n * Unlike `Date.prototype.getTimezoneOffset`, this function returns the value\r\n * mirrored to the sign of the offset in the time zone. For Asia/Singapore\r\n * (UTC+8), `tzOffset` returns 480, while `getTimezoneOffset` returns -480.\r\n *\r\n * @param timeZone - Time zone name (IANA or UTC offset)\r\n * @param date - Date to check the offset for\r\n *\r\n * @returns UTC offset in minutes\r\n */ export function tzOffset(timeZone, date) {\r\n    try {\r\n        var _offsetFormatCache, _timeZone;\r\n        const format = (_offsetFormatCache = offsetFormatCache)[_timeZone = timeZone] || (_offsetFormatCache[_timeZone] = new Intl.DateTimeFormat(\"en-US\", {\r\n            timeZone,\r\n            timeZoneName: \"longOffset\"\r\n        }).format);\r\n        const offsetStr = format(date).split(\"GMT\")[1];\r\n        if (offsetStr in offsetCache) return offsetCache[offsetStr];\r\n        return calcOffset(offsetStr, offsetStr.split(\":\"));\r\n    } catch (e) {\r\n        // Fallback to manual parsing if the runtime doesn't support ±HH:MM/±HHMM/±HH\r\n        // See: https://github.com/nodejs/node/issues/53419\r\n        if (timeZone in offsetCache) return offsetCache[timeZone];\r\n        const captures = timeZone === null || timeZone === void 0 ? void 0 : timeZone.match(offsetRe);\r\n        if (captures) return calcOffset(timeZone, captures.slice(1));\r\n        return NaN;\r\n    }\r\n}\r\nconst offsetRe = /([+-]\\d\\d):?(\\d\\d)?/;\r\nfunction calcOffset(cacheStr, values) {\r\n    const hours = +(values[0] || 0);\r\n    const minutes = +(values[1] || 0);\r\n    return offsetCache[cacheStr] = hours > 0 ? hours * 60 + minutes : hours * 60 - minutes;\r\n}\r\n", "import { tzOffset } from \"../tzOffset/index.js\";\r\nexport class TZDateMini extends Date {\r\n    static tz(tz, ...args) {\r\n        return args.length ? new TZDateMini(...args, tz) : new TZDateMini(Date.now(), tz);\r\n    }\r\n    //#endregion\r\n    //#region time zone\r\n    withTimeZone(timeZone) {\r\n        return new TZDateMini(+this, timeZone);\r\n    }\r\n    getTimezoneOffset() {\r\n        return -tzOffset(this.timeZone, this);\r\n    }\r\n    //#endregion\r\n    //#region time\r\n    setTime(time) {\r\n        Date.prototype.setTime.apply(this, arguments);\r\n        syncToInternal(this);\r\n        return +this;\r\n    }\r\n    //#endregion\r\n    //#region date-fns integration\r\n    [Symbol.for(\"constructDateFrom\")](date) {\r\n        return new TZDateMini(+new Date(date), this.timeZone);\r\n    }\r\n    //#region static\r\n    constructor(...args){\r\n        super();\r\n        if (args.length > 1 && typeof args[args.length - 1] === \"string\") {\r\n            this.timeZone = args.pop();\r\n        }\r\n        this.internal = new Date();\r\n        if (isNaN(tzOffset(this.timeZone, this))) {\r\n            this.setTime(NaN);\r\n        } else {\r\n            if (!args.length) {\r\n                this.setTime(Date.now());\r\n            } else if (typeof args[0] === \"number\" && (args.length === 1 || args.length === 2 && typeof args[1] !== \"number\")) {\r\n                this.setTime(args[0]);\r\n            } else if (typeof args[0] === \"string\") {\r\n                this.setTime(+new Date(args[0]));\r\n            } else if (args[0] instanceof Date) {\r\n                this.setTime(+args[0]);\r\n            } else {\r\n                this.setTime(+new Date(...args));\r\n                adjustToSystemTZ(this, NaN);\r\n                syncToInternal(this);\r\n            }\r\n        }\r\n    }\r\n}\r\n// Assign getters and setters\r\nconst re = /^(get|set)(?!UTC)/;\r\nObject.getOwnPropertyNames(Date.prototype).forEach((method)=>{\r\n    if (!re.test(method)) return;\r\n    const utcMethod = method.replace(re, \"$1UTC\");\r\n    // Filter out methods without UTC counterparts\r\n    if (!TZDateMini.prototype[utcMethod]) return;\r\n    if (method.startsWith(\"get\")) {\r\n        // Delegate to internal date's UTC method\r\n        TZDateMini.prototype[method] = function() {\r\n            return this.internal[utcMethod]();\r\n        };\r\n    } else {\r\n        // Assign regular setter\r\n        TZDateMini.prototype[method] = function() {\r\n            Date.prototype[utcMethod].apply(this.internal, arguments);\r\n            syncFromInternal(this);\r\n            return +this;\r\n        };\r\n        // Assign UTC setter\r\n        TZDateMini.prototype[utcMethod] = function() {\r\n            Date.prototype[utcMethod].apply(this, arguments);\r\n            syncToInternal(this);\r\n            return +this;\r\n        };\r\n    }\r\n});\r\n/**\r\n * Function syncs time to internal date, applying the time zone offset.\r\n *\r\n * @param {Date} date - Date to sync\r\n */ function syncToInternal(date) {\r\n    date.internal.setTime(+date);\r\n    date.internal.setUTCMinutes(date.internal.getUTCMinutes() - date.getTimezoneOffset());\r\n}\r\n/**\r\n * Function syncs the internal date UTC values to the date. It allows to get\r\n * accurate timestamp value.\r\n *\r\n * @param {Date} date - The date to sync\r\n */ function syncFromInternal(date) {\r\n    // First we transpose the internal values\r\n    Date.prototype.setFullYear.call(date, date.internal.getUTCFullYear(), date.internal.getUTCMonth(), date.internal.getUTCDate());\r\n    Date.prototype.setHours.call(date, date.internal.getUTCHours(), date.internal.getUTCMinutes(), date.internal.getUTCSeconds(), date.internal.getUTCMilliseconds());\r\n    // Now we have to adjust the date to the system time zone\r\n    adjustToSystemTZ(date);\r\n}\r\n/**\r\n * Function adjusts the date to the system time zone. It uses the time zone\r\n * differences to calculate the offset and adjust the date.\r\n *\r\n * @param {Date} date - Date to adjust\r\n */ function adjustToSystemTZ(date) {\r\n    // Save the time zone offset before all the adjustments\r\n    const offset = tzOffset(date.timeZone, date);\r\n    //#region System DST adjustment\r\n    // The biggest problem with using the system time zone is that when we create\r\n    // a date from internal values stored in UTC, the system time zone might end\r\n    // up on the DST hour:\r\n    //\r\n    //   $ TZ=America/New_York node\r\n    //   > new Date(2020, 2, 8, 1).toString()\r\n    //   'Sun Mar 08 2020 01:00:00 GMT-0500 (Eastern Standard Time)'\r\n    //   > new Date(2020, 2, 8, 2).toString()\r\n    //   'Sun Mar 08 2020 03:00:00 GMT-0400 (Eastern Daylight Time)'\r\n    //   > new Date(2020, 2, 8, 3).toString()\r\n    //   'Sun Mar 08 2020 03:00:00 GMT-0400 (Eastern Daylight Time)'\r\n    //   > new Date(2020, 2, 8, 4).toString()\r\n    //   'Sun Mar 08 2020 04:00:00 GMT-0400 (Eastern Daylight Time)'\r\n    //\r\n    // Here we get the same hour for both 2 and 3, because the system time zone\r\n    // has DST beginning at 8 March 2020, 2 a.m. and jumps to 3 a.m. So we have\r\n    // to adjust the internal date to reflect that.\r\n    //\r\n    // However we want to adjust only if that's the DST hour the change happenes,\r\n    // not the hour where DST moves to.\r\n    // We calculate the previous hour to see if the time zone offset has changed\r\n    // and we have landed on the DST hour.\r\n    const prevHour = new Date(+date);\r\n    // We use UTC methods here as we don't want to land on the same hour again\r\n    // in case of DST.\r\n    prevHour.setUTCHours(prevHour.getUTCHours() - 1);\r\n    // Calculate if we are on the system DST hour.\r\n    const systemOffset = -new Date(+date).getTimezoneOffset();\r\n    const prevHourSystemOffset = -new Date(+prevHour).getTimezoneOffset();\r\n    const systemDSTChange = systemOffset - prevHourSystemOffset;\r\n    // Detect the DST shift. System DST change will occur both on\r\n    const dstShift = Date.prototype.getHours.apply(date) !== date.internal.getUTCHours();\r\n    // Move the internal date when we are on the system DST hour.\r\n    if (systemDSTChange && dstShift) date.internal.setUTCMinutes(date.internal.getUTCMinutes() + systemDSTChange);\r\n    //#endregion\r\n    //#region System diff adjustment\r\n    // Now we need to adjust the date, since we just applied internal values.\r\n    // We need to calculate the difference between the system and date time zones\r\n    // and apply it to the date.\r\n    const offsetDiff = systemOffset - offset;\r\n    if (offsetDiff) Date.prototype.setUTCMinutes.call(date, Date.prototype.getUTCMinutes.call(date) + offsetDiff);\r\n    //#endregion\r\n    //#region Post-adjustment DST fix\r\n    const postOffset = tzOffset(date.timeZone, date);\r\n    const postSystemOffset = -new Date(+date).getTimezoneOffset();\r\n    const postOffsetDiff = postSystemOffset - postOffset;\r\n    const offsetChanged = postOffset !== offset;\r\n    const postDiff = postOffsetDiff - offsetDiff;\r\n    if (offsetChanged && postDiff) {\r\n        Date.prototype.setUTCMinutes.call(date, Date.prototype.getUTCMinutes.call(date) + postDiff);\r\n        // Now we need to check if got offset change during the post-adjustment.\r\n        // If so, we also need both dates to reflect that.\r\n        const newOffset = tzOffset(date.timeZone, date);\r\n        const offsetChange = postOffset - newOffset;\r\n        if (offsetChange) {\r\n            date.internal.setUTCMinutes(date.internal.getUTCMinutes() + offsetChange);\r\n            Date.prototype.setUTCMinutes.call(date, Date.prototype.getUTCMinutes.call(date) + offsetChange);\r\n        }\r\n    }\r\n//#endregion\r\n}\r\n", "import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\r\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\r\nimport { tzName } from \"../tzName/index.js\";\r\nimport { TZDateMini } from \"./mini.js\";\r\n/**\r\n * UTC date class. It maps getters and setters to corresponding UTC methods,\r\n * forcing all calculations in the UTC time zone.\r\n *\r\n * Combined with date-fns, it allows using the class the same way as\r\n * the original date class.\r\n *\r\n * This complete version provides not only getters, setters,\r\n * and `getTimezoneOffset`, but also the formatter functions, mirroring\r\n * all original `Date` functionality. Use this version when you need to format\r\n * a string or in an environment you don't fully control (a library).\r\n * For a minimal version, see `UTCDateMini`.\r\n */ export class TZDate extends TZDateMini {\r\n    //#region static\r\n    static tz(tz, ...args) {\r\n        return args.length ? new TZDate(...args, tz) : new TZDate(Date.now(), tz);\r\n    }\r\n    //#endregion\r\n    //#region representation\r\n    toISOString() {\r\n        const [sign, hours, minutes] = this.tzComponents();\r\n        const tz = `${sign}${hours}:${minutes}`;\r\n        return this.internal.toISOString().slice(0, -1) + tz;\r\n    }\r\n    toString() {\r\n        // \"Tue Aug 13 2024 07:50:19 GMT+0800 (Singapore Standard Time)\";\r\n        return `${this.toDateString()} ${this.toTimeString()}`;\r\n    }\r\n    toDateString() {\r\n        // toUTCString returns RFC 7231 (\"Mon, 12 Aug 2024 23:36:08 GMT\")\r\n        const [day, date, month, year] = this.internal.toUTCString().split(\" \");\r\n        // \"Tue Aug 13 2024\"\r\n        return `${day === null || day === void 0 ? void 0 : day.slice(0, -1)} ${month} ${date} ${year}`;\r\n    }\r\n    toTimeString() {\r\n        // toUTCString returns RFC 7231 (\"Mon, 12 Aug 2024 23:36:08 GMT\")\r\n        const time = this.internal.toUTCString().split(\" \")[4];\r\n        const [sign, hours, minutes] = this.tzComponents();\r\n        // \"07:42:23 GMT+0800 (Singapore Standard Time)\"\r\n        return `${time} GMT${sign}${hours}${minutes} (${tzName(this.timeZone, this)})`;\r\n    }\r\n    toLocaleString(locales, options) {\r\n        return Date.prototype.toLocaleString.call(this, locales, _object_spread_props(_object_spread({}, options), {\r\n            timeZone: (options === null || options === void 0 ? void 0 : options.timeZone) || this.timeZone\r\n        }));\r\n    }\r\n    toLocaleDateString(locales, options) {\r\n        return Date.prototype.toLocaleDateString.call(this, locales, _object_spread_props(_object_spread({}, options), {\r\n            timeZone: (options === null || options === void 0 ? void 0 : options.timeZone) || this.timeZone\r\n        }));\r\n    }\r\n    toLocaleTimeString(locales, options) {\r\n        return Date.prototype.toLocaleTimeString.call(this, locales, _object_spread_props(_object_spread({}, options), {\r\n            timeZone: (options === null || options === void 0 ? void 0 : options.timeZone) || this.timeZone\r\n        }));\r\n    }\r\n    //#endregion\r\n    //#region private\r\n    tzComponents() {\r\n        const offset = this.getTimezoneOffset();\r\n        const sign = offset > 0 ? \"-\" : \"+\";\r\n        const hours = String(Math.floor(Math.abs(offset) / 60)).padStart(2, \"0\");\r\n        const minutes = String(Math.abs(offset) % 60).padStart(2, \"0\");\r\n        return [\r\n            sign,\r\n            hours,\r\n            minutes\r\n        ];\r\n    }\r\n    //#endregion\r\n    withTimeZone(timeZone) {\r\n        return new TZDate(+this, timeZone);\r\n    }\r\n    //#region date-fns integration\r\n    [Symbol.for(\"constructDateFrom\")](date) {\r\n        return new TZDate(+new Date(date), this.timeZone);\r\n    }\r\n}\r\n", "import { isSameDate } from '@vkontakte/vkjs';\nimport { TZDateMini } from '@vkontakte/vkui-date-fns-tz';\n\nexport function parse(input: string, format: string, referenceDate: Date = new Date()): Date {\n  const match2 = /^\\d\\d/; // 00 - 99\n  const match4 = /^\\d{4}/; // 0000 - 9999\n\n  const entries: Array<[string, RegExp, (val: string) => [string, number, boolean]]> = [\n    ['yyyy', match4, (val) => ['Y', +val, true]],\n    [\n      'MM',\n      match2,\n      (val) => {\n        const numVal = +val;\n        const okay = numVal > 0 && numVal <= 12;\n\n        return ['M', numVal - 1, okay];\n      },\n    ],\n    ['dd', match2, (val) => ['D', +val, true]],\n    [\n      'HH',\n      match2,\n      (val) => {\n        const numVal = parseInt(val, 10);\n        const okay = numVal >= 0 && numVal < 24;\n\n        return ['h', numVal, okay];\n      },\n    ],\n    [\n      'mm',\n      match2,\n      (val) => {\n        const numVal = parseInt(val, 10);\n        const okay = numVal >= 0 && numVal < 60;\n\n        return ['m', numVal, okay];\n      },\n    ],\n  ];\n\n  const superRegExp = new RegExp(entries.map((item) => item[0]).join('|'), 'g');\n\n  const store: {\n    [key: string]: number;\n  } = {\n    y: referenceDate.getFullYear(),\n    M: referenceDate.getMonth(),\n    d: referenceDate.getDate(),\n    h: referenceDate.getHours(),\n    m: referenceDate.getMinutes(),\n    s: referenceDate.getSeconds(),\n    ms: referenceDate.getMilliseconds(),\n  };\n\n  let prevInputIndex = 0;\n  let lastNonFormatting = '';\n  let lastFormatIndex = 0;\n  let found = false;\n\n  while (true) {\n    const match = superRegExp.exec(format);\n\n    if (!match) {\n      break;\n    }\n\n    const length = match[0].length;\n    const atIndex = superRegExp.lastIndex - length;\n\n    const item = entries.find((item) => item[0] === match[0])!;\n\n    lastNonFormatting = format.slice(lastFormatIndex, atIndex);\n    lastFormatIndex = superRegExp.lastIndex;\n\n    if (\n      input.slice(prevInputIndex, prevInputIndex + lastNonFormatting.length) !== lastNonFormatting\n    ) {\n      return new Date('');\n    }\n\n    const value = input.slice(prevInputIndex + lastNonFormatting.length).match(item[1]);\n\n    if (!value) {\n      return new Date('');\n    }\n\n    prevInputIndex = prevInputIndex + lastNonFormatting.length + value[0].length;\n\n    const [key, newValue, okay] = item[2](value[0]);\n\n    if (!okay) {\n      return new Date('');\n    }\n\n    store[key] = newValue;\n    found = true;\n  }\n\n  if (!found) {\n    return new Date('');\n  }\n\n  const date = new Date(store.Y, store.M, store.D, store.h, store.m, store.s, store.ms);\n\n  // Since days of months are dynamic, they can't be validated in entries,\n  // so we check it here, in the finalized date\n  if (date.getMonth() !== store.M || date.getDate() !== store.D) {\n    return new Date('');\n  }\n\n  return date;\n}\n\nexport const convertDateToTimeZone = (\n  date?: Date | null,\n  timezone?: string,\n): Date | undefined | null => {\n  if (!timezone) {\n    return date;\n  }\n  if (date === null) {\n    return null;\n  }\n  return date ? TZDateMini.tz(timezone, date) : undefined;\n};\n\nexport const convertDateFromTimeZone = (\n  date?: Date | null,\n  timezone?: string,\n): Date | undefined | null => {\n  if (!timezone) {\n    return date;\n  }\n  if (date === null) {\n    return null;\n  }\n  // eslint-disable-next-line new-cap\n  const systemTimezone = Intl.DateTimeFormat().resolvedOptions().timeZone;\n  return date ? TZDateMini.tz(systemTimezone, date) : undefined;\n};\n\nconst dateOptions: Intl.DateTimeFormatOptions = {\n  day: '2-digit',\n  month: '2-digit',\n  year: 'numeric',\n};\n\n// dd.MM.yyyy\nexport const dateFormatter = /*#__PURE__*/ new Intl.DateTimeFormat('ru-RU', dateOptions);\n\nclass DateTimeFormat extends Intl.DateTimeFormat {\n  constructor() {\n    super('ru-RU', {\n      ...dateOptions,\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  }\n\n  format(date?: Date | number): string {\n    return super.format(date).replace(',', '');\n  }\n}\n\n// dd.MM.yyyy HH:mm\nexport const dateTimeFormatter = /*#__PURE__*/ new DateTimeFormat();\n\n/**\n * Возвращает дату конца месяца\n */\nexport function endOfMonth(date: Date): Date {\n  const result = new Date(date);\n  const month = result.getMonth();\n  result.setFullYear(result.getFullYear(), month + 1, 0);\n  result.setHours(23, 59, 59, 999);\n  return result;\n}\n\nexport function endOfDay(date: Date): Date {\n  const result = new Date(date);\n  result.setHours(23, 59, 59, 999);\n  return result;\n}\n\n/**\n * Проверяет, что переданные даты относятся к одному и тому же месяцу\n *\n * @example\n * ```ts\n * import assert from 'node:assert';\n * import { isSameMonth } from './date.ts';\n *\n * const d1 = new Date();\n * const d2 = new Date();\n * assert.ok(isSameMonth(d1, d2));\n * ```\n */\nexport function isSameMonth(d1: Date, d2: Date): boolean {\n  return d1.getMonth() === d2.getMonth() && d1.getFullYear() === d2.getFullYear();\n}\n\nexport function isLastDayOfMonth(date: Date) {\n  return +endOfDay(date) === +endOfMonth(date);\n}\n\nexport function isWithinInterval(date: Date, interval: [Date, Date]) {\n  const [startTime, endTime] = interval.sort((a, b) => +a - +b);\n\n  return date >= startTime && date <= endTime;\n}\n\nexport function isToday(date: Date) {\n  return isSameDate(date, new Date());\n}\n\nexport function isYesterday(date: Date) {\n  const yesterday = new Date();\n  yesterday.setDate(yesterday.getDate() - 1);\n\n  return isSameDate(date, yesterday);\n}\n\nexport function isMatch(input: string, format: string): boolean {\n  return !isNaN(+parse(input, format));\n}\n\nexport const millisecondsInSecond = 1000;\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport { useReducedMotion } from '../../lib/animation';\nimport { type SpinnerProps } from './Spinner';\n\ninterface SpinnerAnimationProps {\n  size: SpinnerProps['size'];\n}\n\nexport function SpinnerAnimation({ size = 'm' }: SpinnerAnimationProps) {\n  const isReducedMotion = useReducedMotion();\n\n  if (isReducedMotion === undefined) {\n    return null;\n  }\n\n  if (isReducedMotion) {\n    return (\n      <animate\n        attributeName=\"opacity\"\n        keyTimes=\"0; 0.5; 1\"\n        values=\"1; 0.1; 1\"\n        begin=\"0s\"\n        dur=\"2s\"\n        repeatCount=\"indefinite\"\n      />\n    );\n  }\n\n  const center = { s: 8, m: 12, l: 16, xl: 22 }[size];\n  return (\n    <animateTransform\n      attributeType=\"XML\"\n      attributeName=\"transform\"\n      type=\"rotate\"\n      from={`0 ${center} ${center}`}\n      to={`360 ${center} ${center}`}\n      dur=\"0.7s\"\n      repeatCount=\"indefinite\"\n    />\n  );\n}\n", "import * as React from 'react';\n\nfunction iconClassName(size: number) {\n  return `vkuiIcon vkuiIcon--${size} vkuiIcon--w-${size} vkuiIcon--h-${size}`;\n}\n\nexport function Icon16Spinner({ children }: React.PropsWithChildren) {\n  return (\n    <svg className={iconClassName(16)} aria-hidden=\"true\" width=\"16\" height=\"16\">\n      <path\n        fill=\"currentColor\"\n        d=\"M8 3.25a4.75 4.75 0 0 0-4.149 7.065.75.75 0 1 1-1.31.732A6.25 6.25 0 1 1 8 14.25a.75.75 0 0 1 .001-1.5 4.75 4.75 0 1 0 0-9.5Z\"\n      >\n        {children}\n      </path>\n    </svg>\n  );\n}\n\nexport function Icon24Spinner({ children }: React.PropsWithChildren) {\n  return (\n    <svg className={iconClassName(24)} aria-hidden=\"true\" width=\"24\" height=\"24\">\n      <path\n        fill=\"currentColor\"\n        d=\"M16.394 5.077A8.2 8.2 0 0 0 4.58 15.49a.9.9 0 0 1-1.628.767A10 10 0 1 1 12 22a.9.9 0 0 1 0-1.8 8.2 8.2 0 0 0 4.394-15.123\"\n      >\n        {children}\n      </path>\n    </svg>\n  );\n}\n\nexport function Icon32Spinner({ children }: React.PropsWithChildren) {\n  return (\n    <svg className={iconClassName(32)} aria-hidden=\"true\" width=\"32\" height=\"32\">\n      <path\n        fill=\"currentColor\"\n        d=\"M16 32a1.5 1.5 0 0 1 0-3c7.18 0 13-5.82 13-13S23.18 3 16 3 3 8.82 3 16c0 1.557.273 3.074.8 4.502A1.5 1.5 0 1 1 .986 21.54 16 16 0 0 1 0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16\"\n      >\n        {children}\n      </path>\n    </svg>\n  );\n}\n\nexport function Icon44Spinner({ children }: React.PropsWithChildren) {\n  return (\n    <svg className={iconClassName(44)} aria-hidden=\"true\" width=\"44\" height=\"44\">\n      <path\n        fill=\"currentColor\"\n        d=\"M22 44a1.5 1.5 0 0 1 0-3c10.493 0 19-8.507 19-19S32.493 3 22 3 3 11.507 3 22c0 2.208.376 4.363 1.103 6.397a1.5 1.5 0 1 1-2.825 1.01A22 22 0 0 1 0 22C0 9.85 9.85 0 22 0s22 9.85 22 22-9.85 22-22 22\"\n      >\n        {children}\n      </path>\n    </svg>\n  );\n}\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { hasAccessibleName } from '../../lib/accessibility';\nimport { COMMON_WARNINGS, warnOnce } from '../../lib/warnOnce';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './IconButton.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n} as const;\n\nexport interface IconButtonProps extends TappableOmitProps {\n  /**\n   * Текст кнопки-иконки. Делает ее доступной для ассистивных технологий.\n   */\n  label?: string;\n}\n\nconst warn = warnOnce('IconButton');\n\n/**\n * @see https://vkui.io/components/icon-button\n */\nexport const IconButton = ({ label, children, ...restProps }: IconButtonProps): React.ReactNode => {\n  const platform = usePlatform();\n  const { sizeY = 'none' } = useAdaptivity();\n\n  if (process.env.NODE_ENV === 'development') {\n    /* istanbul ignore next: проверка в dev mode, тест на hasAccessibleName() есть в lib/accessibility.test.tsx */\n    const isAccessible = hasAccessibleName({\n      children: [children, label],\n      ...restProps,\n    });\n\n    if (!isAccessible) {\n      warn(COMMON_WARNINGS.a11y[restProps.href ? 'link-name' : 'button-name'], 'error');\n    }\n  }\n\n  return (\n    <Tappable\n      activeEffectDelay={200}\n      activeMode=\"background\"\n      Component={restProps.href ? 'a' : 'button'}\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        platform === 'ios' && styles.ios,\n      )}\n    >\n      {label && <VisuallyHidden>{label}</VisuallyHidden>}\n      {children}\n    </Tappable>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { useAdaptivityConditionalRender } from '../../hooks/useAdaptivityConditionalRender';\n\nexport interface AdaptiveIconRendererProps {\n  /**\n   * Компонент иконки для компактного размера.\n   */\n  IconCompact: React.ComponentType<{ className?: string }>;\n  /**\n   * Компонент иконки для обычного размера.\n   */\n  IconRegular: React.ComponentType<{ className?: string }>;\n}\n\n/**\n * @since 5.4.0\n * @see https://vkui.io/components/adaptive-icon-renderer\n */\nexport const AdaptiveIconRenderer = ({\n  IconCompact,\n  IconRegular,\n}: AdaptiveIconRendererProps): React.ReactNode => {\n  const { sizeY } = useAdaptivityConditionalRender();\n\n  return (\n    <React.Fragment>\n      {sizeY.compact && <IconCompact className={sizeY.compact.className} />}\n      {sizeY.regular && <IconRegular className={sizeY.regular.className} />}\n    </React.Fragment>\n  );\n};\n", "import * as React from 'react';\nimport { AdaptivityContext } from '../../components/AdaptivityProvider/AdaptivityContext';\nimport { usePlatform } from '../usePlatform';\nimport {\n  deviceTypeMediaQueryMapProps,\n  sizeXCompactMediaQueryProps,\n  sizeXRegularMediaQueryProps,\n  sizeYCompactMediaQueryProps,\n  sizeYRegularMediaQueryProps,\n  viewWidthMediaQueryMapProps,\n} from './constants';\nimport { getAdaptiveDeviceType, getAdaptiveSizeType, getAdaptiveViewWidth } from './helpers';\nimport type { UseAdaptivityConditionalRender } from './types';\n\nexport const useAdaptivityConditionalRender = (): UseAdaptivityConditionalRender => {\n  const {\n    sizeX: sizeXContext,\n    sizeY: sizeYContext,\n    viewWidth: viewWidthContext,\n    viewHeight: viewHeightContext,\n    hasPointer: hasPointerContext,\n  } = React.useContext(AdaptivityContext);\n  const platform = usePlatform();\n\n  return React.useMemo(() => {\n    const sizeX = getAdaptiveSizeType(\n      sizeXContext,\n      sizeXCompactMediaQueryProps,\n      sizeXRegularMediaQueryProps,\n    );\n    const sizeY = getAdaptiveSizeType(\n      sizeYContext,\n      sizeYCompactMediaQueryProps,\n      sizeYRegularMediaQueryProps,\n    );\n    const viewWidth = getAdaptiveViewWidth(viewWidthContext, viewWidthMediaQueryMapProps);\n    const deviceType = getAdaptiveDeviceType(\n      viewWidthContext,\n      viewHeightContext,\n      hasPointerContext,\n      platform,\n      deviceTypeMediaQueryMapProps,\n    );\n    return {\n      sizeX,\n      sizeY,\n      viewWidth,\n      deviceType,\n    };\n  }, [\n    sizeXContext,\n    sizeYContext,\n    viewWidthContext,\n    viewHeightContext,\n    hasPointerContext,\n    platform,\n  ]);\n};\n", "import { type ElementProps } from './types';\nimport styles from '../../styles/adaptivity.module.css';\n\nexport const forcedProps = { className: '' };\n\nexport const sizeXCompactMediaQueryProps: ElementProps = {\n  className: styles['-sizeX--compact-mq'],\n};\n\nexport const sizeXRegularMediaQueryProps: ElementProps = {\n  className: styles['-sizeX--regular-mq'],\n};\n\nexport const sizeYCompactMediaQueryProps: ElementProps = {\n  className: styles['-sizeY--compact-mq'],\n};\n\nexport const sizeYRegularMediaQueryProps: ElementProps = {\n  className: styles['-sizeY--regular-mq'],\n};\n\nexport const viewWidthMediaQueryMapProps: Record<'tabletMinus' | 'tabletPlus', ElementProps> = {\n  tabletMinus: { className: styles['-viewWidth--tabletMinus-mq'] },\n  tabletPlus: { className: styles['-viewWidth--tabletPlus-mq'] },\n};\n\nexport const deviceTypeMediaQueryMapProps: Record<'mobile' | 'desktop', ElementProps> = {\n  mobile: { className: styles['-deviceType--mobile-mq'] },\n  desktop: { className: styles['-deviceType--desktop-mq'] },\n};\n", "import {\n  type SizeTypeValues,\n  tryToCheckIsDesktop,\n  type ViewHeightType,\n  ViewWidth,\n  type ViewWidthType,\n} from '../../lib/adaptivity';\nimport type { PlatformType } from '../../lib/platform';\nimport { forcedProps } from './constants';\nimport type {\n  AdaptiveDeviceType,\n  AdaptiveSizeType,\n  AdaptiveViewWidth,\n  DeviceTypeCSSBreakpoints,\n  ElementProps,\n  ViewWidthCSSBreakpoints,\n} from './types';\n\nexport const getAdaptiveSizeType = (\n  type: undefined | SizeTypeValues,\n  compactMediaQueryProps: ElementProps,\n  regularMediaQueryProps: ElementProps,\n): AdaptiveSizeType => {\n  return {\n    compact: type === undefined ? compactMediaQueryProps : type === 'compact' ? forcedProps : false,\n    regular: type === undefined ? regularMediaQueryProps : type === 'regular' ? forcedProps : false,\n  };\n};\n\nexport const getAdaptiveViewWidth = (\n  viewWidth: undefined | ViewWidthType,\n  viewWidthMapProps: Record<ViewWidthCSSBreakpoints, ElementProps>,\n): AdaptiveViewWidth => {\n  return {\n    tabletMinus:\n      viewWidth === undefined\n        ? viewWidthMapProps.tabletMinus\n        : viewWidth < ViewWidth.TABLET\n          ? forcedProps\n          : false,\n    tabletPlus:\n      viewWidth === undefined\n        ? viewWidthMapProps.tabletPlus\n        : viewWidth >= ViewWidth.TABLET\n          ? forcedProps\n          : false,\n  };\n};\n\nexport const getAdaptiveDeviceType = (\n  viewWidth: undefined | ViewWidthType,\n  viewHeight: undefined | ViewHeightType,\n  hasPointer: undefined | boolean,\n  platform: PlatformType,\n  deviceTypeMapProps: Record<DeviceTypeCSSBreakpoints, ElementProps>,\n): AdaptiveDeviceType => {\n  const isDesktop = tryToCheckIsDesktop(viewWidth, viewHeight, hasPointer, platform);\n\n  if (isDesktop === null) {\n    return {\n      mobile: deviceTypeMapProps.mobile,\n      desktop: deviceTypeMapProps.desktop,\n    };\n  }\n\n  if (isDesktop) {\n    return {\n      mobile: false,\n      desktop: forcedProps,\n    };\n  }\n\n  return {\n    mobile: forcedProps,\n    desktop: false,\n  };\n};\n", "'use client';\n\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport {\n  AdaptiveIconRenderer,\n  type AdaptiveIconRendererProps,\n} from '../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport styles from './ToolButton.module.css';\n\nconst stylesMode = {\n  primary: styles.modePrimary,\n  secondary: styles.modeSecondary,\n  tertiary: styles.modeTertiary,\n  outline: styles.modeOutline,\n};\n\nconst stylesAppearance = {\n  accent: styles.appearanceAccent,\n  neutral: styles.appearanceNeutral,\n};\n\nconst stylesDirection = {\n  row: styles.directionRow,\n  column: styles.directionColumn,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  regular: styles.sizeYRegular,\n};\n\nexport interface ToolButtonProps extends TappableOmitProps, AdaptiveIconRendererProps {\n  /**\n   * Режим отображения компонента.\n   */\n  mode?: 'primary' | 'secondary' | 'tertiary' | 'outline';\n  /**\n   * Внешний вид компонента.\n   */\n  appearance?: 'accent' | 'neutral';\n  /**\n   * Направление контента.\n   */\n  direction?: 'row' | 'column';\n  /**\n   * Задаёт `50%` закругления для контейнера.\n   *\n   * > Note: игнорируется при `direction=\"column\"` если передан `children`.\n   */\n  rounded?: boolean;\n}\n\n/**\n * Кнопки, которые используются для вызова инструмента, вставки аттачей или\n * для форматирования. Их можно использовать как кнопки для разового действия\n * или для включения/выключения режима.\n *\n * @see https://vkui.io/components/tool-button\n */\nexport const ToolButton = ({\n  mode = 'primary',\n  appearance = 'accent',\n  direction = 'row',\n  children,\n  IconCompact,\n  IconRegular,\n  rounded,\n  ...restProps\n}: ToolButtonProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const hasChildren = hasReactNode(children);\n\n  return (\n    <Tappable\n      hoverMode={styles.hover}\n      activeMode={styles.active}\n      Component={restProps.href ? 'a' : 'button'}\n      focusVisibleMode=\"outside\"\n      baseClassName={classNames(\n        styles.host,\n        rounded && getRoundedClassName(direction, hasChildren),\n        hasChildren && direction === 'row' && styles.withFakeEndIcon,\n        stylesMode[mode],\n        stylesAppearance[appearance],\n        stylesDirection[direction],\n        sizeY !== 'compact' && sizeYClassNames[sizeY],\n      )}\n      {...restProps}\n    >\n      <AdaptiveIconRenderer IconCompact={IconCompact} IconRegular={IconRegular} />\n      {hasChildren && <span className={styles.text}>{children}</span>}\n    </Tappable>\n  );\n};\n\nexport function getRoundedClassName(\n  direction: 'row' | 'column',\n  hasChildren: boolean,\n): string | undefined {\n  switch (direction) {\n    case 'row':\n      return styles.rounded;\n    case 'column':\n      return hasChildren ? undefined : styles.rounded;\n  }\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useDOM } from '../../lib/dom';\nimport { getNavId, type NavIdProps } from '../../lib/getNavId';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { NavTransitionProvider } from '../NavTransitionContext/NavTransitionContext';\nimport { NavTransitionDirectionProvider } from '../NavTransitionDirectionContext/NavTransitionDirectionContext';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { SplitColContext } from '../SplitCol/SplitColContext';\nimport styles from './Root.module.css';\n\nexport interface RootProps extends HTMLAttributesWithRootRef<HTMLDivElement>, NavIdProps {\n  /**\n   * `id` активной `View`.\n   */\n  activeView: string;\n  /**\n   * Обработчик, который вызывается при завершении анимации смены активной `View`.\n   */\n  onTransition?: (params: { isBack: boolean; from: string; to: string }) => void;\n  /**\n   * Коллекция `View`. У каждой `View` должен быть `id`.\n   */\n  children: React.ReactElement | Iterable<React.ReactElement>;\n}\n\n/* eslint-disable jsdoc/require-jsdoc */\nexport interface RootState {\n  activeView: string;\n  transition: boolean;\n  isBack?: boolean;\n  prevView?: string;\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nconst warn = warnOnce('Root');\n\n/**\n * @see https://vkui.io/components/root\n */\nexport const Root = ({\n  children,\n  activeView: _activeView,\n  onTransition,\n  nav,\n  ...restProps\n}: RootProps): React.ReactNode => {\n  const scroll = React.useContext(ScrollContext);\n  const platform = usePlatform();\n  const { document } = useDOM();\n  const scrolls = React.useRef<Record<string, number>>({}).current;\n  const viewNodes = React.useRef<Record<string, HTMLElement | null>>({}).current;\n\n  const { transitionMotionEnabled = true } = useConfigProvider();\n  const { animate } = React.useContext(SplitColContext);\n  const disableAnimation = !transitionMotionEnabled || !animate;\n\n  const views = React.Children.toArray(children) as Array<React.ReactElement<NavIdProps>>;\n\n  const [{ prevView, activeView, transition, isBack }, _setState] = React.useState<RootState>({\n    activeView: _activeView,\n    transition: false,\n  });\n  const transitionTo = (panel: string) => {\n    if (panel !== activeView) {\n      const viewIds = views.map((view) => getNavId(view.props, warn));\n      const isBack = viewIds.indexOf(panel) < viewIds.indexOf(activeView);\n      scrolls[activeView] = scroll.getScroll().y;\n      _setState({\n        activeView: panel,\n        prevView: activeView,\n        transition: !disableAnimation,\n        isBack,\n      });\n    }\n  };\n  const finishTransition = React.useCallback(\n    () => _setState({ activeView, prevView, isBack, transition: false }),\n    [activeView, isBack, prevView],\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    (document!.activeElement as HTMLElement).blur();\n  }, [activeView]);\n\n  // Нужен переход\n  useIsomorphicLayoutEffect(() => transitionTo(_activeView), [_activeView]);\n  useIsomorphicLayoutEffect(() => {\n    if (!transition && prevView) {\n      // Закончился переход\n      scroll.scrollTo(0, isBack ? scrolls[activeView] : 0);\n      onTransition &&\n        onTransition({\n          isBack: Boolean(isBack),\n          from: prevView,\n          to: activeView,\n        });\n    }\n  }, [transition, prevView]);\n\n  React.useEffect(\n    function onAnimationEndFallback() {\n      if (transition && disableAnimation) {\n        finishTransition();\n      }\n    },\n    [transition, disableAnimation, finishTransition],\n  );\n\n  const onAnimationEnd = () => {\n    finishTransition();\n  };\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        transition && styles.transition,\n      )}\n    >\n      {views.map((view) => {\n        const viewId = getNavId(view.props, warn);\n        if (viewId !== activeView && !(transition && viewId === prevView)) {\n          return null;\n        }\n        const isTransitionTarget = transition && viewId === (isBack ? prevView : activeView);\n        const compensateScroll =\n          transition && (viewId === prevView || (isBack && viewId === activeView));\n        return (\n          <div\n            key={viewId}\n            ref={(e) => {\n              viewId && (viewNodes[viewId] = e);\n            }}\n            onAnimationEnd={isTransitionTarget ? onAnimationEnd : undefined}\n            className={classNames(\n              styles.view,\n              transition && viewId === prevView && isBack && styles.viewHideBack,\n              transition && viewId === prevView && !isBack && styles.viewHideForward,\n              transition && viewId === activeView && isBack && styles.viewShowBack,\n              transition && viewId === activeView && !isBack && styles.viewShowForward,\n            )}\n          >\n            <NavTransitionDirectionProvider isBack={isBack}>\n              <NavTransitionProvider entering={transition && viewId === activeView}>\n                <div\n                  className={styles.scrollCompensation}\n                  style={{\n                    marginTop: compensateScroll ? viewId && -(scrolls[viewId] ?? 0) : undefined,\n                  }}\n                >\n                  {view}\n                </div>\n              </NavTransitionProvider>\n            </NavTransitionDirectionProvider>\n          </div>\n        );\n      })}\n    </RootComponent>\n  );\n};\n", "import type { WarnOnceHandler } from './warnOnce';\n\nexport interface NavIdProps {\n  /** Уникальный идентификатор навигационного элемента (вместо id) */\n  nav?: string;\n  id?: string;\n}\n\nexport function getNavId(props: NavIdProps, warn?: WarnOnceHandler): string | undefined {\n  const id = props.nav || props.id;\n  if (process.env.NODE_ENV === 'development' && !id && warn) {\n    warn('Навигационный элемент должен иметь свойство \"nav\" или \"id\"', 'error');\n  }\n  return id;\n}\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\n\nexport interface TransitionContextProps {\n  entering: boolean;\n}\nconst TransitionContext = React.createContext<TransitionContextProps>({\n  entering: false,\n});\nexport const useNavTransition = (): TransitionContextProps => React.useContext(TransitionContext);\n\nexport const NavTransitionProvider = ({\n  children,\n  entering,\n}: React.PropsWithChildren<TransitionContextProps>): React.ReactNode => {\n  const parentContext = useNavTransition();\n  const contextValue = React.useMemo(\n    () => ({\n      entering: parentContext.entering || entering,\n    }),\n    [entering, parentContext.entering],\n  );\n\n  return <TransitionContext.Provider value={contextValue}>{children}</TransitionContext.Provider>;\n};\n", "'use client';\n\nimport * as React from 'react';\n\ntype DirectionContextType = boolean | undefined;\n\nconst TransitionDirectionContext = React.createContext<DirectionContextType>(undefined);\n\nexport const NavTransitionDirectionProvider = ({\n  children,\n  isBack: isBackProp,\n}: React.PropsWithChildren<{ isBack: DirectionContextType }>): React.ReactNode => {\n  const parentIsBack = React.useContext(TransitionDirectionContext);\n  // if local isBack is undefined then transition happend on the parent side (probably Root)\n  const isBack = isBackProp !== undefined ? isBackProp : parentIsBack;\n\n  // 'direction' should always represent the direction state of the panel on mount\n  // save the on mount value of the panel to the state\n  // to make sure we don't trigger new re-render for the panel\n  // due to change in the prop passed to provider\n  const [isBackOnMount] = React.useState<DirectionContextType>(isBack);\n\n  return (\n    <TransitionDirectionContext.Provider value={isBackOnMount}>\n      {children}\n    </TransitionDirectionContext.Provider>\n  );\n};\n\nexport type TransitionDirection = undefined | 'forwards' | 'backwards';\n\nexport const useNavDirection = (): TransitionDirection => {\n  const isBack = React.useContext(TransitionDirectionContext);\n  const transitionDirection = isBack === undefined ? undefined : isBack ? 'backwards' : 'forwards';\n\n  return transitionDirection;\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { usePrevious } from '../../hooks/usePrevious';\nimport { millisecondsInSecond } from '../../lib/date';\nimport { blurActiveElement, useDOM } from '../../lib/dom';\nimport { getNavId, type NavIdProps } from '../../lib/getNavId';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { useScroll } from '../AppRoot/ScrollContext';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { NavViewIdContext } from '../NavIdContext/NavIdContext';\nimport { NavTransitionProvider } from '../NavTransitionContext/NavTransitionContext';\nimport { NavTransitionDirectionProvider } from '../NavTransitionDirectionContext/NavTransitionDirectionContext';\nimport { useSplitCol } from '../SplitCol/SplitColContext';\nimport { type CustomTouchEvent, Touch } from '../Touch/Touch';\nimport { useLayoutEffectCall } from './useLayoutEffectCall';\nimport {\n  getSwipeBackPredicates,\n  hasHorizontalScrollableElementWithScrolledToLeft,\n  swipeBackExcluded,\n} from './utils';\nimport styles from './View.module.css';\n\ninterface Scrolls {\n  [index: string]: number | undefined;\n}\n\ninterface ViewsScrolls {\n  [index: string]: Scrolls;\n}\n\nexport let scrollsCache: ViewsScrolls = {};\n\nexport interface ViewProps extends HTMLAttributesWithRootRef<HTMLElement>, NavIdProps {\n  /**\n   * `id` активной панели.\n   */\n  activePanel: string;\n  /**\n   * Обработчик, который вызывается при завершении анимации смены активной панели.\n   */\n  onTransition?: (params: { isBack: boolean; from: string; to: string }) => void;\n  /**\n   * Обработчик свайпа назад.\n   */\n  onSwipeBack?: () => void;\n  /**\n   * Обработчик начала анимации свайпа назад.\n   *\n   * Чтобы остановить свайп назад, возвращайте `\"prevent\"`.\n   */\n  onSwipeBackStart?: (activePanel: string | null) => void | 'prevent';\n  /**\n   * Обработчик завершения анимации отмененного пользователем свайпа.\n   */\n  onSwipeBackCancel?: () => void;\n  /**\n   * Массив из id панелей в порядке открытия.\n   */\n  history?: string[];\n  /**\n   * Коллекция Panel. У каждой Panel должен быть уникальный `id`.\n   */\n  children: React.ReactElement | Iterable<React.ReactElement>;\n}\n\nconst warn = warnOnce('View');\n\n/**\n * @see https://vkui.io/components/view\n */\nexport const View = ({\n  activePanel: activePanelProp,\n  history,\n  nav,\n  onTransition,\n  onSwipeBack,\n  onSwipeBackStart,\n  onSwipeBackCancel: onSwipeBackCancelProp,\n  children,\n  className,\n  ...restProps\n}: ViewProps): React.ReactNode => {\n  const id = getNavId({ nav, id: restProps.id });\n  const scrolls = React.useRef(scrollsCache[id as string] || {});\n  const layoutEffectCall = useLayoutEffectCall();\n\n  React.useEffect(() => () => {\n    if (id) {\n      scrollsCache[id] = scrolls.current;\n    }\n  });\n\n  const panelNodes = React.useRef<{ [id: string]: HTMLDivElement | null }>({});\n\n  const { window, document } = useDOM();\n  const scroll = useScroll();\n  const configProvider = useConfigProvider();\n  const splitCol = useSplitCol();\n  const platform = usePlatform();\n\n  const [animated, setAnimated] = React.useState(false);\n\n  const [visiblePanels, setVisiblePanels] = React.useState([activePanelProp]);\n  const [activePanel, setActivePanel] = React.useState<string | null>(activePanelProp);\n  const [isBack, setIsBack] = React.useState<boolean | undefined>(undefined);\n  const [prevPanel, setPrevPanel] = React.useState<string | null>(null);\n  const [nextPanel, setNextPanel] = React.useState<string | null>(null);\n\n  const swipeBackPrevented = React.useRef<boolean>(false);\n  const [swipingBack, setSwipingBack] = React.useState<boolean | undefined>(undefined);\n  const [swipeBackStartX, setSwipeBackStartX] = React.useState<number>(0);\n  const [swipeBackShift, setSwipeBackShift] = React.useState<number>(0);\n  const [swipeBackNextPanel, setSwipeBackNextPanel] = React.useState<string | null>(null);\n  const [swipeBackPrevPanel, setSwipeBackPrevPanel] = React.useState<string | null>(null);\n  const [swipeBackResult, setSwipeBackResult] = React.useState<'success' | 'fail' | null>(null);\n\n  const [browserSwipe, setBrowserSwipe] = React.useState(false);\n\n  const prevActivePanel = usePrevious(activePanelProp);\n  const prevSwipingBack = usePrevious(swipingBack);\n  const prevBrowserSwipe = usePrevious(browserSwipe);\n  const prevSwipeBackResult = usePrevious(swipeBackResult);\n  const prevSwipeBackShift = usePrevious(swipeBackShift);\n  const prevSwipeBackPrevPanel = usePrevious(swipeBackPrevPanel);\n  const prevOnTransition = usePrevious(onTransition);\n\n  const panels = (React.Children.toArray(children) as Array<React.ReactElement<NavIdProps>>).filter(\n    (panel) => {\n      const panelId = getNavId(panel.props, warn);\n\n      return (\n        (panelId !== undefined && visiblePanels.includes(panelId)) ||\n        panelId === swipeBackPrevPanel ||\n        panelId === swipeBackNextPanel\n      );\n    },\n  );\n\n  const disableAnimation =\n    !configProvider.transitionMotionEnabled || !splitCol.animate || platform === 'vkcom';\n  const iOSSwipeBackSimulationEnabled =\n    !disableAnimation && platform === 'ios' && configProvider.isWebView && Boolean(onSwipeBack);\n\n  const flushTransition = React.useCallback(\n    (prevPanel: string, isBackTransition: boolean) => {\n      if (isBackTransition) {\n        scrolls.current[prevPanel] = 0;\n      }\n      setPrevPanel(null);\n      setNextPanel(null);\n      setVisiblePanels([activePanelProp]);\n      setActivePanel(activePanelProp);\n      setAnimated(false);\n      setIsBack(isBackTransition);\n\n      layoutEffectCall(() => {\n        scroll?.scrollTo(0, isBackTransition ? scrolls.current[activePanelProp] : 0);\n        onTransition &&\n          onTransition({\n            isBack: isBackTransition,\n            from: prevPanel,\n            to: activePanelProp,\n          });\n      });\n    },\n    [activePanelProp, layoutEffectCall, onTransition, scroll],\n  );\n\n  const handleAnimatedTargetAnimationEnd = () => {\n    if (prevPanel !== null) {\n      flushTransition(prevPanel, Boolean(isBack));\n    }\n  };\n\n  const onSwipeBackSuccess = React.useCallback(() => {\n    onSwipeBack && onSwipeBack();\n  }, [onSwipeBack]);\n\n  const onSwipeBackCancel = React.useCallback(() => {\n    onSwipeBackCancelProp && onSwipeBackCancelProp();\n    setSwipeBackPrevPanel(null);\n    setSwipeBackNextPanel(null);\n    setSwipingBack(false);\n    setSwipeBackResult(null);\n    setSwipeBackStartX(0);\n    setSwipeBackShift(0);\n  }, [onSwipeBackCancelProp]);\n\n  const swipingBackTransitionEndHandler = React.useCallback(() => {\n    switch (swipeBackResult) {\n      case 'fail':\n        onSwipeBackCancel();\n        break;\n      case 'success':\n        onSwipeBackSuccess();\n    }\n  }, [onSwipeBackCancel, onSwipeBackSuccess, swipeBackResult]);\n\n  const handleTouchMoveXForNativeIOSSwipeBackOrSwipeNext = (event: CustomTouchEvent) => {\n    if (browserSwipe) {\n      return;\n    }\n    const { swipeBackTriggered, viewportStartEdgeTouched, viewportEndEdgeTouched } =\n      getSwipeBackPredicates(event.startX, event.shiftX, window!.innerWidth);\n\n    if ((viewportStartEdgeTouched || viewportEndEdgeTouched) && swipeBackTriggered) {\n      setBrowserSwipe(true);\n    }\n  };\n\n  const handleTouchMoveXForIOSSwipeBackSimulation = (event: CustomTouchEvent) => {\n    if (swipeBackPrevented.current || swipeBackExcluded(event)) {\n      return;\n    }\n\n    const { swipedToOpposite, swipeBackTriggered, viewportStartEdgeTouched } =\n      getSwipeBackPredicates(event.startX, event.shiftX, window!.innerWidth);\n\n    if (animated && swipeBackTriggered) {\n      return;\n    }\n\n    if (!swipingBack && history && history.length > 1) {\n      if (swipedToOpposite) {\n        swipeBackPrevented.current = true;\n        return;\n      }\n\n      if (!swipeBackTriggered) {\n        return;\n      }\n\n      if (\n        !viewportStartEdgeTouched &&\n        hasHorizontalScrollableElementWithScrolledToLeft(event.originalEvent.target as HTMLElement)\n      ) {\n        swipeBackPrevented.current = true;\n        return;\n      }\n      // Начался свайп назад\n      if (onSwipeBackStart) {\n        const payload = onSwipeBackStart(activePanel);\n        if (payload === 'prevent') {\n          swipeBackPrevented.current = true;\n          return;\n        }\n      }\n\n      if (activePanel !== null) {\n        // Note: вызываем закрытие клавиатуры. В iOS это нативное поведение при свайпе.\n        blurActiveElement(document);\n        scrolls.current[activePanel] = scroll?.getScroll().y;\n      }\n\n      setSwipingBack(true);\n      setSwipeBackStartX(event.startX);\n      setSwipeBackPrevPanel(activePanel);\n      setSwipeBackNextPanel(history.slice(-2)[0]);\n    }\n\n    if (swipingBack) {\n      if (event.shiftX < 0) {\n        setSwipeBackShift(0);\n      } else if (event.shiftX > window!.innerWidth - swipeBackStartX) {\n        setSwipeBackShift(window!.innerWidth);\n      } else {\n        setSwipeBackShift(event.shiftX);\n      }\n    }\n  };\n\n  const handleTouchEndForIOSSwipeBackSimulation = (event: CustomTouchEvent) => {\n    swipeBackPrevented.current = false;\n    if (swipingBack) {\n      const speed = (swipeBackShift / event.duration) * millisecondsInSecond;\n      if (swipeBackShift === 0) {\n        onSwipeBackCancel();\n      } else if (swipeBackShift >= (window!.innerWidth ?? 0)) {\n        onSwipeBackSuccess();\n      } else if (speed > 250 || swipeBackShift >= window!.innerWidth / 2) {\n        setSwipeBackResult('success');\n      } else {\n        setSwipeBackResult('fail');\n      }\n    }\n  };\n\n  const calcPanelSwipeStyles = (isPrev: boolean, isNext: boolean): React.CSSProperties => {\n    if ((!isPrev && !isNext) || swipeBackResult) {\n      return {};\n    }\n\n    if (isNext) {\n      return window\n        ? {\n            transform: `translate3d(${-50 + (swipeBackShift * 100) / window.innerWidth / 2}%, 0, 0)`,\n          }\n        : {};\n    }\n\n    if (isPrev) {\n      return { transform: `translate3d(${swipeBackShift}px, 0, 0)` };\n    }\n\n    return {};\n  };\n\n  const calcPanelSwipeBackOverlayStyles = (isNext: boolean): React.CSSProperties => {\n    if (!window || !isNext) {\n      return {};\n    }\n    const opacityOnSwipeEnd =\n      swipeBackResult === 'success' ? 0 : swipeBackResult === 'fail' ? 1 : null;\n\n    return {\n      display: 'block',\n      opacity:\n        opacityOnSwipeEnd === null ? 1 - swipeBackShift / window.innerWidth : opacityOnSwipeEnd,\n    };\n  };\n\n  const handleSwipeBackTargetTransitionEnd = (event: React.TransitionEvent<HTMLDivElement>) => {\n    if (event.propertyName.includes('transform')) {\n      swipingBackTransitionEndHandler();\n    }\n  };\n\n  React.useEffect(() => {\n    // Нужен переход\n    if (\n      prevActivePanel &&\n      prevActivePanel !== activePanelProp &&\n      !prevSwipingBack &&\n      !prevBrowserSwipe\n    ) {\n      const firstLayerId = (\n        React.Children.toArray(children) as Array<React.ReactElement<NavIdProps>>\n      )\n        .map((panel) => getNavId(panel.props, warn))\n        .find((id) => id === prevActivePanel || id === activePanelProp);\n\n      const isBackTransition = firstLayerId === activePanelProp;\n      scrolls.current[prevActivePanel] = scroll?.getScroll({ compensateKeyboardHeight: false }).y;\n\n      if (disableAnimation) {\n        flushTransition(prevActivePanel, isBackTransition);\n      } else {\n        blurActiveElement(document);\n\n        setVisiblePanels([prevActivePanel, activePanelProp]);\n        setPrevPanel(prevActivePanel);\n        setNextPanel(activePanelProp);\n        setActivePanel(null);\n        setAnimated(true);\n        setIsBack(isBackTransition);\n      }\n    }\n\n    // Закончилась анимация свайпа назад\n    if (prevActivePanel && prevActivePanel !== activePanelProp && prevSwipingBack) {\n      const nextPanel = activePanelProp;\n      const prevPanel = prevActivePanel;\n      if (prevSwipeBackPrevPanel) {\n        scrolls.current[prevSwipeBackPrevPanel] = 0;\n      }\n\n      setSwipeBackPrevPanel(null);\n      setSwipeBackNextPanel(null);\n      setSwipingBack(false);\n      setSwipeBackResult(null);\n      setSwipeBackStartX(0);\n      setSwipeBackShift(0);\n      setActivePanel(nextPanel);\n      setVisiblePanels([nextPanel]);\n      setIsBack(true);\n\n      layoutEffectCall(() => {\n        if (nextPanel !== null) {\n          scroll?.scrollTo(0, scrolls.current[nextPanel]);\n        }\n        prevOnTransition &&\n          prevOnTransition({\n            isBack: true,\n            from: prevPanel,\n            to: nextPanel,\n          });\n      });\n    }\n\n    // Началась анимация завершения свайпа назад.\n    // см. `onTransitionEnd()`\n\n    // Закончился Safari свайп\n    if (prevActivePanel !== activePanelProp && browserSwipe) {\n      setBrowserSwipe(false);\n      setNextPanel(null);\n      setPrevPanel(null);\n      setAnimated(false);\n      setVisiblePanels([activePanelProp]);\n      setActivePanel(activePanelProp);\n    }\n  }, [\n    activePanelProp,\n    activePanel,\n    browserSwipe,\n    children,\n    disableAnimation,\n    document,\n    flushTransition,\n    prevActivePanel,\n    prevBrowserSwipe,\n    prevOnTransition,\n    prevSwipeBackPrevPanel,\n    prevSwipeBackResult,\n    prevSwipingBack,\n    scroll,\n    swipeBackNextPanel,\n    swipeBackResult,\n    layoutEffectCall,\n  ]);\n\n  React.useEffect(\n    function restoreScrollPositionWhenSwipeBackIsCancelled() {\n      // Если свайп назад отменился (когда пользователь недостаточно сильно свайпнул)\n      const swipeBackCancelledInTheMiddleOfAction =\n        prevSwipeBackResult === 'fail' && !swipeBackResult;\n      const swipeBackCancelledByMovingPanelBackToInitialPoint =\n        prevSwipingBack && !swipingBack && prevSwipeBackShift === 0;\n\n      if (\n        (swipeBackCancelledInTheMiddleOfAction ||\n          swipeBackCancelledByMovingPanelBackToInitialPoint) &&\n        activePanel !== null\n      ) {\n        scroll?.scrollTo(0, scrolls.current[activePanel]);\n      }\n    },\n    [\n      prevSwipeBackResult,\n      swipeBackResult,\n      prevSwipingBack,\n      swipingBack,\n      prevSwipeBackShift,\n      activePanel,\n      scroll,\n    ],\n  );\n\n  return (\n    <NavViewIdContext.Provider value={id}>\n      <Touch\n        Component=\"section\"\n        {...restProps}\n        className={classNames(\n          styles.host,\n          platform === 'ios' && classNames(styles.ios, 'vkuiInternalView--ios'),\n          !disableAnimation && animated && styles.animated,\n          !disableAnimation && swipingBack && styles.swipingBack,\n          disableAnimation && styles.noMotion,\n          className,\n        )}\n        onMoveX={\n          iOSSwipeBackSimulationEnabled\n            ? handleTouchMoveXForIOSSwipeBackSimulation\n            : platform === 'ios'\n              ? handleTouchMoveXForNativeIOSSwipeBackOrSwipeNext\n              : undefined\n        }\n        onEnd={iOSSwipeBackSimulationEnabled ? handleTouchEndForIOSSwipeBackSimulation : undefined}\n      >\n        <div className={styles.panels}>\n          {panels.map((panel) => {\n            const panelId = getNavId(panel.props, warn);\n\n            const isPanelActive = panelId === activePanel;\n            const isPanelPrev = panelId === prevPanel;\n            const isPanelNext = panelId === nextPanel;\n            const isAnimatedTarget = animated && (isBack ? isPanelPrev : isPanelNext);\n\n            const isSwipeBackPrev = panelId === swipeBackPrevPanel;\n            const isSwipeBackNext = panelId === swipeBackNextPanel;\n            const isSwipeBackTarget = swipeBackResult && isSwipeBackPrev;\n\n            let scrollCompensateStyle: React.CSSProperties | undefined = undefined;\n\n            if (isPanelPrev || (isPanelNext && isBack) || isSwipeBackPrev || isSwipeBackNext) {\n              const marginTop = scrolls.current[panelId];\n              if (marginTop !== undefined) {\n                scrollCompensateStyle = { marginTop: -1 * marginTop };\n              }\n            }\n\n            return (\n              <div\n                className={classNames(\n                  styles.panel,\n\n                  isPanelActive && styles.panelActive,\n                  isPanelPrev && styles.panelPrev,\n                  isPanelNext && styles.panelNext,\n\n                  isSwipeBackPrev && styles.panelSwipeBackPrev,\n                  isSwipeBackNext && styles.panelSwipeBackNext,\n                  swipeBackResult === 'success' && styles.panelSwipeBackSuccess,\n                  swipeBackResult === 'fail' && styles.panelSwipeBackFailed,\n                )}\n                onTransitionEnd={isSwipeBackTarget ? handleSwipeBackTargetTransitionEnd : undefined}\n                onAnimationEnd={isAnimatedTarget ? handleAnimatedTargetAnimationEnd : undefined}\n                ref={(el) => {\n                  panelId !== undefined && (panelNodes.current[panelId] = el);\n                }}\n                style={calcPanelSwipeStyles(isSwipeBackPrev, isSwipeBackNext)}\n                key={panelId}\n              >\n                {platform === 'ios' && (\n                  <div\n                    className={styles.panelOverlay}\n                    style={calcPanelSwipeBackOverlayStyles(isSwipeBackNext)}\n                  />\n                )}\n                <div className={styles.panelIn} style={scrollCompensateStyle}>\n                  <NavTransitionDirectionProvider isBack={swipingBack || isBack}>\n                    <NavTransitionProvider\n                      entering={panelId === nextPanel || panelId === swipeBackNextPanel}\n                    >\n                      {panel}\n                    </NavTransitionProvider>\n                  </NavTransitionDirectionProvider>\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </Touch>\n    </NavViewIdContext.Provider>\n  );\n};\n", "import * as React from 'react';\n\n/**\n * @deprecated постарайтесь избавится от этого хука или используйте `useStateWithPrev`\n */\nexport function usePrevious<T>(value: T): T | undefined {\n  const ref = React.useRef<T | undefined>(undefined);\n\n  React.useEffect(() => {\n    ref.current = value;\n  });\n\n  /**\n   * ref.current нельзя читать во время рендеринга\n   *\n   * - see https://react.dev/reference/react/useRef\n   * - also https://react.dev/reference/react/useState#storing-information-from-previous-renders\n   */\n  return ref.current;\n}\n", "'use client';\n\nimport * as React from 'react';\n\nexport const NavViewIdContext: React.Context<string | undefined> = React.createContext<\n  string | undefined\n>(undefined);\nexport const NavPanelIdContext: React.Context<string | undefined> = React.createContext<\n  string | undefined\n>(undefined);\n", "'use client';\n\nimport * as React from 'react';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useStableCallback } from '../../hooks/useStableCallback';\nimport { getWindow, isHTMLElement, isSVGElement } from '../../lib/dom';\nimport { coordX, coordY, touchEnabled, type VKUITouchEvent } from '../../lib/touch';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HasComponent, HasRootRef } from '../../types';\n\n/**\n * Костыль для правильной работы тайпскрипта.\n */\ntype HTMLorSVGElementWithEvents = {\n  /**\n   * AddEventListener.\n   */\n  addEventListener: (<K extends keyof HTMLElementEventMap>(\n    type: K,\n    listener: (this: HTMLElement, ev: HTMLElementEventMap[K]) => any,\n    options?: boolean | AddEventListenerOptions,\n  ) => void) &\n    (<K extends keyof SVGElementEventMap>(\n      type: K,\n      listener: (this: SVGElement, ev: SVGElementEventMap[K]) => any,\n      options?: boolean | AddEventListenerOptions,\n    ) => void);\n  /**\n   * RemoveEventListener.\n   */\n  removeEventListener: (<K extends keyof HTMLElementEventMap>(\n    type: K,\n    listener: (this: HTMLElement, ev: HTMLElementEventMap[K]) => any,\n    options?: boolean | EventListenerOptions,\n  ) => void) &\n    (<K extends keyof SVGElementEventMap>(\n      type: K,\n      listener: (this: SVGElement, ev: SVGElementEventMap[K]) => any,\n      options?: boolean | EventListenerOptions,\n    ) => void);\n};\n\nexport interface CustomTouchEvent extends Gesture {\n  /**\n   * Оригинальное событие.\n   */\n  originalEvent: VKUITouchEvent;\n}\n\nexport type HoverHandler = (outputEvent: MouseEvent) => void;\n\nexport type CustomTouchEventHandler = (event: CustomTouchEvent) => void;\n\nexport interface TouchProps\n  extends React.AllHTMLAttributes<HTMLElement>,\n    HasRootRef<HTMLElement>,\n    HasComponent {\n  /**\n   * Использовать pointer-events для hover-состояний.\n   * Работает на отключенных элементах (disabled inputs).\n   */\n  usePointerHover?: boolean;\n  /**\n   * Использовать фазу capture для событий.\n   */\n  useCapture?: boolean;\n  /**\n   * Порог расстояния в пикселях для активации свайпа.\n   * @default 5\n   */\n  slideThreshold?: number;\n  /**\n   * Блокировать click-события после распознавания свайпа.\n   */\n  noSlideClick?: boolean;\n  /**\n   * Останавливать всплытие событий.\n   */\n  stopPropagation?: boolean;\n  /**\n   * Обработчик входа курсора в область.\n   */\n  onEnter?: HoverHandler;\n  /**\n   * Обработчик выхода курсора из области.\n   */\n  onLeave?: HoverHandler;\n  /**\n   * Общий обработчик начала взаимодействия.\n   */\n  onStart?: CustomTouchEventHandler;\n  /**\n   * Обработчик начала горизонтального перемещения.\n   */\n  onStartX?: CustomTouchEventHandler;\n  /**\n   * Обработчик начала вертикального перемещения.\n   */\n  onStartY?: CustomTouchEventHandler;\n  /**\n   * Общий обработчик перемещения.\n   */\n  onMove?: CustomTouchEventHandler;\n  /**\n   * Обработчик горизонтального перемещения.\n   */\n  onMoveX?: CustomTouchEventHandler;\n  /**\n   * Обработчик вертикального перемещения.\n   */\n  onMoveY?: CustomTouchEventHandler;\n  /**\n   * Общий обработчик завершения взаимодействия.\n   */\n  onEnd?: CustomTouchEventHandler;\n  /**\n   * Обработчик завершения горизонтального свайпа.\n   */\n  onEndX?: CustomTouchEventHandler;\n  /**\n   * Обработчик завершения вертикального свайпа.\n   */\n  onEndY?: CustomTouchEventHandler;\n}\n\nexport interface Gesture {\n  /**\n   * Начальная X-координата касания.\n   */\n  startX: number;\n\n  /**\n   * Начальная Y-координата касания.\n   */\n  startY: number;\n\n  /**\n   * Время начала взаимодействия.\n   */\n  startT: Date;\n\n  /**\n   * Длительность взаимодействия в миллисекундах.\n   */\n  duration: number;\n\n  /**\n   * Флаг активного нажатия.\n   */\n  isPressed: boolean;\n\n  /**\n   * Флаг вертикального перемещения.\n   */\n  isY: boolean;\n\n  /**\n   * Флаг горизонтального перемещения.\n   */\n  isX: boolean;\n\n  /**\n   * Флаг горизонтального свайпа.\n   */\n  isSlideX: boolean;\n\n  /**\n   * Флаг вертикального свайпа.\n   */\n  isSlideY: boolean;\n\n  /**\n   * Общий флаг свайпа (вертикального или горизонтального).\n   */\n  isSlide: boolean;\n\n  /**\n   * Текущая X-координата курсора/касания.\n   */\n  clientX: number;\n\n  /**\n   * Текущая Y-координата курсора/касания.\n   */\n  clientY: number;\n\n  /**\n   * Смещение по X относительно начальной точки.\n   */\n  shiftX: number;\n\n  /**\n   * Смещение по Y относительно начальной точки.\n   */\n  shiftY: number;\n\n  /**\n   * Абсолютное смещение по X.\n   */\n  shiftXAbs: number;\n\n  /**\n   * Абсолютное смещение по Y.\n   */\n  shiftYAbs: number;\n}\n\n/**\n * @see https://vkui.io/components/touch\n */\nexport const Touch = ({\n  onStart,\n  onStartX,\n  onStartY,\n  onMove,\n  onMoveX,\n  onMoveY,\n  onEnter,\n  onLeave,\n  onEnd,\n  onEndX,\n  onEndY,\n  onClickCapture,\n  usePointerHover,\n  slideThreshold = 5,\n  useCapture = false,\n  Component = 'div',\n  getRootRef,\n  noSlideClick = false,\n  stopPropagation = false,\n  ...restProps\n}: TouchProps) => {\n  const hostRef = useExternRef(getRootRef);\n  const [isTouchEnabled] = React.useState(touchEnabled);\n  const gestureRef = React.useRef<Gesture | null>(null);\n  const didSlide = React.useRef(false);\n  const disposeTargetNativeGestureEvents = React.useRef<VoidFunction | null>(null);\n\n  const cleanupTargetNativeGestureEvents = () => {\n    gestureRef.current = null;\n    if (disposeTargetNativeGestureEvents.current) {\n      disposeTargetNativeGestureEvents.current();\n      disposeTargetNativeGestureEvents.current = null;\n    }\n  };\n\n  React.useEffect(() => cleanupTargetNativeGestureEvents, []);\n\n  const isTouchEvent = (event: MouseEvent | TouchEvent) => {\n    return event.type.startsWith('touch');\n  };\n\n  /**\n   * Note: используем `useStableCallback()`, чтобы не терялась область видимости `onEnd`/`onEndX`/`onEndY`.\n   */\n  const handleNativePointerUp = useStableCallback((event: MouseEvent | TouchEvent) => {\n    const gesture = gestureRef.current;\n\n    /* istanbul ignore if: нужно для Typescript */\n    if (!gesture) {\n      return;\n    }\n\n    if (gesture.isPressed) {\n      dispatchUserHandlers(event, gesture, [onEnd, onEndX, onEndY], stopPropagation);\n    }\n\n    if (isTouchEvent(event)) {\n      // https://github.com/VKCOM/VKUI/issues/4414\n      // если тач-устройство и был зафиксирован touchmove,\n      // то событие клика не вызывается\n      if (gesture.isSlide) {\n        didSlide.current = false;\n      }\n      // Если это был тач-евент, симулируем отмену hover\n      if (onLeave) {\n        onLeave(event as MouseEvent);\n      }\n    } else {\n      didSlide.current = Boolean(gesture.isSlide);\n    }\n\n    cleanupTargetNativeGestureEvents();\n  });\n\n  /**\n   * Note: используем `useStableCallback()`, чтобы не терялась область видимости `onMove`/`onMoveX`/`onMoveY`.\n   */\n  const handleNativePointerMove = useStableCallback((event: MouseEvent | TouchEvent) => {\n    const gesture = gestureRef.current;\n\n    /* istanbul ignore if: нужно для Typescript */\n    if (!gesture) {\n      return;\n    }\n\n    const clientX = coordX(event);\n    const clientY = coordY(event);\n\n    // смещения\n    const shiftX = clientX - gesture.startX;\n    const shiftY = clientY - gesture.startY;\n\n    // абсолютные значения смещений\n    const shiftXAbs = Math.abs(shiftX);\n    const shiftYAbs = Math.abs(shiftY);\n\n    // Если определяем мультитач, то прерываем жест\n    if ('touches' in event && event.touches.length > 1) {\n      return handleNativePointerUp(event);\n    }\n\n    // если мы ещё не определились\n    if (!gesture.isX && !gesture.isY) {\n      const willBeX = shiftXAbs >= slideThreshold && shiftXAbs > shiftYAbs;\n      const willBeY = shiftYAbs >= slideThreshold && shiftYAbs > shiftXAbs;\n      const willBeSlidedX = willBeX && (!!onMoveX || !!onMove);\n      const willBeSlidedY = willBeY && (!!onMoveY || !!onMove);\n\n      gesture.isY = willBeY;\n      gesture.isX = willBeX;\n      gesture.isSlideX = willBeSlidedX;\n      gesture.isSlideY = willBeSlidedY;\n      gesture.isSlide = willBeSlidedX || willBeSlidedY;\n    }\n\n    if (gesture.isSlide) {\n      gesture.clientX = clientX;\n      gesture.clientY = clientY;\n      gesture.shiftX = shiftX;\n      gesture.shiftY = shiftY;\n      gesture.shiftXAbs = shiftXAbs;\n      gesture.shiftYAbs = shiftYAbs;\n\n      dispatchUserHandlers(event, gesture, [onMove, onMoveX, onMoveY], stopPropagation);\n    }\n  });\n\n  const handlePointerDown = useStableCallback(\n    (event: React.MouseEvent<HTMLElement> | React.TouchEvent<HTMLElement> | TouchEvent) => {\n      // Если touchstart сэмулировало mousedown, то заканчиваем обработку\n      if (gestureRef.current !== null) {\n        return;\n      }\n\n      const nativeEvent = 'nativeEvent' in event ? event.nativeEvent : event;\n\n      gestureRef.current = initGesture(coordX(nativeEvent), coordY(nativeEvent));\n\n      const shouldCallDirectionHandlerOnlyIsSlide = false;\n      dispatchUserHandlers(\n        event,\n        gestureRef.current,\n        [onStart, onStartX, onStartY],\n        stopPropagation,\n        shouldCallDirectionHandlerOnlyIsSlide,\n      );\n\n      const eventOptions = { capture: useCapture, passive: false };\n\n      // FIXME: заменить touch/mouse-события ниже на pointer-события после того, как бразуеры из\n      // .browserslistrc начнут поддерживать его (см. https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events#browser_compatibility).\n      if (isTouchEvent(nativeEvent)) {\n        if (isHTMLElement(event.target) || isSVGElement(event.target)) {\n          // Тач-события не всплывают, поэтому навешиваем события на целевой элемент\n          // см. #235, #1968, https://stackoverflow.com/a/45760014\n          const target: HTMLorSVGElementWithEvents = event.target;\n\n          target.addEventListener('touchmove', handleNativePointerMove, eventOptions);\n          target.addEventListener('touchend', handleNativePointerUp, eventOptions);\n          target.addEventListener('touchcancel', handleNativePointerUp, eventOptions);\n\n          disposeTargetNativeGestureEvents.current = () => {\n            target.removeEventListener('touchmove', handleNativePointerMove, eventOptions);\n            target.removeEventListener('touchend', handleNativePointerUp, eventOptions);\n            target.removeEventListener('touchcancel', handleNativePointerUp, eventOptions);\n          };\n        }\n      } else {\n        // Используем события на Document, т.к. mouse-события на целевом элементе могут теряться при\n        // выходе за границы этого элемента.\n        const doc = getWindow(event.currentTarget).document;\n\n        doc.addEventListener('mousemove', handleNativePointerMove, eventOptions);\n        doc.addEventListener('mouseup', handleNativePointerUp, eventOptions);\n        doc.addEventListener('mouseleave', handleNativePointerUp, eventOptions);\n\n        disposeTargetNativeGestureEvents.current = () => {\n          doc.removeEventListener('mousemove', handleNativePointerMove, eventOptions);\n          doc.removeEventListener('mouseup', handleNativePointerUp, eventOptions);\n          doc.removeEventListener('mouseleave', handleNativePointerUp, eventOptions);\n        };\n      }\n    },\n  );\n\n  const handlePointerEnter = onEnter\n    ? (event: React.MouseEvent<HTMLElement>) => onEnter(event.nativeEvent)\n    : undefined;\n\n  const handlePointerLeave = onLeave\n    ? (event: React.MouseEvent<HTMLElement>) => onLeave(event.nativeEvent)\n    : undefined;\n\n  /**\n   * Отменяет нативное браузерное поведение для вложенных ссылок и изображений.\n   */\n  const handleDragStart = (event: React.DragEvent<HTMLElement>) => {\n    const target = event.target as HTMLElement;\n    if (target.tagName === 'A' || target.tagName === 'IMG') {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * Отменяет переход по вложенной ссылке, если был зафиксирован свайп.\n   */\n  const handleClickCapture: typeof onClickCapture = (event) => {\n    if (!didSlide.current) {\n      return onClickCapture && onClickCapture(event);\n    }\n\n    if (noSlideClick) {\n      event.stopPropagation();\n\n      // https://github.com/VKCOM/VKUI/issues/1977\n      // https://github.com/VKCOM/VKUI/issues/3892\n      event.preventDefault();\n    } else {\n      onClickCapture && onClickCapture(event);\n    }\n\n    didSlide.current = false;\n  };\n\n  useIsomorphicLayoutEffect(\n    function initializeNativeTouchStartEventWithPassiveFalse() {\n      const hostEl = hostRef.current;\n      if (!hostEl || !isTouchEnabled) {\n        return;\n      }\n\n      const options = { capture: useCapture, passive: false };\n      hostEl.addEventListener('touchstart', handlePointerDown, options);\n\n      return () => {\n        hostEl.removeEventListener('touchstart', handlePointerDown, options);\n      };\n    },\n    [hostRef, isTouchEnabled, useCapture, handlePointerDown],\n  );\n\n  return (\n    <Component\n      {...restProps}\n      ref={hostRef}\n      onDragStart={handleDragStart}\n      onClickCapture={handleClickCapture}\n      // onEnter\n      onPointerEnter={usePointerHover ? handlePointerEnter : undefined}\n      onMouseEnter={!usePointerHover ? handlePointerEnter : undefined}\n      // onLeave\n      onPointerLeave={usePointerHover ? handlePointerLeave : undefined}\n      onMouseLeave={!usePointerHover ? handlePointerLeave : undefined}\n      // handlePointerDown(onTouchStart устанавливается отдельно через initializeNativeTouchEventStartWithPassiveFalse)\n      onMouseDownCapture={useCapture ? handlePointerDown : undefined}\n      onMouseDown={!useCapture ? handlePointerDown : undefined}\n    />\n  );\n};\n\nfunction initGesture(startX: number, startY: number): Gesture {\n  return {\n    startX,\n    startY,\n    startT: new Date(),\n    duration: 0,\n    isPressed: true,\n    isY: false,\n    isX: false,\n    isSlideX: false,\n    isSlideY: false,\n    isSlide: false,\n    clientX: 0,\n    clientY: 0,\n    shiftX: 0,\n    shiftY: 0,\n    shiftXAbs: 0,\n    shiftYAbs: 0,\n  };\n}\n\ntype Handlers = [\n  CustomTouchEventHandler | undefined,\n  CustomTouchEventHandler | undefined,\n  CustomTouchEventHandler | undefined,\n];\n\nfunction dispatchUserHandlers(\n  event: MouseEvent | TouchEvent | React.MouseEvent | React.TouchEvent,\n  gesture: Gesture,\n  [handler, handlerX, handlerY]: Handlers,\n  stopPropagation?: boolean,\n  shouldCallDirectionHandlerOnlyIsSlide = true,\n) {\n  if (stopPropagation) {\n    event.stopPropagation();\n  }\n\n  const data = {\n    ...gesture,\n    originalEvent: event as unknown as VKUITouchEvent,\n    duration: Date.now() - gesture.startT.getTime(),\n  };\n\n  if (handler) {\n    handler(data);\n  }\n\n  if (handlerX) {\n    if (shouldCallDirectionHandlerOnlyIsSlide) {\n      if (gesture.isSlideX) {\n        handlerX(data);\n      }\n    } else {\n      handlerX(data);\n    }\n  }\n\n  if (handlerY) {\n    if (shouldCallDirectionHandlerOnlyIsSlide) {\n      if (gesture.isSlideY) {\n        handlerY(data);\n      }\n    } else {\n      handlerY(data);\n    }\n  }\n}\n", "import { canUseDOM } from '../dom';\n\nexport interface VKUITouchEvent extends MouseEvent, TouchEvent {}\nexport type VKUITouchEventHandler = (e: VKUITouchEvent) => void;\n\n/*\n * Получает координату по оси абсцисс из touch- или mouse-события\n */\nconst coordX = (event: MouseEvent | TouchEvent): number => {\n  if ('clientX' in event) {\n    return event.clientX;\n  }\n  return event.changedTouches && event.changedTouches[0].clientX;\n};\n\n/*\n * Получает координату по оси ординат из touch- или mouse-события\n */\nconst coordY = (event: MouseEvent | TouchEvent): number => {\n  if ('clientY' in event) {\n    return event.clientY;\n  }\n  return event.changedTouches && event.changedTouches[0].clientY;\n};\n\n// eslint-disable-next-line no-restricted-globals\nconst touchEnabled = (): boolean => canUseDOM && 'ontouchstart' in window;\n\n/*\n * Возвращает массив поддерживаемых событий\n * Если браузер поддерживает pointer events или подключена handjs, вернет события указателя.\n * Если нет, используем события мыши\n */\nfunction getSupportedEvents(): string[] {\n  if (touchEnabled()) {\n    return ['touchstart', 'touchmove', 'touchend', 'touchcancel'];\n  }\n\n  return ['mousedown', 'mousemove', 'mouseup', 'mouseleave'];\n}\n\n/*\n * Рассчитывает \"сопротивление\" для iOS тач-событий\n */\nfunction rubber(\n  offset: number,\n  dimension: number,\n  resistanceRate: number,\n  isAndroid: boolean,\n): number {\n  if (isAndroid || offset < 0) {\n    return offset;\n  }\n\n  const offsettedResistance = offset * resistanceRate;\n  return (offsettedResistance * dimension) / (offsettedResistance + dimension);\n}\n\nexport { getSupportedEvents, coordX, coordY, touchEnabled, rubber };\n", "import { millisecondsInSecond } from '../date';\nimport { getFirstTouchEventData } from '../dom';\n\nexport type Direction = { axis: 'x' | 'y'; direction: -1 | 1 | null };\n\nexport type Coords = { x: number; y: number };\n\nconst DEFAULT_INITIAL_TIME = 0;\n\n/**\n * JS имплементация класса из UIKIt iOS.\n *\n * https://developer.apple.com/documentation/uikit/uipangesturerecognizer\n */\nexport class UIPanGestureRecognizer {\n  private initialTime = DEFAULT_INITIAL_TIME;\n  x1 = 0;\n  y1 = 0;\n  x2 = 0;\n  y2 = 0;\n\n  setInitialTimeOnce(): void {\n    if (this.initialTime === DEFAULT_INITIAL_TIME) {\n      this.initialTime = Date.now();\n    }\n  }\n\n  setStartCoords(event: UIEvent): void {\n    const { clientX, clientY } = getFirstTouchEventData(event);\n    this.x1 = clientX;\n    this.y1 = clientY;\n  }\n\n  setEndCoords(event: UIEvent): void {\n    const { clientX, clientY } = getFirstTouchEventData(event);\n    this.x2 = clientX;\n    this.y2 = clientY;\n  }\n\n  delta(): Coords {\n    return {\n      x: this.x2 - this.x1,\n      y: this.y2 - this.y1,\n    };\n  }\n\n  distance(): number {\n    const { x, y } = this.delta();\n    return Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\n  }\n\n  velocity(): Coords {\n    const deltaTime = (Date.now() - this.initialTime) / millisecondsInSecond;\n\n    if (deltaTime <= 0) {\n      return { x: 0, y: 0 };\n    }\n\n    const { x, y } = this.delta();\n    return { x: x / deltaTime, y: y / deltaTime };\n  }\n\n  angle(): number {\n    const deltaX = this.x2 - this.x1;\n    const deltaY = this.y2 - this.y1;\n    const radians = Math.atan2(deltaY, deltaX);\n    const degrees = (radians * 180) / Math.PI;\n    return degrees < 0 ? 360 + degrees : degrees;\n  }\n\n  direction(): Direction {\n    const { x, y } = this.delta();\n    return Math.abs(x) > Math.abs(y)\n      ? { axis: 'x', direction: x > 0 ? 1 : x < 0 ? -1 : null }\n      : { axis: 'y', direction: y > 0 ? 1 : y < 0 ? -1 : null };\n  }\n\n  reset(): void {\n    this.initialTime = DEFAULT_INITIAL_TIME;\n    this.x1 = this.y1 = 0;\n    this.x2 = this.y2 = 0;\n  }\n}\n", "import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\n\n/**\n * Возвращает функцию которая вызывает callback после изменения DOM, но до того\n * как пользователь увидит изменения.\n */\nexport function useLayoutEffectCall() {\n  const [fns] = React.useState<Array<() => void>>(() => []);\n\n  useIsomorphicLayoutEffect(() => {\n    while (fns.length > 0) {\n      fns.pop()!();\n    }\n  });\n\n  const add = React.useCallback((fn: () => void) => fns.push(fn), [fns]);\n\n  return add;\n}\n", "import type * as React from 'react';\nimport type {\n  AutoPlacementType,\n  FloatingPositionStrategy,\n  Placement,\n  PlacementWithAuto,\n  UseFloatingData,\n} from './types/common';\n\nexport function checkIsNotAutoPlacement(placement: PlacementWithAuto): placement is Placement {\n  return !placement.startsWith('auto');\n}\n\nexport function getAutoPlacementAlign(placement: AutoPlacementType): 'start' | 'end' | null {\n  const align = placement.replace(/auto-|auto/, '');\n  return align === 'start' || align === 'end' ? align : null;\n}\n\nexport type ConvertFloatingDataArgs = {\n  strategy: FloatingPositionStrategy;\n  x: UseFloatingData['x'];\n  y: UseFloatingData['y'];\n  initialWidth?: React.CSSProperties['width'] | null;\n  middlewareData?: UseFloatingData['middlewareData'];\n};\n\n/**\n * Note: не используем `translate3d`, чтобы в лишний раз не выносить в отдельный слой и не занимать память в GPU.\n *\n * см. https://floating-ui.com/docs/react#positioning\n */\nexport function convertFloatingDataToReactCSSProperties({\n  strategy,\n  x,\n  y,\n  initialWidth = 'max-content',\n  middlewareData,\n}: ConvertFloatingDataArgs): React.CSSProperties {\n  const styles: React.CSSProperties = {\n    position: strategy,\n    top: y,\n    right: 'auto',\n    bottom: 'auto',\n    left: x,\n  };\n  if (initialWidth !== null) {\n    styles.width = initialWidth;\n  }\n  if (middlewareData) {\n    const hide = middlewareData.hide;\n    if (hide && hide.referenceHidden) {\n      styles['visibility'] = 'hidden';\n    }\n  }\n  return styles;\n}\n\nexport const getArrowCoordsByMiddlewareData = (\n  middlewareData: UseFloatingData['middlewareData'],\n): {\n  x: number;\n  y: number;\n} => {\n  const coords = { x: 0, y: 0 };\n  if (middlewareData.arrow) {\n    const { x = 0, y = 0 } = middlewareData.arrow;\n    coords.x = x;\n    coords.y = y;\n  }\n  return coords;\n};\n", "function _array_with_holes(arr) {\r\n    if (Array.isArray(arr)) return arr;\r\n}\r\nexport { _array_with_holes as _ };\r\n", "function _iterable_to_array_limit(arr, i) {\r\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\r\n\r\n    if (_i == null) return;\r\n\r\n    var _arr = [];\r\n    var _n = true;\r\n    var _d = false;\r\n    var _s, _e;\r\n\r\n    try {\r\n        for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\r\n            _arr.push(_s.value);\r\n            if (i && _arr.length === i) break;\r\n        }\r\n    } catch (err) {\r\n        _d = true;\r\n        _e = err;\r\n    } finally {\r\n        try {\r\n            if (!_n && _i[\"return\"] != null) _i[\"return\"]();\r\n        } finally {\r\n            if (_d) throw _e;\r\n        }\r\n    }\r\n\r\n    return _arr;\r\n}\r\nexport { _iterable_to_array_limit as _ };\r\n", "function _non_iterable_rest() {\r\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\r\n}\r\nexport { _non_iterable_rest as _ };\r\n", "import { _ as _array_with_holes } from \"./_array_with_holes.js\";\r\nimport { _ as _iterable_to_array_limit } from \"./_iterable_to_array_limit.js\";\r\nimport { _ as _non_iterable_rest } from \"./_non_iterable_rest.js\";\r\nimport { _ as _unsupported_iterable_to_array } from \"./_unsupported_iterable_to_array.js\";\r\n\r\nfunction _sliced_to_array(arr, i) {\r\n    return _array_with_holes(arr) || _iterable_to_array_limit(arr, i) || _unsupported_iterable_to_array(arr, i) || _non_iterable_rest();\r\n}\r\nexport { _sliced_to_array as _ };\r\n", "import { getSideAxis, getAlignmentAxis, getAxisLength, getSide, getAlignment, evaluate, getPaddingObject, rectToClientRect, min, clamp, placements, getAlignmentSides, getOppositeAlignmentPlacement, getOppositePlacement, getExpandedPlacements, getOppositeAxisPlacements, sides, max, getOppositeAxis } from '@floating-ui/utils';\r\nexport { rectToClientRect } from '@floating-ui/utils';\r\n\r\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\r\n  let {\r\n    reference,\r\n    floating\r\n  } = _ref;\r\n  const sideAxis = getSideAxis(placement);\r\n  const alignmentAxis = getAlignmentAxis(placement);\r\n  const alignLength = getAxisLength(alignmentAxis);\r\n  const side = getSide(placement);\r\n  const isVertical = sideAxis === 'y';\r\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\r\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\r\n  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;\r\n  let coords;\r\n  switch (side) {\r\n    case 'top':\r\n      coords = {\r\n        x: commonX,\r\n        y: reference.y - floating.height\r\n      };\r\n      break;\r\n    case 'bottom':\r\n      coords = {\r\n        x: commonX,\r\n        y: reference.y + reference.height\r\n      };\r\n      break;\r\n    case 'right':\r\n      coords = {\r\n        x: reference.x + reference.width,\r\n        y: commonY\r\n      };\r\n      break;\r\n    case 'left':\r\n      coords = {\r\n        x: reference.x - floating.width,\r\n        y: commonY\r\n      };\r\n      break;\r\n    default:\r\n      coords = {\r\n        x: reference.x,\r\n        y: reference.y\r\n      };\r\n  }\r\n  switch (getAlignment(placement)) {\r\n    case 'start':\r\n      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\r\n      break;\r\n    case 'end':\r\n      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\r\n      break;\r\n  }\r\n  return coords;\r\n}\r\n\r\n/**\r\n * Computes the `x` and `y` coordinates that will place the floating element\r\n * next to a given reference element.\r\n *\r\n * This export does not have any `platform` interface logic. You will need to\r\n * write one for the platform you are using Floating UI with.\r\n */\r\nconst computePosition = async (reference, floating, config) => {\r\n  const {\r\n    placement = 'bottom',\r\n    strategy = 'absolute',\r\n    middleware = [],\r\n    platform\r\n  } = config;\r\n  const validMiddleware = middleware.filter(Boolean);\r\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\r\n  let rects = await platform.getElementRects({\r\n    reference,\r\n    floating,\r\n    strategy\r\n  });\r\n  let {\r\n    x,\r\n    y\r\n  } = computeCoordsFromPlacement(rects, placement, rtl);\r\n  let statefulPlacement = placement;\r\n  let middlewareData = {};\r\n  let resetCount = 0;\r\n  for (let i = 0; i < validMiddleware.length; i++) {\r\n    const {\r\n      name,\r\n      fn\r\n    } = validMiddleware[i];\r\n    const {\r\n      x: nextX,\r\n      y: nextY,\r\n      data,\r\n      reset\r\n    } = await fn({\r\n      x,\r\n      y,\r\n      initialPlacement: placement,\r\n      placement: statefulPlacement,\r\n      strategy,\r\n      middlewareData,\r\n      rects,\r\n      platform,\r\n      elements: {\r\n        reference,\r\n        floating\r\n      }\r\n    });\r\n    x = nextX != null ? nextX : x;\r\n    y = nextY != null ? nextY : y;\r\n    middlewareData = {\r\n      ...middlewareData,\r\n      [name]: {\r\n        ...middlewareData[name],\r\n        ...data\r\n      }\r\n    };\r\n    if (reset && resetCount <= 50) {\r\n      resetCount++;\r\n      if (typeof reset === 'object') {\r\n        if (reset.placement) {\r\n          statefulPlacement = reset.placement;\r\n        }\r\n        if (reset.rects) {\r\n          rects = reset.rects === true ? await platform.getElementRects({\r\n            reference,\r\n            floating,\r\n            strategy\r\n          }) : reset.rects;\r\n        }\r\n        ({\r\n          x,\r\n          y\r\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\r\n      }\r\n      i = -1;\r\n    }\r\n  }\r\n  return {\r\n    x,\r\n    y,\r\n    placement: statefulPlacement,\r\n    strategy,\r\n    middlewareData\r\n  };\r\n};\r\n\r\n/**\r\n * Resolves with an object of overflow side offsets that determine how much the\r\n * element is overflowing a given clipping boundary on each side.\r\n * - positive = overflowing the boundary by that number of pixels\r\n * - negative = how many pixels left before it will overflow\r\n * - 0 = lies flush with the boundary\r\n * @see https://floating-ui.com/docs/detectOverflow\r\n */\r\nasync function detectOverflow(state, options) {\r\n  var _await$platform$isEle;\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n  const {\r\n    x,\r\n    y,\r\n    platform,\r\n    rects,\r\n    elements,\r\n    strategy\r\n  } = state;\r\n  const {\r\n    boundary = 'clippingAncestors',\r\n    rootBoundary = 'viewport',\r\n    elementContext = 'floating',\r\n    altBoundary = false,\r\n    padding = 0\r\n  } = evaluate(options, state);\r\n  const paddingObject = getPaddingObject(padding);\r\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\r\n  const element = elements[altBoundary ? altContext : elementContext];\r\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\r\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\r\n    boundary,\r\n    rootBoundary,\r\n    strategy\r\n  }));\r\n  const rect = elementContext === 'floating' ? {\r\n    x,\r\n    y,\r\n    width: rects.floating.width,\r\n    height: rects.floating.height\r\n  } : rects.reference;\r\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\r\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\r\n    x: 1,\r\n    y: 1\r\n  } : {\r\n    x: 1,\r\n    y: 1\r\n  };\r\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\r\n    elements,\r\n    rect,\r\n    offsetParent,\r\n    strategy\r\n  }) : rect);\r\n  return {\r\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\r\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\r\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\r\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\r\n  };\r\n}\r\n\r\n/**\r\n * Provides data to position an inner element of the floating element so that it\r\n * appears centered to the reference element.\r\n * @see https://floating-ui.com/docs/arrow\r\n */\r\nconst arrow = options => ({\r\n  name: 'arrow',\r\n  options,\r\n  async fn(state) {\r\n    const {\r\n      x,\r\n      y,\r\n      placement,\r\n      rects,\r\n      platform,\r\n      elements,\r\n      middlewareData\r\n    } = state;\r\n    // Since `element` is required, we don't Partial<> the type.\r\n    const {\r\n      element,\r\n      padding = 0\r\n    } = evaluate(options, state) || {};\r\n    if (element == null) {\r\n      return {};\r\n    }\r\n    const paddingObject = getPaddingObject(padding);\r\n    const coords = {\r\n      x,\r\n      y\r\n    };\r\n    const axis = getAlignmentAxis(placement);\r\n    const length = getAxisLength(axis);\r\n    const arrowDimensions = await platform.getDimensions(element);\r\n    const isYAxis = axis === 'y';\r\n    const minProp = isYAxis ? 'top' : 'left';\r\n    const maxProp = isYAxis ? 'bottom' : 'right';\r\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\r\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\r\n    const startDiff = coords[axis] - rects.reference[axis];\r\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\r\n    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;\r\n\r\n    // DOM platform can return `window` as the `offsetParent`.\r\n    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {\r\n      clientSize = elements.floating[clientProp] || rects.floating[length];\r\n    }\r\n    const centerToReference = endDiff / 2 - startDiff / 2;\r\n\r\n    // If the padding is large enough that it causes the arrow to no longer be\r\n    // centered, modify the padding so that it is centered.\r\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\r\n    const minPadding = min(paddingObject[minProp], largestPossiblePadding);\r\n    const maxPadding = min(paddingObject[maxProp], largestPossiblePadding);\r\n\r\n    // Make sure the arrow doesn't overflow the floating element if the center\r\n    // point is outside the floating element's bounds.\r\n    const min$1 = minPadding;\r\n    const max = clientSize - arrowDimensions[length] - maxPadding;\r\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\r\n    const offset = clamp(min$1, center, max);\r\n\r\n    // If the reference is small enough that the arrow's padding causes it to\r\n    // to point to nothing for an aligned placement, adjust the offset of the\r\n    // floating element itself. To ensure `shift()` continues to take action,\r\n    // a single reset is performed when this is true.\r\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\r\n    const alignmentOffset = shouldAddOffset ? center < min$1 ? center - min$1 : center - max : 0;\r\n    return {\r\n      [axis]: coords[axis] + alignmentOffset,\r\n      data: {\r\n        [axis]: offset,\r\n        centerOffset: center - offset - alignmentOffset,\r\n        ...(shouldAddOffset && {\r\n          alignmentOffset\r\n        })\r\n      },\r\n      reset: shouldAddOffset\r\n    };\r\n  }\r\n});\r\n\r\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\r\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\r\n  return allowedPlacementsSortedByAlignment.filter(placement => {\r\n    if (alignment) {\r\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\r\n    }\r\n    return true;\r\n  });\r\n}\r\n/**\r\n * Optimizes the visibility of the floating element by choosing the placement\r\n * that has the most space available automatically, without needing to specify a\r\n * preferred placement. Alternative to `flip`.\r\n * @see https://floating-ui.com/docs/autoPlacement\r\n */\r\nconst autoPlacement = function (options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n  return {\r\n    name: 'autoPlacement',\r\n    options,\r\n    async fn(state) {\r\n      var _middlewareData$autoP, _middlewareData$autoP2, _placementsThatFitOnE;\r\n      const {\r\n        rects,\r\n        middlewareData,\r\n        placement,\r\n        platform,\r\n        elements\r\n      } = state;\r\n      const {\r\n        crossAxis = false,\r\n        alignment,\r\n        allowedPlacements = placements,\r\n        autoAlignment = true,\r\n        ...detectOverflowOptions\r\n      } = evaluate(options, state);\r\n      const placements$1 = alignment !== undefined || allowedPlacements === placements ? getPlacementList(alignment || null, autoAlignment, allowedPlacements) : allowedPlacements;\r\n      const overflow = await detectOverflow(state, detectOverflowOptions);\r\n      const currentIndex = ((_middlewareData$autoP = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP.index) || 0;\r\n      const currentPlacement = placements$1[currentIndex];\r\n      if (currentPlacement == null) {\r\n        return {};\r\n      }\r\n      const alignmentSides = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\r\n\r\n      // Make `computeCoords` start from the right place.\r\n      if (placement !== currentPlacement) {\r\n        return {\r\n          reset: {\r\n            placement: placements$1[0]\r\n          }\r\n        };\r\n      }\r\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[alignmentSides[0]], overflow[alignmentSides[1]]];\r\n      const allOverflows = [...(((_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.overflows) || []), {\r\n        placement: currentPlacement,\r\n        overflows: currentOverflows\r\n      }];\r\n      const nextPlacement = placements$1[currentIndex + 1];\r\n\r\n      // There are more placements to check.\r\n      if (nextPlacement) {\r\n        return {\r\n          data: {\r\n            index: currentIndex + 1,\r\n            overflows: allOverflows\r\n          },\r\n          reset: {\r\n            placement: nextPlacement\r\n          }\r\n        };\r\n      }\r\n      const placementsSortedByMostSpace = allOverflows.map(d => {\r\n        const alignment = getAlignment(d.placement);\r\n        return [d.placement, alignment && crossAxis ?\r\n        // Check along the mainAxis and main crossAxis side.\r\n        d.overflows.slice(0, 2).reduce((acc, v) => acc + v, 0) :\r\n        // Check only the mainAxis.\r\n        d.overflows[0], d.overflows];\r\n      }).sort((a, b) => a[1] - b[1]);\r\n      const placementsThatFitOnEachSide = placementsSortedByMostSpace.filter(d => d[2].slice(0,\r\n      // Aligned placements should not check their opposite crossAxis\r\n      // side.\r\n      getAlignment(d[0]) ? 2 : 3).every(v => v <= 0));\r\n      const resetPlacement = ((_placementsThatFitOnE = placementsThatFitOnEachSide[0]) == null ? void 0 : _placementsThatFitOnE[0]) || placementsSortedByMostSpace[0][0];\r\n      if (resetPlacement !== placement) {\r\n        return {\r\n          data: {\r\n            index: currentIndex + 1,\r\n            overflows: allOverflows\r\n          },\r\n          reset: {\r\n            placement: resetPlacement\r\n          }\r\n        };\r\n      }\r\n      return {};\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * Optimizes the visibility of the floating element by flipping the `placement`\r\n * in order to keep it in view when the preferred placement(s) will overflow the\r\n * clipping boundary. Alternative to `autoPlacement`.\r\n * @see https://floating-ui.com/docs/flip\r\n */\r\nconst flip = function (options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n  return {\r\n    name: 'flip',\r\n    options,\r\n    async fn(state) {\r\n      var _middlewareData$arrow, _middlewareData$flip;\r\n      const {\r\n        placement,\r\n        middlewareData,\r\n        rects,\r\n        initialPlacement,\r\n        platform,\r\n        elements\r\n      } = state;\r\n      const {\r\n        mainAxis: checkMainAxis = true,\r\n        crossAxis: checkCrossAxis = true,\r\n        fallbackPlacements: specifiedFallbackPlacements,\r\n        fallbackStrategy = 'bestFit',\r\n        fallbackAxisSideDirection = 'none',\r\n        flipAlignment = true,\r\n        ...detectOverflowOptions\r\n      } = evaluate(options, state);\r\n\r\n      // If a reset by the arrow was caused due to an alignment offset being\r\n      // added, we should skip any logic now since `flip()` has already done its\r\n      // work.\r\n      // https://github.com/floating-ui/floating-ui/issues/2549#issuecomment-1719601643\r\n      if ((_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\r\n        return {};\r\n      }\r\n      const side = getSide(placement);\r\n      const initialSideAxis = getSideAxis(initialPlacement);\r\n      const isBasePlacement = getSide(initialPlacement) === initialPlacement;\r\n      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\r\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\r\n      const hasFallbackAxisSideDirection = fallbackAxisSideDirection !== 'none';\r\n      if (!specifiedFallbackPlacements && hasFallbackAxisSideDirection) {\r\n        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));\r\n      }\r\n      const placements = [initialPlacement, ...fallbackPlacements];\r\n      const overflow = await detectOverflow(state, detectOverflowOptions);\r\n      const overflows = [];\r\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\r\n      if (checkMainAxis) {\r\n        overflows.push(overflow[side]);\r\n      }\r\n      if (checkCrossAxis) {\r\n        const sides = getAlignmentSides(placement, rects, rtl);\r\n        overflows.push(overflow[sides[0]], overflow[sides[1]]);\r\n      }\r\n      overflowsData = [...overflowsData, {\r\n        placement,\r\n        overflows\r\n      }];\r\n\r\n      // One or more sides is overflowing.\r\n      if (!overflows.every(side => side <= 0)) {\r\n        var _middlewareData$flip2, _overflowsData$filter;\r\n        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;\r\n        const nextPlacement = placements[nextIndex];\r\n        if (nextPlacement) {\r\n          const ignoreCrossAxisOverflow = checkCrossAxis === 'alignment' ? initialSideAxis !== getSideAxis(nextPlacement) : false;\r\n          if (!ignoreCrossAxisOverflow ||\r\n          // We leave the current main axis only if every placement on that axis\r\n          // overflows the main axis.\r\n          overflowsData.every(d => getSideAxis(d.placement) === initialSideAxis ? d.overflows[0] > 0 : true)) {\r\n            // Try next placement and re-run the lifecycle.\r\n            return {\r\n              data: {\r\n                index: nextIndex,\r\n                overflows: overflowsData\r\n              },\r\n              reset: {\r\n                placement: nextPlacement\r\n              }\r\n            };\r\n          }\r\n        }\r\n\r\n        // First, find the candidates that fit on the mainAxis side of overflow,\r\n        // then find the placement that fits the best on the main crossAxis side.\r\n        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;\r\n\r\n        // Otherwise fallback.\r\n        if (!resetPlacement) {\r\n          switch (fallbackStrategy) {\r\n            case 'bestFit':\r\n              {\r\n                var _overflowsData$filter2;\r\n                const placement = (_overflowsData$filter2 = overflowsData.filter(d => {\r\n                  if (hasFallbackAxisSideDirection) {\r\n                    const currentSideAxis = getSideAxis(d.placement);\r\n                    return currentSideAxis === initialSideAxis ||\r\n                    // Create a bias to the `y` side axis due to horizontal\r\n                    // reading directions favoring greater width.\r\n                    currentSideAxis === 'y';\r\n                  }\r\n                  return true;\r\n                }).map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$filter2[0];\r\n                if (placement) {\r\n                  resetPlacement = placement;\r\n                }\r\n                break;\r\n              }\r\n            case 'initialPlacement':\r\n              resetPlacement = initialPlacement;\r\n              break;\r\n          }\r\n        }\r\n        if (placement !== resetPlacement) {\r\n          return {\r\n            reset: {\r\n              placement: resetPlacement\r\n            }\r\n          };\r\n        }\r\n      }\r\n      return {};\r\n    }\r\n  };\r\n};\r\n\r\nfunction getSideOffsets(overflow, rect) {\r\n  return {\r\n    top: overflow.top - rect.height,\r\n    right: overflow.right - rect.width,\r\n    bottom: overflow.bottom - rect.height,\r\n    left: overflow.left - rect.width\r\n  };\r\n}\r\nfunction isAnySideFullyClipped(overflow) {\r\n  return sides.some(side => overflow[side] >= 0);\r\n}\r\n/**\r\n * Provides data to hide the floating element in applicable situations, such as\r\n * when it is not in the same clipping context as the reference element.\r\n * @see https://floating-ui.com/docs/hide\r\n */\r\nconst hide = function (options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n  return {\r\n    name: 'hide',\r\n    options,\r\n    async fn(state) {\r\n      const {\r\n        rects\r\n      } = state;\r\n      const {\r\n        strategy = 'referenceHidden',\r\n        ...detectOverflowOptions\r\n      } = evaluate(options, state);\r\n      switch (strategy) {\r\n        case 'referenceHidden':\r\n          {\r\n            const overflow = await detectOverflow(state, {\r\n              ...detectOverflowOptions,\r\n              elementContext: 'reference'\r\n            });\r\n            const offsets = getSideOffsets(overflow, rects.reference);\r\n            return {\r\n              data: {\r\n                referenceHiddenOffsets: offsets,\r\n                referenceHidden: isAnySideFullyClipped(offsets)\r\n              }\r\n            };\r\n          }\r\n        case 'escaped':\r\n          {\r\n            const overflow = await detectOverflow(state, {\r\n              ...detectOverflowOptions,\r\n              altBoundary: true\r\n            });\r\n            const offsets = getSideOffsets(overflow, rects.floating);\r\n            return {\r\n              data: {\r\n                escapedOffsets: offsets,\r\n                escaped: isAnySideFullyClipped(offsets)\r\n              }\r\n            };\r\n          }\r\n        default:\r\n          {\r\n            return {};\r\n          }\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nfunction getBoundingRect(rects) {\r\n  const minX = min(...rects.map(rect => rect.left));\r\n  const minY = min(...rects.map(rect => rect.top));\r\n  const maxX = max(...rects.map(rect => rect.right));\r\n  const maxY = max(...rects.map(rect => rect.bottom));\r\n  return {\r\n    x: minX,\r\n    y: minY,\r\n    width: maxX - minX,\r\n    height: maxY - minY\r\n  };\r\n}\r\nfunction getRectsByLine(rects) {\r\n  const sortedRects = rects.slice().sort((a, b) => a.y - b.y);\r\n  const groups = [];\r\n  let prevRect = null;\r\n  for (let i = 0; i < sortedRects.length; i++) {\r\n    const rect = sortedRects[i];\r\n    if (!prevRect || rect.y - prevRect.y > prevRect.height / 2) {\r\n      groups.push([rect]);\r\n    } else {\r\n      groups[groups.length - 1].push(rect);\r\n    }\r\n    prevRect = rect;\r\n  }\r\n  return groups.map(rect => rectToClientRect(getBoundingRect(rect)));\r\n}\r\n/**\r\n * Provides improved positioning for inline reference elements that can span\r\n * over multiple lines, such as hyperlinks or range selections.\r\n * @see https://floating-ui.com/docs/inline\r\n */\r\nconst inline = function (options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n  return {\r\n    name: 'inline',\r\n    options,\r\n    async fn(state) {\r\n      const {\r\n        placement,\r\n        elements,\r\n        rects,\r\n        platform,\r\n        strategy\r\n      } = state;\r\n      // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\r\n      // ClientRect's bounds, despite the event listener being triggered. A\r\n      // padding of 2 seems to handle this issue.\r\n      const {\r\n        padding = 2,\r\n        x,\r\n        y\r\n      } = evaluate(options, state);\r\n      const nativeClientRects = Array.from((await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) || []);\r\n      const clientRects = getRectsByLine(nativeClientRects);\r\n      const fallback = rectToClientRect(getBoundingRect(nativeClientRects));\r\n      const paddingObject = getPaddingObject(padding);\r\n      function getBoundingClientRect() {\r\n        // There are two rects and they are disjoined.\r\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\r\n          // Find the first rect in which the point is fully inside.\r\n          return clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom) || fallback;\r\n        }\r\n\r\n        // There are 2 or more connected rects.\r\n        if (clientRects.length >= 2) {\r\n          if (getSideAxis(placement) === 'y') {\r\n            const firstRect = clientRects[0];\r\n            const lastRect = clientRects[clientRects.length - 1];\r\n            const isTop = getSide(placement) === 'top';\r\n            const top = firstRect.top;\r\n            const bottom = lastRect.bottom;\r\n            const left = isTop ? firstRect.left : lastRect.left;\r\n            const right = isTop ? firstRect.right : lastRect.right;\r\n            const width = right - left;\r\n            const height = bottom - top;\r\n            return {\r\n              top,\r\n              bottom,\r\n              left,\r\n              right,\r\n              width,\r\n              height,\r\n              x: left,\r\n              y: top\r\n            };\r\n          }\r\n          const isLeftSide = getSide(placement) === 'left';\r\n          const maxRight = max(...clientRects.map(rect => rect.right));\r\n          const minLeft = min(...clientRects.map(rect => rect.left));\r\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\r\n          const top = measureRects[0].top;\r\n          const bottom = measureRects[measureRects.length - 1].bottom;\r\n          const left = minLeft;\r\n          const right = maxRight;\r\n          const width = right - left;\r\n          const height = bottom - top;\r\n          return {\r\n            top,\r\n            bottom,\r\n            left,\r\n            right,\r\n            width,\r\n            height,\r\n            x: left,\r\n            y: top\r\n          };\r\n        }\r\n        return fallback;\r\n      }\r\n      const resetRects = await platform.getElementRects({\r\n        reference: {\r\n          getBoundingClientRect\r\n        },\r\n        floating: elements.floating,\r\n        strategy\r\n      });\r\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\r\n        return {\r\n          reset: {\r\n            rects: resetRects\r\n          }\r\n        };\r\n      }\r\n      return {};\r\n    }\r\n  };\r\n};\r\n\r\nconst originSides = /*#__PURE__*/new Set(['left', 'top']);\r\n\r\n// For type backwards-compatibility, the `OffsetOptions` type was also\r\n// Derivable.\r\n\r\nasync function convertValueToCoords(state, options) {\r\n  const {\r\n    placement,\r\n    platform,\r\n    elements\r\n  } = state;\r\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\r\n  const side = getSide(placement);\r\n  const alignment = getAlignment(placement);\r\n  const isVertical = getSideAxis(placement) === 'y';\r\n  const mainAxisMulti = originSides.has(side) ? -1 : 1;\r\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\r\n  const rawValue = evaluate(options, state);\r\n\r\n  // eslint-disable-next-line prefer-const\r\n  let {\r\n    mainAxis,\r\n    crossAxis,\r\n    alignmentAxis\r\n  } = typeof rawValue === 'number' ? {\r\n    mainAxis: rawValue,\r\n    crossAxis: 0,\r\n    alignmentAxis: null\r\n  } : {\r\n    mainAxis: rawValue.mainAxis || 0,\r\n    crossAxis: rawValue.crossAxis || 0,\r\n    alignmentAxis: rawValue.alignmentAxis\r\n  };\r\n  if (alignment && typeof alignmentAxis === 'number') {\r\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\r\n  }\r\n  return isVertical ? {\r\n    x: crossAxis * crossAxisMulti,\r\n    y: mainAxis * mainAxisMulti\r\n  } : {\r\n    x: mainAxis * mainAxisMulti,\r\n    y: crossAxis * crossAxisMulti\r\n  };\r\n}\r\n\r\n/**\r\n * Modifies the placement by translating the floating element along the\r\n * specified axes.\r\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\r\n * object may be passed.\r\n * @see https://floating-ui.com/docs/offset\r\n */\r\nconst offset = function (options) {\r\n  if (options === void 0) {\r\n    options = 0;\r\n  }\r\n  return {\r\n    name: 'offset',\r\n    options,\r\n    async fn(state) {\r\n      var _middlewareData$offse, _middlewareData$arrow;\r\n      const {\r\n        x,\r\n        y,\r\n        placement,\r\n        middlewareData\r\n      } = state;\r\n      const diffCoords = await convertValueToCoords(state, options);\r\n\r\n      // If the placement is the same and the arrow caused an alignment offset\r\n      // then we don't need to change the positioning coordinates.\r\n      if (placement === ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse.placement) && (_middlewareData$arrow = middlewareData.arrow) != null && _middlewareData$arrow.alignmentOffset) {\r\n        return {};\r\n      }\r\n      return {\r\n        x: x + diffCoords.x,\r\n        y: y + diffCoords.y,\r\n        data: {\r\n          ...diffCoords,\r\n          placement\r\n        }\r\n      };\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * Optimizes the visibility of the floating element by shifting it in order to\r\n * keep it in view when it will overflow the clipping boundary.\r\n * @see https://floating-ui.com/docs/shift\r\n */\r\nconst shift = function (options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n  return {\r\n    name: 'shift',\r\n    options,\r\n    async fn(state) {\r\n      const {\r\n        x,\r\n        y,\r\n        placement\r\n      } = state;\r\n      const {\r\n        mainAxis: checkMainAxis = true,\r\n        crossAxis: checkCrossAxis = false,\r\n        limiter = {\r\n          fn: _ref => {\r\n            let {\r\n              x,\r\n              y\r\n            } = _ref;\r\n            return {\r\n              x,\r\n              y\r\n            };\r\n          }\r\n        },\r\n        ...detectOverflowOptions\r\n      } = evaluate(options, state);\r\n      const coords = {\r\n        x,\r\n        y\r\n      };\r\n      const overflow = await detectOverflow(state, detectOverflowOptions);\r\n      const crossAxis = getSideAxis(getSide(placement));\r\n      const mainAxis = getOppositeAxis(crossAxis);\r\n      let mainAxisCoord = coords[mainAxis];\r\n      let crossAxisCoord = coords[crossAxis];\r\n      if (checkMainAxis) {\r\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\r\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\r\n        const min = mainAxisCoord + overflow[minSide];\r\n        const max = mainAxisCoord - overflow[maxSide];\r\n        mainAxisCoord = clamp(min, mainAxisCoord, max);\r\n      }\r\n      if (checkCrossAxis) {\r\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\r\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\r\n        const min = crossAxisCoord + overflow[minSide];\r\n        const max = crossAxisCoord - overflow[maxSide];\r\n        crossAxisCoord = clamp(min, crossAxisCoord, max);\r\n      }\r\n      const limitedCoords = limiter.fn({\r\n        ...state,\r\n        [mainAxis]: mainAxisCoord,\r\n        [crossAxis]: crossAxisCoord\r\n      });\r\n      return {\r\n        ...limitedCoords,\r\n        data: {\r\n          x: limitedCoords.x - x,\r\n          y: limitedCoords.y - y,\r\n          enabled: {\r\n            [mainAxis]: checkMainAxis,\r\n            [crossAxis]: checkCrossAxis\r\n          }\r\n        }\r\n      };\r\n    }\r\n  };\r\n};\r\n/**\r\n * Built-in `limiter` that will stop `shift()` at a certain point.\r\n */\r\nconst limitShift = function (options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n  return {\r\n    options,\r\n    fn(state) {\r\n      const {\r\n        x,\r\n        y,\r\n        placement,\r\n        rects,\r\n        middlewareData\r\n      } = state;\r\n      const {\r\n        offset = 0,\r\n        mainAxis: checkMainAxis = true,\r\n        crossAxis: checkCrossAxis = true\r\n      } = evaluate(options, state);\r\n      const coords = {\r\n        x,\r\n        y\r\n      };\r\n      const crossAxis = getSideAxis(placement);\r\n      const mainAxis = getOppositeAxis(crossAxis);\r\n      let mainAxisCoord = coords[mainAxis];\r\n      let crossAxisCoord = coords[crossAxis];\r\n      const rawOffset = evaluate(offset, state);\r\n      const computedOffset = typeof rawOffset === 'number' ? {\r\n        mainAxis: rawOffset,\r\n        crossAxis: 0\r\n      } : {\r\n        mainAxis: 0,\r\n        crossAxis: 0,\r\n        ...rawOffset\r\n      };\r\n      if (checkMainAxis) {\r\n        const len = mainAxis === 'y' ? 'height' : 'width';\r\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\r\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\r\n        if (mainAxisCoord < limitMin) {\r\n          mainAxisCoord = limitMin;\r\n        } else if (mainAxisCoord > limitMax) {\r\n          mainAxisCoord = limitMax;\r\n        }\r\n      }\r\n      if (checkCrossAxis) {\r\n        var _middlewareData$offse, _middlewareData$offse2;\r\n        const len = mainAxis === 'y' ? 'width' : 'height';\r\n        const isOriginSide = originSides.has(getSide(placement));\r\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? ((_middlewareData$offse = middlewareData.offset) == null ? void 0 : _middlewareData$offse[crossAxis]) || 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\r\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : ((_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) || 0) - (isOriginSide ? computedOffset.crossAxis : 0);\r\n        if (crossAxisCoord < limitMin) {\r\n          crossAxisCoord = limitMin;\r\n        } else if (crossAxisCoord > limitMax) {\r\n          crossAxisCoord = limitMax;\r\n        }\r\n      }\r\n      return {\r\n        [mainAxis]: mainAxisCoord,\r\n        [crossAxis]: crossAxisCoord\r\n      };\r\n    }\r\n  };\r\n};\r\n\r\n/**\r\n * Provides data that allows you to change the size of the floating element —\r\n * for instance, prevent it from overflowing the clipping boundary or match the\r\n * width of the reference element.\r\n * @see https://floating-ui.com/docs/size\r\n */\r\nconst size = function (options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n  return {\r\n    name: 'size',\r\n    options,\r\n    async fn(state) {\r\n      var _state$middlewareData, _state$middlewareData2;\r\n      const {\r\n        placement,\r\n        rects,\r\n        platform,\r\n        elements\r\n      } = state;\r\n      const {\r\n        apply = () => {},\r\n        ...detectOverflowOptions\r\n      } = evaluate(options, state);\r\n      const overflow = await detectOverflow(state, detectOverflowOptions);\r\n      const side = getSide(placement);\r\n      const alignment = getAlignment(placement);\r\n      const isYAxis = getSideAxis(placement) === 'y';\r\n      const {\r\n        width,\r\n        height\r\n      } = rects.floating;\r\n      let heightSide;\r\n      let widthSide;\r\n      if (side === 'top' || side === 'bottom') {\r\n        heightSide = side;\r\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\r\n      } else {\r\n        widthSide = side;\r\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\r\n      }\r\n      const maximumClippingHeight = height - overflow.top - overflow.bottom;\r\n      const maximumClippingWidth = width - overflow.left - overflow.right;\r\n      const overflowAvailableHeight = min(height - overflow[heightSide], maximumClippingHeight);\r\n      const overflowAvailableWidth = min(width - overflow[widthSide], maximumClippingWidth);\r\n      const noShift = !state.middlewareData.shift;\r\n      let availableHeight = overflowAvailableHeight;\r\n      let availableWidth = overflowAvailableWidth;\r\n      if ((_state$middlewareData = state.middlewareData.shift) != null && _state$middlewareData.enabled.x) {\r\n        availableWidth = maximumClippingWidth;\r\n      }\r\n      if ((_state$middlewareData2 = state.middlewareData.shift) != null && _state$middlewareData2.enabled.y) {\r\n        availableHeight = maximumClippingHeight;\r\n      }\r\n      if (noShift && !alignment) {\r\n        const xMin = max(overflow.left, 0);\r\n        const xMax = max(overflow.right, 0);\r\n        const yMin = max(overflow.top, 0);\r\n        const yMax = max(overflow.bottom, 0);\r\n        if (isYAxis) {\r\n          availableWidth = width - 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right));\r\n        } else {\r\n          availableHeight = height - 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom));\r\n        }\r\n      }\r\n      await apply({\r\n        ...state,\r\n        availableWidth,\r\n        availableHeight\r\n      });\r\n      const nextDimensions = await platform.getDimensions(elements.floating);\r\n      if (width !== nextDimensions.width || height !== nextDimensions.height) {\r\n        return {\r\n          reset: {\r\n            rects: true\r\n          }\r\n        };\r\n      }\r\n      return {};\r\n    }\r\n  };\r\n};\r\n\r\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, shift, size };\r\n", "function hasWindow() {\r\n  return typeof window !== 'undefined';\r\n}\r\nfunction getNodeName(node) {\r\n  if (isNode(node)) {\r\n    return (node.nodeName || '').toLowerCase();\r\n  }\r\n  // Mocked nodes in testing environments may not be instances of Node. By\r\n  // returning `#document` an infinite loop won't occur.\r\n  // https://github.com/floating-ui/floating-ui/issues/2317\r\n  return '#document';\r\n}\r\nfunction getWindow(node) {\r\n  var _node$ownerDocument;\r\n  return (node == null || (_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\r\n}\r\nfunction getDocumentElement(node) {\r\n  var _ref;\r\n  return (_ref = (isNode(node) ? node.ownerDocument : node.document) || window.document) == null ? void 0 : _ref.documentElement;\r\n}\r\nfunction isNode(value) {\r\n  if (!hasWindow()) {\r\n    return false;\r\n  }\r\n  return value instanceof Node || value instanceof getWindow(value).Node;\r\n}\r\nfunction isElement(value) {\r\n  if (!hasWindow()) {\r\n    return false;\r\n  }\r\n  return value instanceof Element || value instanceof getWindow(value).Element;\r\n}\r\nfunction isHTMLElement(value) {\r\n  if (!hasWindow()) {\r\n    return false;\r\n  }\r\n  return value instanceof HTMLElement || value instanceof getWindow(value).HTMLElement;\r\n}\r\nfunction isShadowRoot(value) {\r\n  if (!hasWindow() || typeof ShadowRoot === 'undefined') {\r\n    return false;\r\n  }\r\n  return value instanceof ShadowRoot || value instanceof getWindow(value).ShadowRoot;\r\n}\r\nconst invalidOverflowDisplayValues = /*#__PURE__*/new Set(['inline', 'contents']);\r\nfunction isOverflowElement(element) {\r\n  const {\r\n    overflow,\r\n    overflowX,\r\n    overflowY,\r\n    display\r\n  } = getComputedStyle(element);\r\n  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !invalidOverflowDisplayValues.has(display);\r\n}\r\nconst tableElements = /*#__PURE__*/new Set(['table', 'td', 'th']);\r\nfunction isTableElement(element) {\r\n  return tableElements.has(getNodeName(element));\r\n}\r\nconst topLayerSelectors = [':popover-open', ':modal'];\r\nfunction isTopLayer(element) {\r\n  return topLayerSelectors.some(selector => {\r\n    try {\r\n      return element.matches(selector);\r\n    } catch (_e) {\r\n      return false;\r\n    }\r\n  });\r\n}\r\nconst transformProperties = ['transform', 'translate', 'scale', 'rotate', 'perspective'];\r\nconst willChangeValues = ['transform', 'translate', 'scale', 'rotate', 'perspective', 'filter'];\r\nconst containValues = ['paint', 'layout', 'strict', 'content'];\r\nfunction isContainingBlock(elementOrCss) {\r\n  const webkit = isWebKit();\r\n  const css = isElement(elementOrCss) ? getComputedStyle(elementOrCss) : elementOrCss;\r\n\r\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\r\n  // https://drafts.csswg.org/css-transforms-2/#individual-transforms\r\n  return transformProperties.some(value => css[value] ? css[value] !== 'none' : false) || (css.containerType ? css.containerType !== 'normal' : false) || !webkit && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !webkit && (css.filter ? css.filter !== 'none' : false) || willChangeValues.some(value => (css.willChange || '').includes(value)) || containValues.some(value => (css.contain || '').includes(value));\r\n}\r\nfunction getContainingBlock(element) {\r\n  let currentNode = getParentNode(element);\r\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\r\n    if (isContainingBlock(currentNode)) {\r\n      return currentNode;\r\n    } else if (isTopLayer(currentNode)) {\r\n      return null;\r\n    }\r\n    currentNode = getParentNode(currentNode);\r\n  }\r\n  return null;\r\n}\r\nfunction isWebKit() {\r\n  if (typeof CSS === 'undefined' || !CSS.supports) return false;\r\n  return CSS.supports('-webkit-backdrop-filter', 'none');\r\n}\r\nconst lastTraversableNodeNames = /*#__PURE__*/new Set(['html', 'body', '#document']);\r\nfunction isLastTraversableNode(node) {\r\n  return lastTraversableNodeNames.has(getNodeName(node));\r\n}\r\nfunction getComputedStyle(element) {\r\n  return getWindow(element).getComputedStyle(element);\r\n}\r\nfunction getNodeScroll(element) {\r\n  if (isElement(element)) {\r\n    return {\r\n      scrollLeft: element.scrollLeft,\r\n      scrollTop: element.scrollTop\r\n    };\r\n  }\r\n  return {\r\n    scrollLeft: element.scrollX,\r\n    scrollTop: element.scrollY\r\n  };\r\n}\r\nfunction getParentNode(node) {\r\n  if (getNodeName(node) === 'html') {\r\n    return node;\r\n  }\r\n  const result =\r\n  // Step into the shadow DOM of the parent of a slotted node.\r\n  node.assignedSlot ||\r\n  // DOM Element detected.\r\n  node.parentNode ||\r\n  // ShadowRoot detected.\r\n  isShadowRoot(node) && node.host ||\r\n  // Fallback.\r\n  getDocumentElement(node);\r\n  return isShadowRoot(result) ? result.host : result;\r\n}\r\nfunction getNearestOverflowAncestor(node) {\r\n  const parentNode = getParentNode(node);\r\n  if (isLastTraversableNode(parentNode)) {\r\n    return node.ownerDocument ? node.ownerDocument.body : node.body;\r\n  }\r\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\r\n    return parentNode;\r\n  }\r\n  return getNearestOverflowAncestor(parentNode);\r\n}\r\nfunction getOverflowAncestors(node, list, traverseIframes) {\r\n  var _node$ownerDocument2;\r\n  if (list === void 0) {\r\n    list = [];\r\n  }\r\n  if (traverseIframes === void 0) {\r\n    traverseIframes = true;\r\n  }\r\n  const scrollableAncestor = getNearestOverflowAncestor(node);\r\n  const isBody = scrollableAncestor === ((_node$ownerDocument2 = node.ownerDocument) == null ? void 0 : _node$ownerDocument2.body);\r\n  const win = getWindow(scrollableAncestor);\r\n  if (isBody) {\r\n    const frameElement = getFrameElement(win);\r\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : [], frameElement && traverseIframes ? getOverflowAncestors(frameElement) : []);\r\n  }\r\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor, [], traverseIframes));\r\n}\r\nfunction getFrameElement(win) {\r\n  return win.parent && Object.getPrototypeOf(win.parent) ? win.frameElement : null;\r\n}\r\n\r\nexport { getComputedStyle, getContainingBlock, getDocumentElement, getFrameElement, getNearestOverflowAncestor, getNodeName, getNodeScroll, getOverflowAncestors, getParentNode, getWindow, isContainingBlock, isElement, isHTMLElement, isLastTraversableNode, isNode, isOverflowElement, isShadowRoot, isTableElement, isTopLayer, isWebKit };\r\n", "import { rectToClientRect, arrow as arrow$1, autoPlacement as autoPlacement$1, detectOverflow as detectOverflow$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1, computePosition as computePosition$1 } from '@floating-ui/core';\r\nimport { round, createCoords, max, min, floor } from '@floating-ui/utils';\r\nimport { getComputedStyle as getComputedStyle$1, isHTMLElement, isElement, getWindow, isWebKit, getFrameElement, getNodeScroll, getDocumentElement, isTopLayer, getNodeName, isOverflowElement, getOverflowAncestors, getParentNode, isLastTraversableNode, isContainingBlock, isTableElement, getContainingBlock } from '@floating-ui/utils/dom';\r\nexport { getOverflowAncestors } from '@floating-ui/utils/dom';\r\n\r\nfunction getCssDimensions(element) {\r\n  const css = getComputedStyle$1(element);\r\n  // In testing environments, the `width` and `height` properties are empty\r\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\r\n  let width = parseFloat(css.width) || 0;\r\n  let height = parseFloat(css.height) || 0;\r\n  const hasOffset = isHTMLElement(element);\r\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\r\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\r\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\r\n  if (shouldFallback) {\r\n    width = offsetWidth;\r\n    height = offsetHeight;\r\n  }\r\n  return {\r\n    width,\r\n    height,\r\n    $: shouldFallback\r\n  };\r\n}\r\n\r\nfunction unwrapElement(element) {\r\n  return !isElement(element) ? element.contextElement : element;\r\n}\r\n\r\nfunction getScale(element) {\r\n  const domElement = unwrapElement(element);\r\n  if (!isHTMLElement(domElement)) {\r\n    return createCoords(1);\r\n  }\r\n  const rect = domElement.getBoundingClientRect();\r\n  const {\r\n    width,\r\n    height,\r\n    $\r\n  } = getCssDimensions(domElement);\r\n  let x = ($ ? round(rect.width) : rect.width) / width;\r\n  let y = ($ ? round(rect.height) : rect.height) / height;\r\n\r\n  // 0, NaN, or Infinity should always fallback to 1.\r\n\r\n  if (!x || !Number.isFinite(x)) {\r\n    x = 1;\r\n  }\r\n  if (!y || !Number.isFinite(y)) {\r\n    y = 1;\r\n  }\r\n  return {\r\n    x,\r\n    y\r\n  };\r\n}\r\n\r\nconst noOffsets = /*#__PURE__*/createCoords(0);\r\nfunction getVisualOffsets(element) {\r\n  const win = getWindow(element);\r\n  if (!isWebKit() || !win.visualViewport) {\r\n    return noOffsets;\r\n  }\r\n  return {\r\n    x: win.visualViewport.offsetLeft,\r\n    y: win.visualViewport.offsetTop\r\n  };\r\n}\r\nfunction shouldAddVisualOffsets(element, isFixed, floatingOffsetParent) {\r\n  if (isFixed === void 0) {\r\n    isFixed = false;\r\n  }\r\n  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== getWindow(element)) {\r\n    return false;\r\n  }\r\n  return isFixed;\r\n}\r\n\r\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\r\n  if (includeScale === void 0) {\r\n    includeScale = false;\r\n  }\r\n  if (isFixedStrategy === void 0) {\r\n    isFixedStrategy = false;\r\n  }\r\n  const clientRect = element.getBoundingClientRect();\r\n  const domElement = unwrapElement(element);\r\n  let scale = createCoords(1);\r\n  if (includeScale) {\r\n    if (offsetParent) {\r\n      if (isElement(offsetParent)) {\r\n        scale = getScale(offsetParent);\r\n      }\r\n    } else {\r\n      scale = getScale(element);\r\n    }\r\n  }\r\n  const visualOffsets = shouldAddVisualOffsets(domElement, isFixedStrategy, offsetParent) ? getVisualOffsets(domElement) : createCoords(0);\r\n  let x = (clientRect.left + visualOffsets.x) / scale.x;\r\n  let y = (clientRect.top + visualOffsets.y) / scale.y;\r\n  let width = clientRect.width / scale.x;\r\n  let height = clientRect.height / scale.y;\r\n  if (domElement) {\r\n    const win = getWindow(domElement);\r\n    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;\r\n    let currentWin = win;\r\n    let currentIFrame = getFrameElement(currentWin);\r\n    while (currentIFrame && offsetParent && offsetWin !== currentWin) {\r\n      const iframeScale = getScale(currentIFrame);\r\n      const iframeRect = currentIFrame.getBoundingClientRect();\r\n      const css = getComputedStyle$1(currentIFrame);\r\n      const left = iframeRect.left + (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;\r\n      const top = iframeRect.top + (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;\r\n      x *= iframeScale.x;\r\n      y *= iframeScale.y;\r\n      width *= iframeScale.x;\r\n      height *= iframeScale.y;\r\n      x += left;\r\n      y += top;\r\n      currentWin = getWindow(currentIFrame);\r\n      currentIFrame = getFrameElement(currentWin);\r\n    }\r\n  }\r\n  return rectToClientRect({\r\n    width,\r\n    height,\r\n    x,\r\n    y\r\n  });\r\n}\r\n\r\n// If <html> has a CSS width greater than the viewport, then this will be\r\n// incorrect for RTL.\r\nfunction getWindowScrollBarX(element, rect) {\r\n  const leftScroll = getNodeScroll(element).scrollLeft;\r\n  if (!rect) {\r\n    return getBoundingClientRect(getDocumentElement(element)).left + leftScroll;\r\n  }\r\n  return rect.left + leftScroll;\r\n}\r\n\r\nfunction getHTMLOffset(documentElement, scroll) {\r\n  const htmlRect = documentElement.getBoundingClientRect();\r\n  const x = htmlRect.left + scroll.scrollLeft - getWindowScrollBarX(documentElement, htmlRect);\r\n  const y = htmlRect.top + scroll.scrollTop;\r\n  return {\r\n    x,\r\n    y\r\n  };\r\n}\r\n\r\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\r\n  let {\r\n    elements,\r\n    rect,\r\n    offsetParent,\r\n    strategy\r\n  } = _ref;\r\n  const isFixed = strategy === 'fixed';\r\n  const documentElement = getDocumentElement(offsetParent);\r\n  const topLayer = elements ? isTopLayer(elements.floating) : false;\r\n  if (offsetParent === documentElement || topLayer && isFixed) {\r\n    return rect;\r\n  }\r\n  let scroll = {\r\n    scrollLeft: 0,\r\n    scrollTop: 0\r\n  };\r\n  let scale = createCoords(1);\r\n  const offsets = createCoords(0);\r\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\r\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\r\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\r\n      scroll = getNodeScroll(offsetParent);\r\n    }\r\n    if (isHTMLElement(offsetParent)) {\r\n      const offsetRect = getBoundingClientRect(offsetParent);\r\n      scale = getScale(offsetParent);\r\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\r\n      offsets.y = offsetRect.y + offsetParent.clientTop;\r\n    }\r\n  }\r\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\r\n  return {\r\n    width: rect.width * scale.x,\r\n    height: rect.height * scale.y,\r\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x + htmlOffset.x,\r\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y + htmlOffset.y\r\n  };\r\n}\r\n\r\nfunction getClientRects(element) {\r\n  return Array.from(element.getClientRects());\r\n}\r\n\r\n// Gets the entire size of the scrollable document area, even extending outside\r\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable.\r\nfunction getDocumentRect(element) {\r\n  const html = getDocumentElement(element);\r\n  const scroll = getNodeScroll(element);\r\n  const body = element.ownerDocument.body;\r\n  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);\r\n  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);\r\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\r\n  const y = -scroll.scrollTop;\r\n  if (getComputedStyle$1(body).direction === 'rtl') {\r\n    x += max(html.clientWidth, body.clientWidth) - width;\r\n  }\r\n  return {\r\n    width,\r\n    height,\r\n    x,\r\n    y\r\n  };\r\n}\r\n\r\n// Safety check: ensure the scrollbar space is reasonable in case this\r\n// calculation is affected by unusual styles.\r\n// Most scrollbars leave 15-18px of space.\r\nconst SCROLLBAR_MAX = 25;\r\nfunction getViewportRect(element, strategy) {\r\n  const win = getWindow(element);\r\n  const html = getDocumentElement(element);\r\n  const visualViewport = win.visualViewport;\r\n  let width = html.clientWidth;\r\n  let height = html.clientHeight;\r\n  let x = 0;\r\n  let y = 0;\r\n  if (visualViewport) {\r\n    width = visualViewport.width;\r\n    height = visualViewport.height;\r\n    const visualViewportBased = isWebKit();\r\n    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {\r\n      x = visualViewport.offsetLeft;\r\n      y = visualViewport.offsetTop;\r\n    }\r\n  }\r\n  const windowScrollbarX = getWindowScrollBarX(html);\r\n  // <html> `overflow: hidden` + `scrollbar-gutter: stable` reduces the\r\n  // visual width of the <html> but this is not considered in the size\r\n  // of `html.clientWidth`.\r\n  if (windowScrollbarX <= 0) {\r\n    const doc = html.ownerDocument;\r\n    const body = doc.body;\r\n    const bodyStyles = getComputedStyle(body);\r\n    const bodyMarginInline = doc.compatMode === 'CSS1Compat' ? parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight) || 0 : 0;\r\n    const clippingStableScrollbarWidth = Math.abs(html.clientWidth - body.clientWidth - bodyMarginInline);\r\n    if (clippingStableScrollbarWidth <= SCROLLBAR_MAX) {\r\n      width -= clippingStableScrollbarWidth;\r\n    }\r\n  } else if (windowScrollbarX <= SCROLLBAR_MAX) {\r\n    // If the <body> scrollbar is on the left, the width needs to be extended\r\n    // by the scrollbar amount so there isn't extra space on the right.\r\n    width += windowScrollbarX;\r\n  }\r\n  return {\r\n    width,\r\n    height,\r\n    x,\r\n    y\r\n  };\r\n}\r\n\r\nconst absoluteOrFixed = /*#__PURE__*/new Set(['absolute', 'fixed']);\r\n// Returns the inner client rect, subtracting scrollbars if present.\r\nfunction getInnerBoundingClientRect(element, strategy) {\r\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\r\n  const top = clientRect.top + element.clientTop;\r\n  const left = clientRect.left + element.clientLeft;\r\n  const scale = isHTMLElement(element) ? getScale(element) : createCoords(1);\r\n  const width = element.clientWidth * scale.x;\r\n  const height = element.clientHeight * scale.y;\r\n  const x = left * scale.x;\r\n  const y = top * scale.y;\r\n  return {\r\n    width,\r\n    height,\r\n    x,\r\n    y\r\n  };\r\n}\r\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\r\n  let rect;\r\n  if (clippingAncestor === 'viewport') {\r\n    rect = getViewportRect(element, strategy);\r\n  } else if (clippingAncestor === 'document') {\r\n    rect = getDocumentRect(getDocumentElement(element));\r\n  } else if (isElement(clippingAncestor)) {\r\n    rect = getInnerBoundingClientRect(clippingAncestor, strategy);\r\n  } else {\r\n    const visualOffsets = getVisualOffsets(element);\r\n    rect = {\r\n      x: clippingAncestor.x - visualOffsets.x,\r\n      y: clippingAncestor.y - visualOffsets.y,\r\n      width: clippingAncestor.width,\r\n      height: clippingAncestor.height\r\n    };\r\n  }\r\n  return rectToClientRect(rect);\r\n}\r\nfunction hasFixedPositionAncestor(element, stopNode) {\r\n  const parentNode = getParentNode(element);\r\n  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {\r\n    return false;\r\n  }\r\n  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);\r\n}\r\n\r\n// A \"clipping ancestor\" is an `overflow` element with the characteristic of\r\n// clipping (or hiding) child elements. This returns all clipping ancestors\r\n// of the given element up the tree.\r\nfunction getClippingElementAncestors(element, cache) {\r\n  const cachedResult = cache.get(element);\r\n  if (cachedResult) {\r\n    return cachedResult;\r\n  }\r\n  let result = getOverflowAncestors(element, [], false).filter(el => isElement(el) && getNodeName(el) !== 'body');\r\n  let currentContainingBlockComputedStyle = null;\r\n  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';\r\n  let currentNode = elementIsFixed ? getParentNode(element) : element;\r\n\r\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\r\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\r\n    const computedStyle = getComputedStyle$1(currentNode);\r\n    const currentNodeIsContaining = isContainingBlock(currentNode);\r\n    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {\r\n      currentContainingBlockComputedStyle = null;\r\n    }\r\n    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && absoluteOrFixed.has(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);\r\n    if (shouldDropCurrentNode) {\r\n      // Drop non-containing blocks.\r\n      result = result.filter(ancestor => ancestor !== currentNode);\r\n    } else {\r\n      // Record last containing block for next iteration.\r\n      currentContainingBlockComputedStyle = computedStyle;\r\n    }\r\n    currentNode = getParentNode(currentNode);\r\n  }\r\n  cache.set(element, result);\r\n  return result;\r\n}\r\n\r\n// Gets the maximum area that the element is visible in due to any number of\r\n// clipping ancestors.\r\nfunction getClippingRect(_ref) {\r\n  let {\r\n    element,\r\n    boundary,\r\n    rootBoundary,\r\n    strategy\r\n  } = _ref;\r\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? isTopLayer(element) ? [] : getClippingElementAncestors(element, this._c) : [].concat(boundary);\r\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\r\n  const firstClippingAncestor = clippingAncestors[0];\r\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\r\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\r\n    accRect.top = max(rect.top, accRect.top);\r\n    accRect.right = min(rect.right, accRect.right);\r\n    accRect.bottom = min(rect.bottom, accRect.bottom);\r\n    accRect.left = max(rect.left, accRect.left);\r\n    return accRect;\r\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\r\n  return {\r\n    width: clippingRect.right - clippingRect.left,\r\n    height: clippingRect.bottom - clippingRect.top,\r\n    x: clippingRect.left,\r\n    y: clippingRect.top\r\n  };\r\n}\r\n\r\nfunction getDimensions(element) {\r\n  const {\r\n    width,\r\n    height\r\n  } = getCssDimensions(element);\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\r\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\r\n  const documentElement = getDocumentElement(offsetParent);\r\n  const isFixed = strategy === 'fixed';\r\n  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);\r\n  let scroll = {\r\n    scrollLeft: 0,\r\n    scrollTop: 0\r\n  };\r\n  const offsets = createCoords(0);\r\n\r\n  // If the <body> scrollbar appears on the left (e.g. RTL systems). Use\r\n  // Firefox with layout.scrollbar.side = 3 in about:config to test this.\r\n  function setLeftRTLScrollbarOffset() {\r\n    offsets.x = getWindowScrollBarX(documentElement);\r\n  }\r\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {\r\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\r\n      scroll = getNodeScroll(offsetParent);\r\n    }\r\n    if (isOffsetParentAnElement) {\r\n      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);\r\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\r\n      offsets.y = offsetRect.y + offsetParent.clientTop;\r\n    } else if (documentElement) {\r\n      setLeftRTLScrollbarOffset();\r\n    }\r\n  }\r\n  if (isFixed && !isOffsetParentAnElement && documentElement) {\r\n    setLeftRTLScrollbarOffset();\r\n  }\r\n  const htmlOffset = documentElement && !isOffsetParentAnElement && !isFixed ? getHTMLOffset(documentElement, scroll) : createCoords(0);\r\n  const x = rect.left + scroll.scrollLeft - offsets.x - htmlOffset.x;\r\n  const y = rect.top + scroll.scrollTop - offsets.y - htmlOffset.y;\r\n  return {\r\n    x,\r\n    y,\r\n    width: rect.width,\r\n    height: rect.height\r\n  };\r\n}\r\n\r\nfunction isStaticPositioned(element) {\r\n  return getComputedStyle$1(element).position === 'static';\r\n}\r\n\r\nfunction getTrueOffsetParent(element, polyfill) {\r\n  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {\r\n    return null;\r\n  }\r\n  if (polyfill) {\r\n    return polyfill(element);\r\n  }\r\n  let rawOffsetParent = element.offsetParent;\r\n\r\n  // Firefox returns the <html> element as the offsetParent if it's non-static,\r\n  // while Chrome and Safari return the <body> element. The <body> element must\r\n  // be used to perform the correct calculations even if the <html> element is\r\n  // non-static.\r\n  if (getDocumentElement(element) === rawOffsetParent) {\r\n    rawOffsetParent = rawOffsetParent.ownerDocument.body;\r\n  }\r\n  return rawOffsetParent;\r\n}\r\n\r\n// Gets the closest ancestor positioned element. Handles some edge cases,\r\n// such as table ancestors and cross browser bugs.\r\nfunction getOffsetParent(element, polyfill) {\r\n  const win = getWindow(element);\r\n  if (isTopLayer(element)) {\r\n    return win;\r\n  }\r\n  if (!isHTMLElement(element)) {\r\n    let svgOffsetParent = getParentNode(element);\r\n    while (svgOffsetParent && !isLastTraversableNode(svgOffsetParent)) {\r\n      if (isElement(svgOffsetParent) && !isStaticPositioned(svgOffsetParent)) {\r\n        return svgOffsetParent;\r\n      }\r\n      svgOffsetParent = getParentNode(svgOffsetParent);\r\n    }\r\n    return win;\r\n  }\r\n  let offsetParent = getTrueOffsetParent(element, polyfill);\r\n  while (offsetParent && isTableElement(offsetParent) && isStaticPositioned(offsetParent)) {\r\n    offsetParent = getTrueOffsetParent(offsetParent, polyfill);\r\n  }\r\n  if (offsetParent && isLastTraversableNode(offsetParent) && isStaticPositioned(offsetParent) && !isContainingBlock(offsetParent)) {\r\n    return win;\r\n  }\r\n  return offsetParent || getContainingBlock(element) || win;\r\n}\r\n\r\nconst getElementRects = async function (data) {\r\n  const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\r\n  const getDimensionsFn = this.getDimensions;\r\n  const floatingDimensions = await getDimensionsFn(data.floating);\r\n  return {\r\n    reference: getRectRelativeToOffsetParent(data.reference, await getOffsetParentFn(data.floating), data.strategy),\r\n    floating: {\r\n      x: 0,\r\n      y: 0,\r\n      width: floatingDimensions.width,\r\n      height: floatingDimensions.height\r\n    }\r\n  };\r\n};\r\n\r\nfunction isRTL(element) {\r\n  return getComputedStyle$1(element).direction === 'rtl';\r\n}\r\n\r\nconst platform = {\r\n  convertOffsetParentRelativeRectToViewportRelativeRect,\r\n  getDocumentElement,\r\n  getClippingRect,\r\n  getOffsetParent,\r\n  getElementRects,\r\n  getClientRects,\r\n  getDimensions,\r\n  getScale,\r\n  isElement,\r\n  isRTL\r\n};\r\n\r\nfunction rectsAreEqual(a, b) {\r\n  return a.x === b.x && a.y === b.y && a.width === b.width && a.height === b.height;\r\n}\r\n\r\n// https://samthor.au/2021/observing-dom/\r\nfunction observeMove(element, onMove) {\r\n  let io = null;\r\n  let timeoutId;\r\n  const root = getDocumentElement(element);\r\n  function cleanup() {\r\n    var _io;\r\n    clearTimeout(timeoutId);\r\n    (_io = io) == null || _io.disconnect();\r\n    io = null;\r\n  }\r\n  function refresh(skip, threshold) {\r\n    if (skip === void 0) {\r\n      skip = false;\r\n    }\r\n    if (threshold === void 0) {\r\n      threshold = 1;\r\n    }\r\n    cleanup();\r\n    const elementRectForRootMargin = element.getBoundingClientRect();\r\n    const {\r\n      left,\r\n      top,\r\n      width,\r\n      height\r\n    } = elementRectForRootMargin;\r\n    if (!skip) {\r\n      onMove();\r\n    }\r\n    if (!width || !height) {\r\n      return;\r\n    }\r\n    const insetTop = floor(top);\r\n    const insetRight = floor(root.clientWidth - (left + width));\r\n    const insetBottom = floor(root.clientHeight - (top + height));\r\n    const insetLeft = floor(left);\r\n    const rootMargin = -insetTop + \"px \" + -insetRight + \"px \" + -insetBottom + \"px \" + -insetLeft + \"px\";\r\n    const options = {\r\n      rootMargin,\r\n      threshold: max(0, min(1, threshold)) || 1\r\n    };\r\n    let isFirstUpdate = true;\r\n    function handleObserve(entries) {\r\n      const ratio = entries[0].intersectionRatio;\r\n      if (ratio !== threshold) {\r\n        if (!isFirstUpdate) {\r\n          return refresh();\r\n        }\r\n        if (!ratio) {\r\n          // If the reference is clipped, the ratio is 0. Throttle the refresh\r\n          // to prevent an infinite loop of updates.\r\n          timeoutId = setTimeout(() => {\r\n            refresh(false, 1e-7);\r\n          }, 1000);\r\n        } else {\r\n          refresh(false, ratio);\r\n        }\r\n      }\r\n      if (ratio === 1 && !rectsAreEqual(elementRectForRootMargin, element.getBoundingClientRect())) {\r\n        // It's possible that even though the ratio is reported as 1, the\r\n        // element is not actually fully within the IntersectionObserver's root\r\n        // area anymore. This can happen under performance constraints. This may\r\n        // be a bug in the browser's IntersectionObserver implementation. To\r\n        // work around this, we compare the element's bounding rect now with\r\n        // what it was at the time we created the IntersectionObserver. If they\r\n        // are not equal then the element moved, so we refresh.\r\n        refresh();\r\n      }\r\n      isFirstUpdate = false;\r\n    }\r\n\r\n    // Older browsers don't support a `document` as the root and will throw an\r\n    // error.\r\n    try {\r\n      io = new IntersectionObserver(handleObserve, {\r\n        ...options,\r\n        // Handle <iframe>s\r\n        root: root.ownerDocument\r\n      });\r\n    } catch (_e) {\r\n      io = new IntersectionObserver(handleObserve, options);\r\n    }\r\n    io.observe(element);\r\n  }\r\n  refresh(true);\r\n  return cleanup;\r\n}\r\n\r\n/**\r\n * Automatically updates the position of the floating element when necessary.\r\n * Should only be called when the floating element is mounted on the DOM or\r\n * visible on the screen.\r\n * @returns cleanup function that should be invoked when the floating element is\r\n * removed from the DOM or hidden from the screen.\r\n * @see https://floating-ui.com/docs/autoUpdate\r\n */\r\nfunction autoUpdate(reference, floating, update, options) {\r\n  if (options === void 0) {\r\n    options = {};\r\n  }\r\n  const {\r\n    ancestorScroll = true,\r\n    ancestorResize = true,\r\n    elementResize = typeof ResizeObserver === 'function',\r\n    layoutShift = typeof IntersectionObserver === 'function',\r\n    animationFrame = false\r\n  } = options;\r\n  const referenceEl = unwrapElement(reference);\r\n  const ancestors = ancestorScroll || ancestorResize ? [...(referenceEl ? getOverflowAncestors(referenceEl) : []), ...getOverflowAncestors(floating)] : [];\r\n  ancestors.forEach(ancestor => {\r\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\r\n      passive: true\r\n    });\r\n    ancestorResize && ancestor.addEventListener('resize', update);\r\n  });\r\n  const cleanupIo = referenceEl && layoutShift ? observeMove(referenceEl, update) : null;\r\n  let reobserveFrame = -1;\r\n  let resizeObserver = null;\r\n  if (elementResize) {\r\n    resizeObserver = new ResizeObserver(_ref => {\r\n      let [firstEntry] = _ref;\r\n      if (firstEntry && firstEntry.target === referenceEl && resizeObserver) {\r\n        // Prevent update loops when using the `size` middleware.\r\n        // https://github.com/floating-ui/floating-ui/issues/1740\r\n        resizeObserver.unobserve(floating);\r\n        cancelAnimationFrame(reobserveFrame);\r\n        reobserveFrame = requestAnimationFrame(() => {\r\n          var _resizeObserver;\r\n          (_resizeObserver = resizeObserver) == null || _resizeObserver.observe(floating);\r\n        });\r\n      }\r\n      update();\r\n    });\r\n    if (referenceEl && !animationFrame) {\r\n      resizeObserver.observe(referenceEl);\r\n    }\r\n    resizeObserver.observe(floating);\r\n  }\r\n  let frameId;\r\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\r\n  if (animationFrame) {\r\n    frameLoop();\r\n  }\r\n  function frameLoop() {\r\n    const nextRefRect = getBoundingClientRect(reference);\r\n    if (prevRefRect && !rectsAreEqual(prevRefRect, nextRefRect)) {\r\n      update();\r\n    }\r\n    prevRefRect = nextRefRect;\r\n    frameId = requestAnimationFrame(frameLoop);\r\n  }\r\n  update();\r\n  return () => {\r\n    var _resizeObserver2;\r\n    ancestors.forEach(ancestor => {\r\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\r\n      ancestorResize && ancestor.removeEventListener('resize', update);\r\n    });\r\n    cleanupIo == null || cleanupIo();\r\n    (_resizeObserver2 = resizeObserver) == null || _resizeObserver2.disconnect();\r\n    resizeObserver = null;\r\n    if (animationFrame) {\r\n      cancelAnimationFrame(frameId);\r\n    }\r\n  };\r\n}\r\n\r\n/**\r\n * Resolves with an object of overflow side offsets that determine how much the\r\n * element is overflowing a given clipping boundary on each side.\r\n * - positive = overflowing the boundary by that number of pixels\r\n * - negative = how many pixels left before it will overflow\r\n * - 0 = lies flush with the boundary\r\n * @see https://floating-ui.com/docs/detectOverflow\r\n */\r\nconst detectOverflow = detectOverflow$1;\r\n\r\n/**\r\n * Modifies the placement by translating the floating element along the\r\n * specified axes.\r\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\r\n * object may be passed.\r\n * @see https://floating-ui.com/docs/offset\r\n */\r\nconst offset = offset$1;\r\n\r\n/**\r\n * Optimizes the visibility of the floating element by choosing the placement\r\n * that has the most space available automatically, without needing to specify a\r\n * preferred placement. Alternative to `flip`.\r\n * @see https://floating-ui.com/docs/autoPlacement\r\n */\r\nconst autoPlacement = autoPlacement$1;\r\n\r\n/**\r\n * Optimizes the visibility of the floating element by shifting it in order to\r\n * keep it in view when it will overflow the clipping boundary.\r\n * @see https://floating-ui.com/docs/shift\r\n */\r\nconst shift = shift$1;\r\n\r\n/**\r\n * Optimizes the visibility of the floating element by flipping the `placement`\r\n * in order to keep it in view when the preferred placement(s) will overflow the\r\n * clipping boundary. Alternative to `autoPlacement`.\r\n * @see https://floating-ui.com/docs/flip\r\n */\r\nconst flip = flip$1;\r\n\r\n/**\r\n * Provides data that allows you to change the size of the floating element —\r\n * for instance, prevent it from overflowing the clipping boundary or match the\r\n * width of the reference element.\r\n * @see https://floating-ui.com/docs/size\r\n */\r\nconst size = size$1;\r\n\r\n/**\r\n * Provides data to hide the floating element in applicable situations, such as\r\n * when it is not in the same clipping context as the reference element.\r\n * @see https://floating-ui.com/docs/hide\r\n */\r\nconst hide = hide$1;\r\n\r\n/**\r\n * Provides data to position an inner element of the floating element so that it\r\n * appears centered to the reference element.\r\n * @see https://floating-ui.com/docs/arrow\r\n */\r\nconst arrow = arrow$1;\r\n\r\n/**\r\n * Provides improved positioning for inline reference elements that can span\r\n * over multiple lines, such as hyperlinks or range selections.\r\n * @see https://floating-ui.com/docs/inline\r\n */\r\nconst inline = inline$1;\r\n\r\n/**\r\n * Built-in `limiter` that will stop `shift()` at a certain point.\r\n */\r\nconst limitShift = limitShift$1;\r\n\r\n/**\r\n * Computes the `x` and `y` coordinates that will place the floating element\r\n * next to a given reference element.\r\n */\r\nconst computePosition = (reference, floating, options) => {\r\n  // This caches the expensive `getClippingElementAncestors` function so that\r\n  // multiple lifecycle resets re-use the same result. It only lives for a\r\n  // single call. If other functions become expensive, we can add them as well.\r\n  const cache = new Map();\r\n  const mergedOptions = {\r\n    platform,\r\n    ...options\r\n  };\r\n  const platformWithCache = {\r\n    ...mergedOptions.platform,\r\n    _c: cache\r\n  };\r\n  return computePosition$1(reference, floating, {\r\n    ...mergedOptions,\r\n    platform: platformWithCache\r\n  });\r\n};\r\n\r\nexport { arrow, autoPlacement, autoUpdate, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, platform, shift, size };\r\n", "import { _ as _object_spread } from \"@swc/helpers/_/_object_spread\";\r\nimport { _ as _object_spread_props } from \"@swc/helpers/_/_object_spread_props\";\r\nimport { _ as _sliced_to_array } from \"@swc/helpers/_/_sliced_to_array\";\r\nimport { _ as _type_of } from \"@swc/helpers/_/_type_of\";\r\nimport { computePosition, arrow as arrow$2, autoPlacement as autoPlacement$1, flip as flip$1, hide as hide$1, inline as inline$1, limitShift as limitShift$1, offset as offset$1, shift as shift$1, size as size$1 } from '@floating-ui/dom';\r\nexport { autoUpdate, computePosition, detectOverflow, getOverflowAncestors, platform } from '@floating-ui/dom';\r\nimport * as React from 'react';\r\nimport { useLayoutEffect } from 'react';\r\nimport * as ReactDOM from 'react-dom';\r\nvar isClient = typeof document !== 'undefined';\r\nvar noop = function noop() {};\r\nvar index = isClient ? useLayoutEffect : noop;\r\n// Fork of `fast-deep-equal` that only does the comparisons we need and compares\r\n// functions\r\nfunction deepEqual(a, b) {\r\n    if (a === b) {\r\n        return true;\r\n    }\r\n    if ((typeof a === \"undefined\" ? \"undefined\" : _type_of(a)) !== (typeof b === \"undefined\" ? \"undefined\" : _type_of(b))) {\r\n        return false;\r\n    }\r\n    if (typeof a === 'function' && a.toString() === b.toString()) {\r\n        return true;\r\n    }\r\n    var length;\r\n    var i;\r\n    var keys;\r\n    if (a && b && (typeof a === \"undefined\" ? \"undefined\" : _type_of(a)) === 'object') {\r\n        if (Array.isArray(a)) {\r\n            length = a.length;\r\n            if (length !== b.length) return false;\r\n            for(i = length; i-- !== 0;){\r\n                if (!deepEqual(a[i], b[i])) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n        keys = Object.keys(a);\r\n        length = keys.length;\r\n        if (length !== Object.keys(b).length) {\r\n            return false;\r\n        }\r\n        for(i = length; i-- !== 0;){\r\n            if (!({}).hasOwnProperty.call(b, keys[i])) {\r\n                return false;\r\n            }\r\n        }\r\n        for(i = length; i-- !== 0;){\r\n            var key = keys[i];\r\n            if (key === '_owner' && a.$$typeof) {\r\n                continue;\r\n            }\r\n            if (!deepEqual(a[key], b[key])) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    return a !== a && b !== b;\r\n}\r\nfunction getDPR(element) {\r\n    if (typeof window === 'undefined') {\r\n        return 1;\r\n    }\r\n    var win = element.ownerDocument.defaultView || window;\r\n    return win.devicePixelRatio || 1;\r\n}\r\nfunction roundByDPR(element, value) {\r\n    var dpr = getDPR(element);\r\n    return Math.round(value * dpr) / dpr;\r\n}\r\nfunction useLatestRef(value) {\r\n    var ref = React.useRef(value);\r\n    index(function() {\r\n        ref.current = value;\r\n    });\r\n    return ref;\r\n}\r\n/**\r\n * Provides data to position a floating element.\r\n * @see https://floating-ui.com/docs/useFloating\r\n */ function useFloating(options) {\r\n    if (options === void 0) {\r\n        options = {};\r\n    }\r\n    var _options_placement = options.placement, placement = _options_placement === void 0 ? 'bottom' : _options_placement, _options_strategy = options.strategy, strategy = _options_strategy === void 0 ? 'absolute' : _options_strategy, _options_middleware = options.middleware, middleware = _options_middleware === void 0 ? [] : _options_middleware, platform = options.platform, tmp = options.elements, _ref = tmp === void 0 ? {} : tmp, externalReference = _ref.reference, externalFloating = _ref.floating, _options_transform = options.transform, transform = _options_transform === void 0 ? true : _options_transform, whileElementsMounted = options.whileElementsMounted, open = options.open;\r\n    var _React_useState = _sliced_to_array(React.useState({\r\n        x: 0,\r\n        y: 0,\r\n        strategy: strategy,\r\n        placement: placement,\r\n        middlewareData: {},\r\n        isPositioned: false\r\n    }), 2), data = _React_useState[0], setData = _React_useState[1];\r\n    var _React_useState1 = _sliced_to_array(React.useState(middleware), 2), latestMiddleware = _React_useState1[0], setLatestMiddleware = _React_useState1[1];\r\n    if (!deepEqual(latestMiddleware, middleware)) {\r\n        setLatestMiddleware(middleware);\r\n    }\r\n    var _React_useState2 = _sliced_to_array(React.useState(null), 2), _reference = _React_useState2[0], _setReference = _React_useState2[1];\r\n    var _React_useState3 = _sliced_to_array(React.useState(null), 2), _floating = _React_useState3[0], _setFloating = _React_useState3[1];\r\n    var setReference = React.useCallback(function(node) {\r\n        if (node !== referenceRef.current) {\r\n            referenceRef.current = node;\r\n            _setReference(node);\r\n        }\r\n    }, []);\r\n    var setFloating = React.useCallback(function(node) {\r\n        if (node !== floatingRef.current) {\r\n            floatingRef.current = node;\r\n            _setFloating(node);\r\n        }\r\n    }, []);\r\n    var referenceEl = externalReference || _reference;\r\n    var floatingEl = externalFloating || _floating;\r\n    var referenceRef = React.useRef(null);\r\n    var floatingRef = React.useRef(null);\r\n    var dataRef = React.useRef(data);\r\n    var hasWhileElementsMounted = whileElementsMounted != null;\r\n    var whileElementsMountedRef = useLatestRef(whileElementsMounted);\r\n    var platformRef = useLatestRef(platform);\r\n    var openRef = useLatestRef(open);\r\n    var update = React.useCallback(function() {\r\n        if (!referenceRef.current || !floatingRef.current) {\r\n            return;\r\n        }\r\n        var config = {\r\n            placement: placement,\r\n            strategy: strategy,\r\n            middleware: latestMiddleware\r\n        };\r\n        if (platformRef.current) {\r\n            config.platform = platformRef.current;\r\n        }\r\n        computePosition(referenceRef.current, floatingRef.current, config).then(function(data) {\r\n            var fullData = _object_spread_props(_object_spread({}, data), {\r\n                // The floating element's position may be recomputed while it's closed\r\n                // but still mounted (such as when transitioning out). To ensure\r\n                // `isPositioned` will be `false` initially on the next open, avoid\r\n                // setting it to `true` when `open === false` (must be specified).\r\n                isPositioned: openRef.current !== false\r\n            });\r\n            if (isMountedRef.current && !deepEqual(dataRef.current, fullData)) {\r\n                dataRef.current = fullData;\r\n                ReactDOM.flushSync(function() {\r\n                    setData(fullData);\r\n                });\r\n            }\r\n        });\r\n    }, [\r\n        latestMiddleware,\r\n        placement,\r\n        strategy,\r\n        platformRef,\r\n        openRef\r\n    ]);\r\n    index(function() {\r\n        if (open === false && dataRef.current.isPositioned) {\r\n            dataRef.current.isPositioned = false;\r\n            setData(function(data) {\r\n                return _object_spread_props(_object_spread({}, data), {\r\n                    isPositioned: false\r\n                });\r\n            });\r\n        }\r\n    }, [\r\n        open\r\n    ]);\r\n    var isMountedRef = React.useRef(false);\r\n    index(function() {\r\n        isMountedRef.current = true;\r\n        return function() {\r\n            isMountedRef.current = false;\r\n        };\r\n    }, []);\r\n    index(function() {\r\n        if (referenceEl) referenceRef.current = referenceEl;\r\n        if (floatingEl) floatingRef.current = floatingEl;\r\n        if (referenceEl && floatingEl) {\r\n            if (whileElementsMountedRef.current) {\r\n                return whileElementsMountedRef.current(referenceEl, floatingEl, update);\r\n            }\r\n            update();\r\n        }\r\n    }, [\r\n        referenceEl,\r\n        floatingEl,\r\n        update,\r\n        whileElementsMountedRef,\r\n        hasWhileElementsMounted\r\n    ]);\r\n    var refs = React.useMemo(function() {\r\n        return {\r\n            reference: referenceRef,\r\n            floating: floatingRef,\r\n            setReference: setReference,\r\n            setFloating: setFloating\r\n        };\r\n    }, [\r\n        setReference,\r\n        setFloating\r\n    ]);\r\n    var elements = React.useMemo(function() {\r\n        return {\r\n            reference: referenceEl,\r\n            floating: floatingEl\r\n        };\r\n    }, [\r\n        referenceEl,\r\n        floatingEl\r\n    ]);\r\n    var floatingStyles = React.useMemo(function() {\r\n        var initialStyles = {\r\n            position: strategy,\r\n            left: 0,\r\n            top: 0\r\n        };\r\n        if (!elements.floating) {\r\n            return initialStyles;\r\n        }\r\n        var x = roundByDPR(elements.floating, data.x);\r\n        var y = roundByDPR(elements.floating, data.y);\r\n        if (transform) {\r\n            return _object_spread(_object_spread_props(_object_spread({}, initialStyles), {\r\n                transform: \"translate(\" + x + \"px, \" + y + \"px)\"\r\n            }), getDPR(elements.floating) >= 1.5 && {\r\n                willChange: 'transform'\r\n            });\r\n        }\r\n        return {\r\n            position: strategy,\r\n            left: x,\r\n            top: y\r\n        };\r\n    }, [\r\n        strategy,\r\n        transform,\r\n        elements.floating,\r\n        data.x,\r\n        data.y\r\n    ]);\r\n    return React.useMemo(function() {\r\n        return _object_spread_props(_object_spread({}, data), {\r\n            update: update,\r\n            refs: refs,\r\n            elements: elements,\r\n            floatingStyles: floatingStyles\r\n        });\r\n    }, [\r\n        data,\r\n        update,\r\n        refs,\r\n        elements,\r\n        floatingStyles\r\n    ]);\r\n}\r\n/**\r\n * Provides data to position an inner element of the floating element so that it\r\n * appears centered to the reference element.\r\n * This wraps the core `arrow` middleware to allow React refs as the element.\r\n * @see https://floating-ui.com/docs/arrow\r\n */ var arrow$1 = function(options) {\r\n    var isRef = function isRef(value) {\r\n        return ({}).hasOwnProperty.call(value, 'current');\r\n    };\r\n    return {\r\n        name: 'arrow',\r\n        options: options,\r\n        fn: function fn(state) {\r\n            var _ref = typeof options === 'function' ? options(state) : options, element = _ref.element, padding = _ref.padding;\r\n            if (element && isRef(element)) {\r\n                if (element.current != null) {\r\n                    return arrow$2({\r\n                        element: element.current,\r\n                        padding: padding\r\n                    }).fn(state);\r\n                }\r\n                return {};\r\n            }\r\n            if (element) {\r\n                return arrow$2({\r\n                    element: element,\r\n                    padding: padding\r\n                }).fn(state);\r\n            }\r\n            return {};\r\n        }\r\n    };\r\n};\r\n/**\r\n * Modifies the placement by translating the floating element along the\r\n * specified axes.\r\n * A number (shorthand for `mainAxis` or distance), or an axes configuration\r\n * object may be passed.\r\n * @see https://floating-ui.com/docs/offset\r\n */ var offset = function(options, deps) {\r\n    return _object_spread_props(_object_spread({}, offset$1(options)), {\r\n        options: [\r\n            options,\r\n            deps\r\n        ]\r\n    });\r\n};\r\n/**\r\n * Optimizes the visibility of the floating element by shifting it in order to\r\n * keep it in view when it will overflow the clipping boundary.\r\n * @see https://floating-ui.com/docs/shift\r\n */ var shift = function(options, deps) {\r\n    return _object_spread_props(_object_spread({}, shift$1(options)), {\r\n        options: [\r\n            options,\r\n            deps\r\n        ]\r\n    });\r\n};\r\n/**\r\n * Built-in `limiter` that will stop `shift()` at a certain point.\r\n */ var limitShift = function(options, deps) {\r\n    return _object_spread_props(_object_spread({}, limitShift$1(options)), {\r\n        options: [\r\n            options,\r\n            deps\r\n        ]\r\n    });\r\n};\r\n/**\r\n * Optimizes the visibility of the floating element by flipping the `placement`\r\n * in order to keep it in view when the preferred placement(s) will overflow the\r\n * clipping boundary. Alternative to `autoPlacement`.\r\n * @see https://floating-ui.com/docs/flip\r\n */ var flip = function(options, deps) {\r\n    return _object_spread_props(_object_spread({}, flip$1(options)), {\r\n        options: [\r\n            options,\r\n            deps\r\n        ]\r\n    });\r\n};\r\n/**\r\n * Provides data that allows you to change the size of the floating element —\r\n * for instance, prevent it from overflowing the clipping boundary or match the\r\n * width of the reference element.\r\n * @see https://floating-ui.com/docs/size\r\n */ var size = function(options, deps) {\r\n    return _object_spread_props(_object_spread({}, size$1(options)), {\r\n        options: [\r\n            options,\r\n            deps\r\n        ]\r\n    });\r\n};\r\n/**\r\n * Optimizes the visibility of the floating element by choosing the placement\r\n * that has the most space available automatically, without needing to specify a\r\n * preferred placement. Alternative to `flip`.\r\n * @see https://floating-ui.com/docs/autoPlacement\r\n */ var autoPlacement = function(options, deps) {\r\n    return _object_spread_props(_object_spread({}, autoPlacement$1(options)), {\r\n        options: [\r\n            options,\r\n            deps\r\n        ]\r\n    });\r\n};\r\n/**\r\n * Provides data to hide the floating element in applicable situations, such as\r\n * when it is not in the same clipping context as the reference element.\r\n * @see https://floating-ui.com/docs/hide\r\n */ var hide = function(options, deps) {\r\n    return _object_spread_props(_object_spread({}, hide$1(options)), {\r\n        options: [\r\n            options,\r\n            deps\r\n        ]\r\n    });\r\n};\r\n/**\r\n * Provides improved positioning for inline reference elements that can span\r\n * over multiple lines, such as hyperlinks or range selections.\r\n * @see https://floating-ui.com/docs/inline\r\n */ var inline = function(options, deps) {\r\n    return _object_spread_props(_object_spread({}, inline$1(options)), {\r\n        options: [\r\n            options,\r\n            deps\r\n        ]\r\n    });\r\n};\r\n/**\r\n * Provides data to position an inner element of the floating element so that it\r\n * appears centered to the reference element.\r\n * This wraps the core `arrow` middleware to allow React refs as the element.\r\n * @see https://floating-ui.com/docs/arrow\r\n */ var arrow = function(options, deps) {\r\n    return _object_spread_props(_object_spread({}, arrow$1(options)), {\r\n        options: [\r\n            options,\r\n            deps\r\n        ]\r\n    });\r\n};\r\nexport { arrow, autoPlacement, flip, hide, inline, limitShift, offset, shift, size, useFloating };\r\n", "import {\n  autoUpdate as autoUpdateLib,\n  type AutoUpdateOptions,\n  type FloatingElement,\n  type ReferenceType,\n} from '@vkontakte/vkui-floating-ui/react-dom';\nimport { isHTMLElement } from '../dom';\nimport { CustomResizeObserver } from './customResizeObserver';\n\nexport {\n  useFloating,\n  offset as offsetMiddleware,\n  flip as flipMiddleware,\n  shift as shiftMiddleware,\n  autoPlacement as autoPlacementMiddleware,\n  arrow as arrowMiddleware,\n  size as sizeMiddleware,\n  hide as hideMiddleware,\n  getOverflowAncestors,\n} from '@vkontakte/vkui-floating-ui/react-dom';\n\nexport type { FlipOptions as FlipMiddlewareOptions } from '@vkontakte/vkui-floating-ui/react-dom';\n\nconst defaultOptions = {\n  ancestorScroll: true,\n  ancestorResize: true,\n  // По умолчанию отключаем, т.к. навешивать `CustomResizeObserver` может быть дорого.\n  // В `autoUpdateLib` по умолчанию опция включена. Там используется ResizeObserver, но и он не менее дорогостоящий.\n  // https://github.com/floating-ui/floating-ui/blob/0a34fe9cc2c7483976785a71bd0777cd7c3f2a6a/packages/dom/src/autoUpdate.ts#L6-L33\n  elementResize: false,\n  animationFrame: false,\n};\n\nexport function autoUpdateFloatingElement(\n  reference: ReferenceType,\n  floating: FloatingElement,\n  update: () => void,\n  options: Partial<AutoUpdateOptions> = defaultOptions,\n): ReturnType<typeof autoUpdateLib> {\n  const { elementResize = false, ...restOptions } = options;\n\n  // eslint-disable-next-line no-restricted-globals, compat/compat\n  const canUseResizeObserver = window.ResizeObserver !== undefined;\n  const autoUpdateLibDisposer = autoUpdateLib(reference, floating, update, {\n    ...restOptions,\n    elementResize: elementResize && canUseResizeObserver,\n  });\n\n  // В случае если `ResizeObserver` будет полифилиться или он будет покрываться нашим `browserlist`, то надо удалить\n  // код с `CustomResizeObserver`.\n  let observer: CustomResizeObserver | null = null;\n  if (elementResize && !canUseResizeObserver) {\n    observer = new CustomResizeObserver(update);\n\n    if (isHTMLElement(reference)) {\n      observer.observe(reference);\n    }\n\n    observer.observe(floating);\n\n    observer.appendToTheDOM();\n  }\n\n  return () => {\n    if (observer) {\n      observer.disconnect();\n      observer = null;\n    }\n    autoUpdateLibDisposer();\n  };\n}\n", "import * as React from 'react';\nimport {\n  arrowMiddleware,\n  autoPlacementMiddleware,\n  flipMiddleware,\n  type FlipMiddlewareOptions,\n  hideMiddleware,\n  offsetMiddleware,\n  shiftMiddleware,\n  sizeMiddleware,\n} from '../adapters';\nimport { checkIsNotAutoPlacement, getAutoPlacementAlign } from '../functions';\nimport {\n  type ArrowOptions,\n  type Placement,\n  type PlacementWithAuto,\n  type UseFloatingMiddleware,\n} from '../types/common';\n\nexport interface UseFloatingMiddlewaresBootstrapOptions {\n  /**\n   * По умолчанию компонент выберет наилучшее расположение сам, но приоритетное можно задать с помощью этого свойства.\n   */\n  placement?: PlacementWithAuto;\n  /**\n   * Указанное значение `placement` форсируется, даже если для выпадающего элемента недостаточно места.\n   * Не оказывает влияния при `placement` значениях - `'auto' | 'auto-start' | 'auto-end'`\n   */\n  disableFlipMiddleware?: boolean;\n  /**\n   * Позволяет отключить смещение по главной оси,\n   * которое не даёт всплывающему элементу выходить за границы видимой области.\n   */\n  disableShiftMiddleware?: boolean;\n  /**\n   * Задаёт резервный вариант размещения по перпендикулярной оси.\n   */\n  flipMiddlewareFallbackAxisSideDirection?: FlipMiddlewareOptions['fallbackAxisSideDirection'];\n  /**\n   * Отступ по главной оси.\n   */\n  offsetByMainAxis?: number;\n  /**\n   * Отступ по вспомогательной оси.\n   */\n  offsetByCrossAxis?: number;\n  arrowRef?: ArrowOptions['element'];\n  /**\n   * Отображать ли стрелку, указывающую на якорный элемент.\n   */\n  arrow?: boolean;\n  /**\n   * Высота стрелки. Складывается с `mainAxis`, чтобы стрелка не залезала на якорный элемент.\n   */\n  arrowHeight?: number;\n  /**\n   * Безопасная зона вокруг стрелки, чтобы та не выходила за края контента.\n   */\n  arrowPadding?: number;\n  /**\n   * Выставлять ширину равной target элементу.\n   */\n  sameWidth?: boolean;\n  /**\n   * Массив кастомных модификаторов для Popper (необходимо мемоизировать).\n   */\n  customMiddlewares?: UseFloatingMiddleware[];\n  /**\n   * Принудительно скрывает компонент если целевой элемент вышел за область видимости.\n   */\n  hideWhenReferenceHidden?: boolean;\n}\n\nexport const useFloatingMiddlewaresBootstrap = ({\n  placement = 'bottom-start',\n  arrowRef = null,\n  arrow,\n  arrowHeight,\n  arrowPadding,\n  sameWidth,\n  offsetByMainAxis = 0,\n  offsetByCrossAxis = 0,\n  customMiddlewares,\n  hideWhenReferenceHidden,\n  disableFlipMiddleware = false,\n  disableShiftMiddleware = false,\n  flipMiddlewareFallbackAxisSideDirection = 'end',\n}: UseFloatingMiddlewaresBootstrapOptions): {\n  middlewares: UseFloatingMiddleware[];\n  strictPlacement: Placement | undefined;\n} => {\n  return React.useMemo(() => {\n    const isAutoPlacement = !checkIsNotAutoPlacement(placement);\n    const middlewares: UseFloatingMiddleware[] = [\n      offsetMiddleware({\n        crossAxis: offsetByCrossAxis,\n        mainAxis: arrow && arrowHeight ? offsetByMainAxis + arrowHeight : offsetByMainAxis,\n      }),\n    ];\n\n    const shift = disableShiftMiddleware ? null : shiftMiddleware();\n\n    // см. https://github.com/floating-ui/floating-ui/blob/%40floating-ui/core%401.7.1/website/pages/docs/flip.mdx#conflict-with-autoplacementjs\n    if (isAutoPlacement) {\n      middlewares.push(autoPlacementMiddleware({ alignment: getAutoPlacementAlign(placement) }));\n      if (shift) {\n        middlewares.push(shift);\n      }\n    } else if (!disableFlipMiddleware) {\n      const flip = flipMiddleware({\n        crossAxis: 'alignment',\n        fallbackAxisSideDirection: flipMiddlewareFallbackAxisSideDirection,\n      });\n\n      // см. https://github.com/floating-ui/floating-ui/blob/%40floating-ui/core%401.7.1/website/pages/docs/flip.mdx#combining-with-shiftjs\n      if (placement.includes('-')) {\n        middlewares.push(flip);\n        if (shift) {\n          middlewares.push(shift);\n        }\n      } else {\n        if (shift) {\n          middlewares.push(shift);\n        }\n        middlewares.push(flip);\n      }\n    } else if (shift) {\n      middlewares.push(shift);\n    }\n\n    if (sameWidth) {\n      middlewares.push(\n        sizeMiddleware({\n          apply({ rects, elements }) {\n            Object.assign(elements.floating.style, {\n              width: `${rects.reference.width}px`,\n            });\n          },\n        }),\n      );\n    }\n\n    if (customMiddlewares) {\n      middlewares.push(...customMiddlewares);\n    }\n\n    // см. https://github.com/floating-ui/floating-ui/blob/%40floating-ui/core%401.7.1/website/pages/docs/arrow.mdx#order\n    if (arrow) {\n      middlewares.push(\n        arrowMiddleware({\n          element: arrowRef,\n          padding: arrowPadding,\n        }),\n      );\n    }\n\n    if (hideWhenReferenceHidden) {\n      middlewares.push(hideMiddleware());\n    }\n\n    return { middlewares, strictPlacement: isAutoPlacement ? undefined : placement };\n  }, [\n    placement,\n    offsetByCrossAxis,\n    arrow,\n    arrowHeight,\n    offsetByMainAxis,\n    disableFlipMiddleware,\n    disableShiftMiddleware,\n    flipMiddlewareFallbackAxisSideDirection,\n    sameWidth,\n    customMiddlewares,\n    hideWhenReferenceHidden,\n    arrowRef,\n    arrowPadding,\n  ]);\n};\n", "import * as React from 'react';\nimport { debounce, noop } from '@vkontakte/vkjs';\nimport { getWindow, isHTMLElement } from '@vkontakte/vkui-floating-ui/utils/dom';\nimport { useCustomEnsuredControl } from '../../../hooks/useEnsuredControl';\nimport { useGlobalOnClickOutside } from '../../../hooks/useGlobalOnClickOutside';\nimport { useStableCallback } from '../../../hooks/useStableCallback';\nimport { contains, getActiveElementByAnotherElement } from '../../dom';\nimport { useIsomorphicLayoutEffect } from '../../useIsomorphicLayoutEffect';\nimport { autoUpdateFloatingElement, useFloating } from '../adapters';\nimport { convertFloatingDataToReactCSSProperties } from '../functions';\nimport { type UseFloatingOptions } from '../types/common';\nimport { DEFAULT_TRIGGER } from './constants';\nimport type {\n  FloatingProps,\n  ReferenceProps,\n  ShownChangeReason,\n  UseFloatingWithInteractionsProps,\n  UseFloatingWithInteractionsReturn,\n} from './types';\nimport { useResolveTriggerType } from './useResolveTriggerType';\n\ntype LocalState = { shown: boolean; reason?: ShownChangeReason };\n\nconst whileElementsMounted: UseFloatingOptions['whileElementsMounted'] = (...args) =>\n  /* istanbul ignore next: не знаю как проверить */\n  autoUpdateFloatingElement(...args, { elementResize: true });\n\n/**\n * @private\n */\nexport const useFloatingWithInteractions = <T extends HTMLElement = HTMLElement>({\n  trigger = DEFAULT_TRIGGER,\n\n  // UseFloating\n  placement: placementProp = 'bottom',\n  strategy: strategyProp = 'fixed',\n  middlewares,\n  hoverDelay = 0,\n  closeAfterClick = false,\n\n  // disables\n  disabled = false,\n  disableInteractive = false,\n  disableCloseOnClickOutside = false,\n  disableCloseOnEscKey = false,\n\n  // uncontrolled\n  defaultShown = false,\n\n  // controlled\n  shown: shownProp,\n  onShownChange: onShownChangeProp,\n  onShownChanged: onShownChangedProp,\n}: UseFloatingWithInteractionsProps): UseFloatingWithInteractionsReturn<T> => {\n  const memoizedValue = React.useMemo<LocalState | undefined>(\n    () => (shownProp !== undefined ? { shown: shownProp } : undefined),\n    [shownProp],\n  );\n  const [shownLocalState, setShownLocalState] = useCustomEnsuredControl<LocalState>({\n    value: memoizedValue,\n    disabled,\n    defaultValue: { shown: defaultShown },\n    onChange: useStableCallback(({ shown, reason }) => {\n      if (onShownChangeProp) {\n        onShownChangeProp(shown, reason);\n      }\n    }),\n  });\n  const onShownChanged = useStableCallback(onShownChangedProp ? onShownChangedProp : noop);\n  const [shownFinalState, setShownFinalState] = React.useState(() => shownLocalState.shown);\n  const [willBeHide, setWillBeHide] = React.useState(false);\n\n  const hasCSSAnimation = React.useRef(false);\n\n  const blockMouseEnterRef = React.useRef(false);\n  const blockFocusRef = React.useRef(false);\n  const blurTimeoutRef = React.useRef<ReturnType<typeof setTimeout> | undefined>(undefined);\n\n  const handleCloseOnReferenceClickOutsideDisabled =\n    disabled || disableCloseOnClickOutside || willBeHide || !shownLocalState.shown;\n  const handleCloseOnFloatingClickOutsideDisabled =\n    disableInteractive || handleCloseOnReferenceClickOutsideDisabled;\n\n  const { triggerOnFocus, triggerOnClick, triggerOnHover } = useResolveTriggerType(trigger);\n\n  // Библиотека `floating-ui`\n  const { placement, x, y, strategy, refs, middlewareData } = useFloating<T>({\n    strategy: strategyProp,\n    placement: placementProp,\n    middleware: middlewares,\n    whileElementsMounted,\n  });\n\n  const commitShownLocalState = React.useCallback(\n    (nextShown: boolean, reason: ShownChangeReason) => {\n      setShownLocalState((prevState) => {\n        if (prevState.shown !== nextShown || prevState.reason !== reason) {\n          return {\n            shown: nextShown,\n            reason,\n          };\n        }\n        /* istanbul ignore next: страховка, если вдруг на момент вызова обновления состояния, оно уже будет актуальным */\n        return prevState;\n      });\n    },\n    [setShownLocalState],\n  );\n\n  const [mouseEnterDelay, mouseLeaveDelay] =\n    typeof hoverDelay === 'number' ? [hoverDelay, hoverDelay] : hoverDelay;\n\n  const showWithDelay = React.useMemo(\n    () => debounce(() => commitShownLocalState(true, 'hover'), mouseEnterDelay),\n    [mouseEnterDelay, commitShownLocalState],\n  );\n\n  const hideWithDelay = React.useMemo(\n    () => debounce(() => commitShownLocalState(false, 'hover'), mouseLeaveDelay),\n    [mouseLeaveDelay, commitShownLocalState],\n  );\n\n  const handleFocusOnReference = useStableCallback(() => {\n    // Повторный вызов события фокуса - следствие клика на reference-элемент\n    if (shownLocalState.shown) {\n      if (!closeAfterClick && shownLocalState.reason === 'hover') {\n        return;\n      }\n      commitShownLocalState(false, 'focus');\n      return;\n    }\n    if (blockFocusRef.current) {\n      /* istanbul ignore next: в Jest не воспроизводится баг на вебе (cм. onRestoreFocus) */\n      blockFocusRef.current = false;\n      return;\n    }\n\n    commitShownLocalState(true, 'focus');\n  });\n\n  const handleBlurOnReference = useStableCallback((event: React.FocusEvent) => {\n    blockFocusRef.current = false;\n    blockMouseEnterRef.current = false;\n\n    if (!shownLocalState.shown) {\n      clearTimeout(blurTimeoutRef.current);\n      return;\n    }\n\n    const relatedTarget = event.relatedTarget;\n    blurTimeoutRef.current = setTimeout(function waitWindowBlurFire() {\n      const reference = refs.reference.current;\n      // Если пользователь покинул текущее окно в открытом состоянии, то\n      // не закрываем всплывающий элемент.\n      /* istanbul ignore if: не умеем симулировать уход из текущего окна */\n      if (!relatedTarget && getActiveElementByAnotherElement(reference) === reference) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      // Если пользователь нажал на всплывающий элемент, то не закрываем всплывающий элемент.\n      // Note: для этого элемент должен быть фокусируемый (например, за счёт `tabindex=\"-1\"`).\n      if (contains(refs.floating.current, relatedTarget) || contains(reference, relatedTarget)) {\n        return;\n      }\n\n      commitShownLocalState(false, 'focus');\n    });\n  });\n\n  const handleClickOnReference = useStableCallback(() => {\n    // Предыдущий триггер (фокус) уже вызвал открытие/закрытие всплывающего окна, игнорируем вызов\n    if (shownLocalState.reason === 'focus') {\n      commitShownLocalState(shownLocalState.shown, 'click');\n      return;\n    }\n    commitShownLocalState(!shownLocalState.shown, 'click');\n  });\n\n  const handleClickOnReferenceForOnlyClose = useStableCallback(() => {\n    blockMouseEnterRef.current = true;\n    commitShownLocalState(false, 'click');\n  });\n\n  const handleMouseEnterOnBoth = useStableCallback((event: React.MouseEvent<HTMLElement>) => {\n    if (willBeHide && event.currentTarget === refs.floating.current) {\n      return;\n    }\n\n    showWithDelay.cancel();\n    hideWithDelay.cancel();\n\n    if (!blockMouseEnterRef.current && !shownLocalState.shown) {\n      showWithDelay();\n    }\n  });\n\n  const handleMouseLeaveOnBothForHoverAndFocusStates = useStableCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      if (willBeHide && event.currentTarget === refs.floating.current) {\n        return;\n      }\n\n      blockFocusRef.current = false;\n      blockMouseEnterRef.current = false;\n\n      if (triggerOnHover) {\n        showWithDelay.cancel();\n        hideWithDelay.cancel();\n\n        hideWithDelay();\n      }\n    },\n  );\n\n  const handleFloatingAnimationStart = () => {\n    hasCSSAnimation.current = true;\n  };\n\n  const handleFloatingAnimationEnd = () => {\n    if (willBeHide) {\n      setShownFinalState(false);\n      setWillBeHide(false);\n      onShownChanged(false, shownLocalState.reason);\n    }\n  };\n\n  const handleOnClose = React.useCallback(() => {\n    blockFocusRef.current = true;\n    commitShownLocalState(false, 'callback');\n  }, [commitShownLocalState]);\n\n  const handleRestoreFocus: UseFloatingWithInteractionsReturn['onRestoreFocus'] = React.useCallback(\n    (restoreFocus = true) => {\n      if (!restoreFocus) {\n        return false;\n      }\n      if (restoreFocus === true) {\n        return triggerOnFocus ? blockFocusRef.current : true;\n      } else if (restoreFocus === 'anchor-element') {\n        return refs.reference.current as HTMLElement;\n      } else if (restoreFocus instanceof HTMLElement) {\n        return restoreFocus;\n      }\n      return false;\n    },\n    [refs.reference, triggerOnFocus],\n  );\n\n  const handleEscapeKeyDown = React.useCallback(() => {\n    blockFocusRef.current = true;\n    commitShownLocalState(false, 'escape-key');\n  }, [commitShownLocalState]);\n\n  const handleClickOutside = React.useCallback(() => {\n    blockFocusRef.current = true;\n    commitShownLocalState(false, 'click-outside');\n  }, [commitShownLocalState]);\n\n  useGlobalOnClickOutside(\n    handleClickOutside,\n    handleCloseOnReferenceClickOutsideDisabled ? null : refs.reference,\n    handleCloseOnFloatingClickOutsideDisabled ? null : refs.floating,\n  );\n\n  useIsomorphicLayoutEffect(\n    /**\n     * Если пользователь покинул активное окно и:\n     * 1. целевой элемент был в состоянии фокуса;\n     * 2. всплывающий элемент был закрытом состоянии;\n     * то фокус должен быть заблокирован, когда пользователь вернётся обратно. Иначе покажется\n     * всплывающий элемент.\n     */\n    function setGlobalBlurForTriggerOnFocus() {\n      if (!triggerOnFocus || !refs.reference.current) {\n        return;\n      }\n\n      const handleGlobalBlur = () => {\n        /* istanbul ignore next */\n        const reference = refs.reference.current;\n        /* istanbul ignore if: не умеем симулировать уход из текущего окна */\n        if (\n          !shownLocalState.shown &&\n          isHTMLElement(reference) &&\n          reference === getActiveElementByAnotherElement(reference)\n        ) {\n          /* istanbul ignore next */\n          blockFocusRef.current = true;\n        }\n      };\n\n      const win = getWindow(refs.reference.current);\n      win.addEventListener('blur', handleGlobalBlur);\n      return () => {\n        win.removeEventListener('blur', handleGlobalBlur);\n      };\n    },\n    [triggerOnFocus, refs.reference, shownLocalState],\n  );\n\n  useIsomorphicLayoutEffect(\n    function resolveShownStates() {\n      if (willBeHide || shownLocalState.shown === shownFinalState) {\n        return;\n      }\n\n      if (shownLocalState.shown) {\n        setShownFinalState(true);\n        onShownChanged(true, shownLocalState.reason);\n      } else if (hasCSSAnimation.current && !willBeHide) {\n        setWillBeHide(true);\n      } else {\n        setShownFinalState(false);\n      }\n\n      return () => {\n        clearTimeout(blurTimeoutRef.current);\n      };\n    },\n    [shownLocalState, shownFinalState, willBeHide, onShownChanged],\n  );\n\n  const referencePropsRef = React.useRef<ReferenceProps>({});\n  const floatingPropsRef = React.useRef<FloatingProps>({ style: {} });\n\n  useIsomorphicLayoutEffect(() => {\n    referencePropsRef.current = {};\n  }, [triggerOnHover, triggerOnFocus, triggerOnClick]);\n\n  if (shownFinalState) {\n    floatingPropsRef.current.style = convertFloatingDataToReactCSSProperties({\n      strategy,\n      x,\n      y,\n      middlewareData,\n    });\n\n    if (disableInteractive) {\n      floatingPropsRef.current.style.pointerEvents = 'none';\n    }\n  }\n\n  if (triggerOnFocus) {\n    referencePropsRef.current.onFocus = handleFocusOnReference;\n    referencePropsRef.current.onBlur = handleBlurOnReference;\n  }\n\n  if (triggerOnClick) {\n    referencePropsRef.current.onClick = handleClickOnReference;\n  }\n\n  if (triggerOnHover) {\n    referencePropsRef.current.onMouseOver = handleMouseEnterOnBoth;\n\n    if (closeAfterClick && !triggerOnClick) {\n      referencePropsRef.current.onClick = handleClickOnReferenceForOnlyClose;\n    }\n\n    if (!disableInteractive) {\n      floatingPropsRef.current.onMouseOver = handleMouseEnterOnBoth;\n    }\n  }\n\n  if (triggerOnHover || triggerOnFocus) {\n    referencePropsRef.current.onMouseLeave = handleMouseLeaveOnBothForHoverAndFocusStates;\n\n    if (!disableInteractive) {\n      floatingPropsRef.current.onMouseLeave = handleMouseLeaveOnBothForHoverAndFocusStates;\n    }\n  }\n\n  if (shownFinalState) {\n    floatingPropsRef.current.onAnimationStart = handleFloatingAnimationStart;\n    floatingPropsRef.current.onAnimationEnd = handleFloatingAnimationEnd;\n  }\n\n  return {\n    placement,\n    shown: shownFinalState,\n    willBeHide,\n    refs,\n    referenceProps: referencePropsRef.current,\n    floatingProps: floatingPropsRef.current,\n    middlewareData,\n    onClose: handleOnClose,\n    // FocusTrap уже определяет нажатие на ESC, поэтому название события содержит конкретный код\n    // кнопки вместо просто onKeyDown.\n    onEscapeKeyDown: !shownFinalState || disableCloseOnEscKey ? undefined : handleEscapeKeyDown,\n    // [Обход баги с FocusTrap]\n    //\n    // Если сфокусироваться на целевой элемент через нажатие, а потом нажать в область за пределами\n    // целевого и всплывающего элемента, то появляется моргание из-за того, что FocusTrap\n    // восстанавливает фокус, из-за чего всплывающий элемент снова показывается за счёт\n    // `handleFocusOnReference`, а потом скрывается за счёт `handleBlurOnReference`.\n    onRestoreFocus: handleRestoreFocus,\n  };\n};\n", "import * as React from 'react';\nimport { isFunction } from '@vkontakte/vkjs';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { warnOnce } from '../lib/warnOnce';\n\nexport interface UseEnsuredControlProps<V, E extends React.ChangeEvent<any>> {\n  value?: V;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n  onChange?: (this: void, e: E) => any;\n}\n\nexport function useEnsuredControl<V, E extends React.ChangeEvent<any>>({\n  onChange: onChangeProp,\n  disabled,\n  ...props\n}: UseEnsuredControlProps<V, E>): [V, (e: E) => any] {\n  const [value, onChangeValue] = useCustomEnsuredControl(props);\n\n  const onChange = React.useCallback(\n    (e: E) => {\n      if (disabled) {\n        return;\n      }\n\n      onChangeValue(e.target.value);\n      onChangeProp && onChangeProp(e);\n    },\n    [onChangeValue, onChangeProp, disabled],\n  );\n\n  return [value, onChange];\n}\n\nexport interface UseCustomEnsuredControlProps<V> {\n  value?: V;\n  defaultValue: V;\n  disabled?: boolean | undefined;\n  onChange?: (this: void, v: V) => any;\n}\n\nconst warn = warnOnce('useCustomEnsuredControl');\n\nexport function useCustomEnsuredControl<V = any>({\n  value,\n  defaultValue,\n  disabled,\n  onChange: onChangeProp,\n}: UseCustomEnsuredControlProps<V>): [V, React.Dispatch<React.SetStateAction<V>>] {\n  const isControlled = value !== undefined;\n  const [localValue, setLocalValue] = React.useState(defaultValue);\n\n  const preservedControlledValueRef = React.useRef<V | undefined>(undefined);\n  useIsomorphicLayoutEffect(() => {\n    preservedControlledValueRef.current = value;\n  });\n\n  /*\n   * Для ситуации, когда nextValue это пользовательская функция,\n   * и в качестве аргумента мы должны передать prevValue.\n   * Обычно в качестве prevValue используется preservedControlledValueRef, но оно может быть undefined, если\n   * некотролируемое value вдруг стало контролируемым\n   * (value = undefined ---> value = true)\n   * Если в момент вызова onChange preservedControlledValueRef ещё не был\n   * обновлён в useEffect, то мы не можем использовать preservedControlledValueRef как prevValue\n   * В качестве запасного варианта мы храним текущее значение value в currentFallbackValueRef, чтобы\n   * использовать его вместо preservedControlledValueRef.\n   */\n  const currentFallbackValueRef = React.useRef<V | undefined>(value);\n  currentFallbackValueRef.current = value;\n\n  const onChange = React.useCallback(\n    (nextValue: React.SetStateAction<V>) => {\n      if (disabled) {\n        return;\n      }\n\n      if (isFunction(nextValue)) {\n        if (!isControlled) {\n          setLocalValue((prevValue) => {\n            const resolvedValue = nextValue(prevValue);\n            if (onChangeProp) {\n              onChangeProp(resolvedValue);\n            }\n            return resolvedValue;\n          });\n        } else if (onChangeProp) {\n          if (process.env.NODE_ENV === 'development') {\n            if (preservedControlledValueRef.current === undefined) {\n              warn(\n                `Похоже, что при вызове onChange с аргументом nextValue в виде коллбэка, состояние компонента было переведено из неконтролируемого (\"undefined\") в контролируемое. Пожалуйста, старайтесь сохранять либо неконтролируемое состояние, либо контролируемое на всём промежутке жизненного цикла компонента, чтобы получать предсказуемое значение prevValue в коллбэке nextValue((prevValue: V) => V)`,\n                'error',\n              );\n            }\n          }\n\n          const prevValue =\n            preservedControlledValueRef.current === undefined\n              ? currentFallbackValueRef.current\n              : preservedControlledValueRef.current;\n          // В теории prevValue не может быть undefined,\n          // но лучше не вызывать nextValue с таким значением\n          if (prevValue !== undefined) {\n            const resolvedValue = nextValue(prevValue);\n            onChangeProp(resolvedValue);\n          }\n        }\n      } else {\n        if (onChangeProp) {\n          onChangeProp(nextValue);\n        }\n        if (!isControlled) {\n          setLocalValue(nextValue);\n        }\n      }\n    },\n    [disabled, isControlled, onChangeProp],\n  );\n\n  return [isControlled ? value : localValue, onChange];\n}\n", "import type * as React from 'react';\nimport { isElement, useDOM } from '../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nexport const useGlobalOnEventOutside = <\n  T extends React.RefObject<ElementType | null> | undefined | null,\n  ElementType extends Element = Element,\n>(\n  event: Extract<keyof DocumentEventMap, 'click' | 'mousedown'>,\n  callback: (event: MouseEvent) => void,\n  ...refs: T[]\n): void => {\n  const { document } = useDOM();\n  useIsomorphicLayoutEffect(() => {\n    const someRefNotNull = refs.some((ref) => ref && ref.current !== null);\n    if (!document || !someRefNotNull) {\n      return;\n    }\n    const handleClick = (event: MouseEvent) => {\n      const targetEl = event.target;\n      const someRefHasTargetEl =\n        isElement(targetEl) &&\n        refs.some((ref) => ref && ref.current && ref.current.contains(targetEl));\n      if (!someRefHasTargetEl) {\n        callback(event);\n      }\n    };\n    document.addEventListener(event, handleClick, {\n      passive: true,\n      capture: true,\n    });\n    return () => {\n      document.removeEventListener(event, handleClick, true);\n    };\n  }, [document, callback, ...refs]);\n};\n\n/**\n * Завязывается на document.\n *\n * @private\n */\nexport const useGlobalOnClickOutside = <\n  T extends React.RefObject<ElementType | null> | undefined | null,\n  ElementType extends Element = Element,\n>(\n  callback: (event: MouseEvent) => void,\n  ...refs: T[]\n): void => {\n  useGlobalOnEventOutside('click', callback, ...refs);\n};\n", "export const DEFAULT_TRIGGER = 'click';\n", "import type { TriggerType } from './types';\n\nexport const useResolveTriggerType = (\n  triggerProp: TriggerType,\n): {\n  triggerOnFocus: boolean;\n  triggerOnClick: boolean;\n  triggerOnHover: boolean;\n} =>\n  (typeof triggerProp === 'string' ? [triggerProp] : triggerProp).reduce(\n    (result, trigger) => {\n      switch (trigger) {\n        case 'click':\n          result.triggerOnClick = true;\n          return result;\n        case 'hover':\n          result.triggerOnHover = true;\n          return result;\n        case 'focus':\n          result.triggerOnFocus = true;\n          return result;\n        case 'manual':\n          return result;\n      }\n    },\n    {\n      triggerOnFocus: false as boolean,\n      triggerOnClick: false as boolean,\n      triggerOnHover: false as boolean,\n    },\n  );\n", "import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport type { OnPlacementChange, Placement, PlacementWithAuto } from './types/common';\n\nexport function usePlacementChangeCallback(\n  initialPlacement: PlacementWithAuto,\n  resolvedPlacement: Placement,\n  onPlacementChange: OnPlacementChange | undefined,\n): void {\n  const prevPlacementRef = React.useRef<Placement | undefined>(undefined);\n  React.useEffect(() => {\n    prevPlacementRef.current = resolvedPlacement;\n  });\n\n  useIsomorphicLayoutEffect(() => {\n    if (!onPlacementChange) {\n      return;\n    }\n\n    const prevPlacement = prevPlacementRef.current;\n\n    const isInitialPlacementChanged =\n      prevPlacement === undefined && initialPlacement !== resolvedPlacement;\n    const isResolvedPlacementChanged =\n      prevPlacement !== undefined && prevPlacement !== resolvedPlacement;\n    if (isInitialPlacementChanged || isResolvedPlacementChanged) {\n      onPlacementChange(resolvedPlacement);\n    }\n  }, [initialPlacement, resolvedPlacement, onPlacementChange]);\n}\n", "import { getOverflowAncestors } from '../../lib/floating';\nimport { type CustomTouchEvent } from '../Touch/Touch';\n\nconst swipeBackExcludedSelector = 'input, textarea, [data-vkui-swipe-back=false]';\n\nexport function swipeBackExcluded(e: CustomTouchEvent): boolean {\n  const target = e.originalEvent.target as HTMLElement;\n  // eslint-disable-next-line no-restricted-properties\n  return Boolean(target?.closest?.(swipeBackExcludedSelector));\n}\n\nexport function hasHorizontalScrollableElementWithScrolledToLeft(node: HTMLElement): boolean {\n  return getOverflowAncestors(node).some((node) =>\n    'scrollLeft' in node ? node.scrollLeft > 0 : false,\n  );\n}\n\nexport const SWIPE_BACK_EDGE_SIZE_THRESHOLD = 20;\n\nexport const SWIPE_BACK_SHIFT_THRESHOLD = 10;\n\nexport const getSwipeBackPredicates = (\n  startX: number,\n  shiftX: number,\n  innerWidth: number,\n): {\n  swipedToOpposite: boolean;\n  swipeBackTriggered: boolean;\n  viewportStartEdgeTouched: boolean;\n  viewportEndEdgeTouched: boolean;\n} => {\n  const swipedToOpposite = shiftX < 0;\n  const swipeBackTriggered = shiftX >= SWIPE_BACK_SHIFT_THRESHOLD;\n  const viewportStartEdgeTouched = startX <= SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  const viewportEndEdgeTouched = startX >= innerWidth - SWIPE_BACK_EDGE_SIZE_THRESHOLD;\n  return { swipedToOpposite, swipeBackTriggered, viewportStartEdgeTouched, viewportEndEdgeTouched };\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport type { SizeTypeValues } from '../../lib/adaptivity';\nimport type { NavIdProps } from '../../lib/getNavId';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { AppRootContext } from '../AppRoot/AppRootContext';\nimport { NavPanelIdContext } from '../NavIdContext/NavIdContext';\nimport { OnboardingTooltipContainer } from '../OnboardingTooltip/OnboardingTooltipContainer';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Touch } from '../Touch/Touch';\nimport styles from './Panel.module.css';\n\nconst sizeXClassNames = {\n  none: styles.sizeXNone,\n  compact: styles.sizeXCompact,\n  regular: styles.sizeXRegular,\n};\n\nconst stylesMode = {\n  none: styles.modeNone,\n  plain: styles.modePlain,\n  card: styles.modeCard,\n};\n\nexport interface PanelProps extends HTMLAttributesWithRootRef<HTMLDivElement>, NavIdProps {\n  /**\n   * Центрирование содержимого.\n   */\n  centered?: boolean;\n  /**\n   * Тип оформления панели.\n   *\n   * Позволяет переопределить тип оформления панели,\n   * заданный через адаптивность или свойство layout у [AppRoot](https://vkui.io/components/app-root),\n   * глобально задающим тип оформления макета.\n   *\n   * Если установлен `card` - Panel имеет фон отличный от фона контента.\n   * Позволяет компоненту [Group](https://vkui.io/components/group) со свойством mode='card' точечно выглядеть как карточка.\n   * Тип `plain` — соответствует фону по умолчанию.\n   */\n  mode?: 'plain' | 'card';\n  /**\n   * Отключает задний фон.\n   */\n  disableBackground?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/panel\n */\nexport const Panel = ({\n  centered = false,\n  children,\n  nav,\n  mode: modeProp,\n  disableBackground,\n  ...restProps\n}: PanelProps): React.ReactNode => {\n  const { sizeX = 'none' } = useAdaptivity();\n\n  const mode = usePanelMode(modeProp, sizeX);\n\n  return (\n    <NavPanelIdContext.Provider value={restProps.id || nav}>\n      <RootComponent\n        {...restProps}\n        baseClassName={classNames(\n          styles.host,\n          sizeXClassNames[sizeX],\n          centered && 'vkuiInternalPanel--centered',\n          disableBackground && styles.disableBackground,\n          stylesMode[mode],\n        )}\n      >\n        <Touch\n          Component={OnboardingTooltipContainer}\n          className={classNames(styles.in, 'vkuiInternalPanel__in')}\n        >\n          <div className={styles.inBefore} />\n          {centered ? <div className={styles.centered}>{children}</div> : children}\n          <div className={styles.inAfter} />\n        </Touch>\n      </RootComponent>\n    </NavPanelIdContext.Provider>\n  );\n};\n\nfunction usePanelMode(\n  modeProp: PanelProps['mode'],\n  sizeX: SizeTypeValues | 'none',\n): 'plain' | 'card' | 'none' {\n  const { layout } = React.useContext(AppRootContext);\n\n  if (modeProp) {\n    return modeProp;\n  }\n\n  if (layout) {\n    return layout;\n  }\n\n  if (sizeX !== 'none') {\n    return sizeX === 'regular' ? 'card' : 'plain';\n  }\n\n  return 'none';\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, isPrimitiveReactNode } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { hasAccessibleName } from '../../lib/accessibility';\nimport { COMMON_WARNINGS, warnOnce } from '../../lib/warnOnce';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { Text } from '../Typography/Text/Text';\nimport { Title } from '../Typography/Title/Title';\nimport styles from './PanelHeaderButton.module.css';\n\nconst platformClassNames = {\n  ios: styles.ios,\n  android: styles.android,\n  vkcom: styles.vkcom,\n};\n\nexport interface PanelHeaderButtonProps extends Omit<TappableOmitProps, 'label'> {\n  /**\n   * Флаг для обозначения первичной кнопки\n   * Влияет на стилизацию кнопки.\n   */\n  primary?: boolean;\n  /**\n   * Текст или содержимое кнопки.\n   */\n  label?: React.ReactNode; // TODO [>=8]: добавить св-во indicator, чтобы разграничить кейсы.\n}\n\ninterface ButtonTypographyProps extends React.AllHTMLAttributes<HTMLElement> {\n  /**\n   * Флаг для обозначения первичной кнопки\n   * Наследуется от PanelHeaderButtonProps['primary'].\n   */\n  primary?: PanelHeaderButtonProps['primary'];\n}\n\nconst ButtonTypography = ({ primary, children }: ButtonTypographyProps) => {\n  const platform = usePlatform();\n\n  if (platform === 'ios') {\n    return (\n      <Title Component=\"span\" level=\"3\" weight={primary ? '1' : '3'}>\n        {children}\n      </Title>\n    );\n  }\n\n  return <Text weight={platform === 'vkcom' ? undefined : '2'}>{children}</Text>;\n};\n\nconst warn = warnOnce('PanelHeaderButton');\n\n/**\n * @see https://vkui.io/components/panel-header#panel-header-button\n */\nexport const PanelHeaderButton = ({\n  children,\n  primary = false,\n  label,\n  ...restProps\n}: PanelHeaderButtonProps): React.ReactNode => {\n  const isPrimitive = isPrimitiveReactNode(children);\n  const isPrimitiveLabel = isPrimitiveReactNode(label);\n  const platform = usePlatform();\n\n  let hoverMode;\n  let activeMode;\n\n  switch (platform) {\n    case 'ios':\n      hoverMode = 'background';\n      activeMode = 'opacity';\n      break;\n    case 'vkcom':\n      hoverMode = styles.hover;\n      activeMode = styles.active;\n      break;\n    default:\n      hoverMode = 'background';\n      activeMode = 'background';\n  }\n\n  if (process.env.NODE_ENV === 'development') {\n    /* istanbul ignore next: проверка в dev mode, тест на hasAccessibleName() есть в lib/accessibility.test.tsx */\n    const isAccessible = hasAccessibleName({\n      children: [children, label],\n      ...restProps,\n    });\n\n    if (!isAccessible) {\n      warn(COMMON_WARNINGS.a11y[restProps.href ? 'link-name' : 'button-name'], 'error');\n    }\n  }\n  const elements = [label, children].filter((item) => !!item);\n\n  const onlyPrimitive = elements.length === 1 && isPrimitiveReactNode(elements[0]);\n\n  return (\n    <Tappable\n      Component={restProps.href ? 'a' : 'button'}\n      hoverMode={hoverMode}\n      activeEffectDelay={200}\n      activeMode={activeMode}\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        platformClassNames.hasOwnProperty(platform)\n          ? platformClassNames[platform]\n          : platformClassNames.android,\n        onlyPrimitive && styles.primitive,\n        !isPrimitive && !isPrimitiveLabel && styles.notPrimitive,\n      )}\n    >\n      {isPrimitive ? <ButtonTypography primary={primary}>{children}</ButtonTypography> : children}\n      {isPrimitiveLabel ? (\n        <ButtonTypography primary={primary} className={styles.label}>\n          {label}\n        </ButtonTypography>\n      ) : (\n        label\n      )}\n    </Tappable>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useModalContext } from '../../context/ModalContext';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useAdaptivityConditionalRender } from '../../hooks/useAdaptivityConditionalRender';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type {\n  HasComponent,\n  HasDataAttribute,\n  HasRef,\n  HTMLAttributesWithRootRef,\n} from '../../types';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { FixedLayout } from '../FixedLayout/FixedLayout';\nimport { OnboardingTooltipContainer } from '../OnboardingTooltip/OnboardingTooltipContainer';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Separator } from '../Separator/Separator';\nimport { Spacing } from '../Spacing/Spacing';\nimport { Text } from '../Typography/Text/Text';\nimport styles from './PanelHeader.module.css';\n\nconst platformClassNames = {\n  ios: styles.ios,\n  android: styles.android,\n  vkcom: classNames(styles.vkcom, 'vkuiInternalPanelHeader--vkcom'),\n};\n\nconst sizeXClassNames = {\n  none: styles.sizeXNone,\n  regular: styles.sizeXRegular,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface PanelHeaderProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement>,\n    HasRef<HTMLDivElement> {\n  /**\n   * Добавляет элемент слева.\n   */\n  before?: React.ReactNode;\n  /**\n   * Добавляет элемент справа.\n   *\n   * При передаче нескольких элементов, расставляет отступы между ними.\n   */\n  after?: React.ReactNode;\n  /**\n   * Тип разделителя под шапкой.\n   *\n   * - `\"none\"` означает, что разделитель не нужен\n   * - `\"separator\"` включает сепаратор при условии, что это:\n   *      - либо платформа `vkcom`\n   *      - либо платформа `android`/`ios` при `<AdaptivityProvider sizeX=\"compact\" />`\n   * - `\"spacing\"` включает отступ, если это платформа `android`/`ios` при `<AdaptivityProvider sizeX=\"regular\" />`\n   * - `\"auto\"` автоматически подбирает либо `\"separator\"`, либо `\"spacing\"` по их условиям.\n   */\n  delimiter?: 'auto' | 'none' | 'separator' | 'spacing';\n  /**\n   * Прозрачный фон компонента.\n   */\n  transparent?: boolean;\n  /**\n   * @deprecated Since 7.4.0.\n   *\n   * Свойство будет удалено в `v8` (не используется).\n   */\n  shadow?: boolean;\n  /**\n   * Высота шапки будет игнорироваться контентом панели.\n   */\n  float?: boolean;\n  /**\n   * Если `false`, то шапка будет в потоке. По умолчанию `true`, но если платформа vkcom, то по умолчанию `false`.\n   */\n  fixed?: boolean;\n  /**\n   * По умолчанию как `Component` используется `span`.\n   */\n  typographyProps?: HasComponent & React.HTMLAttributes<HTMLElement> & HasDataAttribute;\n}\n\n/* eslint-disable jsdoc/require-jsdoc */\ninterface PanelHeaderInProps {\n  before?: PanelHeaderProps['before'];\n  after?: PanelHeaderProps['after'];\n  children?: PanelHeaderProps['children'];\n  typographyProps?: PanelHeaderProps['typographyProps'];\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nconst PanelHeaderIn = ({ before, after, children, typographyProps = {} }: PanelHeaderInProps) => {\n  const { Component = 'span', ...restProps } = typographyProps;\n  const { hasCustomPanelHeaderAfter, customPanelHeaderAfterMinWidth } = useConfigProvider();\n  const isInsideModal = useModalContext().id !== null;\n  const platform = usePlatform();\n\n  const afterSlotProps =\n    !hasCustomPanelHeaderAfter || isInsideModal\n      ? {\n          children: after,\n        }\n      : {\n          style: { minWidth: customPanelHeaderAfterMinWidth },\n        };\n  const typographyNode: React.ReactNode =\n    platform === 'vkcom' ? (\n      <Text weight=\"2\" Component={Component} {...restProps}>\n        {children}\n      </Text>\n    ) : (\n      <Component className={styles.contentIn} {...restProps}>\n        {children}\n      </Component>\n    );\n\n  return (\n    <OnboardingTooltipContainer fixed className={styles.in}>\n      <div className={classNames(styles.before, 'vkuiInternalPanelHeader__before')}>{before}</div>\n      <div className={styles.content}>{typographyNode}</div>\n      <div\n        className={classNames(styles.after, 'vkuiInternalPanelHeader__after')}\n        {...afterSlotProps}\n      />\n    </OnboardingTooltipContainer>\n  );\n};\n\n/**\n * @see https://vkui.io/components/panel-header\n */\nexport const PanelHeader = ({\n  before,\n  children,\n  after,\n  float = false,\n  transparent = false,\n  delimiter = 'auto',\n  shadow,\n  getRef,\n  getRootRef,\n  fixed,\n  typographyProps,\n  ...restProps\n}: PanelHeaderProps): React.ReactNode => {\n  const platform = usePlatform();\n  const { sizeX = 'none', sizeY = 'none' } = useAdaptivity();\n  const { sizeX: adaptiveSizeX } = useAdaptivityConditionalRender();\n  const isVKCOM = platform === 'vkcom';\n  const isFixed = fixed !== undefined ? fixed : !isVKCOM;\n  const separatorVisible = delimiter === 'auto' || delimiter === 'separator';\n  const staticSeparatorVisible = !float && separatorVisible;\n  const staticSpacingVisible = !float && (delimiter === 'auto' || delimiter === 'spacing');\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        'vkuiInternalPanelHeader',\n        platformClassNames.hasOwnProperty(platform)\n          ? platformClassNames[platform]\n          : platformClassNames.android,\n        transparent && styles.trnsp,\n        shadow && styles.shadow,\n        !float && classNames(styles.static, 'vkuiInternalPanelHeader--static'),\n        staticSeparatorVisible && classNames(styles.sep, 'vkuiInternalPanelHeader--sep'),\n        !before && classNames(styles.noBefore, 'vkuiInternalPanelHeader--no-before'),\n        !after && styles.noAfter,\n        isFixed && styles.hasFixed,\n        sizeX !== 'compact' && sizeXClassNames[sizeX],\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n      )}\n      getRootRef={isFixed ? getRootRef : getRef}\n    >\n      {isFixed ? (\n        <FixedLayout\n          className={classNames(styles.fixed, 'vkuiInternalPanelHeader__fixed')}\n          vertical=\"top\"\n          getRootRef={getRef}\n        >\n          <PanelHeaderIn before={before} after={after} typographyProps={typographyProps}>\n            {children}\n          </PanelHeaderIn>\n        </FixedLayout>\n      ) : (\n        <PanelHeaderIn before={before} after={after} typographyProps={typographyProps}>\n          {children}\n        </PanelHeaderIn>\n      )}\n      {!isVKCOM && (\n        <>\n          {staticSeparatorVisible && adaptiveSizeX.compact && (\n            <Separator className={adaptiveSizeX.compact.className} padding />\n          )}\n          {staticSpacingVisible && adaptiveSizeX.regular && (\n            <Spacing className={adaptiveSizeX.regular.className} size={16} />\n          )}\n        </>\n      )}\n      {separatorVisible && isVKCOM && <Separator className={styles.separator} />}\n    </RootComponent>\n  );\n};\n", "import { createContext, useContext } from 'react';\n\n/** @private */\nexport type ModalContextInterface = string;\n\n/** @private */\nexport const ModalContext = createContext<ModalContextInterface | null>(null);\n\n/** @private */\nexport type UseModalContextResult =\n  | { id: null; labelId?: undefined }\n  | { id: string; labelId: string };\n\n/** @private */\nexport const useModalContext = (): UseModalContextResult => {\n  const id = useContext(ModalContext);\n  return id === null ? { id } : { id, labelId: `${id}-label` };\n};\n", "import type { CSSCustomProperties, LiteralUnion } from '../../types';\nimport styles from '../../styles/spacings.module.css';\n\nexport type SpacingSize = '2xs' | 'xs' | 's' | 'm' | 'l' | 'xl' | '2xl' | '3xl' | '4xl';\n\nexport const spacingSizeClassNames: Record<SpacingSize, string> = {\n  '2xs': styles['-spacing--2xs'],\n  'xs': styles['-spacing--xs'],\n  's': styles['-spacing--s'],\n  'm': styles['-spacing--m'],\n  'l': styles['-spacing--l'],\n  'xl': styles['-spacing--xl'],\n  '2xl': styles['-spacing--2xl'],\n  '3xl': styles['-spacing--3xl'],\n  '4xl': styles['-spacing--4xl'],\n};\n\nexport type SpacingSizeProp = LiteralUnion<SpacingSize | `--${string}`, number>;\n\nexport function resolveSpacingSize(\n  cssVariable: string,\n  size?: SpacingSizeProp,\n): [string | undefined, CSSCustomProperties | undefined] {\n  if (typeof size === 'string') {\n    if (size.startsWith('--')) {\n      return [undefined, { [cssVariable]: `var(${size})` }];\n    } else {\n      return [spacingSizeClassNames[size as SpacingSize], undefined];\n    }\n  }\n\n  return [undefined, typeof size === 'number' ? { [cssVariable]: `${size}px` } : undefined];\n}\n", "import { classNames } from '@vkontakte/vkjs';\nimport { resolveSpacingSize, type SpacingSizeProp } from '../../lib/spacings/sizes';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Separator.module.css';\n\nexport const CUSTOM_CSS_TOKEN_FOR_USER_SIZE = '--vkui_internal--spacing_size';\n\nexport interface SeparatorProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Стиль отображения разделителя.\n   */\n  appearance?: 'primary' | 'secondary' | 'primary-alpha';\n  /**\n   * Добавляет стандартные отступы у разделителя.\n   */\n  padding?: boolean;\n  /**\n   * Направление отображения разделителя.\n   */\n  direction?: 'horizontal' | 'vertical';\n  /**\n   * Размер контейнера, в который вложен разделитель.\n   *\n   * Принимает значения дизайн-системы, числовые значения и css-переменные.\n   */\n  size?: SpacingSizeProp;\n  /**\n   * Выравнивание разделителя в контейнере.\n   */\n  align?: 'start' | 'center' | 'end';\n}\n\nconst appearanceClassNames = {\n  'primary': styles.appearancePrimary,\n  'secondary': styles.appearanceSecondary,\n  'primary-alpha': styles.appearancePrimaryAlpha,\n};\n\nconst directionClassNames = {\n  horizontal: styles.directionHorizontal,\n  vertical: styles.directionVertical,\n};\n\nconst alignClassNames = {\n  start: styles.alignStart,\n  end: styles.alignEnd,\n};\n\n/**\n * @see https://vkui.io/components/separator\n */\nexport const Separator = ({\n  padding = false,\n  appearance = 'primary',\n  direction = 'horizontal',\n  align = 'center',\n  size,\n  ...restProps\n}: SeparatorProps): React.ReactNode => {\n  const [spacingSizeClassName, spacingSizeStyle] = resolveSpacingSize(\n    CUSTOM_CSS_TOKEN_FOR_USER_SIZE,\n    size,\n  );\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        padding && styles.padded,\n        appearanceClassNames[appearance],\n        directionClassNames[direction],\n        size !== undefined && styles.sized,\n        align !== 'center' && alignClassNames[align],\n        spacingSizeClassName,\n      )}\n      baseStyle={spacingSizeStyle}\n    >\n      <hr className={styles.in} />\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { resolveSpacingSize, type SpacingSizeProp } from '../../lib/spacings/sizes';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Spacing.module.css';\n\nexport const CUSTOM_CSS_TOKEN_FOR_USER_GAP = '--vkui_internal--spacing_size';\n\nexport interface SpacingProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Высота спэйсинга.\n   *\n   * Принимает значения дизайн-системы, числовые значения и css-переменные.\n   */\n  size?: SpacingSizeProp;\n  /**\n   * @deprecated 7.0.0.\n   *\n   * Свойство устарело и будет удалено в v8.\n   */\n  children?: React.ReactNode;\n}\n/**\n * @see https://vkui.io/components/spacing\n */\nexport const Spacing = ({ size = 'm', ...restProps }: SpacingProps): React.ReactNode => {\n  const [spacingSizeClassName, spacingSizeStyle] = resolveSpacingSize(\n    CUSTOM_CSS_TOKEN_FOR_USER_GAP,\n    size,\n  );\n  return (\n    <RootComponent\n      {...restProps}\n      baseStyle={spacingSizeStyle}\n      baseClassName={classNames(styles.host, spacingSizeClassName)}\n    />\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasChildren, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Text } from '../Typography/Text/Text';\nimport styles from './PanelHeaderContent.module.css';\n\nconst platformClassNames = {\n  ios: styles.ios,\n  android: styles.android,\n  vkcom: styles.vkcom,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface PanelHeaderContentProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Компонент отображаемый после содержимого.\n   */\n  aside?: React.ReactNode;\n  /**\n   * Компонент отображаемый до содержимого.\n   */\n  before?: React.ReactNode;\n  /**\n   * Подпись под основным текстом.\n   */\n  subtitle?: React.ReactNode;\n}\n\ninterface PanelHeaderChildrenProps extends HasChildren {\n  /**\n   * Есть ли подпись.\n   */\n  hasSubtitle: boolean;\n  /**\n   * Есть ли `before`.\n   */\n  hasBefore: boolean;\n}\n\nconst PanelHeaderChildren = ({ hasSubtitle, hasBefore, children }: PanelHeaderChildrenProps) => {\n  const platform = usePlatform();\n\n  return hasSubtitle || hasBefore ? (\n    <Text\n      className={styles.childrenText}\n      Component=\"div\"\n      weight={platform === 'vkcom' ? '2' : undefined}\n    >\n      {children}\n    </Text>\n  ) : (\n    <div className={styles.childrenIn}>{children}</div>\n  );\n};\n\n/**\n * @see https://vkui.io/components/panel-header#panel-header-content\n */\nexport const PanelHeaderContent = ({\n  aside,\n  subtitle,\n  before,\n  children,\n  onClick,\n  ...restProps\n}: PanelHeaderContentProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const InComponent = onClick ? Tappable : 'div';\n  const rootProps = onClick ? {} : restProps;\n  const platform = usePlatform();\n  const inProps = onClick\n    ? {\n        ...restProps,\n        onClick,\n        activeEffectDelay: 200,\n        hasActive: platform === 'ios',\n        activeMode: 'opacity',\n      }\n    : {};\n\n  return (\n    <RootComponent\n      {...rootProps}\n      baseClassName={classNames(\n        styles.host,\n        platformClassNames.hasOwnProperty(platform)\n          ? platformClassNames[platform]\n          : platformClassNames.android,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n      )}\n    >\n      {hasReactNode(before) && <div className={styles.before}>{before}</div>}\n      <InComponent\n        {...inProps}\n        className={classNames(styles.in, !before && platform !== 'android' && styles.inCentered)}\n      >\n        {hasReactNode(subtitle) && <Footnote className={styles.subtitle}>{subtitle}</Footnote>}\n        <div className={styles.children}>\n          <PanelHeaderChildren\n            hasSubtitle={hasReactNode(subtitle)}\n            hasBefore={hasReactNode(before)}\n          >\n            {children}\n          </PanelHeaderChildren>\n          {hasReactNode(aside) && <div className={styles.aside}>{aside}</div>}\n        </div>\n        {hasReactNode(before) && <div className={styles.width} />}\n      </InComponent>\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useGlobalOnClickOutside } from '../../hooks/useGlobalOnClickOutside';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useCSSKeyframesAnimationController } from '../../lib/animation';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { useScrollLock } from '../AppRoot/ScrollContext';\nimport { FixedLayout } from '../FixedLayout/FixedLayout';\nimport styles from './PanelHeaderContext.module.css';\n\nconst sizeXClassNames = {\n  none: styles.sizeXNone,\n  compact: styles.sizeXCompact,\n  regular: styles.sizeXRegular,\n};\n\nexport interface PanelHeaderContextProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Управление состоянием всплывающего элемента\n   * true - элемент открыт, false - элемент закрыт.\n   */\n  opened: boolean;\n\n  /**\n   * Обработчик закрытия всплывающего элемента.\n   */\n  onClose: VoidFunction;\n}\n\n/**\n * @see https://vkui.io/components/panel-header-context\n */\nexport const PanelHeaderContext = ({\n  children,\n  opened = false,\n  className,\n  onClose,\n  ...restProps\n}: PanelHeaderContextProps): React.ReactNode => {\n  const platform = usePlatform();\n  const { sizeX = 'none' } = useAdaptivity();\n  const elementRef = React.useRef<HTMLDivElement>(null);\n  const [animationState, animationHandlers] = useCSSKeyframesAnimationController(\n    opened ? 'enter' : 'exit',\n    undefined,\n    true,\n  );\n  const visible = animationState !== 'exited';\n\n  useScrollLock(platform !== 'vkcom' && visible);\n\n  const handleGlobalOnClickOutside = React.useCallback(\n    (event: MouseEvent) => {\n      if (opened) {\n        event.stopPropagation();\n        onClose();\n      }\n    },\n    [opened, onClose],\n  );\n\n  useGlobalOnClickOutside(handleGlobalOnClickOutside, visible ? elementRef : null);\n\n  if (!visible) {\n    return null;\n  }\n\n  return (\n    <FixedLayout\n      {...restProps}\n      className={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        opened ? styles.opened : styles.closing,\n        sizeXClassNames[sizeX],\n        className,\n      )}\n      vertical=\"top\"\n    >\n      <div\n        onClick={(event) => {\n          event.stopPropagation();\n          onClose();\n        }}\n        className={styles.fade}\n      />\n      <div\n        data-testid={process.env.NODE_ENV === 'test' ? 'content' : undefined}\n        className={styles.in}\n        ref={elementRef}\n        {...animationHandlers}\n      >\n        <div className={styles.content}>{children}</div>\n      </div>\n    </FixedLayout>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasRef, HTMLAttributesWithRootRef } from '../../types';\nimport styles from './SplitLayout.module.css';\n\nexport interface SplitLayoutProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement>,\n    HasRef<HTMLDivElement> {\n  /**\n   * Свойство для отрисовки `Alert`, `ActionSheet` и `ScreenSpinner`.\n   *\n   * @deprecated Будет удалeно в **VKUI v8**.\n   * Начиная с **VKUI v7** компоненты можно располагать в любом\n   * месте приложения в пределах `AppRoot`.\n   */\n  popout?: React.ReactNode;\n  /**\n   * Свойство для отрисовки `ModalRoot`.\n   *\n   * @deprecated Будет удалeно в **VKUI v8**.\n   * Начиная с **VKUI v7**  `ModalRoot` можно располагать в любом\n   * месте приложения в пределах `AppRoot`.\n   */\n  modal?: React.ReactNode;\n  /**\n   * Компонент для отрисовки заголовка.\n   */\n  header?: React.ReactNode;\n  /**\n   * Центрирует контент.\n   */\n  center?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/split-layout\n */\nexport const SplitLayout = ({\n  header,\n  children,\n  getRootRef,\n  getRef,\n  className,\n  center,\n  modal,\n  popout,\n  ...restProps\n}: SplitLayoutProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  return (\n    <div className={classNames(styles.host, platform === 'ios' && styles.ios)} ref={getRootRef}>\n      {header}\n      <div\n        {...restProps}\n        ref={getRef}\n        className={classNames(\n          styles.inner,\n          !!header && styles.innerHeader,\n          center && styles.innerCenter,\n          className,\n        )}\n      >\n        {children}\n        {modal}\n        {popout}\n      </div>\n    </div>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useMediaQueries } from '../../hooks/useMediaQueries';\nimport { ViewWidth, viewWidthToClassName } from '../../lib/adaptivity';\nimport { matchMediaListAddListener, matchMediaListRemoveListener } from '../../lib/matchMedia';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { SplitColContext } from './SplitColContext';\nimport styles from './SplitCol.module.css';\n\nconst breakpointClassNames = {\n  none: classNames(styles.viewWidthNone, 'vkuiInternalSplitCol--viewWidth-none'),\n  tabletMinus: styles.viewWidthTabletMinus,\n  smallTabletPlus: styles.viewWidthSmallTabletPlus,\n  tabletPlus: 'vkuiInternalSplitCol--viewWidth-tabletPlus',\n};\n\nfunction useTransitionAnimate(animateProp?: boolean) {\n  const { viewWidth } = useAdaptivity();\n  const [animate, setAnimate] = React.useState(Boolean(animateProp));\n  const mediaQueries = useMediaQueries();\n\n  React.useEffect(() => {\n    if (animateProp !== undefined) {\n      setAnimate(animateProp);\n      return;\n    }\n\n    if (viewWidth !== undefined) {\n      setAnimate(viewWidth < ViewWidth.TABLET);\n      return;\n    }\n\n    // eslint-disable-next-line no-restricted-properties\n    const listener = () => setAnimate(!mediaQueries.smallTabletPlus.matches);\n    listener();\n\n    matchMediaListAddListener(mediaQueries.smallTabletPlus, listener);\n    return () => {\n      matchMediaListRemoveListener(mediaQueries.smallTabletPlus, listener);\n    };\n  }, [animateProp, viewWidth, mediaQueries]);\n\n  return animate;\n}\n\nexport interface SplitColProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Ширина колонки.\n   */\n  width?: number | string;\n  /**\n   * Максимальная ширина колонки.\n   */\n  maxWidth?: number | string;\n  /**\n   * Минимальная ширина колонки.\n   */\n  minWidth?: number | string;\n  /**\n   * Если false, то переходы между Panel происходят без анимации.\n   */\n  animate?: boolean;\n  /**\n   * Если true, то добавляются боковые отступы фиксированной величины при ширине больше чем `smallTablet`.\n   */\n  autoSpaced?: boolean;\n  /**\n   * Фиксированное положение колонки.\n   */\n  fixed?: boolean;\n  /**\n   * Если true, то ширина контейнера становится 100% при ширине меньше чем `tablet`.\n   */\n  stretchedOnMobile?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/split-layout#split-col\n */\nexport const SplitCol = (props: SplitColProps): React.ReactNode => {\n  const {\n    children,\n    width,\n    maxWidth,\n    minWidth,\n    animate: animateProp,\n    fixed,\n    autoSpaced,\n    stretchedOnMobile,\n    getRootRef,\n    ...restProps\n  } = props;\n  const baseRef = useExternRef(getRootRef);\n  const { viewWidth } = useAdaptivity();\n  const animate = useTransitionAnimate(animateProp);\n\n  const contextValue = React.useMemo(\n    () => ({\n      colRef: baseRef,\n      animate,\n    }),\n    [animate, baseRef],\n  );\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseStyle={{\n        width,\n        maxWidth,\n        minWidth,\n      }}\n      getRootRef={baseRef}\n      baseClassName={classNames(\n        styles.host,\n        viewWidthToClassName(breakpointClassNames, viewWidth),\n        autoSpaced && classNames(styles.spacedAuto, 'vkuiInternalSplitCol--spaced-auto'),\n        fixed && styles.fixed,\n        stretchedOnMobile && styles.stretchedOnMobile,\n      )}\n    >\n      <SplitColContext.Provider value={contextValue}>\n        {fixed ? <div className={styles.fixedInner}>{children}</div> : children}\n      </SplitColContext.Provider>\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { MEDIA_QUERIES, type MediaQueries } from '../lib/adaptivity';\nimport { mediaQueryNull } from '../lib/browser';\nimport { useDOM } from '../lib/dom';\n\nconst mediaQueriesCache = new WeakMap<Window, MediaQueries>();\n\nfunction getMediaQueries(matchMedia: (query: string) => MediaQueryList): MediaQueries {\n  return {\n    desktopPlus: matchMedia(MEDIA_QUERIES.DESKTOP_PLUS),\n    smallTabletPlus: matchMedia(MEDIA_QUERIES.SMALL_TABLET_PLUS),\n    tablet: matchMedia(MEDIA_QUERIES.TABLET),\n    smallTablet: matchMedia(MEDIA_QUERIES.SMALL_TABLET),\n    mobile: matchMedia(MEDIA_QUERIES.MOBILE),\n    mediumHeight: matchMedia(MEDIA_QUERIES.MEDIUM_HEIGHT),\n    mobileLandscapeHeight: matchMedia(MEDIA_QUERIES.MOBILE_LANDSCAPE_HEIGHT),\n  };\n}\n\n/**\n * Возвращает медиа выражения определенные дизайн-системой.\n */\nexport const useMediaQueries = (): MediaQueries => {\n  const { window } = useDOM();\n\n  return React.useMemo<MediaQueries>(\n    function initializeStoreOrUpdateStoreIfWindowChanges() {\n      if (!window) {\n        return getMediaQueries(mediaQueryNull);\n      }\n\n      const storedMediaQueries = mediaQueriesCache.get(window);\n      if (storedMediaQueries) {\n        return storedMediaQueries;\n      }\n\n      const mediaQueries = getMediaQueries(window.matchMedia.bind(window));\n\n      mediaQueriesCache.set(window, mediaQueries);\n\n      return mediaQueries;\n    },\n    [window],\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { getNavId, type NavIdProps } from '../../lib/getNavId';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { ScrollSaver } from './ScrollSaver';\nimport styles from './Epic.module.css';\n\nexport interface EpicProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Компонент Tabbar, который будет отображаться снизу.\n   */\n  tabbar?: React.ReactNode;\n  /**\n   * `id` активного окна.\n   */\n  activeStory: string;\n  /**\n   * Внутри `Epic` может находиться либо коллекция `Root`,\n   * либо коллекция `View`. У каждого элемента коллекции должен быть уникальный `id`.\n   */\n  children: React.ReactElement | Iterable<React.ReactElement>;\n}\n\nconst warn = warnOnce('Epic');\n\n/**\n * @see https://vkui.io/components/epic\n */\nexport const Epic = ({\n  activeStory,\n  tabbar,\n  children,\n  ...restProps\n}: EpicProps): React.ReactNode => {\n  const scroll = React.useRef<{ [key: string]: number }>({}).current;\n\n  const story =\n    (React.Children.toArray(children).find(\n      (story) =>\n        React.isValidElement(story) &&\n        getNavId((story as React.ReactElement<NavIdProps>).props, warn) === activeStory,\n    ) as Array<React.ReactElement<NavIdProps>> | undefined) ?? null;\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(styles.host, tabbar && 'vkuiInternalEpic--hasTabbar')}\n    >\n      <ScrollSaver\n        key={activeStory}\n        initialScroll={scroll[activeStory] || 0}\n        saveScroll={(value) => (scroll[activeStory] = value)}\n      >\n        {story}\n      </ScrollSaver>\n      {tabbar}\n    </RootComponent>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HasChildren } from '../../types';\nimport { ScrollContext } from '../AppRoot/ScrollContext';\n\nexport interface ScrollSaverProps extends HasChildren {\n  initialScroll?: number;\n  saveScroll: (this: void, scroll: number) => any;\n}\n\nexport const ScrollSaver = ({\n  children,\n  initialScroll,\n  saveScroll,\n}: ScrollSaverProps): React.ReactNode => {\n  const { getScroll, scrollTo } = React.useContext(ScrollContext);\n  useIsomorphicLayoutEffect(() => {\n    if (typeof initialScroll === 'number') {\n      scrollTo(0, initialScroll);\n    }\n    return () => saveScroll(getScroll().y);\n  }, []);\n  return <React.Fragment>{children}</React.Fragment>;\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Tabbar.module.css';\n\nexport interface TabbarProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Флаг, который скрывает тень (Android) или границы (iOS).\n   */\n  plain?: boolean;\n  /**\n   * Задает расположение элементов (вертикальное/горизонтальное).\n   */\n  mode?: 'vertical' | 'horizontal' | 'auto';\n}\n\nconst getItemsLayoutClassName = (\n  itemsLayout: TabbarProps['mode'],\n  children: TabbarProps['children'],\n): string => {\n  switch (itemsLayout) {\n    case 'horizontal':\n      return 'vkuiInternalTabbar--layout-horizontal';\n    case 'vertical':\n      return 'vkuiInternalTabbar--layout-vertical';\n    default:\n      return React.Children.count(children) > 2\n        ? getItemsLayoutClassName('vertical', [])\n        : getItemsLayoutClassName('horizontal', []);\n  }\n};\n\n/**\n * @see https://vkui.io/components/epic#tabbar\n */\nexport const Tabbar = ({ plain = false, mode, ...restProps }: TabbarProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  return (\n    <RootComponent\n      baseClassName={classNames(\n        'vkuiInternalTabbar',\n        styles.host,\n        platform === 'ios' && styles.ios,\n        getItemsLayoutClassName(mode, restProps.children),\n        !plain && styles.shadow,\n      )}\n      {...restProps}\n    />\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode, noop } from '@vkontakte/vkjs';\nimport { useFocusVisible } from '../../hooks/useFocusVisible';\nimport { useFocusVisibleClassName } from '../../hooks/useFocusVisibleClassName';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { COMMON_WARNINGS, warnOnce } from '../../lib/warnOnce';\nimport type { HasComponent, HasRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './TabbarItem.module.css';\n\nexport interface TabbarItemProps\n  extends Omit<React.AllHTMLAttributes<HTMLElement>, 'label'>,\n    HasRootRef<HTMLElement>,\n    HasComponent {\n  /**\n   * Выбранное состояние компонента.\n   */\n  selected?: boolean;\n  /**\n   * Текст рядом с иконкой.\n   */\n  label?: React.ReactNode;\n  /**\n   * Индикатор над иконкой. Принимает `<Badge mode=\"prominent\" />` или `<Counter size=\"s\" mode=\"prominent\" />`.\n   */\n  indicator?: React.ReactNode;\n}\n\nconst warn = warnOnce('TabbarItem');\n\n/**\n * @see https://vkui.io/components/epic#tabbar-item\n */\nexport const TabbarItem = ({\n  children,\n  selected,\n  indicator,\n  label,\n  href,\n  Component = href ? 'a' : 'button',\n  disabled,\n  onFocus: onFocusProp,\n  onBlur: onBlurProp,\n  ...restProps\n}: TabbarItemProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  if (process.env.NODE_ENV === 'development') {\n    const hasAccessibleName = label || restProps['aria-label'] || restProps['aria-labelledby'];\n\n    if (!hasAccessibleName) {\n      warn(COMMON_WARNINGS.a11y[Component === 'a' ? 'link-name' : 'button-name'], 'error');\n    }\n  }\n\n  const {\n    focusVisible,\n    onFocus: handleFocusVisibleOnFocus,\n    onBlur: handleFocusVisibleOnBlur,\n  } = useFocusVisible();\n  const focusVisibleClassNames = useFocusVisibleClassName({\n    focusVisible,\n  });\n\n  return (\n    <RootComponent\n      Component={Component}\n      {...restProps}\n      disabled={disabled}\n      onFocus={callMultiple(handleFocusVisibleOnFocus, onFocusProp)}\n      onBlur={callMultiple(handleFocusVisibleOnBlur, onBlurProp)}\n      href={href}\n      baseClassName={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        platform === 'android' && styles.android,\n        selected && styles.selected,\n      )}\n    >\n      <Tappable\n        role=\"presentation\"\n        disabled={disabled}\n        activeMode={platform === 'ios' ? styles.tappableActive : 'background'}\n        activeEffectDelay={platform === 'ios' ? 0 : 300}\n        hasHover={false}\n        className={classNames(styles.tappable, focusVisibleClassNames)}\n        onClick={noop}\n        tabIndex={-1}\n      />\n      <div className={styles.in}>\n        <div className={styles.icon}>\n          {children}\n          <div className=\"vkuiInternalTabbarItem__label\">\n            {hasReactNode(indicator) && indicator}\n          </div>\n        </div>\n        {label && (\n          <Footnote Component=\"div\" className={styles.label} weight=\"2\">\n            {label}\n          </Footnote>\n        )}\n      </div>\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Chevron, Icon24Chevron } from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport type { HasRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './ScrollArrow.module.css';\n\nconst stylesSize = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n};\n\nconst stylesDirection = {\n  up: styles.directionUp,\n  right: styles.directionRight,\n  down: styles.directionDown,\n  left: styles.directionLeft,\n};\n\nconst labelDirection = {\n  up: 'Назад',\n  right: 'Вперед',\n  down: 'Вперед',\n  left: 'Назад',\n};\n\nconst ArrowIcon = ({ size }: Pick<ScrollArrowProps, 'size'>) => {\n  let Icon = Icon24Chevron;\n  if (size === 's') {\n    Icon = Icon16Chevron;\n  }\n\n  return <Icon className={styles.defaultIcon} />;\n};\n\nexport interface ScrollArrowProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    HasRootRef<HTMLButtonElement> {\n  /**\n   * Направление стрелки.\n   */\n  direction: 'up' | 'right' | 'down' | 'left';\n  /**\n   * Размер стрелки.\n   */\n  size?: 's' | 'm';\n  /**\n   * Смещает иконку кнопки навигации по вертикали.\n   */\n  offsetY?: number | string;\n  /**\n   * [a11y]: Используется для ассистивных технологий.\n   */\n  label?: string;\n}\n\n/**\n * Компонент стрелки. Используется в [HorizontalScroll](#/HorizontalScroll) и [Gallery](#/Gallery).\n *\n * @since 5.4.0\n * @see https://vkui.io/components/scroll-arrow\n */\nexport const ScrollArrow = ({\n  size = 'm',\n  offsetY,\n  direction,\n  label: labelProp,\n  children = <ArrowIcon size={size} />,\n  ...restProps\n}: ScrollArrowProps): React.ReactNode => {\n  const textDirection = useConfigDirection();\n  const label = labelProp ?? labelDirection[direction];\n\n  return (\n    <RootComponent\n      Component=\"button\"\n      type=\"button\"\n      baseClassName={classNames(\n        styles.host,\n        stylesSize[size],\n        stylesDirection[direction],\n        textDirection === 'rtl' && styles.rtl,\n      )}\n      {...restProps}\n    >\n      {label && <VisuallyHidden>{label}</VisuallyHidden>}\n      <span className={styles.icon} style={offsetY ? { top: offsetY } : undefined}>\n        {children}\n      </span>\n    </RootComponent>\n  );\n};\n", "import { useConfigProvider } from '../components/ConfigProvider/ConfigProviderContext';\nimport { type Direction } from '../lib/direction';\n\nexport function useConfigDirection(): Direction {\n  const { direction } = useConfigProvider();\n\n  return direction || 'ltr';\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { useAdaptivityHasPointer } from '../../hooks/useAdaptivityHasPointer';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useFocusVisible } from '../../hooks/useFocusVisible';\nimport { useFocusVisibleClassName } from '../../hooks/useFocusVisibleClassName';\nimport { easeInOutSine } from '../../lib/fx';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HasRef, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { ScrollArrow, type ScrollArrowProps } from '../ScrollArrow/ScrollArrow';\nimport styles from './HorizontalScroll.module.css';\n\n/* eslint-disable jsdoc/require-jsdoc */\ninterface ScrollContext {\n  scrollElement: HTMLElement | null;\n  scrollAnimationDuration: number;\n  animationQueue: VoidFunction[];\n  getScrollPosition: (currentPosition: number) => number;\n  onScrollToEndBorder: VoidFunction;\n  onScrollEnd: VoidFunction;\n  onScrollStart: VoidFunction;\n  /**\n   * Начальная ширина прокрутки.\n   * В некоторых случаях может отличаться от текущей ширины прокрутки из-за transforms: translate.\n   */\n  initialScrollWidth: number;\n  textDirection: 'ltr' | 'rtl';\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nexport type ScrollPositionHandler = (currentPosition: number) => number;\n\nexport interface HorizontalScrollProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement>,\n    HasRef<HTMLDivElement> {\n  /**\n   * Функция для расчета величины прокрутки при нажатии на левую стрелку.\n   */\n  getScrollToLeft?: ScrollPositionHandler;\n  /**\n   * Функция для расчета величины прокрутки при нажатии на правую стрелку.\n   */\n  getScrollToRight?: ScrollPositionHandler;\n  /**\n   * Размер стрелок.\n   */\n  arrowSize?: ScrollArrowProps['size'];\n  /**\n   * Смещает иконки кнопок навигации по вертикали.\n   */\n  arrowOffsetY?: number | string;\n  /**\n   * Показывать ли стрелки.\n   */\n  showArrows?: boolean | 'always';\n  /**\n   * Длительность анимации скролла.\n   */\n  scrollAnimationDuration?: number;\n  /**\n   * Добавляет возможность прокручивать контент на любое колесо мыши.\n   * По умолчанию прокручивается как любой горизонтальный контент через shift.\n   */\n  scrollOnAnyWheel?: boolean;\n  /**\n   * Передает атрибут `data-testid` для кнопки прокрутки горизонтального скролла в направлении предыдущего элемента.\n   */\n  prevButtonTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки прокрутки горизонтального скролла в направлении следующего элемента.\n   */\n  nextButtonTestId?: string;\n  /**\n   * Позволяет поменять тег используемый для обертки над контентом, прокинутым в `children`.\n   */\n  ContentWrapperComponent?: React.ElementType;\n  /**\n   * `ref` для обертки над контентом, прокинутым в `children`.\n   */\n  contentWrapperRef?: React.Ref<HTMLElement>;\n  /**\n   * Специфичный `className` для обертки над контентом, прокинутым в `children`.\n   */\n  contentWrapperClassName?: string;\n}\n\n/**\n * Timing method.\n */\nfunction now() {\n  return performance && performance.now ? performance.now() : Date.now();\n}\n\n/**\n * Округление к большему по модулю.\n *\n * ## Пример\n *\n * ```ts\n * import { strict as assert } from 'node:assert';\n *\n * assert.equal(roundingAwayFromZero(5.1), 6)\n * assert.equal(roundingAwayFromZero(-5.1), -6)\n * ```\n */\nfunction roundingAwayFromZero(value: number): number {\n  return value > 0 ? Math.ceil(value) : Math.floor(value);\n}\n\n/**\n * Округляем el.scrollLeft\n * https://github.com/VKCOM/VKUI/pull/2445.\n */\nconst roundUpElementScrollLeft = (el: HTMLElement) => roundingAwayFromZero(el.scrollLeft);\n\n/**\n * Код анимации скрола, на основе полифила: https://github.com/iamdustan/smoothscroll\n * Константа взята из полифила (468), на дизайн-ревью уточнили до 250.\n * @var {number} SCROLL_ONE_FRAME_TIME время анимации скролла\n */\nconst SCROLL_ONE_FRAME_TIME = 250;\n\nfunction doScroll({\n  scrollElement,\n  getScrollPosition,\n  animationQueue,\n  onScrollToEndBorder,\n  onScrollEnd,\n  onScrollStart,\n  initialScrollWidth,\n  scrollAnimationDuration,\n  textDirection,\n}: ScrollContext) {\n  if (!scrollElement || !getScrollPosition) {\n    return;\n  }\n\n  /**\n   * Крайнее значение сдвига.\n   */\n  const extremeScrollLeft =\n    (textDirection === 'ltr' ? 1 : -1) * (initialScrollWidth - scrollElement.offsetWidth);\n\n  const startScrollLeft = roundUpElementScrollLeft(scrollElement);\n  const remappedStartScrollLeft = startScrollLeft * (textDirection === 'rtl' ? -1 : 1);\n\n  let endScrollLeft = getScrollPosition(remappedStartScrollLeft);\n\n  const diff = endScrollLeft - remappedStartScrollLeft;\n  if (textDirection === 'rtl') {\n    endScrollLeft = startScrollLeft - diff;\n  }\n\n  onScrollStart();\n\n  /**\n   * Если окончание прокрутки вышло за ноль.\n   */\n  if (startScrollLeft * endScrollLeft < 0) {\n    endScrollLeft = 0;\n  }\n\n  if (Math.abs(endScrollLeft) >= Math.abs(extremeScrollLeft)) {\n    onScrollToEndBorder();\n    endScrollLeft = extremeScrollLeft;\n  }\n\n  const startTime = now();\n\n  (function scroll() {\n    const time = now();\n    const elapsed = Math.min((time - startTime) / scrollAnimationDuration, 1);\n\n    const value = easeInOutSine(elapsed);\n\n    const currentScrollLeft = startScrollLeft + (endScrollLeft - startScrollLeft) * value;\n    scrollElement.scrollLeft = roundingAwayFromZero(currentScrollLeft);\n\n    const scrollEnd =\n      textDirection === 'ltr' ? Math.max(0, endScrollLeft) : Math.min(0, endScrollLeft);\n    if (roundUpElementScrollLeft(scrollElement) !== scrollEnd && elapsed !== 1) {\n      requestAnimationFrame(scroll);\n      return;\n    }\n\n    onScrollEnd();\n    animationQueue.shift();\n    if (animationQueue.length > 0) {\n      animationQueue[0]();\n    }\n  })();\n}\n\n/**\n * @see https://vkui.io/components/horizontal-scroll\n */\nexport const HorizontalScroll = ({\n  children,\n  getScrollToLeft,\n  getScrollToRight,\n  showArrows = true,\n  arrowSize = 'm',\n  arrowOffsetY,\n  scrollAnimationDuration = SCROLL_ONE_FRAME_TIME,\n  getRef,\n  scrollOnAnyWheel = false,\n  prevButtonTestId,\n  nextButtonTestId,\n  // ContentWrapper\n  ContentWrapperComponent = 'div',\n  contentWrapperRef,\n  contentWrapperClassName,\n  ...restProps\n}: HorizontalScrollProps): React.ReactNode => {\n  const [canScrollStart, setCanScrollStart] = React.useState(false);\n  const [canScrollEnd, setCanScrollEnd] = React.useState(false);\n  const { focusVisible, ...focusEvents } = useFocusVisible();\n  const focusVisibleClassNames = useFocusVisibleClassName({\n    focusVisible,\n  });\n\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n\n  const isCustomScrollingRef = React.useRef(false);\n\n  const scrollerRef = useExternRef(getRef);\n\n  const animationQueue = React.useRef<VoidFunction[]>([]);\n\n  const hasPointer = useAdaptivityHasPointer();\n\n  const scrollTo = React.useCallback(\n    (getScrollPosition: ScrollPositionHandler) => {\n      const scrollElement = scrollerRef.current;\n\n      animationQueue.current.push(() =>\n        doScroll({\n          scrollElement,\n          getScrollPosition,\n          animationQueue: animationQueue.current,\n          onScrollToEndBorder: () => setCanScrollEnd(false),\n          onScrollEnd: () => (isCustomScrollingRef.current = false),\n          onScrollStart: () => (isCustomScrollingRef.current = true),\n          initialScrollWidth: scrollElement?.firstElementChild?.scrollWidth || 0,\n          scrollAnimationDuration,\n          textDirection: direction,\n        }),\n      );\n      if (animationQueue.current.length === 1) {\n        animationQueue.current[0]();\n      }\n    },\n    [scrollerRef, scrollAnimationDuration, direction, setCanScrollEnd],\n  );\n\n  const scrollToStart = React.useCallback(() => {\n    const getScrollPosition =\n      getScrollToLeft ?? ((i: number) => i - scrollerRef.current!.offsetWidth);\n    scrollTo(getScrollPosition);\n  }, [getScrollToLeft, scrollTo, scrollerRef]);\n\n  const scrollToEnd = React.useCallback(() => {\n    const getScrollPosition =\n      getScrollToRight ?? ((i: number) => i + scrollerRef.current!.offsetWidth);\n    scrollTo(getScrollPosition);\n  }, [getScrollToRight, scrollTo, scrollerRef]);\n\n  const calculateArrowsVisibility = React.useCallback(() => {\n    if (showArrows && hasPointer && scrollerRef.current && !isCustomScrollingRef.current) {\n      const scrollElement = scrollerRef.current;\n      const scrollLeft = scrollElement.scrollLeft;\n\n      setCanScrollStart(isRtl ? scrollLeft < 0 : scrollLeft > 0);\n      setCanScrollEnd(\n        Math.abs(roundUpElementScrollLeft(scrollElement)) + scrollElement.offsetWidth <\n          scrollElement.scrollWidth,\n      );\n    }\n  }, [showArrows, hasPointer, scrollerRef, isRtl]);\n\n  React.useEffect(calculateArrowsVisibility, [calculateArrowsVisibility, children]);\n\n  useIsomorphicLayoutEffect(\n    function addWheelEventHandler() {\n      const scrollEl = scrollerRef.current;\n      if (!scrollEl) {\n        return noop;\n      }\n      /**\n       * Прокрутка с помощью любого колеса мыши.\n       */\n      const onWheel = (e: WheelEvent) => {\n        scrollerRef.current!.scrollBy({ left: e.deltaX + e.deltaY, behavior: 'auto' });\n        e.preventDefault();\n      };\n\n      const listenerOptions = { passive: false };\n\n      if (scrollOnAnyWheel) {\n        scrollEl.addEventListener('wheel', onWheel, listenerOptions);\n      }\n      scrollEl.addEventListener('scroll', calculateArrowsVisibility, listenerOptions);\n\n      return () => {\n        if (scrollOnAnyWheel) {\n          // @ts-expect-error: TS2769 В интерфейсе EventListenerOptions для wheel нет passive свойства\n          scrollEl.removeEventListener('wheel', onWheel, listenerOptions);\n        }\n        // @ts-expect-error: TS2769 В интерфейсе EventListenerOptions для scroll нет passive свойства\n        scrollEl.removeEventListener('scroll', calculateArrowsVisibility, listenerOptions);\n      };\n    },\n    [scrollOnAnyWheel, calculateArrowsVisibility, scrollerRef],\n  );\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        'vkuiInternalHorizontalScroll',\n        showArrows === 'always' && styles.withConstArrows,\n        isRtl && styles.rtl,\n      )}\n      onMouseEnter={calculateArrowsVisibility}\n    >\n      {showArrows && (hasPointer || hasPointer === undefined) && canScrollStart && (\n        <ScrollArrow\n          data-testid={prevButtonTestId}\n          size={arrowSize}\n          offsetY={arrowOffsetY}\n          direction=\"left\"\n          aria-hidden\n          tabIndex={-1}\n          className={classNames(styles.arrow, styles.arrowLeft)}\n          onClick={scrollToStart}\n        />\n      )}\n      {showArrows && (hasPointer || hasPointer === undefined) && canScrollEnd && (\n        <ScrollArrow\n          data-testid={nextButtonTestId}\n          size={arrowSize}\n          offsetY={arrowOffsetY}\n          direction=\"right\"\n          aria-hidden\n          tabIndex={-1}\n          className={classNames(styles.arrow, styles.arrowRight)}\n          onClick={scrollToEnd}\n        />\n      )}\n      <div\n        className={classNames(styles.in, focusVisibleClassNames)}\n        ref={scrollerRef}\n        tabIndex={0}\n        {...focusEvents}\n      >\n        <ContentWrapperComponent\n          className={classNames(styles.inWrapper, contentWrapperClassName)}\n          ref={contentWrapperRef}\n        >\n          {children}\n        </ContentWrapperComponent>\n      </div>\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { hasMouse as hasPointerLib } from '@vkontakte/vkjs';\nimport { AdaptivityContext } from '../components/AdaptivityProvider/AdaptivityContext';\nimport { useIsClient } from './useIsClient';\n\n/**\n * Определение происходит с помощью `window.matchMedia`. Для того, чтобы не было ошибок при гидратации, по умолчанию\n * откладываем определение на второй рендер.\n *\n * [No SSR] Если передать `false`, то определение будет сразу.\n */\nexport function useAdaptivityHasPointer(deferDetect?: true): undefined | boolean; // prettier-ignore\nexport function useAdaptivityHasPointer(deferDetect?: false): boolean;\nexport function useAdaptivityHasPointer(deferDetect = true): undefined | boolean {\n  const { hasPointer: hasPointerContext } = React.useContext(AdaptivityContext);\n\n  const needTwoPassRendering = deferDetect || hasPointerContext === undefined;\n\n  const isClient = useIsClient(!needTwoPassRendering);\n  if (!isClient || hasPointerContext !== undefined) {\n    return hasPointerContext;\n  }\n\n  return hasPointerLib;\n}\n", "/**\n * ease function\n * @param x absolute progress of the animation in bounds 0 (beginning) and 1 (end)\n */\nexport function easeInOutSine(x: number): number {\n  return 0.5 * (1 - Math.cos(Math.PI * x));\n}\n\nexport function cubicBezier(x1: number, x2: number) {\n  return function (progress: number): number {\n    const t = progress;\n    const cx = 3 * x1;\n    const bx = 3 * (x2 - x1) - cx;\n    const ax = 1 - cx - bx;\n    const x = ax * Math.pow(t, 3) + bx * Math.pow(t, 2) + cx * t;\n    return x;\n  };\n}\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { CSSCustomProperties } from '../../types';\nimport { RootComponent, type RootComponentProps } from '../RootComponent/RootComponent';\nimport styles from './AspectRatio.module.css';\n\nexport interface AspectRatioProps extends Omit<RootComponentProps<HTMLElement>, 'baseClassName'> {\n  /**\n   * `className` для компонента.\n   */\n  className?: string;\n  /**\n   * По умолчанию, вложенный контент будет растягиваться и заполнять весь блок.\n   */\n  mode?: 'stretch' | 'none';\n  /**\n   * Например:\n   * - в виде числа: 16 / 9, 4 / 3, 1920 / 1080,\n   * - в виде css переменной: `var(--css-aspect-ratio-var)`\n   * - в виде сложного выражения: `calc(<какие-то вычисления>)`.\n   */\n  ratio: number | string;\n}\n\n/**\n * `AspectRatio` позволяет поддерживать постоянное соотношение ширины и высоты.\n * Его можно использовать для отображения изображений, карт, видео и других медиафайлов.\n\n * @since 5.5.0\n * @see https://vkui.io/components/aspect-ratio\n */\nexport function AspectRatio({\n  ratio,\n  mode = 'stretch',\n  ...props\n}: AspectRatioProps): React.JSX.Element {\n  const style: React.CSSProperties & CSSCustomProperties = {\n    '--vkui_internal--aspect_ratio': typeof ratio === 'number' ? String(ratio) : ratio,\n  };\n\n  return (\n    <RootComponent\n      baseClassName={classNames(styles.host, mode === 'stretch' && styles.modeStretch)}\n      baseStyle={style}\n      {...props}\n    />\n  );\n}\n", "import type { LiteralUnion } from '../../types';\nimport styles from '../../styles/gaps.module.css';\n\ntype GapPresets = '2xs' | 'xs' | 's' | 'm' | 'l' | 'xl' | '2xl' | '3xl' | '4xl';\n\nexport const columnGapClassNames: Record<GapPresets, string> = {\n  '2xs': styles['-column-gap--2xs'],\n  'xs': styles['-column-gap--xs'],\n  's': styles['-column-gap--s'],\n  'm': styles['-column-gap--m'],\n  'l': styles['-column-gap--l'],\n  'xl': styles['-column-gap--xl'],\n  '2xl': styles['-column-gap--2xl'],\n  '3xl': styles['-column-gap--3xl'],\n  '4xl': styles['-column-gap--4xl'],\n};\n\nexport const rowGapClassNames: Record<GapPresets, string> = {\n  '2xs': styles['-row-gap--2xs'],\n  'xs': styles['-row-gap--xs'],\n  's': styles['-row-gap--s'],\n  'm': styles['-row-gap--m'],\n  'l': styles['-row-gap--l'],\n  'xl': styles['-row-gap--xl'],\n  '2xl': styles['-row-gap--2xl'],\n  '3xl': styles['-row-gap--3xl'],\n  '4xl': styles['-row-gap--4xl'],\n};\n\nexport type GapProp = LiteralUnion<GapPresets, number>;\n\nexport type GapsProp = GapProp | [GapProp, GapProp];\n\n/**\n * Возвращает массив отступов [rowGap, columnGap]\n */\nexport function calculateGap(\n  gap: GapsProp | undefined,\n): [GapProp, GapProp] | [undefined, undefined] {\n  if (gap === undefined) {\n    return [undefined, undefined];\n  }\n  if (typeof gap === 'number' || typeof gap === 'string') {\n    return [gap, gap];\n  }\n\n  return gap;\n}\n", "import { classNames } from '@vkontakte/vkjs';\nimport type { HasChildren } from '../../../types';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport type { RootComponentProps } from '../../RootComponent/RootComponent';\nimport styles from './FlexItem.module.css';\n\nconst flexClassNames = {\n  grow: styles.flexGrow,\n  shrink: styles.flexShrink,\n  content: styles.flexContent,\n  fixed: styles.flexFixed,\n};\n\nconst alignSelfClassNames = {\n  start: styles.alignSelfStart,\n  end: styles.alignSelfEnd,\n  center: styles.alignSelfCenter,\n  baseline: styles.alignSelfBaseline,\n  stretch: styles.alignSelfStretch,\n};\n\nexport interface FlexItemProps\n  extends Omit<RootComponentProps<HTMLElement>, 'baseClassName'>,\n    HasChildren {\n  /**\n   * Для задания выравнивания, отлично от родительского, эквивалентно `align-self`.\n   */\n  alignSelf?: 'start' | 'end' | 'center' | 'baseline' | 'stretch';\n  /**\n   * Позволяет задать предопределенные значения свойства `flex`:\n   *\n   * - `grow` соответствует значению `1 0 auto`\n   * - `shrink` соответствует значению `0 1 auto`\n   * - `content` соответствует значению `1 1 auto`\n   * - `fixed` соответствует значению `0 0 auto`.\n   */\n  flex?: 'grow' | 'shrink' | 'content' | 'fixed';\n  /**\n   * Изначальный размер элемента, эквивалентно `flex-basis`.\n   */\n  flexBasis?: number | string;\n}\n\nexport const FlexItem = ({\n  children,\n  alignSelf,\n  flex,\n  flexBasis,\n  ...rest\n}: FlexItemProps): React.ReactNode => {\n  return (\n    <RootComponent\n      {...rest}\n      baseStyle={{ flexBasis }}\n      baseClassName={classNames(\n        alignSelf && alignSelfClassNames[alignSelf],\n        flex && flexClassNames[flex],\n      )}\n    >\n      {children}\n    </RootComponent>\n  );\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport {\n  calculateGap,\n  columnGapClassNames,\n  type GapProp,\n  type GapsProp,\n  rowGapClassNames,\n} from '../../lib/layouts';\nimport type { CSSCustomProperties } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport type { RootComponentProps } from '../RootComponent/RootComponent';\nimport { FlexItem, type FlexItemProps } from './FlexItem/FlexItem';\nimport styles from './Flex.module.css';\n\nexport type { FlexItemProps };\n\nconst justifyClassNames = {\n  'start': styles.justifyStart,\n  'end': styles.justifyEnd,\n  'center': styles.justifyCenter,\n  'space-around': styles.justifySpaceAround,\n  'space-between': styles.justifySpaceBetween,\n  'space-evenly': styles.justifySpaceEvenly,\n};\n\nconst alignClassNames = {\n  start: styles.alignStart,\n  end: styles.alignEnd,\n  center: styles.alignCenter,\n  stretch: styles.alignStretch,\n  baseline: styles.alignBaseline,\n};\n\ntype FlexContentProps =\n  | 'start'\n  | 'end'\n  | 'center'\n  | 'space-around'\n  | 'space-between'\n  | 'space-evenly';\n\nexport interface FlexProps extends Omit<RootComponentProps<HTMLElement>, 'baseClassName'> {\n  /**\n   * Направление осей, эквивалентно `flex-direction`.\n   */\n  direction?: 'row' | 'column';\n  /**\n   * Отступы между элементами.\n   * Значение из списка предопределённых пресетов или число, которое будет приведено к пикселям.\n   * Через массив можно задать отступ между столбцами и строками [row, column], если они отличаются.\n   */\n  gap?: GapsProp;\n  /**\n   * Отключает перенос контента, эквивалентно `flex-wrap=nowrap`.\n   */\n  noWrap?: boolean;\n  /**\n   * Выравнивание элементов по вспомогательной оси, эквивалентно `align-items`.\n   */\n  align?: 'start' | 'end' | 'center' | 'stretch' | 'baseline';\n  /**\n   * Выравнивание элементов по главной оси, эквивалентно `justify-content`.\n   */\n  justify?: FlexContentProps;\n  /**\n   * Значение `auto` позволяет задать платформенные отступы вокруг контейнера.\n   */\n  margin?: 'none' | 'auto';\n  /**\n   * Для инвертирования направления, эквивалентно `row-reverse` `column-reverse`.\n   */\n  reverse?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/flex\n */\nexport const Flex: React.FC<FlexProps> & {\n  Item: typeof FlexItem;\n} = ({\n  gap = 0,\n  align,\n  justify,\n  margin = 'none',\n  noWrap = false,\n  direction = 'row',\n  reverse = false,\n  children,\n  ...props\n}: FlexProps) => {\n  const [rowGap, columnGap] = calculateGap(gap);\n\n  return (\n    <RootComponent\n      {...props}\n      baseClassName={classNames(\n        styles.host,\n        !noWrap && styles.wrap,\n        reverse && styles.reverse,\n        direction !== 'row' && styles.directionColumn,\n        margin !== 'none' && styles.marginAuto,\n        align && alignClassNames[align],\n        justify && justifyClassNames[justify],\n        getGapsPresets(rowGap, columnGap),\n      )}\n      baseStyle={getGapsByUser(rowGap, columnGap)}\n    >\n      {children}\n    </RootComponent>\n  );\n};\n\nfunction getGapsPresets(rowGap?: GapProp, columnGap?: GapProp) {\n  return classNames(\n    typeof rowGap === 'string' && rowGapClassNames[rowGap],\n    typeof columnGap === 'string' && columnGapClassNames[columnGap],\n  );\n}\n\nfunction getGapsByUser(rowGap?: GapProp, columnGap?: GapProp) {\n  const style: CSSCustomProperties = {};\n\n  if (typeof rowGap === 'number') {\n    style['--vkui_internal--row_gap'] = `${rowGap}px`;\n  }\n  if (typeof columnGap === 'number') {\n    style['--vkui_internal--column_gap'] = `${columnGap}px`;\n  }\n\n  return style;\n}\n\nFlex.Item = FlexItem;\n", "import { classNames } from '@vkontakte/vkjs';\nimport {\n  calculateGap,\n  columnGapClassNames,\n  type GapsProp,\n  rowGapClassNames,\n} from '../../lib/layouts';\nimport type { CSSCustomProperties } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport type { RootComponentProps } from '../RootComponent/RootComponent';\nimport styles from './SimpleGrid.module.css';\n\nconst marginClassNames = {\n  'auto': styles.marginAuto,\n  'auto-inline': styles.marginAutoInline,\n  'auto-block': styles.marginAutoBlock,\n};\n\nconst alignClassNames = {\n  start: styles.alignStart,\n  end: styles.alignEnd,\n  center: styles.alignCenter,\n  stretch: styles.alignStretch,\n  baseline: styles.alignBaseline,\n};\n\nexport interface SimpleGridProps extends Omit<RootComponentProps<HTMLElement>, 'baseClassName'> {\n  /**\n   * Количество колонок.\n   */\n  columns?: number;\n  /**\n   * Отступы между элементами.\n   * Значение из списка предопределённых пресетов или число, которое будет приведено к пикселям.\n   * Через массив можно задать отступ между столбцами и строками [row, column], если они отличаются.\n   */\n  gap?: GapsProp;\n  /**\n   * Управляет отступами вокруг контейнера\n   * Значение `none` позволяет отключить отступы\n   * Значение `auto` позволяет задать платформенные отступы\n   * Значение `auto-inline` позволяет задать платформенные inline-отступы\n   * Значение `auto-block` позволяет задать платформенные block-отступы.\n   */\n  margin?: 'none' | 'auto' | 'auto-inline' | 'auto-block';\n  /**\n   * Вместо задания количества колонок, можно указать минимальную ширину элементов.\n   */\n  minColWidth?: number;\n  /**\n   * Выравнивание элементов по вспомогательной оси, эквивалентно `align-items`.\n   */\n  align?: 'start' | 'end' | 'center' | 'stretch' | 'baseline';\n}\n\n/**\n * @see https://vkui.io/components/simple-grid\n */\nexport const SimpleGrid = ({\n  columns = 1,\n  gap,\n  margin = 'none',\n  minColWidth,\n  align = 'stretch',\n  ...props\n}: SimpleGridProps) => {\n  const style: CSSCustomProperties = {};\n  const [rowGap, columnGap] = calculateGap(gap);\n  if (typeof rowGap === 'number') {\n    style['--vkui_internal--row_gap'] = `${rowGap}px`;\n  }\n  if (typeof columnGap === 'number') {\n    style['--vkui_internal--column_gap'] = `${columnGap}px`;\n  }\n  style['--vkui_internal--grid_columns'] = `${columns}`;\n  if (minColWidth) {\n    style['--vkui_internal--min_col_width'] = `${minColWidth}px`;\n  }\n\n  return (\n    <RootComponent\n      {...props}\n      baseClassName={classNames(\n        styles.host,\n        margin !== 'none' && marginClassNames[margin],\n        alignClassNames[align],\n        minColWidth && styles.withMinWidth,\n        typeof columnGap === 'string' && columnGapClassNames[columnGap],\n        typeof rowGap === 'string' && rowGapClassNames[rowGap],\n      )}\n      baseStyle={style}\n    />\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './PopoutWrapper.module.css';\n\nconst stylesAlignX = {\n  center: styles.alignXCenter,\n  left: styles.alignXLeft,\n  right: styles.alignXRight,\n};\n\nconst stylesAlignY = {\n  center: styles.alignYCenter,\n  top: styles.alignYTop,\n  bottom: styles.alignYBottom,\n};\n\nconst stylesStrategy = {\n  fixed: styles.fixed,\n  absolute: styles.absolute,\n  none: undefined,\n};\n\nexport interface PopoutWrapperProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Позволяет сделать прозрачную подложку.\n   */\n  noBackground?: boolean;\n  /**\n   * @deprecated Будет удалён в **VKUI v8**\n   * Используйте `strategy` вместо этого свойства.\n   *\n   * Включает фиксированное позиционирование.\n   *\n   * При значении `false` у компонента не задан никакой `position`.\n   */\n  fixed?: boolean;\n  /**\n   * Стратегия позиционирования:\n   *\n   * - `fixed`: у контейнера выставлен `position: fixed`\n   * - `absolute`: у контейнера выставлен `position: absolute`\n   * - `none`: у контейнера не выставлен `position`.\n   *\n   * @default 'fixed'\n   */\n  strategy?: 'fixed' | 'absolute' | 'none';\n  /**\n   * Выравнивает контент по горизонтали.\n   */\n  alignX?: 'left' | 'center' | 'right';\n  /**\n   * Выравнивает контент по вертикали.\n   */\n  alignY?: 'top' | 'center' | 'bottom';\n  /**\n   * Спрячет компонент через fade-out анимацию.\n   */\n  closing?: boolean;\n  /**\n   * Позволяет задать z-index через токен или числом.\n   */\n  zIndex?: number | string;\n}\n\n/**\n * @see https://vkui.io/components/popout-wrapper\n */\nexport const PopoutWrapper = ({\n  alignY = 'center',\n  alignX = 'center',\n  closing = false,\n  noBackground = false,\n  strategy: strategyProp,\n  // TODO [>=8]: удалить свойство\n  fixed = true,\n  children,\n  onClick,\n  zIndex = 'var(--vkui--z_index_popout)',\n  ...restProps\n}: PopoutWrapperProps): React.ReactNode => {\n  const strategy = strategyProp || (fixed ? 'fixed' : 'none');\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        stylesAlignY[alignY],\n        stylesAlignX[alignX],\n        closing ? styles.closing : styles.opened,\n        strategy && stylesStrategy[strategy],\n        !noBackground && styles.masked,\n      )}\n      baseStyle={{ zIndex }}\n    >\n      <div className={styles.container}>\n        <div className={styles.overlay} onClick={onClick} />\n        <div className={styles.content}>{children}</div>\n      </div>\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { type UseFocusTrapProps } from '../../hooks/useFocusTrap';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type {\n  AlignType,\n  AnchorHTMLAttributesOnly,\n  HasDataAttribute,\n  HasRootRef,\n} from '../../types';\nimport type { AppRootPortalProps } from '../AppRoot/AppRootPortal';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { useScrollLock } from '../AppRoot/ScrollContext';\nimport type { ButtonProps } from '../Button/Button';\nimport { PopoutWrapper } from '../PopoutWrapper/PopoutWrapper';\nimport type { AlertActionProps } from './AlertAction';\nimport { AlertBase } from './AlertBase';\n\ntype AlertActionMode = 'cancel' | 'destructive' | 'default';\n\nexport type { AlertActionProps };\n\nexport interface AlertActionInterface\n  extends Pick<ButtonProps, 'Component'>,\n    AnchorHTMLAttributesOnly,\n    HasDataAttribute {\n  /**\n   * Текст опции.\n   */\n  title: string;\n  /**\n   * Обработчик нажатия на опцию. Если свойство `autoCloseDisabled` включено,\n   * то в аргументы `action` передаётся объект с функцией close,\n   * вызвав которую можно закрыть `action` вручную.\n   */\n  action?: (args?: { close?: VoidFunction }) => void;\n  /**\n   * По умолчанию нажатие на опцию вызывает переданную в `Alert` функцию `onClose`, данное свойство\n   * позволяет отключить такое поведение.\n   */\n  autoCloseDisabled?: boolean;\n  /**\n   * Режим отображения опции.\n   */\n  mode: AlertActionMode;\n}\n\nexport interface AlertProps\n  extends Omit<React.HTMLAttributes<HTMLElement>, 'title' | 'autoFocus'>,\n    Pick<UseFocusTrapProps, 'restoreFocus' | 'autoFocus'>,\n    Pick<AppRootPortalProps, 'usePortal'>,\n    HasRootRef<HTMLDivElement> {\n  /**\n   * Расположение действий - вертикально или горизонтально.\n   */\n  actionsLayout?: 'vertical' | 'horizontal';\n  /**\n   * Тип выравнивания действий.\n   */\n  actionsAlign?: AlignType;\n  /**\n   * Список действий.\n   */\n  actions?: AlertActionInterface[];\n  /**\n   * Функция для отрисовки действия.\n   */\n  renderAction?: (props: AlertActionProps) => React.ReactNode;\n  /**\n   * Заголовок модального окна.\n   */\n  title?: React.ReactNode;\n  /**\n   * Описание модального окна.\n   */\n  description?: React.ReactNode;\n  /**\n   * Обработчик закрытия модального окна.\n   */\n  onClose: VoidFunction;\n  /**\n   * Текст кнопки закрытия. Делает ее доступной для ассистивных технологий.\n   */\n  dismissLabel?: string;\n  /**\n   * Расположение кнопки закрытия (внутри и вне `popout'a`)\n   * Доступно только в `compact`-режиме, не отображается на `iOS`.\n   *\n   * ⚠️ ВНИМАНИЕ: использование `none` скрывает крестик, это негативно сказывается на пользовательском опыте.\n   */\n  dismissButtonMode?: 'inside' | 'outside' | 'none';\n  /**\n   * Передает атрибут `data-testid` для кнопки закрытия.\n   */\n  dismissButtonTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для заголовка.\n   */\n  titleTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для описания.\n   */\n  descriptionTestId?: string;\n  /**\n   * По умолчанию событие onClick не всплывает.\n   */\n  allowClickPropagation?: boolean;\n}\n\nconst warn = warnOnce('Alert');\n\n/**\n * @see https://vkui.io/components/alert\n */\nexport const Alert = ({\n  usePortal,\n  style,\n  className,\n  getRootRef,\n  ...restProps\n}: AlertProps): React.ReactNode => {\n  const [closing, setClosing] = React.useState(false);\n\n  const close = React.useCallback(() => {\n    setClosing(true);\n  }, []);\n\n  useScrollLock();\n\n  if (\n    process.env.NODE_ENV === 'development' &&\n    !restProps.title &&\n    !restProps['aria-label'] &&\n    !restProps['aria-labelledby']\n  ) {\n    warn(\n      'Если \"title\" не используется, то необходимо задать либо \"aria-label\", либо \"aria-labelledby\" (см. правило axe aria-dialog-name)',\n    );\n  }\n\n  return (\n    <AppRootPortal usePortal={usePortal}>\n      <PopoutWrapper\n        className={className}\n        closing={closing}\n        style={style}\n        onClick={close}\n        getRootRef={getRootRef}\n        strategy=\"fixed\"\n      >\n        <AlertBase {...restProps} closing={closing} setClosing={setClosing} />\n      </PopoutWrapper>\n    </AppRootPortal>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon20Cancel } from '@vkontakte/icons';\nimport { classNames, hasReactNode, noop } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useCSSKeyframesAnimationController } from '../../lib/animation';\nimport { stopPropagation } from '../../lib/utils';\nimport { FocusTrap } from '../FocusTrap/FocusTrap';\nimport { IconButton } from '../IconButton/IconButton';\nimport { ModalDismissButton } from '../ModalDismissButton/ModalDismissButton';\nimport { type AlertActionInterface, type AlertProps } from './Alert';\nimport { AlertActions } from './AlertActions';\nimport { AlertDescription, AlertTitle } from './AlertTypography';\nimport styles from './Alert.module.css';\n\nexport interface AlertBaseProps\n  extends Omit<AlertProps, 'usePortal' | 'className' | 'style' | 'getRootRef'> {\n  /**\n   * Флаг, определяющий состояние закрытия модального окна.\n   * Когда установлен в true, запускает анимацию закрытия окна.\n   */\n  closing?: boolean;\n  /**\n   * Функция обратного вызова для управления состоянием закрытия модального окна.\n   * Принимает булево значение, которое определяет, находится ли окно в процессе закрытия.\n   */\n  setClosing?: (closing: boolean) => void;\n}\n\nexport const AlertBase = ({\n  actions,\n  actionsLayout = 'horizontal',\n  children,\n  title,\n  description,\n  onClose,\n  dismissLabel = 'Закрыть предупреждение',\n  renderAction,\n  actionsAlign,\n  dismissButtonMode = 'outside',\n  dismissButtonTestId,\n  onClick,\n  allowClickPropagation = false,\n  titleTestId,\n  descriptionTestId,\n  closing,\n  setClosing,\n  ...restProps\n}: AlertBaseProps) => {\n  const generatedId = React.useId();\n\n  const titleId = `vkui-alert-${generatedId}-title`;\n  const descriptionId = `vkui-alert-${generatedId}-description`;\n\n  const platform = usePlatform();\n  const { isDesktop } = useAdaptivityWithJSMediaQueries();\n  const itemActionCallbackRef = React.useRef(noop);\n  const [animationState, animationHandlers] = useCSSKeyframesAnimationController(\n    closing ? 'exit' : 'enter',\n    {\n      onExited() {\n        itemActionCallbackRef.current();\n        itemActionCallbackRef.current = noop;\n        onClose();\n      },\n    },\n  );\n  const isDismissButtonVisible = isDesktop && platform !== 'ios';\n  const elementRef = React.useRef<HTMLDivElement>(null);\n\n  const close = React.useCallback(() => {\n    setClosing?.(true);\n  }, [setClosing]);\n\n  const onItemClick = React.useCallback(\n    (item: AlertActionInterface) => {\n      const { action: itemAction, autoCloseDisabled = false } = item;\n\n      if (autoCloseDisabled) {\n        itemAction && itemAction({ close });\n      } else {\n        if (itemAction) {\n          itemActionCallbackRef.current = itemAction;\n        }\n        setClosing?.(true);\n      }\n    },\n    [close, setClosing],\n  );\n\n  const handleClick = allowClickPropagation\n    ? onClick\n    : (event: React.MouseEvent<HTMLElement>) => {\n        stopPropagation(event);\n        onClick?.(event);\n      };\n\n  return (\n    <FocusTrap\n      {...animationHandlers}\n      onClick={handleClick}\n      getRootRef={elementRef}\n      onClose={close}\n      autoFocus={animationState === 'entered'}\n      className={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        platform === 'vkcom' && styles.vkcom,\n        closing ? styles.closing : styles.opening,\n        isDesktop && styles.desktop,\n      )}\n      role=\"alertdialog\"\n      aria-modal\n      aria-labelledby={titleId}\n      aria-describedby={descriptionId}\n      {...restProps}\n    >\n      <div\n        className={classNames(\n          styles.content,\n          dismissButtonMode === 'inside' && styles.contentWithButton,\n        )}\n      >\n        {hasReactNode(title) && (\n          <AlertTitle data-testid={titleTestId} id={titleId}>\n            {title}\n          </AlertTitle>\n        )}\n        {hasReactNode(description) && (\n          <AlertDescription data-testid={descriptionTestId} id={descriptionId}>\n            {description}\n          </AlertDescription>\n        )}\n        {children}\n        {isDismissButtonVisible && dismissButtonMode === 'inside' && (\n          <IconButton\n            label={dismissLabel}\n            className={classNames(styles.dismiss, 'vkuiInternalAlert__dismiss')}\n            onClick={close}\n            hoverMode=\"opacity\"\n            activeMode=\"opacity\"\n            data-testid={dismissButtonTestId}\n          >\n            <Icon20Cancel />\n          </IconButton>\n        )}\n      </div>\n      {isDismissButtonVisible && dismissButtonMode === 'outside' && (\n        <ModalDismissButton onClick={close} data-testid={dismissButtonTestId}>\n          {dismissLabel}\n        </ModalDismissButton>\n      )}\n      <AlertActions\n        actions={actions}\n        actionsAlign={actionsAlign}\n        actionsLayout={actionsLayout}\n        renderAction={renderAction}\n        onItemClick={onItemClick}\n      />\n    </FocusTrap>\n  );\n};\n", "import * as React from 'react';\nimport { canUseDOM, hasHover as hasHoverLib, hasMouse as hasPointerLib } from '@vkontakte/vkjs';\nimport {\n  AdaptivityContext,\n  type AdaptivityProps as BaseAdaptivityProps,\n} from '../components/AdaptivityProvider/AdaptivityContext';\nimport { getOrDefault } from '../helpers/getOrDefault';\nimport {\n  getSizeX,\n  getSizeY,\n  getViewHeightByMediaQueries,\n  getViewWidthByMediaQueries,\n  tryToCheckIsDesktop,\n} from '../lib/adaptivity';\nimport { matchMediaListAddListener, matchMediaListRemoveListener } from '../lib/matchMedia';\nimport { useMediaQueries } from './useMediaQueries';\nimport { usePlatform } from './usePlatform';\n\nexport interface UseAdaptivityWithJSMediaQueries extends Required<BaseAdaptivityProps> {\n  isDesktop: boolean;\n}\n\n/**\n * Высчитывает и возвращает параметры адаптивности при изменении вьюпорта.\n *\n * Берёт в приоритет значения из `AdaptivityContext`.\n *\n * > ⚠ SSR\n * >\n * > Во избежания ошибок при гидратации, не используйте данный хук, если есть вероятность, что компонент будет отрендерен\n * > на стороне сервера.\n * >\n * > Лучше всего использовать для всплывающих окон, т.к. они вызываются только после загрузки\n * > страницы либо пользователем, либо программно.\n */\nexport const useAdaptivityWithJSMediaQueries = (): UseAdaptivityWithJSMediaQueries => {\n  if (!canUseDOM) {\n    // eslint-disable-next-line no-console\n    console.error(`[useAdaptivityWithJSMediaQueries] Похоже, вы пытаетесь использовать хук вне браузера.\n\nПостарайтесь этого избегать, чтобы не было ошибок при гидратации: при SSR нет информации о размерах экрана.\n\nИспользуйте CSS Media Query или библиотеку по типу https://github.com/artsy/fresnel.`);\n  }\n\n  const {\n    viewWidth: viewWidthContext,\n    viewHeight: viewHeightContext,\n    sizeX: sizeXContext,\n    sizeY: sizeYContext,\n    hasPointer: hasPointerContext,\n    hasHover: hasHoverContext,\n  } = React.useContext(AdaptivityContext);\n\n  const platform = usePlatform();\n  const mediaQueries = useMediaQueries();\n\n  const [[viewWidthLocal, viewHeightLocal], setViewSizeLocal] = React.useState(() => [\n    getOrDefault(viewWidthContext, getViewWidthByMediaQueries(mediaQueries)),\n    getOrDefault(viewHeightContext, getViewHeightByMediaQueries(mediaQueries)),\n  ]);\n\n  const adaptivityProps = React.useMemo(() => {\n    const hasPointer = getOrDefault(hasPointerContext, hasPointerLib);\n    const hasHover = getOrDefault(hasHoverContext, hasHoverLib);\n    const viewWidth = getOrDefault(viewWidthContext, viewWidthLocal);\n    const viewHeight = getOrDefault(viewHeightContext, viewHeightLocal);\n    const sizeX = getOrDefault(sizeXContext, getSizeX(viewWidth));\n    const sizeY = getOrDefault(sizeYContext, getSizeY(viewWidth, viewHeight, hasPointer));\n    const isDesktop = tryToCheckIsDesktop(viewWidth, viewHeight, hasPointer, platform);\n\n    return {\n      viewWidth,\n      viewHeight,\n      sizeX,\n      sizeY,\n      hasPointer,\n      hasHover,\n      isDesktop,\n    };\n  }, [\n    viewWidthLocal,\n    viewHeightLocal,\n    viewWidthContext,\n    viewHeightContext,\n    sizeXContext,\n    sizeYContext,\n    hasPointerContext,\n    hasHoverContext,\n    platform,\n  ]);\n\n  React.useEffect(() => {\n    const handleMediaQuery = () => {\n      setViewSizeLocal((prevSizeLocal) => {\n        const newViewWidthLocal = getOrDefault(\n          viewWidthContext,\n          getViewWidthByMediaQueries(mediaQueries),\n        );\n        const newViewHeightLocal = getOrDefault(\n          viewHeightContext,\n          getViewHeightByMediaQueries(mediaQueries),\n        );\n\n        const [prevViewWidthLocal, prevViewHeightLocal] = prevSizeLocal;\n\n        if (\n          prevViewWidthLocal !== newViewWidthLocal ||\n          prevViewHeightLocal !== newViewHeightLocal\n        ) {\n          return [newViewWidthLocal, newViewHeightLocal];\n        }\n\n        return prevSizeLocal;\n      });\n    };\n\n    if (!viewWidthContext) {\n      [\n        mediaQueries.desktopPlus,\n        mediaQueries.tablet,\n        mediaQueries.smallTablet,\n        mediaQueries.mobile,\n      ].forEach((matchMediaListener) =>\n        matchMediaListAddListener(matchMediaListener, handleMediaQuery),\n      );\n    }\n\n    if (!viewHeightContext) {\n      [mediaQueries.mediumHeight, mediaQueries.mobileLandscapeHeight].forEach(\n        (matchMediaListener) => matchMediaListAddListener(matchMediaListener, handleMediaQuery),\n      );\n    }\n\n    return () => {\n      [\n        mediaQueries.desktopPlus,\n        mediaQueries.tablet,\n        mediaQueries.smallTablet,\n        mediaQueries.mobile,\n        mediaQueries.mediumHeight,\n        mediaQueries.mobileLandscapeHeight,\n      ].forEach((matchMediaListener) =>\n        matchMediaListRemoveListener(matchMediaListener, handleMediaQuery),\n      );\n    };\n  }, [mediaQueries, viewWidthContext, viewHeightContext]);\n\n  return adaptivityProps;\n};\n", "/**\n * Вернёт первый аргумент если он есть, иначе вернёт значение по умолчанию.\n */\nexport function getOrDefault<T>(value: T | undefined, defaultValue: T): T {\n  return value ?? defaultValue;\n}\n", "import { type RefObject, useRef, useState } from 'react';\nimport { arraysEquals } from '../helpers/array';\nimport { FOCUSABLE_ELEMENTS_LIST, Keys, pressedKey } from '../lib/accessibility';\nimport {\n  contains,\n  getActiveElementByAnotherElement,\n  getWindow,\n  isHTMLElement,\n  useDOM,\n} from '../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { useMutationObserver } from './useMutationObserver';\nimport { useStableCallback } from './useStableCallback';\n\nconst useRestoreFocus = ({\n  restoreFocus,\n  timeout,\n  mount,\n  ref,\n}: Pick<UseFocusTrapProps, 'restoreFocus' | 'timeout' | 'mount'> & {\n  ref: RefObject<HTMLElement | null>;\n}) => {\n  const restoreFocusRef = useRef(restoreFocus);\n  restoreFocusRef.current = restoreFocus;\n  const [restoreFocusTo, setRestoreFocusTo] = useState<Element | null>(null);\n\n  const restoreFocusImpl = useStableCallback(() => {\n    const shouldRestoreFocus =\n      typeof restoreFocusRef.current === 'function'\n        ? restoreFocusRef.current()\n        : restoreFocusRef.current;\n\n    if (!shouldRestoreFocus) {\n      return;\n    }\n\n    setTimeout(() => {\n      const restoreFocusElement =\n        (isHTMLElement(shouldRestoreFocus) && shouldRestoreFocus) ||\n        (isHTMLElement(restoreFocusTo) && restoreFocusTo) ||\n        null;\n\n      if (restoreFocusElement) {\n        restoreFocusElement.focus();\n        setRestoreFocusTo(null);\n      }\n    }, timeout);\n  });\n\n  useIsomorphicLayoutEffect(\n    function calculateRestoreFocusTo() {\n      if (!ref.current || !restoreFocusRef.current || !mount) {\n        setRestoreFocusTo(null);\n        return;\n      }\n      setRestoreFocusTo(getActiveElementByAnotherElement(ref.current));\n    },\n    [ref, mount],\n  );\n\n  useIsomorphicLayoutEffect(\n    function tryToRestoreFocusOnUnmount() {\n      return () => {\n        restoreFocusImpl();\n      };\n    },\n    [restoreFocusImpl],\n  );\n\n  useIsomorphicLayoutEffect(\n    function tryToRestoreFocusWhenFakeUnmount() {\n      if (!mount) {\n        restoreFocusImpl();\n      }\n    },\n    [mount, restoreFocusImpl],\n  );\n};\n\nconst FOCUSABLE_ELEMENTS: string = FOCUSABLE_ELEMENTS_LIST.join();\n\nexport type UseFocusTrapProps = {\n  /**\n   * @default true\n   */\n  mount?: boolean;\n  /**\n   * Форсированное отключение захвата фокуса\n   *\n   * @default false\n   */\n  disabled?: boolean;\n  /**\n   * @default true\n   */\n  autoFocus?: boolean | 'root';\n  /**\n   * @default true\n   */\n  restoreFocus?: boolean | (() => boolean | HTMLElement);\n  /**\n   * @default 0\n   */\n  timeout?: number;\n  /**\n   * Вызывается при нажатии на кнопку `Escape`.\n   */\n  onClose?: VoidFunction;\n  /**\n   * Следует ли обрабатываеть событие нажатия клавиши Escape при \"погружении\", то есть\n   * до того как это событие будет обработано на EventTarget\n   * Удобно установить в false, если требуется запретить \"всплытие\" события до FocusTrap\n   *\n   * @default true\n   */\n  captureEscapeKeyboardEvent?: boolean;\n  /**\n   * Пользовательские опции для MutationObserver, который отслеживает изменения DOM внутри компонента и пересчитывает ноды для фокуса.\n   */\n  mutationObserverOptions?: MutationObserverInit;\n};\n\n/**\n * @private\n */\nexport const useFocusTrap = (\n  ref: RefObject<HTMLElement | null>,\n  {\n    mount = true,\n    disabled = false,\n    autoFocus = true,\n    restoreFocus = true,\n    timeout = 0,\n    onClose,\n    captureEscapeKeyboardEvent = true,\n    mutationObserverOptions,\n  }: UseFocusTrapProps,\n) => {\n  const { document } = useDOM();\n\n  const focusableNodesRef = useRef<HTMLElement[]>([]);\n\n  const focusNodeByIndex = (nodeIndex: number) => {\n    const element = focusableNodesRef.current[nodeIndex];\n\n    if (element) {\n      element.focus({\n        preventScroll: true,\n      });\n    }\n  };\n\n  useRestoreFocus({\n    restoreFocus,\n    mount,\n    timeout,\n    ref,\n  });\n\n  const recalculateFocusableNodesRef = (parentNode: HTMLElement) => {\n    // eslint-disable-next-line no-restricted-properties\n    const newFocusableElements = parentNode.querySelectorAll<HTMLElement>(FOCUSABLE_ELEMENTS);\n\n    const nodes: HTMLElement[] = [];\n    newFocusableElements.forEach((focusableEl) => {\n      const { display, visibility } = getComputedStyle(focusableEl);\n      if (display !== 'none' && visibility !== 'hidden') {\n        nodes.push(focusableEl);\n      }\n    });\n    if (nodes.length === 0) {\n      // Чтобы фокус был хотя бы на родителе\n      nodes.push(parentNode);\n    }\n    focusableNodesRef.current = nodes;\n  };\n\n  const onMutateParentHandler = (parentNode: HTMLElement) => {\n    const oldFocusableNodes = [...focusableNodesRef.current];\n\n    recalculateFocusableNodesRef(parentNode);\n\n    if (disabled || !autoFocus || arraysEquals(oldFocusableNodes, focusableNodesRef.current)) {\n      return;\n    }\n\n    if (document) {\n      const activeElement = document.activeElement as HTMLElement;\n      const currentElementIndex = Math.max(\n        document.activeElement ? focusableNodesRef.current.indexOf(activeElement) : -1,\n        0,\n      );\n      focusNodeByIndex(currentElementIndex);\n    }\n  };\n\n  useMutationObserver(\n    ref,\n    () => ref.current && onMutateParentHandler(ref.current),\n    mutationObserverOptions,\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    ref.current && recalculateFocusableNodesRef(ref.current);\n  }, [ref]);\n\n  useIsomorphicLayoutEffect(\n    function tryToAutoFocusToFirstNode() {\n      if (!ref.current || !autoFocus || disabled) {\n        return;\n      }\n\n      const autoFocusToNode = () => {\n        if (!ref.current || !focusableNodesRef.current.length) {\n          return;\n        }\n        const activeElement = getActiveElementByAnotherElement(ref.current);\n        if (!contains(ref.current, activeElement)) {\n          if (autoFocus === 'root') {\n            ref.current?.focus();\n          } else {\n            focusableNodesRef.current[0].focus();\n          }\n        }\n      };\n      const timeoutId = setTimeout(autoFocusToNode, timeout);\n      return () => {\n        clearTimeout(timeoutId);\n      };\n    },\n    [autoFocus, timeout, disabled],\n  );\n\n  useIsomorphicLayoutEffect(\n    function initializeFocusTrap() {\n      if (!ref.current) {\n        return;\n      }\n\n      const onDocumentKeydown = (event: KeyboardEvent) => {\n        if (disabled) {\n          return;\n        }\n\n        const pressedKeyResult = pressedKey(event);\n\n        switch (pressedKeyResult) {\n          case Keys.TAB: {\n            if (!focusableNodesRef.current.length) {\n              return false;\n            }\n\n            const lastIdx = focusableNodesRef.current.length - 1;\n            const targetIdx = focusableNodesRef.current.findIndex((node) => node === event.target);\n\n            const shouldFocusFirstNode =\n              targetIdx === -1 || (targetIdx === lastIdx && !event.shiftKey);\n\n            if (shouldFocusFirstNode || (targetIdx === 0 && event.shiftKey)) {\n              event.preventDefault();\n\n              const node = focusableNodesRef.current[shouldFocusFirstNode ? 0 : lastIdx];\n\n              if (node !== getActiveElementByAnotherElement(node)) {\n                node.focus();\n              }\n\n              return false;\n            }\n\n            break;\n          }\n        }\n\n        return true;\n      };\n\n      const onEscapeKeydown = (event: KeyboardEvent) => {\n        if (disabled) {\n          return;\n        }\n\n        const pressedKeyResult = pressedKey(event);\n\n        if (pressedKeyResult === Keys.ESCAPE) {\n          if (onClose) {\n            event.preventDefault();\n            onClose();\n          }\n        }\n\n        return true;\n      };\n\n      const doc = getWindow(ref.current).document;\n      doc.addEventListener('keydown', onDocumentKeydown, {\n        capture: true,\n      });\n      doc.addEventListener('keydown', onEscapeKeydown, {\n        capture: captureEscapeKeyboardEvent,\n      });\n      return () => {\n        doc.removeEventListener('keydown', onDocumentKeydown, true);\n        doc.removeEventListener('keydown', onEscapeKeydown, captureEscapeKeyboardEvent);\n      };\n    },\n    [onClose, ref, disabled],\n  );\n};\n", "/**\n * Сравнивает два массива\n */\nexport function arraysEquals<T>(arrA: T[], arrB: T[]) {\n  if (arrA.length !== arrB.length) {\n    return false;\n  }\n  return arrA.every((item, index) => item === arrB[index]);\n}\n", "import type * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { useStableCallback } from './useStableCallback';\n\nexport const DEFAULT_MUTATION_OBSERVER_OPTIONS: MutationObserverInit = {\n  subtree: true,\n  childList: true,\n};\n\nexport const useMutationObserver = (\n  ref: React.RefObject<HTMLElement | null> | null,\n  callback: () => void,\n  options: MutationObserverInit = DEFAULT_MUTATION_OBSERVER_OPTIONS,\n): void => {\n  const stableCallback = useStableCallback(callback);\n\n  useIsomorphicLayoutEffect(() => {\n    if (!ref || !ref.current) {\n      return;\n    }\n    const observer = new MutationObserver(stableCallback);\n    observer.observe(ref.current, options);\n    return () => observer.disconnect();\n  }, [ref, stableCallback]);\n};\n", "'use client';\n\nimport { type AllHTMLAttributes } from 'react';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useFocusTrap, type UseFocusTrapProps } from '../../hooks/useFocusTrap';\nimport { DEFAULT_MUTATION_OBSERVER_OPTIONS } from '../../hooks/useMutationObserver';\nimport type { HasComponent, HasRootRef } from '../../types';\n\nexport interface FocusTrapProps<T extends HTMLElement = HTMLElement>\n  extends UseFocusTrapProps,\n    Omit<AllHTMLAttributes<T>, keyof UseFocusTrapProps>,\n    HasRootRef<T>,\n    HasComponent {}\n\nexport const FocusTrap = <T extends HTMLElement = HTMLElement>({\n  Component = 'div',\n  onClose,\n  autoFocus = true,\n  restoreFocus = true,\n  disabled = false,\n  mount = true,\n  timeout = 0,\n  getRootRef,\n  children,\n  captureEscapeKeyboardEvent = true,\n  mutationObserverOptions = DEFAULT_MUTATION_OBSERVER_OPTIONS,\n  ...restProps\n}: FocusTrapProps<T>): React.ReactNode => {\n  const ref = useExternRef<T>(getRootRef);\n\n  useFocusTrap(ref, {\n    autoFocus,\n    restoreFocus,\n    disabled,\n    mount,\n    timeout,\n    onClose,\n    captureEscapeKeyboardEvent,\n    mutationObserverOptions,\n  });\n\n  return (\n    <Component tabIndex={-1} ref={ref} {...restProps}>\n      {children}\n    </Component>\n  );\n};\n", "import * as React from 'react';\nimport { Icon20Cancel } from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport {\n  ModalOutsideButton,\n  type ModalOutsideButtonProps,\n} from '../ModalOutsideButton/ModalOutsideButton';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './ModalDismissButton.module.css';\n\nexport interface ModalDismissButtonProps extends Omit<ModalOutsideButtonProps, 'children'> {\n  /**\n   * Содержимое кнопки.\n   */\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/modal-dismiss-button\n */\nexport const ModalDismissButton = ({\n  children = 'Закрыть',\n  className,\n  ...restProps\n}: ModalDismissButtonProps): React.ReactNode => {\n  return (\n    <ModalOutsideButton className={classNames(styles.host, className)} {...restProps}>\n      {children && <VisuallyHidden>{children}</VisuallyHidden>}\n      <Icon20Cancel />\n    </ModalOutsideButton>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './ModalOutsideButton.module.css';\n\nexport interface ModalOutsideButtonProps extends TappableOmitProps {\n  /**\n   * Текст для скринридера.\n   */\n  'aria-label'?: string;\n  /**\n   * Рекомендуется использовать иконки размером `20px`.\n   */\n  'children': React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/modal-outside-button\n */\nexport const ModalOutsideButton = ({\n  children,\n  'aria-label': ariaLabel,\n  ...restProps\n}: ModalOutsideButtonProps) => {\n  return (\n    <Tappable\n      baseClassName={styles.host}\n      activeMode={styles.active}\n      hoverMode={styles.hover}\n      {...restProps}\n    >\n      {ariaLabel && <VisuallyHidden>{ariaLabel}</VisuallyHidden>}\n      {children}\n    </Tappable>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { AlertActionInterface, AlertProps } from './Alert';\nimport { AlertAction } from './AlertAction';\nimport styles from './Alert.module.css';\n\nconst alignStyles = {\n  left: styles.actionsAlignLeft,\n  center: styles.actionsAlignCenter,\n  right: styles.actionsAlignRight,\n};\n\nconst directionStyles = {\n  vertical: styles.actionsDirectionVertical,\n  horizontal: styles.actionsDirectionHorizontal,\n};\n\ntype ItemClickHandler = (item: AlertActionInterface) => void;\ninterface AlertActionsProps\n  extends Pick<AlertProps, 'actions' | 'actionsAlign' | 'renderAction' | 'actionsLayout'> {\n  /**\n   * Обработчик нажатия на одну из опций.\n   */\n  onItemClick: ItemClickHandler;\n}\nexport const AlertActions = ({\n  actions = [],\n  renderAction = (props) => <AlertAction {...props} />,\n  onItemClick,\n  actionsAlign,\n  actionsLayout,\n}: AlertActionsProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  const direction: AlertProps['actionsLayout'] =\n    platform === 'vkcom' ? 'horizontal' : actionsLayout;\n\n  return (\n    <div\n      className={classNames(\n        styles.actions,\n        actionsAlign && alignStyles[actionsAlign],\n        direction && directionStyles[direction],\n      )}\n    >\n      {actions.map((action, i) => {\n        // Убираем\n        const { title: children, action: _, autoCloseDisabled, ...restProps } = action;\n\n        return (\n          <React.Fragment key={i}>\n            {renderAction({\n              children,\n              onClick: () => onItemClick(action),\n              ...restProps,\n            })}\n          </React.Fragment>\n        );\n      })}\n    </div>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { AnchorHTMLAttributesOnly } from '../../types';\nimport { Button, type ButtonProps } from '../Button/Button';\nimport { Tappable } from '../Tappable/Tappable';\nimport type { AlertActionInterface } from './Alert';\nimport styles from './Alert.module.css';\n\nexport interface AlertActionProps\n  extends Pick<AlertActionInterface, 'Component' | 'mode'>,\n    AnchorHTMLAttributesOnly {\n  /**\n   * Содержимое компонента.\n   */\n  children: string;\n  /**\n   * Обработчик нажатия.\n   */\n  onClick: React.MouseEventHandler<HTMLElement>;\n}\n\nconst AlertActionIos = ({ mode, ...restProps }: AlertActionProps) => {\n  return (\n    <Tappable\n      Component={restProps.href ? 'a' : 'button'}\n      baseClassName={classNames(\n        styles.action,\n        mode === 'destructive' && styles.actionModeDestructive,\n        mode === 'cancel' && styles.actionModeCancel,\n      )}\n      {...restProps}\n    />\n  );\n};\n\nconst AlertActionBase = ({ mode, ...restProps }: AlertActionProps) => {\n  const platform = usePlatform();\n\n  let buttonMode: ButtonProps['mode'] = 'tertiary';\n\n  if (platform === 'vkcom') {\n    buttonMode = mode === 'cancel' ? 'secondary' : 'primary';\n  }\n\n  return (\n    <Button\n      className={classNames(styles.button, mode === 'cancel' && styles.buttonModeCancel)}\n      mode={buttonMode}\n      size=\"m\"\n      {...restProps}\n    />\n  );\n};\n\nexport const AlertAction = (props: AlertActionProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  if (platform === 'ios') {\n    return <AlertActionIos {...props} />;\n  }\n\n  return <AlertActionBase {...props} />;\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasChildren } from '../../types';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Text } from '../Typography/Text/Text';\nimport { Title } from '../Typography/Title/Title';\nimport styles from './Alert.module.css';\n\ninterface AlertTypography extends HasChildren {\n  'id': string;\n  'data-testid'?: string;\n}\nexport const AlertTitle = (props: AlertTypography): React.ReactNode => {\n  const platform = usePlatform();\n\n  switch (platform) {\n    case 'ios':\n      return <Title className={styles.title} weight=\"1\" level=\"3\" {...props} />;\n    default:\n      return <Title className={styles.title} weight=\"2\" level=\"2\" {...props} />;\n  }\n};\nexport const AlertDescription = (props: AlertTypography): React.ReactNode => {\n  const platform = usePlatform();\n\n  switch (platform) {\n    case 'vkcom':\n      return <Footnote className={styles.description} {...props} />;\n    case 'ios':\n      return <Caption className={styles.description} {...props} />;\n    default:\n      return <Text Component=\"span\" className={styles.description} weight=\"3\" {...props} />;\n  }\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { type UseFocusTrapProps } from '../../hooks/useFocusTrap';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useCSSKeyframesAnimationController } from '../../lib/animation';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { useScrollLock } from '../AppRoot/ScrollContext';\nimport { PopoutWrapper } from '../PopoutWrapper/PopoutWrapper';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { ActionSheetContext, type ItemClickHandler } from './ActionSheetContext';\nimport { ActionSheetDefaultIosCloseItem } from './ActionSheetDefaultIosCloseItem';\nimport { ActionSheetDropdownMenu } from './ActionSheetDropdownMenu';\nimport { ActionSheetDropdownSheet } from './ActionSheetDropdownSheet';\nimport type { SharedDropdownProps } from './types';\nimport styles from './ActionSheet.module.css';\n\ntype CloseInitiators = 'action-item' | 'cancel-item' | 'other';\nexport interface ActionSheetOnCloseOptions {\n  /**\n   * Причина закрытия всплывающего элемента.\n   */\n  closedBy: CloseInitiators;\n}\n\nexport interface ActionSheetProps\n  extends Pick<\n      SharedDropdownProps,\n      'toggleRef' | 'popupOffsetDistance' | 'placement' | 'allowClickPropagation'\n    >,\n    Omit<\n      UseFocusTrapProps,\n      'onClose' | 'mount' | 'disabled' | 'captureEscapeKeyboardEvent' | 'mutationObserverOptions'\n    >,\n    Omit<React.HTMLAttributes<HTMLDivElement>, 'autoFocus' | 'title'> {\n  /**\n   * Заголовок всплыващего окна.\n   */\n  title?: React.ReactNode;\n  /**\n   * Описание всплыващего окна, под заголовком.\n   */\n  description?: React.ReactNode;\n  /**\n   * Закрыть всплыващее окно по нажатию снаружи.\n   */\n  onClose: (options: ActionSheetOnCloseOptions) => void;\n  /**\n   * Только мобильный iOS.\n   */\n  iosCloseItem?: React.ReactNode;\n  /**\n   * Режим отображения компонента:\n   *\n   * - `sheet` – отображение снизу экрана в виде всплывающего окна, подходит для мобильных устройств\n   * - `menu` –  отображение в виде всплывающего элемента, относительно якорного элемента.\n   */\n  mode?: 'sheet' | 'menu';\n  /**\n   * @deprecated Since 7.3.0.\n   *\n   * Свойство не используется и будет удалено в `v8`.\n   */\n  mount?: boolean;\n  /**\n   * @deprecated Since 7.3.0.\n   *\n   * Свойство не используется и будет удалено в `v8`.\n   */\n  disabled?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/action-sheet\n */\nexport const ActionSheet = ({\n  children,\n  className,\n  title,\n  description,\n  style,\n  iosCloseItem,\n  popupOffsetDistance,\n  placement,\n  mode: modeProp,\n  onClose,\n  ...restProps\n}: ActionSheetProps): React.ReactNode => {\n  const platform = usePlatform();\n  const [closingBy, setClosingBy] = React.useState<undefined | CloseInitiators>(undefined);\n  const onCloseWithOther = React.useCallback(() => setClosingBy('other'), []);\n  const actionCallbackRef = React.useRef(noop);\n\n  const [animationState, animationHandlers] = useCSSKeyframesAnimationController(\n    closingBy !== undefined ? 'exit' : 'enter',\n    {\n      onExited() {\n        onClose({ closedBy: closingBy || 'other' });\n        actionCallbackRef.current();\n        actionCallbackRef.current = noop;\n      },\n    },\n  );\n\n  const { isDesktop } = useAdaptivityWithJSMediaQueries();\n  const mode = modeProp ?? (isDesktop ? 'menu' : 'sheet');\n\n  useScrollLock(mode === 'sheet');\n\n  const onItemClick = React.useCallback<ItemClickHandler>(\n    ({ action, immediateAction, autoClose, isCancelItem }) =>\n      (event) => {\n        event.persist();\n        immediateAction && immediateAction(event);\n        if (autoClose) {\n          if (action) {\n            actionCallbackRef.current = () => action(event);\n          }\n          setClosingBy(isCancelItem ? 'cancel-item' : 'action-item');\n        } else {\n          action && action(event);\n        }\n      },\n    [],\n  );\n  const contextValue = React.useMemo(\n    () => ({ onItemClick, mode, onClose: onCloseWithOther }),\n    [mode, onCloseWithOther, onItemClick],\n  );\n\n  const DropdownComponent = mode === 'menu' ? ActionSheetDropdownMenu : ActionSheetDropdownSheet;\n\n  const dropdownProps =\n    mode === 'menu' ? Object.assign(restProps, { popupOffsetDistance, placement }) : restProps;\n\n  const actionSheet = (\n    <ActionSheetContext.Provider value={contextValue}>\n      <DropdownComponent\n        closing={Boolean(closingBy)}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        autoFocus={animationState === 'entered'}\n        {...dropdownProps}\n        {...animationHandlers}\n        onClose={onCloseWithOther}\n        className={mode === 'menu' ? className : undefined}\n        style={mode === 'menu' ? style : undefined}\n      >\n        <div className={styles.contentWrapper}>\n          {(title || description) && (\n            <div className={styles.header}>\n              {title && (\n                <Footnote weight=\"2\" className={styles.title}>\n                  {title}\n                </Footnote>\n              )}\n              {description && <Footnote className={styles.description}>{description}</Footnote>}\n            </div>\n          )}\n          {children}\n        </div>\n        {platform === 'ios' && mode === 'sheet' && (\n          <div className={styles.closeItemWrapperIos}>\n            {iosCloseItem ?? <ActionSheetDefaultIosCloseItem />}\n          </div>\n        )}\n      </DropdownComponent>\n    </ActionSheetContext.Provider>\n  );\n\n  return (\n    <AppRootPortal>\n      <PopoutWrapper\n        noBackground={mode === 'menu'}\n        closing={Boolean(closingBy)}\n        alignY=\"bottom\"\n        className={className}\n        style={style}\n        onClick={onCloseWithOther}\n        strategy=\"fixed\"\n      >\n        {actionSheet}\n      </PopoutWrapper>\n    </AppRootPortal>\n  );\n};\n", "import * as React from 'react';\n\nexport type ActionType<T> = (event: React.MouseEvent<T>) => void;\n\nexport type ItemClickHandler<T extends Element = Element> = (options: {\n  /**\n   * Действие, которое будет выполненно после завершения анимации скрытия и после вызова onClose.\n   * Из этого следует, что в объекте события значения полей типа `currentTarget` будут не определены.\n   * Если вам нужен объект события именно на момент нажатия, используйте `immediateAction`.\n   */\n  action: ActionType<T> | undefined;\n  /**\n   * Действие, которое выполняется непосредственно в момент нажатия (в отличие от `action`).\n   */\n  immediateAction: ActionType<T> | undefined;\n  /**\n   * Флаг, указывающий, нужно ли автоматически закрывать `ActionSheet`.\n   */\n  autoClose: boolean;\n  /**\n   * Флаг, указывающий является ли элемент кнопкой отмены.\n   */\n  isCancelItem: boolean;\n}) => (event: React.MouseEvent) => void;\n\nexport type ActionSheetContextType<T extends Element = Element> = {\n  /**\n   * Обработчик нажатия на элемент.\n   */\n  onItemClick?: ItemClickHandler<T>;\n  /**\n   * Обработчик закрытия `ActionSheet`.\n   */\n  onClose?: () => void;\n  /**\n   * Режим отображения `ActionSheet`.\n   */\n  mode?: 'sheet' | 'menu';\n};\n\nexport const ActionSheetContext: React.Context<ActionSheetContextType<any>> = React.createContext(\n  {},\n);\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { Keys, pressedKey } from '../../lib/accessibility';\nimport { ActionSheetContext, type ActionSheetContextType } from '../ActionSheet/ActionSheetContext';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { Text } from '../Typography/Text/Text';\nimport { Title } from '../Typography/Title/Title';\nimport { isRealClickEvent } from './helpers';\nimport { Radio } from './subcomponents/Radio/Radio';\nimport styles from './ActionSheetItem.module.css';\n\nexport interface ActionSheetItemProps\n  extends React.HTMLAttributes<HTMLElement>,\n    React.AnchorHTMLAttributes<HTMLElement>,\n    Pick<React.InputHTMLAttributes<HTMLInputElement>, 'name' | 'checked' | 'value'> {\n  /**\n   * Свойство, определяющее внешний вид элемента действия.\n   */\n  mode?: 'default' | 'destructive' | 'cancel';\n  /**\n   * Если указано, элемент будет использоваться как ссылка.\n   */\n  href?: string;\n  /**\n   * Атрибут `target` для тега `<a>`.\n   */\n  target?: string;\n  /**\n   * Иконка или другой React-элемент для отображения перед основным контентом.\n   */\n  before?: React.ReactNode;\n  /**\n   * Иконка или другой React-элемент для отображения после основного контента.\n   */\n  after?: React.ReactNode;\n  /**\n   * Дополнительная информация, отображаемая рядом с основным контентом.\n   */\n  meta?: React.ReactNode;\n  /**\n   * Слот для подсказки или вспомогательного текста.\n   */\n  subtitle?: React.ReactNode;\n  /**\n   * По умолчанию нажатие на опцию вызывает переданную в `ActionSheet` функцию `onClose`, данное свойство\n   * позволяет отключить такое поведение.\n   */\n  autoCloseDisabled?: boolean;\n  /**\n   * Включает возможность выбрать элемент (отображает радиокнопку).\n   */\n  selectable?: boolean;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n  /**\n   * Все текстовые элементы при необходимости занимают несколько строк.\n   */\n  multiline?: boolean;\n  /**\n   * По умолчанию `onClick` будет вызван после завершения анимации скрытия и после вызова `onClose`.\n   * Из этого следует, что в объекте события значения полей типа `currentTarget` будут не определены.\n   * Если вам нужен объект события именно на момент нажатия, используйте `onImmediateClick`.\n   */\n  onClick?: React.MouseEventHandler<HTMLElement>;\n  /**\n   * Обработчик нажатия, вызывающийся непосредственно в момент нажатия (в отличие от `onClick`).\n   */\n  onImmediateClick?: React.MouseEventHandler<HTMLElement>;\n  /**\n   * Иконка для `selectable` режима.\n   */\n  iconChecked?: React.ReactNode;\n  /**\n   * Позволяет отделить `ActionItem` от `CancelItem` для определении того,\n   * кто вызвал закрытие `ActionSheet`. Используется в `ActionSheet.onClose()`.\n   */\n  isCancelItem?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/action-sheet#action-sheet-item\n */\nexport const ActionSheetItem = ({\n  children,\n  autoCloseDisabled = false,\n  mode = 'default',\n  meta,\n  subtitle,\n  before,\n  after,\n  selectable,\n  value,\n  name,\n  checked,\n  defaultChecked,\n  onChange,\n  onClick,\n  onImmediateClick,\n  multiline = false,\n  iconChecked,\n  isCancelItem,\n  ...restProps\n}: ActionSheetItemProps): React.ReactNode => {\n  const platform = usePlatform();\n  const {\n    onItemClick = () => noop,\n    mode: actionSheetMode,\n    onClose: onActionSheetClose,\n  } = React.useContext<ActionSheetContextType<HTMLElement>>(ActionSheetContext);\n  const { sizeY } = useAdaptivityWithJSMediaQueries();\n\n  const Component: React.ElementType | undefined = selectable ? 'label' : undefined;\n\n  const isRich = subtitle || meta || selectable;\n  const isCentered = !isRich && !before && platform === 'ios';\n\n  const onItemClickHandler = React.useCallback(\n    (e: React.MouseEvent) => {\n      onItemClick({\n        action: onClick,\n        immediateAction: onImmediateClick,\n        autoClose: !autoCloseDisabled,\n        isCancelItem: Boolean(isCancelItem),\n      })?.(e);\n    },\n    [autoCloseDisabled, isCancelItem, onClick, onImmediateClick, onItemClick],\n  );\n\n  const onKeyDown: React.KeyboardEventHandler<HTMLElement> = React.useCallback(\n    (event) => {\n      if (pressedKey(event) === Keys.ENTER) {\n        onActionSheetClose?.();\n      }\n    },\n    [onActionSheetClose],\n  );\n\n  const onItemClickImpl: React.MouseEventHandler<HTMLElement> = React.useCallback(\n    (event) => {\n      if (selectable) {\n        if (isRealClickEvent(event)) {\n          onItemClickHandler(event);\n        }\n      } else {\n        onItemClickHandler(event);\n      }\n    },\n    [onItemClickHandler, selectable],\n  );\n\n  return (\n    <Tappable\n      {...(Component && { Component })}\n      {...restProps}\n      onClick={onItemClickImpl}\n      activeMode={platform === 'ios' ? styles.active : undefined}\n      baseClassName={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        mode === 'cancel' && styles.modeCancel,\n        mode === 'destructive' && styles.modeDestructive,\n        sizeY === 'compact' && styles.sizeYCompact,\n        isRich && styles.rich,\n        actionSheetMode === 'menu' && styles.menu,\n        restProps.disabled && styles.disabled,\n      )}\n      onKeyDown={onKeyDown}\n    >\n      {before && <div className={styles.before}>{before}</div>}\n      <div className={classNames(styles.container, !multiline && styles.ellipsis)}>\n        <div className={classNames(styles.content, isCentered && styles.centered)}>\n          {platform === 'ios' ? (\n            <Title\n              className={styles.children}\n              weight={mode === 'cancel' ? '2' : '3'}\n              level={isCentered ? '2' : '3'}\n            >\n              {children}\n            </Title>\n          ) : (\n            <Text className={styles.children}>{children}</Text>\n          )}\n          {meta && <Text className={styles.meta}>{meta}</Text>}\n        </div>\n        {subtitle && <Subhead className={styles.subtitle}>{subtitle}</Subhead>}\n      </div>\n      {(selectable || after) && (\n        <div className={styles.after}>\n          {after}\n          {selectable && (\n            <Radio\n              name={name}\n              value={value}\n              onChange={onChange}\n              defaultChecked={defaultChecked}\n              checked={checked}\n              disabled={restProps.disabled}\n            >\n              {iconChecked}\n            </Radio>\n          )}\n        </div>\n      )}\n    </Tappable>\n  );\n};\n", "/**\n * По дизайну `ActionSheet` должен закрывать при нажатии на `ActionSheetItem`.\n * В режиме `selectable` в реализации используются нативный input type=radio\n * И при навигации стрелочками по элементам происходит событие `click` из-за чего `ActionSheet` закрывается.\n * Поэтому нужно как-то отличить реальное событие нажатия.\n * @see https://github.com/facebook/react/issues/7407\n * @see https://github.com/VKCOM/VKUI/issues/6954\n */\nexport const isRealClickEvent = (event: React.MouseEvent) => {\n  return event.type === 'click' && event.clientX !== 0 && event.clientY !== 0;\n};\n", "import * as React from 'react';\nimport { Icon20CheckCircleOn, Icon24CheckCircleOn } from '@vkontakte/icons';\nimport type { HasRef, HasRootRef } from '../../../../types';\nimport { AdaptiveIconRenderer } from '../../../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport { RootComponent } from '../../../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../../../VisuallyHidden/VisuallyHidden';\nimport styles from './Radio.module.css';\n\nconst adaptiveIcon = (\n  <AdaptiveIconRenderer IconCompact={Icon20CheckCircleOn} IconRegular={Icon24CheckCircleOn} />\n);\n\ninterface ActionSheetItemCheckedProps\n  extends React.InputHTMLAttributes<HTMLInputElement>,\n    HasRootRef<HTMLDivElement>,\n    HasRef<HTMLInputElement> {\n  /**\n   * Иконка для `checked` режима.\n   */\n  children?: React.ReactNode;\n}\n\nexport const Radio = ({\n  children = adaptiveIcon,\n  getRootRef,\n  getRef,\n  className,\n  style,\n  ...restProps\n}: ActionSheetItemCheckedProps): React.ReactNode => {\n  return (\n    <RootComponent getRootRef={getRootRef} className={className} style={style}>\n      <VisuallyHidden\n        Component=\"input\"\n        getRootRef={getRef}\n        type=\"radio\"\n        className={styles.input}\n        {...restProps}\n      />\n      {children}\n    </RootComponent>\n  );\n};\n", "import { ActionSheetItem, type ActionSheetItemProps } from '../ActionSheetItem/ActionSheetItem';\n\nexport const ActionSheetDefaultIosCloseItem = ({\n  children = 'Отмена',\n  ...restProps\n}: ActionSheetItemProps): React.ReactNode => {\n  return (\n    <ActionSheetItem mode=\"cancel\" isCancelItem {...restProps}>\n      {children}\n    </ActionSheetItem>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { useEffectDev } from '../../hooks/useEffectDev';\nimport { useEventListener } from '../../hooks/useEventListener';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useDOM } from '../../lib/dom';\nimport { isRefObject } from '../../lib/isRefObject';\nimport { stopPropagation } from '../../lib/utils';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { FocusTrap } from '../FocusTrap/FocusTrap';\nimport { Popper } from '../Popper/Popper';\nimport type { SharedDropdownProps } from './types';\nimport styles from './ActionSheet.module.css';\n\nconst warn = warnOnce('ActionSheet');\nfunction getEl(ref: SharedDropdownProps['toggleRef']): Element | null | undefined {\n  return ref && 'current' in ref ? ref.current : ref;\n}\n\nexport const ActionSheetDropdownMenu = ({\n  children,\n  toggleRef,\n  closing,\n  onClose,\n  className,\n  style,\n  popupOffsetDistance = 0,\n  placement,\n  onAnimationStart,\n  onAnimationEnd,\n  allowClickPropagation = false,\n  onClick,\n  ...restProps\n}: SharedDropdownProps): React.ReactNode => {\n  const { document } = useDOM();\n  const platform = usePlatform();\n  const { sizeY } = useAdaptivityWithJSMediaQueries();\n  const elementRef = React.useRef<HTMLDivElement | null>(null);\n\n  useEffectDev(() => {\n    const toggleEl = getEl(toggleRef);\n    if (!toggleEl) {\n      warn(`Свойство \"toggleRef\" не передано`, 'error');\n    }\n  }, [toggleRef]);\n\n  const bodyClickListener = useEventListener('click', (e: MouseEvent) => {\n    const dropdownElement = elementRef?.current;\n    if (dropdownElement && !dropdownElement.contains(e.target as Node)) {\n      onClose?.();\n    }\n  });\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      bodyClickListener.add(document!.body);\n    });\n  }, [bodyClickListener, document]);\n\n  const targetRef = React.useMemo(() => {\n    if (isRefObject<SharedDropdownProps['toggleRef'], HTMLElement>(toggleRef)) {\n      return toggleRef;\n    }\n\n    return { current: toggleRef as HTMLElement };\n  }, [toggleRef]);\n\n  const handleClick = allowClickPropagation\n    ? onClick\n    : (event: React.MouseEvent<HTMLElement>) => {\n        stopPropagation(event);\n        onClick?.(event);\n      };\n\n  return (\n    <Popper\n      targetRef={targetRef}\n      offsetByMainAxis={popupOffsetDistance}\n      placement={placement}\n      className={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        styles.menu,\n        closing ? styles.closing : styles.opening,\n        sizeY === 'compact' && styles.sizeYCompact,\n        className,\n      )}\n      style={style}\n      getRootRef={elementRef}\n      usePortal={false}\n      onAnimationStart={onAnimationStart}\n      onAnimationEnd={onAnimationEnd}\n    >\n      <FocusTrap onClose={onClose} {...restProps} onClick={handleClick}>\n        {children}\n      </FocusTrap>\n    </Popper>\n  );\n};\n", "import { useEffect } from 'react';\nimport { noop } from '@vkontakte/vkjs';\n\nexport const useEffectDev: typeof useEffect =\n  process.env.NODE_ENV === 'development' ? useEffect : noop;\n", "import * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { canUseDOM } from '../lib/dom';\n\ninterface EventListenerHandle {\n  add: (el: HTMLElement | Document | Window) => void;\n  remove: () => void;\n}\n\nclass EventListener implements EventListenerHandle {\n  callback: (ev: any) => void = noop;\n  options: AddEventListenerOptions | boolean | undefined = undefined;\n  eventType: string;\n  #target: HTMLElement | Document | Window | null = null;\n\n  constructor(\n    type: string,\n    callback: false | null | undefined | ((ev: any) => void),\n    options?: AddEventListenerOptions | boolean,\n  ) {\n    this.options = options;\n    this.eventType = type;\n\n    if (callback) {\n      this.callback = callback;\n    }\n  }\n\n  readonly #listener = (ev: any) => {\n    this.callback(ev);\n  };\n\n  add = (el: HTMLElement | Document | Window) => {\n    if (!canUseDOM) {\n      return;\n    }\n    this.remove();\n    if (!el) {\n      return;\n    }\n\n    el.addEventListener(this.eventType, this.#listener, this.options);\n    this.#target = el;\n  };\n\n  remove = () => {\n    if (!canUseDOM || !this.#target) {\n      return;\n    }\n\n    this.#target.removeEventListener(this.eventType, this.#listener, this.options);\n    this.#target = null;\n  };\n}\n\nexport function useEventListener<K extends keyof GlobalEventHandlersEventMap>(\n  event: K,\n  _cb: false | null | undefined | ((ev: GlobalEventHandlersEventMap[K]) => void),\n  _options?: AddEventListenerOptions,\n): EventListenerHandle;\nexport function useEventListener<E extends Event>(\n  event: string,\n  _cb: false | null | undefined | ((ev: E) => void),\n  _options?: AddEventListenerOptions,\n): EventListenerHandle;\nexport function useEventListener<E extends Event, K extends keyof GlobalEventHandlersEventMap>(\n  event: string | K,\n  _cb: false | null | undefined | ((ev: E) => void),\n  _options?: AddEventListenerOptions,\n): EventListenerHandle {\n  const ref = React.useRef<EventListener | null>(null);\n  if (ref.current === null) {\n    ref.current = new EventListener(event, _cb, _options);\n  } else {\n    ref.current.eventType = event;\n    ref.current.options = _options;\n\n    if (_cb) {\n      ref.current.callback = _cb;\n    }\n  }\n\n  React.useEffect(() => {\n    const detach = ref.current?.remove.bind(ref.current);\n    return detach;\n  }, []);\n\n  return ref.current;\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport {\n  autoUpdateFloatingElement,\n  convertFloatingDataToReactCSSProperties,\n  type FloatingComponentProps,\n  useFloating,\n  useFloatingMiddlewaresBootstrap,\n  usePlacementChangeCallback,\n  type VirtualElement,\n} from '../../lib/floating';\nimport { useReferenceHiddenChangeCallback } from '../../lib/floating/useReferenceHiddenChangeCallback';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport {\n  DEFAULT_ARROW_HEIGHT,\n  DEFAULT_ARROW_PADDING,\n  DefaultIcon,\n} from '../FloatingArrow/DefaultIcon';\nimport {\n  FloatingArrow,\n  type FloatingArrowProps as FloatingArrowPropsPrivate,\n} from '../FloatingArrow/FloatingArrow';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Popper.module.css';\n\nexport type FloatingArrowProps = Omit<\n  FloatingArrowPropsPrivate,\n  'getRootRef' | 'coords' | 'placement' | 'Icon'\n>;\n\ntype AllowedFloatingComponentProps = Pick<\n  FloatingComponentProps,\n  | 'arrow'\n  | 'arrowRef'\n  | 'arrowHeight'\n  | 'arrowPadding'\n  | 'hoverDelay'\n  | 'placement'\n  | 'offsetByMainAxis'\n  | 'offsetByCrossAxis'\n  | 'shown'\n  | 'onShownChange'\n  | 'defaultShown'\n  | 'hideWhenReferenceHidden'\n  | 'onReferenceHiddenChange'\n  | 'sameWidth'\n  | 'zIndex'\n  | 'strategy'\n  | 'usePortal'\n  | 'customMiddlewares'\n  | 'onPlacementChange'\n  | 'disableFlipMiddleware'\n  | 'disableShiftMiddleware'\n  | 'flipMiddlewareFallbackAxisSideDirection'\n>;\n\nexport interface PopperCommonProps\n  extends AllowedFloatingComponentProps,\n    Omit<HTMLAttributesWithRootRef<HTMLDivElement>, keyof AllowedFloatingComponentProps> {\n  /**\n   * Позволяет набросить на стрелку пользовательские атрибуты.\n   */\n  arrowProps?: FloatingArrowProps;\n  /**\n   * Пользовательская SVG иконка.\n   *\n   * Требования:\n   *\n   * 1. Иконка по умолчанию должна быть направлена вверх (a.k.a `IconUp`).\n   * 2. Чтобы избежать проблемы с пространством между стрелкой и контентом на некоторых экранах,\n   *    растяните кривую по высоте на `1px` и увеличьте на этот размер `height` и `viewBox` SVG.\n   *    (смотри https://github.com/VKCOM/VKUI/pull/4496).\n   * 3. Передайте высоту иконки в параметр `arrowHeight`. В значении высоты можно исключить хак с `1px` из п.2.\n   * 4. Убедитесь, что компонент принимает все валидные для SVG параметры.\n   * 5. Убедитесь, что SVG и её элементы наследует цвет через `fill=\"currentColor\"`.\n   */\n  ArrowIcon?: FloatingArrowPropsPrivate['Icon'];\n  /**\n   * Подписывается на изменение геометрии `targetRef`, чтобы пересчитать свою позицию.\n   */\n  autoUpdateOnTargetResize?: boolean;\n}\n\nexport interface PopperProps extends PopperCommonProps {\n  /**\n   * Ref на якорный элемент.\n   */\n  targetRef: React.RefObject<HTMLElement | null> | VirtualElement;\n}\n\n/**\n * @see https://vkui.io/components/popper\n */\nexport const Popper = ({\n  // UseFloatingMiddlewaresBootstrapProps\n  placement: placementProp = 'bottom-start',\n  sameWidth,\n  hideWhenReferenceHidden,\n  offsetByMainAxis = 8,\n  offsetByCrossAxis = 0,\n  arrow,\n  arrowHeight = DEFAULT_ARROW_HEIGHT,\n  arrowPadding = DEFAULT_ARROW_PADDING,\n  customMiddlewares,\n  disableFlipMiddleware = false,\n  disableShiftMiddleware = false,\n  flipMiddlewareFallbackAxisSideDirection,\n\n  // UseFloatingProps\n  autoUpdateOnTargetResize = false,\n  strategy: strategyProp,\n\n  // ArrowProps\n  arrowProps,\n  ArrowIcon = DefaultIcon,\n\n  // rest\n  targetRef,\n  getRootRef,\n  children,\n  usePortal = true,\n  onPlacementChange,\n  onReferenceHiddenChange,\n  zIndex,\n  style,\n  ...restProps\n}: PopperProps): React.ReactNode => {\n  const [arrowRef, setArrowRef] = React.useState<HTMLDivElement | null>(null);\n\n  const { strictPlacement, middlewares } = useFloatingMiddlewaresBootstrap({\n    placement: placementProp,\n    sameWidth,\n    arrow,\n    arrowRef,\n    arrowHeight,\n    arrowPadding,\n    offsetByMainAxis,\n    offsetByCrossAxis,\n    hideWhenReferenceHidden,\n    customMiddlewares,\n    disableFlipMiddleware,\n    disableShiftMiddleware,\n    flipMiddlewareFallbackAxisSideDirection,\n  });\n\n  const {\n    x: floatingDataX,\n    y: floatingDataY,\n    strategy: floatingPositionStrategy,\n    placement: resolvedPlacement,\n    refs,\n    middlewareData,\n  } = useFloating({\n    placement: strictPlacement,\n    strategy: strategyProp,\n    middleware: middlewares,\n    whileElementsMounted(...args) {\n      /* istanbul ignore next: не знаю как проверить */\n      return autoUpdateFloatingElement(...args, {\n        elementResize: autoUpdateOnTargetResize,\n      });\n    },\n  });\n\n  usePlacementChangeCallback(placementProp, resolvedPlacement, onPlacementChange);\n\n  useReferenceHiddenChangeCallback(middlewareData.hide, onReferenceHiddenChange);\n\n  const { arrow: arrowCoords } = middlewareData;\n\n  const handleRootRef = useExternRef<HTMLDivElement>(refs.setFloating, getRootRef);\n\n  useIsomorphicLayoutEffect(() => {\n    refs.setReference('current' in targetRef ? targetRef.current : targetRef);\n  }, [refs.setReference, targetRef]);\n\n  const dropdownStyle =\n    typeof zIndex !== 'undefined'\n      ? {\n          zIndex,\n        }\n      : undefined;\n\n  const dropdown = (\n    <RootComponent\n      {...restProps}\n      style={mergeStyle(dropdownStyle, style)}\n      baseClassName={styles.host}\n      getRootRef={handleRootRef}\n      baseStyle={convertFloatingDataToReactCSSProperties({\n        strategy: floatingPositionStrategy,\n        x: floatingDataX,\n        y: floatingDataY,\n        initialWidth: sameWidth ? null : undefined,\n        middlewareData,\n      })}\n    >\n      {arrow && (\n        <FloatingArrow\n          {...arrowProps}\n          coords={arrowCoords}\n          placement={resolvedPlacement}\n          getRootRef={setArrowRef}\n          Icon={ArrowIcon}\n        />\n      )}\n      {children}\n    </RootComponent>\n  );\n\n  return <AppRootPortal usePortal={usePortal}>{dropdown}</AppRootPortal>;\n};\n", "import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport { type UseFloatingData } from './types/common';\nimport { type FloatingComponentProps } from './types/component';\n\nexport function useReferenceHiddenChangeCallback(\n  hideMiddleware: UseFloatingData['middlewareData']['hide'],\n  onReferenceHiddenChange: FloatingComponentProps['onReferenceHiddenChange'],\n) {\n  const prevHiddenRef = React.useRef<boolean | undefined>(hideMiddleware?.referenceHidden);\n  React.useEffect(() => {\n    prevHiddenRef.current = hideMiddleware?.referenceHidden;\n  });\n\n  useIsomorphicLayoutEffect(\n    function checkHiddenChanged() {\n      if (!onReferenceHiddenChange) {\n        return;\n      }\n      if (hideMiddleware?.referenceHidden !== prevHiddenRef.current) {\n        onReferenceHiddenChange(hideMiddleware?.referenceHidden || false);\n      }\n    },\n    [hideMiddleware?.referenceHidden, onReferenceHiddenChange],\n  );\n}\n", "import * as React from 'react';\n\nexport const DEFAULT_ARROW_WIDTH = 20;\nexport const DEFAULT_ARROW_HEIGHT = 8;\nexport const DEFAULT_ARROW_PADDING = 10;\n\nconst PLATFORM_HEIGHT = 1;\nconst ARROW_HEIGHT_WITH_WHITE_SPACE = DEFAULT_ARROW_HEIGHT + PLATFORM_HEIGHT;\n\n/**\n * Стрелка для всплывающих окон.\n *\n * Примечание 1.\n *\n * В компоненте, SVG элемент `<path />` представляет собой стрелку с платформой в виде прямоугольника в 1px. Платформа\n * служит для исправления проблемы с белой полоской между контентом и стрелкой, которая зачастую проявляется при\n * изменении масштаба страницы.\n *\n * Чтобы исправление сработало нужно:\n * 1. Прибавить высоту платформы к `height` и `viewBox` SVG контейнера.\n * 2. Сместить положение SVG контейнера на высоту платформы – сделано в CSS через `translateY(1px)`.\n *\n * Смотри https://github.com/VKCOM/VKUI/issues/2123.\n *\n * @since 7.0.0\n */\nexport const DefaultIcon = (props: React.SVGAttributes<SVGSVGElement>): React.ReactNode => {\n  return (\n    <svg\n      width={DEFAULT_ARROW_WIDTH}\n      height={ARROW_HEIGHT_WITH_WHITE_SPACE}\n      viewBox={`0 0 ${DEFAULT_ARROW_WIDTH} ${ARROW_HEIGHT_WITH_WHITE_SPACE}`}\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path d=\"M10 0c3 0 6 8 10 8v1H0V8c3.975 0 7-8 10-8Z\" fill=\"currentColor\" />\n    </svg>\n  );\n};\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { Placement } from '../../lib/floating';\nimport type { HasDataAttribute, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { DefaultIcon } from './DefaultIcon';\nimport styles from './FloatingArrow.module.css';\n\nexport type Coords = {\n  /** Координата x. */\n  x?: number;\n  /** Координата y. */\n  y?: number;\n};\n\nexport const placementClassNames = {\n  right: styles.placementRight,\n  bottom: styles.placementBottom,\n  left: styles.placementLeft,\n};\n\nexport interface FloatingArrowProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement>,\n    HasDataAttribute {\n  /**\n   * Сдвиг стрелки относительно текущих координат.\n   */\n  offset?: number;\n  /**\n   * Включает абсолютное смещение по `offset`.\n   */\n  isStaticOffset?: boolean;\n  /**\n   * Координаты стрелки.\n   */\n  coords?: Coords;\n  /**\n   * Расположение всплывающего элемента.\n   */\n  placement?: Placement;\n  /**\n   * Стили иконки.\n   */\n  iconStyle?: React.CSSProperties;\n  /**\n   * `className` для иконки.\n   */\n  iconClassName?: string;\n  /**\n   * Иконка для отображения стрелки.\n   */\n  Icon?: React.ComponentType<React.SVGAttributes<SVGSVGElement>>;\n}\n\n/**\n * Иконка-стрелка для всплывающих окон.\n *\n * @since 7.0.0\n */\nexport const FloatingArrow = ({\n  offset,\n  isStaticOffset,\n  coords,\n  iconStyle,\n  iconClassName,\n  placement = 'bottom',\n  Icon = DefaultIcon,\n  ...restProps\n}: FloatingArrowProps): React.ReactNode => {\n  const [arrowPlacement, arrowStyles] = getArrowPositionData(\n    placement,\n    coords,\n    offset,\n    isStaticOffset,\n  );\n\n  return (\n    <RootComponent\n      baseStyle={arrowStyles}\n      baseClassName={classNames(styles.host, arrowPlacement && placementClassNames[arrowPlacement])}\n      {...restProps}\n    >\n      <Icon className={classNames(styles.in, iconClassName)} style={iconStyle} />\n    </RootComponent>\n  );\n};\n\nfunction getArrowPositionData(\n  placement: Placement,\n  coords: Coords = { x: 0, y: 0 },\n  offset = 0,\n  isStaticOffset = false,\n): [undefined | 'right' | 'bottom' | 'left', React.CSSProperties] {\n  const withOffset = (isVerticalPlacement: boolean) => {\n    const parsedCoords = { x: coords.x || 0, y: coords.y || 0 };\n\n    if (isVerticalPlacement) {\n      return isStaticOffset ? offset : parsedCoords.y + offset;\n    } else {\n      return isStaticOffset ? offset : parsedCoords.x + offset;\n    }\n  };\n\n  if (placement.startsWith('top')) {\n    const xOffsetProp = getXOffsetProp(placement, isStaticOffset);\n    return [\n      'bottom',\n      {\n        top: '100%',\n        [xOffsetProp]: withOffset(false),\n      },\n    ];\n  } else if (placement.startsWith('right')) {\n    const yOffsetProp = getYOffsetProp(placement, isStaticOffset);\n    return [\n      'left',\n      {\n        [yOffsetProp]: withOffset(true),\n        left: 0,\n      },\n    ];\n  } else if (placement.startsWith('bottom')) {\n    const xOffsetProp = getXOffsetProp(placement, isStaticOffset);\n    return [\n      undefined,\n      {\n        bottom: '100%',\n        [xOffsetProp]: withOffset(false),\n      },\n    ];\n  } else {\n    const yOffsetProp = getYOffsetProp(placement, isStaticOffset);\n    return [\n      'right',\n      {\n        [yOffsetProp]: withOffset(true),\n        right: 0,\n      },\n    ];\n  }\n}\n\nfunction getXOffsetProp(placement: Placement, isStaticOffset: boolean) {\n  return placement.endsWith('end') && isStaticOffset ? 'right' : 'left';\n}\n\nfunction getYOffsetProp(placement: Placement, isStaticOffset: boolean) {\n  return placement.endsWith('end') && isStaticOffset ? 'bottom' : 'top';\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { stopPropagation } from '../../lib/utils';\nimport { FocusTrap } from '../FocusTrap/FocusTrap';\nimport type { SharedDropdownProps } from './types';\nimport styles from './ActionSheet.module.css';\n\nexport type ActionSheetDropdownProps = Omit<\n  SharedDropdownProps,\n  'popupDirection' | 'popupOffsetDistance' | 'placement'\n>;\n\nexport const ActionSheetDropdownSheet = ({\n  children,\n  closing,\n  // these 2 props are only omitted - ActionSheetDesktop compat\n  toggleRef,\n  className,\n  onClick,\n  allowClickPropagation = false,\n  ...restProps\n}: SharedDropdownProps): React.ReactNode => {\n  const { sizeY } = useAdaptivityWithJSMediaQueries();\n  const platform = usePlatform();\n\n  const handleClick = allowClickPropagation\n    ? onClick\n    : (event: React.MouseEvent<HTMLElement>) => {\n        stopPropagation(event);\n        onClick?.(event);\n      };\n\n  return (\n    <FocusTrap\n      {...restProps}\n      onClick={handleClick}\n      className={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        closing ? styles.closing : styles.opening,\n        sizeY === 'compact' && styles.sizeYCompact,\n        className,\n      )}\n    >\n      {children}\n    </FocusTrap>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { useScrollLock } from '../AppRoot/ScrollContext';\nimport { PopoutWrapper } from '../PopoutWrapper/PopoutWrapper';\nimport { ScreenSpinnerContainer } from './ScreenSpinnerContainer';\nimport { ScreenSpinnerLoader } from './ScreenSpinnerLoader';\nimport { ScreenSpinnerSwapIcon } from './ScreenSpinnerSwapIcon';\nimport type { ScreenSpinnerProps } from './types';\n\nexport type { ScreenSpinnerProps };\n\n/**\n * @see https://vkui.io/components/screen-spinner\n */\nexport const ScreenSpinner: React.FC<ScreenSpinnerProps> & {\n  Container: typeof ScreenSpinnerContainer;\n  Loader: typeof ScreenSpinnerLoader;\n  SwapIcon: typeof ScreenSpinnerSwapIcon;\n} = ({\n  style,\n  className,\n  state = 'loading',\n  onClick,\n  cancelLabel,\n  mode,\n  label,\n  customIcon,\n  usePortal,\n  visibilityDelay,\n  ...restProps\n}: ScreenSpinnerProps): React.ReactNode => {\n  useScrollLock();\n\n  return (\n    <AppRootPortal usePortal={usePortal}>\n      <PopoutWrapper className={className} style={style} noBackground strategy=\"fixed\">\n        <ScreenSpinnerContainer\n          state={state}\n          mode={mode}\n          label={label}\n          customIcon={customIcon}\n          visibilityDelay={visibilityDelay}\n        >\n          <ScreenSpinnerLoader {...restProps} />\n          <ScreenSpinnerSwapIcon onClick={onClick} cancelLabel={cancelLabel} />\n        </ScreenSpinnerContainer>\n      </PopoutWrapper>\n    </AppRootPortal>\n  );\n};\n\nScreenSpinner.Container = ScreenSpinnerContainer;\nScreenSpinner.Loader = ScreenSpinnerLoader;\nScreenSpinner.SwapIcon = ScreenSpinnerSwapIcon;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(ScreenSpinner.Container, 'ScreenSpinner.Container');\n  defineComponentDisplayNames(ScreenSpinner.Loader, 'ScreenSpinner.Loader');\n  defineComponentDisplayNames(ScreenSpinner.SwapIcon, 'ScreenSpinner.SwapIcon');\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { type ScreenSpinnerProps } from './types';\n\nexport interface ScreenSpinnerContextProps {\n  /**\n   * Тип отображения спиннера.\n   */\n  state: NonNullable<ScreenSpinnerProps['state']>;\n  /**\n   * Текст под иконкой.\n   */\n  label?: ScreenSpinnerProps['label'];\n  /**\n   * Кастомная иконка, работает совместно со `state=\"custom\"`.\n   */\n  customIcon?: ScreenSpinnerProps['customIcon'];\n}\n\nexport const ScreenSpinnerContext: React.Context<ScreenSpinnerContextProps> =\n  React.createContext<ScreenSpinnerContextProps>({\n    state: 'loading',\n    label: undefined,\n    customIcon: undefined,\n  });\n", "import { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { ScreenSpinnerContext } from './context';\nimport { type ScreenSpinnerProps } from './types';\nimport styles from './ScreenSpinner.module.css';\nimport stylesDelay from '../../styles/animationVisibilityDelay.module.css';\n\nconst stateClassNames = {\n  cancelable: styles.stateCancelable,\n  done: styles.stateDone,\n  error: styles.stateError,\n  custom: styles.stateCustom,\n};\n\nconst modeClassNames = {\n  shadow: styles.modeShadow,\n  overlay: styles.modeOverlay,\n};\n\ntype ScreenSpinnerContainerProps = HTMLAttributesWithRootRef<HTMLSpanElement> &\n  Pick<ScreenSpinnerProps, 'state' | 'mode' | 'label' | 'customIcon' | 'visibilityDelay'>;\n\nexport const ScreenSpinnerContainer = ({\n  state = 'loading',\n  mode = 'shadow',\n  customIcon,\n  label,\n  children,\n  visibilityDelay,\n  ...restProps\n}: ScreenSpinnerContainerProps) => {\n  return (\n    <ScreenSpinnerContext.Provider value={{ state, label, customIcon }}>\n      <RootComponent\n        baseClassName={classNames(\n          styles.host,\n          modeClassNames[mode],\n          state !== 'loading' && stateClassNames[state],\n          hasReactNode(label) && styles.hasLabel,\n          visibilityDelay && stylesDelay.visibilityDelay,\n        )}\n        {...restProps}\n      >\n        <div className={styles.iconSlot}>{children}</div>\n        {hasReactNode(label) && (\n          <Footnote className={styles.label} aria-hidden>\n            {label}\n          </Footnote>\n        )}\n      </RootComponent>\n    </ScreenSpinnerContext.Provider>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { Spinner } from '../Spinner/Spinner';\nimport type { SpinnerProps } from '../Spinner/Spinner';\nimport { ScreenSpinnerContext } from './context';\nimport styles from './ScreenSpinner.module.css';\n\ntype ScreenSpinnerLoaderProps = Omit<SpinnerProps, 'size'>;\n\nexport const ScreenSpinnerLoader = ({ children, ...restProps }: ScreenSpinnerLoaderProps) => {\n  const { label } = React.useContext(ScreenSpinnerContext);\n  const a11yText = children ?? label;\n  return (\n    <Spinner\n      className={classNames(styles.spinner, !label && styles.spinnerTransition)}\n      size=\"xl\"\n      noColor\n      {...restProps}\n    >\n      {a11yText}\n    </Spinner>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { Icon24Cancel } from '@vkontakte/icons';\nimport { mergeCalls } from '../../lib/mergeCalls';\nimport { clickByKeyboardHandler } from '../../lib/utils';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Icon48CancelCircle } from './Icon48CancelCircle';\nimport { Icon48DoneOutline } from './Icon48DoneOutline';\nimport { ScreenSpinnerContext } from './context';\nimport { type ScreenSpinnerProps } from './types';\nimport styles from './ScreenSpinner.module.css';\n\ntype ScreenSpinnerSwapIconProps = HTMLAttributesWithRootRef<HTMLElement> & {\n  cancelLabel?: ScreenSpinnerProps['cancelLabel'];\n};\n\nconst ScreenSpinnerCancelIcon = ({\n  onKeyDown,\n  'aria-label': ariaLabel = 'Отменить',\n  ...restProps\n}: ScreenSpinnerSwapIconProps) => {\n  const handlers = mergeCalls(\n    { onKeyDown: clickByKeyboardHandler },\n    {\n      onKeyDown,\n    },\n  );\n  let clickableProps: React.HTMLAttributes<HTMLSpanElement> = {\n    ...handlers,\n    'tabIndex': 0,\n    'role': 'button',\n    'aria-label': ariaLabel,\n  };\n\n  return (\n    <RootComponent baseClassName={styles.icon} {...clickableProps} {...restProps}>\n      <Icon24Cancel />\n    </RootComponent>\n  );\n};\n\nexport const ScreenSpinnerSwapIcon = ({\n  cancelLabel,\n  ...restProps\n}: ScreenSpinnerSwapIconProps) => {\n  const { state, customIcon } = React.useContext(ScreenSpinnerContext);\n\n  if (state === 'cancelable') {\n    return <ScreenSpinnerCancelIcon aria-label={cancelLabel} {...restProps} />;\n  }\n\n  const getContent = () => {\n    if (state === 'custom') {\n      return customIcon;\n    }\n\n    const Icon = {\n      loading: () => null,\n      done: Icon48DoneOutline,\n      error: Icon48CancelCircle,\n    }[state];\n\n    return <Icon />;\n  };\n\n  return (\n    <RootComponent baseClassName={styles.icon} {...restProps}>\n      {getContent()}\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\n\nexport const Icon48CancelCircle = (props: React.SVGProps<SVGSVGElement>): React.ReactNode => (\n  <svg\n    className=\"vkuiIcon\"\n    width=\"48\"\n    height=\"48\"\n    viewBox=\"0 0 48 48\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      fillRule=\"evenodd\"\n      clipRule=\"evenodd\"\n      d=\"M40 24c0 8.837-7.163 16-16 16S8 32.837 8 24 15.163 8 24 8s16 7.163 16 16Zm-10.08-4.33a1.125 1.125 0 0 0-1.59-1.59L24 22.409l-4.33-4.33a1.125 1.125 0 0 0-1.59 0l-.101.116a1.125 1.125 0 0 0 .1 1.476L22.41 24l-4.33 4.33a1.125 1.125 0 0 0 1.591 1.59L24 25.591l4.33 4.33c.439.439 1.151.439 1.59 0l.101-.116a1.125 1.125 0 0 0-.1-1.476L25.59 24l4.33-4.33Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n);\n", "import * as React from 'react';\n\nexport const Icon48DoneOutline = (props: React.SVGProps<SVGSVGElement>): React.ReactNode => (\n  <svg\n    className=\"vkuiIcon\"\n    width=\"48\"\n    height=\"48\"\n    viewBox=\"0 0 48 48\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M9 24L19 34L39 14\"\n      stroke=\"currentColor\"\n      strokeWidth=\"3.5\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n    />\n  </svg>\n);\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useFocusWithin } from '../../hooks/useFocusWithin';\nimport { useGlobalEscKeyDown } from '../../hooks/useGlobalEscKeyDown';\nimport { useMediaQueries } from '../../hooks/useMediaQueries';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useCSSKeyframesAnimationController } from '../../lib/animation';\nimport { getRelativeBoundingClientRect } from '../../lib/dom';\nimport { UIPanGestureRecognizer } from '../../lib/touch';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { Button } from '../Button/Button';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Basic, type BasicProps } from './subcomponents/Basic/Basic';\nimport type { ShiftData, SnackbarPlacement } from './types';\nimport {\n  getInitialShiftData,\n  getMovedShiftData,\n  resolveOffsetYCssStyle,\n  shouldBeClosedByShiftData,\n} from './utils';\nimport styles from './Snackbar.module.css';\n\nconst placementClassNames = {\n  'top-start': styles.placementTopStart,\n  'top': styles.placementTop,\n  'top-end': styles.placementTopEnd,\n  'bottom-start': styles.placementBottomStart,\n  'bottom': styles.placementBottom,\n  'bottom-end': styles.placementBottomEnd,\n};\n\nconst animationStateClassNames = {\n  enter: styles.stateEnter,\n  entering: styles.stateEntering,\n  entered: styles.stateEntered,\n  exit: styles.stateExit,\n  exiting: styles.stateExiting,\n  exited: undefined,\n};\n\nexport interface SnackbarProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'role'>,\n    BasicProps {\n  /**\n   * Задаёт расположение компонента.\n   *\n   * > Note: в мобильном режиме:\n   * > - `\"top-start\"`/`\"top-end\"` перебивается на `\"top\"`, чтобы поведение было схожим с нативными\n   * >   уведомлениями;\n   * > - `\"bottom\"` перебивается на `\"bottom-start\"`, чтобы избежать вызова системных\n   * >   функций, таких как **Pull To Refresh** и **Режим управления одной рукой**.\n   * > - `\"bottom-start\"`/`\"bottom-end\"` закрываются смахиванием в любое из направлений\n   * >   по горизонтальной оси.\n   */\n  placement?: SnackbarPlacement;\n  /**\n   * Название кнопки действия в уведомлении\n   * Не может использоваться одновременно с `subtitle`.\n   */\n  action?: React.ReactNode;\n  /**\n   * Будет вызвано при нажатии на кнопку действия.\n   */\n  onActionClick?: (event: React.MouseEvent) => void;\n  /**\n   * Время в миллисекундах, через которое плашка скроется.\n   */\n  duration?: number;\n  /**\n   * Обработчик закрытия уведомления.\n   */\n  onClose: () => void;\n  /**\n   * Величина отступа снизу. Используется для позиционирования элемента в случае, когда нежелательно, чтобы Snackbar при появлении перекрывал важные элементы интерфейса.\n   */\n  offsetY?: React.CSSProperties['bottom'];\n}\n\n/**\n * @see https://vkui.io/components/snackbar\n */\nexport const Snackbar: React.FC<SnackbarProps> & { Basic: typeof Basic } = ({\n  placement = 'bottom-start',\n  children,\n  layout,\n  action,\n  before,\n  after,\n  duration = 4000,\n  onActionClick,\n  onClose,\n  mode = 'default',\n  subtitle,\n  offsetY,\n  getRootRef,\n  ...restProps\n}: SnackbarProps) => {\n  const platform = usePlatform();\n\n  const [open, setOpen] = React.useState(true);\n  const [touched, setTouched] = React.useState(false);\n\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n\n  const rootRef = useExternRef(getRootRef);\n  const focused = useFocusWithin(rootRef);\n  const inRef = React.useRef<HTMLDivElement>(null);\n  const panGestureRecognizer = React.useRef<UIPanGestureRecognizer | null>(null);\n\n  const shiftDataRef = React.useRef<ShiftData | null>(null);\n\n  const rafRef = React.useRef<ReturnType<typeof requestAnimationFrame> | null>(null);\n  const closeTimeoutIdRef = React.useRef<ReturnType<typeof setTimeout> | undefined>(undefined);\n  const mediaQueries = useMediaQueries();\n  const [animationState, animationHandlers] = useCSSKeyframesAnimationController(\n    open ? 'enter' : 'exit',\n    {\n      onExited: onClose,\n    },\n  );\n\n  const clearRAF = React.useCallback(() => {\n    if (rafRef.current !== null) {\n      cancelAnimationFrame(rafRef.current);\n      rafRef.current = null;\n    }\n  }, []);\n\n  const updateShiftAxisCSSProperties = React.useCallback(\n    (x: number | null, y: number | null, direction: number | null) => {\n      rafRef.current = requestAnimationFrame(() => {\n        if (rootRef.current) {\n          x === null\n            ? rootRef.current.style.removeProperty('--vkui_internal--snackbar_shift_x')\n            : rootRef.current.style.setProperty('--vkui_internal--snackbar_shift_x', `${x}px`);\n          y === null\n            ? rootRef.current.style.removeProperty('--vkui_internal--snackbar_shift_y')\n            : rootRef.current.style.setProperty('--vkui_internal--snackbar_shift_y', `${y}px`);\n          direction === null\n            ? rootRef.current.style.removeProperty('--vkui_internal--snackbar_direction')\n            : /* istanbul ignore next: TODO чтобы протестировать кейс, нужно мокать useMediaQueries(), чтобы перебивать mediaQueries.smallTabletPlus.matches */\n              rootRef.current.style.setProperty(\n                '--vkui_internal--snackbar_direction',\n                `${direction}`,\n              );\n        }\n      });\n    },\n    [rootRef],\n  );\n\n  const close = React.useCallback(() => {\n    setOpen(false);\n  }, []);\n\n  const handleActionClick = (event: React.MouseEvent) => {\n    close();\n    if (action) {\n      onActionClick?.(event);\n    }\n  };\n\n  const handleTouchStart = (event: React.UIEvent<HTMLDivElement>) => {\n    panGestureRecognizer.current = new UIPanGestureRecognizer();\n    panGestureRecognizer.current.setStartCoords(event.nativeEvent);\n    shiftDataRef.current = getInitialShiftData(\n      rootRef.current!.offsetWidth,\n      rootRef.current!.offsetHeight,\n      mediaQueries,\n    );\n    setTouched(true);\n  };\n\n  const handleTouchMove = (event: React.UIEvent<HTMLDivElement>) => {\n    if (shiftDataRef.current && panGestureRecognizer.current) {\n      panGestureRecognizer.current.setInitialTimeOnce();\n      panGestureRecognizer.current.setEndCoords(event.nativeEvent);\n      shiftDataRef.current = getMovedShiftData(\n        placement,\n        shiftDataRef.current,\n        panGestureRecognizer.current.delta(),\n        isRtl,\n      );\n\n      if (shiftDataRef.current.shifted) {\n        updateShiftAxisCSSProperties(\n          shiftDataRef.current.x,\n          shiftDataRef.current.y,\n          shiftDataRef.current.direction,\n        );\n      }\n    }\n  };\n\n  const handleTouchEnd = () => {\n    if (\n      touched &&\n      shiftDataRef.current &&\n      panGestureRecognizer.current &&\n      shouldBeClosedByShiftData(\n        placement,\n        shiftDataRef.current,\n        getRelativeBoundingClientRect(rootRef.current!, inRef.current!),\n        panGestureRecognizer.current.velocity(),\n        isRtl,\n      )\n    ) {\n      close();\n    }\n\n    setTouched(false);\n  };\n\n  useIsomorphicLayoutEffect(\n    function closeAfterDelay() {\n      if (!open || focused || touched || animationState !== 'entered') {\n        return;\n      }\n      closeTimeoutIdRef.current = setTimeout(close, duration);\n      return function preventCloseAfterDelayOnUnmount() {\n        clearTimeout(closeTimeoutIdRef.current);\n      };\n    },\n    [open, focused, touched, animationState, close, duration],\n  );\n\n  useIsomorphicLayoutEffect(\n    function clearUserInteractionDataAfterTouchEnd() {\n      if (!touched) {\n        clearRAF();\n        shiftDataRef.current = null;\n        panGestureRecognizer.current = null;\n\n        if (open) {\n          updateShiftAxisCSSProperties(null, null, null);\n        }\n      }\n    },\n    [touched, open, updateShiftAxisCSSProperties, clearRAF],\n  );\n\n  React.useEffect(() => clearRAF, [clearRAF]);\n\n  useGlobalEscKeyDown(open, close);\n\n  if (animationState === 'exited') {\n    return null;\n  }\n\n  return (\n    <RootComponent\n      {...restProps}\n      role=\"presentation\"\n      baseClassName={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        touched && styles.touched,\n        placementClassNames[placement],\n        animationStateClassNames[animationState],\n        isRtl && styles.rtl,\n      )}\n      baseStyle={resolveOffsetYCssStyle(placement, offsetY)}\n      getRootRef={rootRef}\n    >\n      <div\n        role=\"alert\"\n        className={styles.in}\n        ref={inRef}\n        // mobile\n        onTouchStart={handleTouchStart}\n        onTouchMove={handleTouchMove}\n        onTouchEnd={handleTouchEnd}\n        // desktop\n        onMouseDown={handleTouchStart}\n        onMouseMove={handleTouchMove}\n        onMouseUp={handleTouchEnd}\n        onMouseLeave={handleTouchEnd}\n        {...animationHandlers}\n      >\n        <Basic\n          mode={mode}\n          layout={layout}\n          before={before}\n          after={after}\n          subtitle={subtitle}\n          action={\n            action && (\n              <Button\n                align=\"left\"\n                mode=\"link\"\n                appearance={\n                  mode === 'dark'\n                    ? /* istanbul ignore next: проверяется в e2e */\n                      'overlay'\n                    : 'accent'\n                }\n                size=\"s\"\n                onClick={handleActionClick}\n              >\n                {action}\n              </Button>\n            )\n          }\n        >\n          {children}\n        </Basic>\n      </div>\n    </RootComponent>\n  );\n};\n\nSnackbar.Basic = Basic;\n", "import { Keys, pressedKey } from '../lib/accessibility';\nimport { useDOM } from '../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nconst EVENT_OPTIONS = {\n  passive: true,\n  capture: true,\n};\n\n/**\n * Завязывается на document.\n *\n * @private\n */\nexport const useGlobalEscKeyDown = (\n  init: boolean,\n  callback?: (event: KeyboardEvent) => void,\n): void => {\n  const { document } = useDOM();\n  useIsomorphicLayoutEffect(() => {\n    if (!document || !init || !callback) {\n      return;\n    }\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (pressedKey(event) === Keys.ESCAPE) {\n        callback(event);\n      }\n    };\n    document.addEventListener('keydown', handleKeyDown, EVENT_OPTIONS);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown, EVENT_OPTIONS);\n    };\n  }, [init, document, callback]);\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../../hooks/useAdaptivity';\nimport type { HTMLAttributesWithRootRef } from '../../../../types';\nimport { RootComponent } from '../../../RootComponent/RootComponent';\nimport { Paragraph } from '../../../Typography/Paragraph/Paragraph';\nimport { Subhead } from '../../../Typography/Subhead/Subhead';\nimport styles from './Basic.module.css';\n\nconst stylesLayout = {\n  none: styles.layoutNone,\n  vertical: styles.layoutVertical,\n  horizontal: styles.layoutHorizontal,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  regular: styles.sizeYRegular,\n};\n\nexport interface BasicProps {\n  /**\n   * Элемент действия.\n   * Не может использоваться одновременно с `subtitle`.\n   */\n  action?: React.ReactNode;\n\n  /**\n   * Контент в правой части, может быть иконкой 24x24.\n   */\n  after?: React.ReactNode;\n\n  /**\n   * Варианты расположения кнопки действия\n   * По умолчанию на десктопах, или при наличии элементов `after` или `subtitle`\n   * имеет значение `vertical`, в остальных случаях `horizontal`.\n   */\n  layout?: 'vertical' | 'horizontal';\n\n  /**\n   * Может быть следующими компонентами:\n   *  - цветная иконка 24x24 или 28x28 пикселя\n   *  - `<Avatar size={32} />`\n   *  - `<Image size={40} />`.\n   */\n  before?: React.ReactNode;\n\n  /**\n   * Задает стиль снекбара.\n   */\n  mode?: 'default' | 'dark';\n\n  /**\n   * Дополнительная строка текста под `children`.\n   * Не может использоваться одновременно с `action`.\n   */\n  subtitle?: React.ReactNode;\n}\n\nexport interface SnackbarBasicProps extends HTMLAttributesWithRootRef<HTMLDivElement>, BasicProps {}\n\nexport function Basic({\n  layout: layoutProps,\n  action,\n  after,\n  before,\n  mode,\n  subtitle,\n  children,\n  ...restProps\n}: SnackbarBasicProps): React.ReactNode {\n  const { sizeY = 'none' } = useAdaptivity();\n  const layout = after || subtitle ? 'vertical' : 'none';\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.body,\n        stylesLayout[layoutProps || layout],\n        sizeY !== 'compact' && sizeYClassNames[sizeY],\n        mode === 'dark' && styles.modeDark,\n      )}\n    >\n      {before && <div className={styles.before}>{before}</div>}\n\n      <div className={styles.content}>\n        <Paragraph className={styles.contentText}>{children}</Paragraph>\n        {subtitle && !action && <Subhead className={styles.contentSubtitle}>{subtitle}</Subhead>}\n\n        {action && !subtitle && <div className={styles.action}>{action}</div>}\n      </div>\n\n      {after && <div className={styles.after}>{after}</div>}\n    </RootComponent>\n  );\n}\n", "import type * as React from 'react';\nimport type { MediaQueries } from '../../lib/adaptivity';\nimport { rubberbandIfOutOfBounds } from '../../lib/animation';\nimport type { ShiftData, SnackbarPlacement } from './types';\n\nexport function resolveOffsetYCssStyle(\n  placement: SnackbarPlacement,\n  offsetY?: React.CSSProperties['inset'],\n): React.CSSProperties | undefined {\n  if (offsetY === undefined) {\n    return undefined;\n  }\n  switch (placement) {\n    case 'top-start':\n    case 'top':\n    case 'top-end':\n      return { top: offsetY };\n    case 'bottom-start':\n    case 'bottom':\n    case 'bottom-end':\n      return { bottom: offsetY };\n  }\n}\n\nexport function revertRtlValue(value: number, isRtl: boolean) {\n  return isRtl ? -1 * value : value;\n}\n\nexport function getInitialShiftData(\n  width: number,\n  height: number,\n  mediaQueries: MediaQueries,\n): ShiftData {\n  return {\n    shifted: false,\n    direction: null,\n    isDesktop: mediaQueries.smallTabletPlus.matches, // eslint-disable-line no-restricted-properties,\n    x: 0,\n    y: 0,\n    width,\n    height,\n  };\n}\n\nexport function getMovedShiftData(\n  placement: SnackbarPlacement,\n  shiftData: ShiftData,\n  nextShift: { x: number; y: number },\n  isRtl = false,\n): ShiftData {\n  /* istanbul ignore else: TODO чтобы протестировать кейс в блоке else, нужно мокать useMediaQueries(), чтобы перебивать mediaQueries.smallTabletPlus.matches */\n  if (shiftData.isDesktop) {\n    if (placement.endsWith('start')) {\n      shiftData.x = isRtl\n        ? rubberbandIfOutOfBounds(nextShift.x, 0, shiftData.width)\n        : rubberbandIfOutOfBounds(nextShift.x, -shiftData.width, 0);\n    } else if (placement.endsWith('end')) {\n      shiftData.x = isRtl\n        ? rubberbandIfOutOfBounds(nextShift.x, -shiftData.width, 0)\n        : rubberbandIfOutOfBounds(nextShift.x, 0, shiftData.width);\n    }\n\n    if (placement.startsWith('bottom')) {\n      shiftData.y = rubberbandIfOutOfBounds(nextShift.y, 0, shiftData.height);\n    }\n  } else if (placement.startsWith('bottom')) {\n    shiftData.x = nextShift.x;\n\n    const movingToLeft = nextShift.x < 0 ? -1 : null;\n    const movingToRight = nextShift.x > 0 ? 1 : null;\n    shiftData.direction = movingToLeft || movingToRight;\n  }\n\n  if (placement.startsWith('top')) {\n    shiftData.y = rubberbandIfOutOfBounds(nextShift.y, -shiftData.height, 0);\n  }\n\n  shiftData.shifted = true;\n\n  return shiftData;\n}\n\nconst MINIMUM_PAN_GESTURE_FOR_TRIGGER_CLOSE = 200;\n\nexport function shouldBeClosedByShiftData(\n  placement: SnackbarPlacement,\n  shiftData: ShiftData,\n  relativeClientRect: DOMRect,\n  velocity: { x: number; y: number },\n  isRtl = false,\n): boolean {\n  if (!shiftData.shifted) {\n    return false;\n  }\n\n  const shouldBeClosedThreshold = { x: false, y: false };\n  const shouldBeClosedByVelocity = { x: false, y: false };\n\n  /* istanbul ignore else: TODO чтобы протестировать кейс в блоке else, нужно мокать useMediaQueries(), чтобы перебивать mediaQueries.smallTabletPlus.matches */\n  if (shiftData.isDesktop) {\n    if (placement.endsWith('start')) {\n      shouldBeClosedThreshold.x =\n        revertRtlValue(relativeClientRect.x, isRtl) < -relativeClientRect.width / 2;\n      shouldBeClosedByVelocity.x =\n        revertRtlValue(relativeClientRect.x, isRtl) < 0\n          ? revertRtlValue(velocity.x, isRtl) <\n            revertRtlValue(-MINIMUM_PAN_GESTURE_FOR_TRIGGER_CLOSE, isRtl)\n          : false;\n    } else if (placement.endsWith('end')) {\n      shouldBeClosedThreshold.x =\n        revertRtlValue(relativeClientRect.x, isRtl) > relativeClientRect.width / 2;\n      shouldBeClosedByVelocity.x =\n        revertRtlValue(relativeClientRect.x, isRtl) > 0\n          ? revertRtlValue(velocity.x, isRtl) >\n            revertRtlValue(MINIMUM_PAN_GESTURE_FOR_TRIGGER_CLOSE, isRtl)\n          : false;\n    }\n\n    if (placement.startsWith('bottom')) {\n      shouldBeClosedThreshold.y = relativeClientRect.y > relativeClientRect.height / 2;\n      shouldBeClosedByVelocity.y =\n        relativeClientRect.y > 0 ? velocity.y > MINIMUM_PAN_GESTURE_FOR_TRIGGER_CLOSE : false;\n    }\n  } else if (placement.startsWith('bottom')) {\n    shouldBeClosedThreshold.x =\n      relativeClientRect.x < -relativeClientRect.width / 2 ||\n      relativeClientRect.x > relativeClientRect.width / 2;\n    shouldBeClosedByVelocity.x =\n      (relativeClientRect.x < 0 && velocity.x < -MINIMUM_PAN_GESTURE_FOR_TRIGGER_CLOSE) ||\n      (relativeClientRect.x > 0 && velocity.x > MINIMUM_PAN_GESTURE_FOR_TRIGGER_CLOSE);\n  }\n\n  if (placement.startsWith('top')) {\n    shouldBeClosedThreshold.y = relativeClientRect.y < -relativeClientRect.height / 2;\n    shouldBeClosedByVelocity.y =\n      relativeClientRect.y < 0 ? velocity.y < -MINIMUM_PAN_GESTURE_FOR_TRIGGER_CLOSE : false;\n  }\n\n  return (\n    shouldBeClosedThreshold.x ||\n    shouldBeClosedByVelocity.x ||\n    shouldBeClosedThreshold.y ||\n    /* istanbul ignore next: подсвечивает жёлтым и пишет \"branch not covered\" */\n    shouldBeClosedByVelocity.y\n  );\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { useReferenceElement } from '../../hooks/useReferenceElement';\nimport { type FloatingComponentProps, type OnShownChange } from '../../lib/floating';\nimport { type FloatingArrowProps as FloatingArrowPropsPrivate } from '../FloatingArrow/FloatingArrow';\nimport { type TooltipBaseProps } from '../TooltipBase/TooltipBase';\nimport { useTooltip } from './useTooltip';\n\ntype AllowedFloatingComponentProps = Pick<\n  FloatingComponentProps,\n  | 'arrowHeight'\n  | 'arrowPadding'\n  | 'hoverDelay'\n  | 'placement'\n  | 'offsetByMainAxis'\n  | 'offsetByCrossAxis'\n  | 'defaultShown'\n  | 'onShownChange'\n  | 'hideWhenReferenceHidden'\n  | 'onReferenceHiddenChange'\n  | 'children'\n  | 'zIndex'\n  | 'usePortal'\n  | 'onPlacementChange'\n  | 'disableFlipMiddleware'\n  | 'disableShiftMiddleware'\n  | 'strategy'\n>;\n\ntype AllowedTooltipBaseProps = Omit<TooltipBaseProps, 'arrowProps' | 'onCloseIconClick'>;\n\n/**\n * @alias\n * @public\n */\nexport type TooltipArrowProps = Omit<\n  FloatingArrowPropsPrivate,\n  'getRootRef' | 'coords' | 'placement' | 'Icon'\n>;\n\n/**\n * @alias\n * @public\n */\nexport type TooltipOnShownChange = OnShownChange;\n\nexport interface TooltipProps extends AllowedFloatingComponentProps, AllowedTooltipBaseProps {\n  /**\n   * Передача `boolean` позволяет контролировать состояния показа и скрытия вручную. Используйте\n   * совместно с `onShownChange`.\n   *\n   * > Если нужно разово инициировать показ тултипа при первом рендере, то используйте `defaultShown`.\n   */\n  shown?: boolean;\n  /**\n   * Добавляет возможность наводить на тултип.\n   */\n  enableInteractive?: boolean;\n  /**\n   * Добавляет возможность закрыть тултип через иконку-крестик.\n   *\n   * > Работает в сочетании с `enableInteractive` или при использовании `shown` и `onShownChange`.\n   */\n  closable?: boolean;\n  /**\n   * Скрывает стрелку, указывающую на якорный элемент.\n   */\n  disableArrow?: boolean;\n  /**\n   * Отключает закрытие по нажатию.\n   */\n  disableCloseAfterClick?: boolean;\n  /**\n   * Отключает появление при фокусе.\n   */\n  disableTriggerOnFocus?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/tooltip\n */\nexport const Tooltip = ({ children, ...restProps }: TooltipProps): React.ReactNode => {\n  const { anchorRef, anchorProps, tooltip } = useTooltip(restProps);\n\n  const anchor = useReferenceElement(children, anchorProps, anchorRef);\n\n  return (\n    <React.Fragment>\n      {anchor}\n      {tooltip}\n    </React.Fragment>\n  );\n};\n", "import * as React from 'react';\nimport { getMergedSameEventsByProps } from '../helpers/getMergedSameEventsByProps';\nimport {\n  isDOMTypeElement,\n  isForwardRefElement,\n  isValidNotReactFragmentElement,\n} from '../lib/utils';\nimport { warnOnce } from '../lib/warnOnce';\nimport type { HasRootRef } from '../types';\nimport { useEffectDev } from './useEffectDev';\nimport { useExternRef } from './useExternRef';\n\nconst warn = warnOnce('usePatchChildren');\n\ntype InjectProps<T> = Omit<React.HTMLAttributes<T>, keyof React.DOMAttributes<T>> &\n  React.Attributes & {\n    ref?: React.Ref<T>;\n  };\n\ntype ExpectedReactElement<T> = React.ReactElement<HasRootRef<T> & React.DOMAttributes<T>>;\n\ntype ChildrenElement<T> = ExpectedReactElement<T> | React.ReactNode;\n\n/**\n * Хук позволяет пропатчить переданный компонент так, чтобы можно было получить ссылку на его\n * DOM-элемент. Также есть возможность прокинуть дополнительные параметры.\n *\n * @param children\n * @param injectProps\n * @param externRef – полезен когда нужно прокинуть `ref` элементу выше.\n *\n * 👎 Без параметра `externRef`\n * ```ts\n * const { ref } = useSomeHook();\n * const [childRef, child] = usePatchChildren(children);\n * React.useLayoutEffect(() => {\n *   ref.current = childRef.current; // или ref.current(childRef.current)\n * }, [childRef]);\n * ```\n *\n * 👍 С параметром `externRef`\n * ```ts\n * const { ref } = useSomeHook();\n * const [childRef, child] = usePatchChildren(children, undefined, ref);\n * ```\n */\nexport const usePatchChildren = <ElementType extends HTMLElement = HTMLElement>(\n  children?: ChildrenElement<ElementType>,\n  injectProps?: InjectProps<ElementType>,\n  externRef?: React.Ref<ElementType>,\n): [React.RefObject<ElementType | null>, ChildrenElement<ElementType> | undefined] => {\n  const isValidElementResult = isValidNotReactFragmentElement(children);\n  const isDOMTypeElementResult =\n    isValidElementResult &&\n    isDOMTypeElement<React.HTMLAttributes<ElementType>, ElementType>(children);\n\n  const isForwardedRefElementResult =\n    isValidElementResult &&\n    isForwardRefElement<React.HTMLAttributes<ElementType>, ElementType>(children);\n\n  const shouldUseRef = isDOMTypeElementResult || isForwardedRefElementResult;\n  const childRef = useExternRef<ElementType>(\n    shouldUseRef ? children.ref : isValidElementResult ? children.props.getRootRef : undefined,\n    externRef,\n  );\n\n  const mergedEventsByInjectProps = getMergedSameEventsByProps(\n    injectProps ? injectProps : {},\n    isValidElementResult ? children.props : {},\n  );\n\n  const props = shouldUseRef\n    ? { ref: childRef, ...injectProps, ...mergedEventsByInjectProps }\n    : isValidElementResult\n      ? { getRootRef: childRef, ...injectProps, ...mergedEventsByInjectProps }\n      : undefined;\n\n  const patchedChildren = isValidElementResult ? React.cloneElement(children, props) : children;\n\n  useEffectDev(() => {\n    if (!childRef.current && !shouldUseRef) {\n      warn(\n        'Кажется, в children передан компонент, который не поддерживает свойство getRootRef. Мы не можем получить ссылку на корневой dom-элемент этого компонента',\n        'error',\n      );\n    }\n  }, [isValidElementResult ? children.type : null, shouldUseRef, childRef]);\n\n  return [childRef, patchedChildren];\n};\n", "import type * as React from 'react';\nimport type { AnyFunction } from '@vkontakte/vkjs';\nimport type { PickOnlyFunctionProps } from '../types';\n\nconst isFunctionExistInProps = <Props extends Record<PropertyKey, any>>(\n  props: Props,\n  key: PropertyKey,\n): key is Extract<keyof Props, AnyFunction> => typeof props[key] === 'function';\n\n/**\n * Полезен, когда нужно сохранить пользовательские события.\n *\n * Приоритет даём пользовательскому событию. Например, можно будет отловить был ли вызван\n * `event.preventDefault()` через `event.defaultPrevented`.\n *\n * @private\n */\nexport const getMergedSameEventsByProps = <\n  T extends keyof React.JSX.IntrinsicElements | React.JSXElementConstructor<any>,\n  MainProps extends React.ComponentProps<T>,\n  OnlyFnPropsByMain extends PickOnlyFunctionProps<MainProps>,\n>(\n  mainProps: MainProps,\n  secondProps: React.ComponentProps<T>,\n): {\n  [K in keyof OnlyFnPropsByMain]?:\n    | ((this: any, ...args: Parameters<OnlyFnPropsByMain[K]>) => void)\n    | undefined;\n} => {\n  const result: {\n    [K in keyof OnlyFnPropsByMain]?:\n      | ((this: any, ...args: Parameters<OnlyFnPropsByMain[K]>) => void)\n      | undefined;\n  } = {};\n\n  for (const eventName in mainProps) {\n    if (\n      mainProps.hasOwnProperty(eventName) &&\n      secondProps.hasOwnProperty(eventName) &&\n      isFunctionExistInProps(mainProps, eventName) &&\n      isFunctionExistInProps(secondProps, eventName)\n    ) {\n      result[eventName] = function mergeSameEventsByProps(\n        ...args: Parameters<OnlyFnPropsByMain[typeof eventName]>\n      ) {\n        secondProps[eventName].apply(this, args);\n        mainProps[eventName].apply(this, args);\n      };\n    }\n  }\n  return result;\n};\n", "import { isValidNotReactFragmentElement } from '../lib/utils';\nimport { usePatchChildren } from './usePatchChildren';\n\nexport const useReferenceElement = <ElementType extends HTMLElement = HTMLElement>(\n  ...args: Parameters<typeof usePatchChildren<ElementType>>\n) => {\n  const [children, injectProps, externRef] = args;\n  const child = isValidNotReactFragmentElement(children) ? children : <span>{children}</span>;\n\n  const [, patchedChild] = usePatchChildren(child, injectProps, externRef);\n\n  return patchedChild;\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { type Ref, useCallback } from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport {\n  type FloatingComponentProps,\n  useFloatingElement,\n  type UseFloatingElementProps,\n} from '../../hooks/useFloatingElement';\nimport { animationFadeClassNames } from '../../lib/animation';\nimport { getArrowCoordsByMiddlewareData } from '../../lib/floating';\nimport { type ReferenceProps } from '../../lib/floating/useFloatingWithInteractions/types';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { TooltipBase } from '../TooltipBase/TooltipBase';\nimport { type TooltipProps } from './Tooltip';\n\nexport type UseTooltipProps = Omit<TooltipProps, 'children'> & {\n  [key: `data-${string}`]: string | number | boolean;\n};\n\nexport type UseTooltipResult<ElementType extends HTMLElement = HTMLElement> = {\n  /**\n   * Реф на якорный элемент.\n   */\n  anchorRef: Ref<ElementType>;\n  /**\n   * Свойства для якорного элемента, содержит необходимые обработчики.\n   */\n  anchorProps: ReferenceProps<ElementType>;\n  /**\n   * Отрендеренный компонент тултипа.\n   */\n  tooltip: React.ReactNode | null;\n};\n\nexport const useTooltip = ({\n  // UseFloatingMiddlewaresBootstrapOptions\n  placement: placementProp = 'bottom',\n  arrowPadding = 10,\n  arrowHeight = 8,\n  offsetByMainAxis = 8,\n  offsetByCrossAxis = 0,\n  hideWhenReferenceHidden,\n  disableFlipMiddleware = false,\n  disableShiftMiddleware = false,\n  disableTriggerOnFocus = false,\n  onReferenceHiddenChange,\n\n  // useFloatingWithInteractions\n  defaultShown,\n  shown: shownProp,\n  onShownChange,\n  hoverDelay = 150,\n  strategy,\n\n  // инверсированные св-ва для useFloatingWithInteractions\n  enableInteractive = false,\n  disableArrow = false,\n  disableCloseAfterClick = false,\n\n  // AppRootProps\n  usePortal,\n\n  // TooltipBaseProps\n  id: idProp,\n  getRootRef,\n  appearance = 'neutral',\n  style: styleProp,\n  className,\n  zIndex = 'var(--vkui--z_index_popout)',\n  closable,\n  onPlacementChange,\n  ...popperProps\n}: UseTooltipProps): UseTooltipResult => {\n  const generatedId = React.useId();\n  const tooltipId = idProp || generatedId;\n\n  const renderFloatingComponent = useCallback(\n    ({\n      shown,\n      floatingProps,\n      floatingRef,\n      placement: resultPlacement,\n      middlewareData,\n      setArrowRef,\n      willBeHide,\n      onClose,\n    }: FloatingComponentProps<HTMLDivElement>) => {\n      if (!shown) {\n        return null;\n      }\n      return (\n        <AppRootPortal usePortal={usePortal}>\n          <TooltipBase\n            {...popperProps}\n            {...floatingProps}\n            style={{\n              ...floatingProps.style,\n              zIndex,\n              ...styleProp,\n            }}\n            id={tooltipId}\n            getRootRef={floatingRef}\n            appearance={appearance}\n            arrowProps={\n              disableArrow\n                ? undefined\n                : {\n                    placement: resultPlacement,\n                    coords: getArrowCoordsByMiddlewareData(middlewareData),\n                    getRootRef: setArrowRef,\n                  }\n            }\n            className={classNames(\n              willBeHide ? animationFadeClassNames.out : animationFadeClassNames.in,\n              className,\n            )}\n            onCloseIconClick={closable ? onClose : undefined}\n          />\n        </AppRootPortal>\n      );\n    },\n    [\n      appearance,\n      className,\n      closable,\n      disableArrow,\n      popperProps,\n      styleProp,\n      tooltipId,\n      usePortal,\n      zIndex,\n    ],\n  );\n\n  const remapReferenceProps: Exclude<UseFloatingElementProps['remapReferenceProps'], undefined> =\n    useCallback(\n      ({ shown, ...referenceProps }) => ({\n        ...referenceProps,\n        ...(shown && { 'aria-describedby': tooltipId }),\n      }),\n      [tooltipId],\n    );\n\n  const { component, anchorRef, anchorProps } = useFloatingElement({\n    placement: placementProp,\n    arrow: !disableArrow,\n    arrowHeight,\n    arrowPadding,\n    offsetByMainAxis,\n    offsetByCrossAxis,\n    hideWhenReferenceHidden,\n    disableFlipMiddleware,\n    disableShiftMiddleware,\n\n    defaultShown,\n    shown: shownProp,\n    onShownChange,\n    trigger: disableTriggerOnFocus ? 'hover' : ['hover', 'focus'],\n    onReferenceHiddenChange,\n    hoverDelay,\n    closeAfterClick: !disableCloseAfterClick,\n    disableInteractive: !enableInteractive,\n    strategy,\n\n    onPlacementChange,\n\n    renderFloatingComponent,\n    externalFloatingElementRef: getRootRef,\n    remapReferenceProps,\n  });\n\n  return {\n    anchorRef,\n    anchorProps,\n    tooltip: component,\n  };\n};\n", "import * as React from 'react';\nimport { type Ref, useMemo } from 'react';\nimport {\n  type OnPlacementChange,\n  useFloatingMiddlewaresBootstrap,\n  type UseFloatingMiddlewaresBootstrapOptions,\n  useFloatingWithInteractions,\n  type UseFloatingWithInteractionsProps,\n  type UseFloatingWithInteractionsReturn,\n  usePlacementChangeCallback,\n} from '../lib/floating';\nimport { type ReferenceProps } from '../lib/floating/useFloatingWithInteractions/types';\nimport { useReferenceHiddenChangeCallback } from '../lib/floating/useReferenceHiddenChangeCallback';\nimport { useExternRef } from './useExternRef';\nimport { useGlobalEscKeyDown } from './useGlobalEscKeyDown';\n\nexport type FloatingComponentProps<FloatingElement extends HTMLElement = HTMLElement> = Pick<\n  UseFloatingWithInteractionsReturn,\n  | 'shown'\n  | 'willBeHide'\n  | 'floatingProps'\n  | 'middlewareData'\n  | 'onClose'\n  | 'onRestoreFocus'\n  | 'placement'\n> & {\n  floatingRef: React.Ref<FloatingElement>;\n  setArrowRef: React.Dispatch<React.SetStateAction<HTMLDivElement | null>>;\n};\n\nexport type RenderFloatingComponentFn<FloatingElement extends HTMLElement = HTMLElement> = (\n  props: FloatingComponentProps<FloatingElement>,\n) => React.ReactNode | null;\n\nexport type RemapReferencePropsFn<ReferenceElement extends HTMLElement = HTMLElement> = (\n  props: ReferenceProps<ReferenceElement> & { shown: boolean },\n) => ReferenceProps<ReferenceElement>;\n\nexport type UseFloatingElementProps<\n  FloatingElement extends HTMLElement = HTMLElement,\n  ReferenceElement extends HTMLElement = HTMLElement,\n> = Omit<UseFloatingMiddlewaresBootstrapOptions, 'arrowRef'> &\n  Omit<UseFloatingWithInteractionsProps, 'placement'> & {\n    onPlacementChange?: OnPlacementChange;\n    onReferenceHiddenChange?: (hidden: boolean) => void;\n    renderFloatingComponent: RenderFloatingComponentFn<FloatingElement>;\n    remapReferenceProps?: RemapReferencePropsFn<ReferenceElement>;\n    externalFloatingElementRef?: React.Ref<FloatingElement>;\n  };\n\nexport type UseFloatingResult<ReferenceElement extends HTMLElement = HTMLElement> = {\n  anchorRef: Ref<ReferenceElement>;\n  anchorProps: ReferenceProps<ReferenceElement>;\n  component: React.ReactNode | null;\n};\n\nexport const useFloatingElement = <\n  ReferenceElement extends HTMLElement = HTMLElement,\n  FloatingElement extends HTMLElement = HTMLElement,\n>({\n  // useFloatingMiddlewaresBootstrap\n  placement = 'bottom-start',\n  arrow,\n  arrowHeight,\n  arrowPadding,\n  sameWidth,\n  offsetByMainAxis = 0,\n  offsetByCrossAxis = 0,\n  customMiddlewares,\n  hideWhenReferenceHidden,\n  disableFlipMiddleware = false,\n  disableShiftMiddleware = false,\n\n  // useFloatingWithInteractions\n  trigger,\n  hoverDelay,\n  closeAfterClick,\n  disabled,\n  disableInteractive,\n  disableCloseOnClickOutside,\n  disableCloseOnEscKey,\n  defaultShown,\n  shown: shownProp,\n  onShownChange,\n  onShownChanged,\n  strategy,\n  onReferenceHiddenChange,\n\n  onPlacementChange,\n\n  renderFloatingComponent,\n  externalFloatingElementRef,\n  remapReferenceProps,\n}: UseFloatingElementProps<\n  FloatingElement,\n  ReferenceElement\n>): UseFloatingResult<ReferenceElement> => {\n  const [arrowRef, setArrowRef] = React.useState<HTMLDivElement | null>(null);\n\n  const { middlewares, strictPlacement } = useFloatingMiddlewaresBootstrap({\n    placement,\n    offsetByMainAxis,\n    offsetByCrossAxis,\n    customMiddlewares,\n    hideWhenReferenceHidden,\n    sameWidth,\n    arrow,\n    arrowRef,\n    arrowPadding,\n    arrowHeight,\n    disableFlipMiddleware,\n    disableShiftMiddleware,\n  });\n\n  const {\n    placement: resolvedPlacement,\n    shown,\n    willBeHide,\n    refs,\n    referenceProps,\n    floatingProps,\n    middlewareData,\n    onClose,\n    onRestoreFocus,\n    onEscapeKeyDown,\n  } = useFloatingWithInteractions({\n    middlewares,\n    strategy,\n    placement: strictPlacement,\n    trigger,\n    hoverDelay,\n    closeAfterClick,\n    disabled,\n    disableInteractive,\n    disableCloseOnClickOutside,\n    disableCloseOnEscKey,\n    defaultShown,\n    shown: shownProp,\n    onShownChange,\n    onShownChanged,\n  });\n\n  const resultRef = useExternRef<FloatingElement>(externalFloatingElementRef, refs.setFloating);\n\n  usePlacementChangeCallback(placement, resolvedPlacement, onPlacementChange);\n\n  useReferenceHiddenChangeCallback(middlewareData.hide, onReferenceHiddenChange);\n\n  const component = renderFloatingComponent({\n    shown,\n    willBeHide,\n    floatingProps,\n    floatingRef: resultRef,\n    middlewareData,\n    placement: resolvedPlacement,\n    onClose,\n    onRestoreFocus,\n    setArrowRef,\n  });\n\n  useGlobalEscKeyDown(shown, onEscapeKeyDown);\n\n  const remappedReferenceProps = useMemo(\n    () =>\n      remapReferenceProps ? remapReferenceProps({ ...referenceProps, shown }) : referenceProps,\n    [remapReferenceProps, shown, referenceProps],\n  );\n\n  return {\n    anchorRef: refs.setReference,\n    anchorProps: remappedReferenceProps,\n    component,\n  };\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Cancel } from '@vkontakte/icons';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { DefaultIcon } from '../FloatingArrow/DefaultIcon';\nimport { FloatingArrow, type FloatingArrowProps } from '../FloatingArrow/FloatingArrow';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './TooltipBase.module.css';\n\nexport const TOOLTIP_MAX_WIDTH = 220;\n\nconst stylesAppearance = {\n  accent: styles.appearanceAccent,\n  white: styles.appearanceWhite,\n  black: styles.appearanceBlack,\n  inversion: styles.appearanceInversion,\n};\n\nexport interface TooltipBaseProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'children' | 'title'> {\n  /**\n   * Стиль отображения подсказки.\n   */\n  appearance?: 'accent' | 'neutral' | 'white' | 'black' | 'inversion';\n  /**\n   * Текст тултипа.\n   */\n  description?: React.ReactNode;\n  /**\n   * Заголовок тултипа.\n   */\n  title?: React.ReactNode;\n  /**\n   * [a11y] Id для заголовка тултипа.\n   * Можно использовать для связи элемента с `role=\"dialog\"` и заголовка через `aria-labelledby`.\n   */\n  titleId?: string;\n  /**\n   * Для показа указателя, требуется передать хотя бы `coords` и `placement`.\n   */\n  arrowProps?: Omit<FloatingArrowProps, 'Icon'>;\n  /**\n   * Пользовательская SVG иконка.\n   *\n   * Требования:\n   *\n   * 1. Иконка по умолчанию должна быть направлена вверх (a.k.a `IconUp`).\n   * 2. Чтобы избежать проблемы с пространством между стрелкой и контентом на некоторых экранах,\n   *    растяните кривую по высоте на `1px` и увеличьте на этот размер `height` и `viewBox` SVG.\n   *    (смотри https://github.com/VKCOM/VKUI/pull/4496).\n   * 3. Убедитесь, что компонент принимает все валидные для SVG параметры.\n   * 4. Убедитесь, что SVG и её элементы наследует цвет через `fill=\"currentColor\"`.\n   * 5. Если стрелка наезжает на якорный элемент, то увеличьте смещение между целевым и всплывающим элементами.\n   */\n  ArrowIcon?: FloatingArrowProps['Icon'];\n  /**\n   * Пользовательские css-классы, будут добавлены на root-элемент.\n   */\n  className?: string;\n  /**\n   * Перебивает максимальную ширину заданную по умолчанию.\n   *\n   * Передача `null` полностью сбрасывает установку `max-width` на элемент.\n   */\n  maxWidth?: number | string | null;\n  /**\n   * Скрытый текст для кнопки закрытия.\n   */\n  closeIconLabel?: string;\n  /**\n   * Обработчик нажатия на кнопку закрытия. При передаче, показывается иконка.\n   */\n  onCloseIconClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;\n}\n\n/**\n * Низкоуровневый компонент для отрисовки тултипа.\n * @private\n */\nexport const TooltipBase = ({\n  appearance = 'accent',\n  arrowProps,\n  ArrowIcon = DefaultIcon,\n  description,\n  title,\n  titleId,\n  maxWidth = TOOLTIP_MAX_WIDTH,\n  closeIconLabel = 'Закрыть',\n  onCloseIconClick,\n  className,\n  ...restProps\n}: TooltipBaseProps): React.ReactNode => {\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        appearance !== 'neutral' && stylesAppearance[appearance],\n        className,\n      )}\n      role=\"tooltip\"\n    >\n      {arrowProps && (\n        <FloatingArrow\n          {...arrowProps}\n          iconClassName={classNames(styles.arrow, arrowProps.iconClassName)}\n          Icon={ArrowIcon}\n        />\n      )}\n      <div className={styles.content} style={maxWidth !== null ? { maxWidth } : undefined}>\n        <div>\n          {hasReactNode(title) && (\n            <Subhead id={titleId} className={styles.title} weight=\"2\">\n              {title}\n            </Subhead>\n          )}\n          {hasReactNode(description) && (\n            <Subhead className={styles.description}>{description}</Subhead>\n          )}\n        </div>\n        {typeof onCloseIconClick === 'function' && (\n          <Tappable\n            Component=\"button\"\n            className={styles.closeButton}\n            hoverMode=\"opacity\"\n            activeMode=\"opacity\"\n            onClick={onCloseIconClick}\n          >\n            <VisuallyHidden>{closeIconLabel}</VisuallyHidden>\n            <Icon16Cancel display=\"block\" />\n          </Tappable>\n        )}\n      </div>\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport { ModalOverlay } from '../ModalOverlay/ModalOverlay';\nimport { ModalRootContext, ModalRootOverlayContext } from './ModalRootContext';\nimport type { ModalRootProps } from './types';\n\nconst warn = warnOnce('ModalRoot');\n/**\n * @see https://vkui.io/components/modal-root\n */\nexport const ModalRoot = ({\n  activeModal,\n  children,\n  modalOverlayTestId,\n  noFocusToDialog,\n  disableModalOverlay,\n  usePortal,\n  onOpen,\n  onOpened,\n  onClose,\n  onClosed,\n}: ModalRootProps): React.ReactNode => {\n  const contextValue = React.useMemo(\n    () => ({\n      isInsideModal: true,\n\n      // base props\n      activeModal,\n      modalOverlayTestId,\n      noFocusToDialog,\n      disableModalOverlay,\n\n      // callbacks\n      onOpen,\n      onOpened,\n      onClose,\n      onClosed,\n\n      // TODO [>=8] Удалить метод\n      updateModalHeight:\n        /* istanbul ignore next: deprecated */\n        process.env.NODE_ENV === 'development'\n          ? () => {\n              warn('Метод updateModalHeight() устарел и будет удалён в VKUI v8');\n            }\n          : noop,\n\n      // TODO [>=8] Удалить метод\n      registerModal:\n        /* istanbul ignore next: deprecated */\n        process.env.NODE_ENV === 'development'\n          ? () => {\n              warn('Метод registerModal() устарел и будет удалён в VKUI v8');\n            }\n          : noop,\n    }),\n    [\n      activeModal,\n      disableModalOverlay,\n      modalOverlayTestId,\n      noFocusToDialog,\n      onClose,\n      onClosed,\n      onOpen,\n      onOpened,\n    ],\n  );\n  const modalOverlayRef = React.useRef<HTMLDivElement>(null);\n  return (\n    <AppRootPortal usePortal={usePortal}>\n      <ModalRootContext.Provider value={contextValue}>\n        <ModalRootOverlayContext.Provider value={modalOverlayRef}>\n          {!disableModalOverlay && (\n            <ModalOverlay\n              position=\"fixed\"\n              visible={typeof activeModal === 'string'}\n              getRootRef={modalOverlayRef}\n            />\n          )}\n          {children}\n        </ModalRootOverlayContext.Provider>\n      </ModalRootContext.Provider>\n    </AppRootPortal>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport type { DataHTMLAttributes } from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useCSSTransition, type UseCSSTransitionState } from '../../lib/animation/useCSSTransition';\nimport type { HasRootRef } from '../../types';\nimport styles from './ModalOverlay.module.css';\n\nconst positionClassNames = {\n  absolute: styles.hostPositionAbsolute,\n  fixed: styles.hostPositionFixed,\n};\n\nconst transitionStateClassNames: Partial<Record<UseCSSTransitionState, string>> = {\n  appear: styles['hostStateEnter'],\n  appearing: styles['hostStateEntering'],\n  appeared: styles['hostStateEntered'],\n  enter: styles['hostStateEnter'],\n  entering: styles['hostStateEntering'],\n  entered: styles['hostStateEntered'],\n  exit: styles['hostStateExit'],\n  exiting: styles['hostStateExiting'],\n  exited: styles['hostStateExited'],\n};\n\nexport interface ModalOverlayProps\n  extends DataHTMLAttributes<HTMLDivElement>,\n    HasRootRef<HTMLDivElement> {\n  visible?: boolean;\n  position?: 'absolute' | 'fixed';\n  onClick?: (event: React.MouseEvent<HTMLDivElement>) => void;\n}\n\n/**\n * @private\n */\nexport const ModalOverlay = ({\n  visible = false,\n  position = 'absolute',\n  getRootRef,\n  onClick,\n  ...restProps\n}: ModalOverlayProps) => {\n  const [transitionState, { ref, onTransitionEnd }] = useCSSTransition<HTMLDivElement>(visible, {\n    enableAppear: true,\n  });\n  const handleRef = useExternRef(getRootRef, ref);\n\n  return (\n    <div\n      {...restProps}\n      ref={handleRef}\n      aria-hidden=\"true\"\n      hidden={transitionState === 'exited'}\n      className={classNames(\n        styles.host,\n        onClick === undefined && styles.nonInteractive,\n        positionClassNames[position],\n        transitionStateClassNames[transitionState],\n      )}\n      onClick={onClick}\n      onTransitionEnd={onTransitionEnd}\n    />\n  );\n};\n", "'use client';\n\nimport { createContext, type RefObject } from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport type { ModalRootContextInterface } from './types';\n\n/**\n * Сохраняем `ref` компонента `ModalOverlay` из `ModalRoot` в контекст, чтобы можно было пробросить\n * его до `ModalPage` и `ModalCard`.\n *\n * @private\n */\nexport const ModalRootOverlayContext = createContext<RefObject<HTMLDivElement | null>>({\n  current: null,\n});\n\nexport const ModalRootContext = createContext<ModalRootContextInterface>({\n  updateModalHeight: noop,\n  registerModal: noop,\n  isInsideModal: false,\n});\n", "'use client';\n\n/** TODO [>=8] Удалить HOC. */\nimport * as React from 'react';\nimport { ModalRootContext } from './ModalRootContext';\nimport type { ModalRootContextInterface } from './types';\n\ntype PickedProps = Pick<ModalRootContextInterface, 'updateModalHeight'>;\n\n/**\n * @deprecated HOC не актуален и будет удалён в **VKUI v8**, так как вызывать `updateModalHeight()`\n *  для модальных окон с `dynamicContentHeight` больше не требуется.\n */\nexport function withModalRootContext<P extends PickedProps>(\n  Component: React.ComponentType<P>,\n): React.ComponentType<Omit<P, keyof PickedProps>> {\n  function WithModalRootContext(props: Omit<P, keyof PickedProps>) {\n    const { updateModalHeight } = React.useContext(ModalRootContext);\n\n    return <Component {...(props as P)} updateModalHeight={updateModalHeight} />;\n  }\n  return WithModalRootContext;\n}\n", "import { useCallback, useContext } from 'react';\nimport { ModalRootContext } from './ModalRootContext';\nimport type { UseModalRootContext } from './types';\n\nexport const useModalRootContext = (): UseModalRootContext => {\n  const {\n    activeModal,\n    isInsideModal,\n    onClose: onCloseContext,\n    updateModalHeight,\n    registerModal,\n  } = useContext(ModalRootContext);\n\n  const onClose = useCallback(() => {\n    if (onCloseContext && activeModal !== null && activeModal !== undefined) {\n      onCloseContext(activeModal);\n    }\n  }, [activeModal, onCloseContext]);\n\n  return { activeModal, isInsideModal, onClose, updateModalHeight, registerModal };\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasRootRef } from '../../types';\nimport styles from './CustomScrollView.module.css';\n\nconst overscrollBehaviorClassNames = {\n  auto: undefined,\n  contain: styles.overscrollBehaviorContain,\n  none: styles.overscrollBehaviorNone,\n};\n\nconst scrollBehaviorClassNames = {\n  auto: undefined,\n  smooth: styles.scrollBehaviorSmooth,\n};\n\nexport interface CustomScrollViewProps\n  extends React.AllHTMLAttributes<HTMLDivElement>,\n    HasRootRef<HTMLDivElement> {\n  /**\n   * `className` для компонента.\n   */\n  className?: HTMLDivElement['className'];\n  /**\n   * Обработчик события `scroll`.\n   */\n  onScroll?: (event: React.UIEvent<HTMLDivElement>) => void;\n  /**\n   * Содержимое.\n   */\n  children: React.ReactNode;\n  /**\n   * Поведение overscroll, подробнее можно почитать в [документации](https://developer.mozilla.org/en-US/docs/Web/CSS/overscroll-behavior).\n   */\n  overscrollBehavior?: 'auto' | 'contain' | 'none';\n  /**\n   * Поведение scroll-behavior, подробнее можно почитать в [документации](https://developer.mozilla.org/en-US/docs/Web/CSS/scroll-behavior).\n   */\n  scrollBehavior?: 'auto' | 'smooth';\n  /**\n   * Включение отображения горизонтального скролла.\n   */\n  enableHorizontalScroll?: boolean;\n  /**\n   * Скрытие скроллбара.\n   *\n   * > В версии ниже Firefox 64 будет виден скролл.\n   */\n  scrollbarHidden?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/custom-scroll-view\n */\nexport const CustomScrollView = ({\n  className,\n  children,\n  enableHorizontalScroll = false,\n  onScroll,\n  getRootRef,\n  overscrollBehavior = 'auto',\n  scrollBehavior = 'auto',\n  scrollbarHidden = false,\n  ...restProps\n}: CustomScrollViewProps): React.ReactNode => {\n  return (\n    <div\n      className={classNames(\n        className,\n        styles.host,\n        enableHorizontalScroll && styles.horizontalScrollEnabled,\n        overscrollBehaviorClassNames[overscrollBehavior],\n        scrollBehaviorClassNames[scrollBehavior],\n        scrollbarHidden && styles.scrollbarHidden,\n      )}\n      ref={getRootRef}\n      onScroll={onScroll}\n      {...restProps}\n    >\n      {children}\n    </div>\n  );\n};\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { CustomScrollView } from '../CustomScrollView/CustomScrollView';\nimport styles from './ModalPageContent.module.css';\n\nexport type ModalPageContentProps = HTMLAttributesWithRootRef<HTMLDivElement>;\n\nexport const ModalPageContent = ({\n  children,\n  className,\n  getRootRef,\n  ...restProps\n}: ModalPageContentProps) => {\n  return (\n    <CustomScrollView\n      className={classNames(className, styles.host)}\n      getRootRef={getRootRef}\n      {...restProps}\n    >\n      {children}\n    </CustomScrollView>\n  );\n};\n", "'use client';\n\nimport { useMemo } from 'react';\nimport { ModalContext } from '../../context/ModalContext';\nimport { inRange } from '../../helpers/range';\nimport { SNAP_POINT_DETENTS, SNAP_POINT_SAFE_RANGE, type SnapPoint } from '../../lib/sheet';\nimport { useModalManager } from '../ModalRoot/useModalManager';\nimport { ModalPageInternal } from './ModalPageInternal';\nimport type { ModalPageProps } from './types';\n\nconst snapPointCache = new Map<string, Exclude<SnapPoint, 'auto'>>();\n\n/**\n * @see https://vkui.io/components/modal-page\n */\nexport const ModalPage = ({\n  id: idProp,\n  nav,\n  open = false,\n  modalOverlayTestId,\n  noFocusToDialog,\n  onOpen,\n  onOpened,\n  onClose,\n  onClosed,\n  size = 's',\n  settlingHeight = 50,\n  dynamicContentHeight,\n  disableModalOverlay,\n  keepMounted = false,\n  ...restProps\n}: ModalPageProps) => {\n  const { mounted, shouldPreserveSnapPoint, id, ...resolvedProps } = useModalManager({\n    id: nav || idProp,\n    open,\n    keepMounted,\n    modalOverlayTestId,\n    disableModalOverlay,\n    noFocusToDialog,\n    onOpen,\n    onOpened,\n    onClose,\n    onClosed,\n  });\n\n  const snapPoint = useMemo((): SnapPoint => {\n    if (dynamicContentHeight) {\n      return 'auto';\n    }\n\n    if (shouldPreserveSnapPoint) {\n      const snapPointCached = snapPointCache.get(id);\n\n      if (snapPointCached) {\n        return snapPointCached;\n      }\n\n      const nextSnapPoint = transformSettlingHeightToSnapPoint(settlingHeight);\n      snapPointCache.set(id, nextSnapPoint);\n\n      return nextSnapPoint;\n    } else {\n      snapPointCache.delete(id);\n    }\n\n    return transformSettlingHeightToSnapPoint(settlingHeight);\n  }, [id, shouldPreserveSnapPoint, dynamicContentHeight, settlingHeight]);\n\n  if (!mounted) {\n    return null;\n  }\n\n  return (\n    <ModalContext.Provider value={id}>\n      <ModalPageInternal\n        id={id}\n        size={size}\n        aria-labelledby={`${id}-label`}\n        snapPoint={snapPoint}\n        onSnapPointChange={\n          snapPoint !== 'auto' && shouldPreserveSnapPoint\n            ? (snapPoint) => {\n                const snapPointCached = snapPointCache.get(id);\n\n                if (snapPointCached) {\n                  snapPointCached.initial = snapPoint;\n                  snapPointCache.set(id, snapPointCached);\n                }\n              }\n            : undefined\n        }\n        {...resolvedProps}\n        {...restProps}\n      />\n    </ModalContext.Provider>\n  );\n};\n\nfunction transformSettlingHeightToSnapPoint(settlingHeight: number): Exclude<SnapPoint, 'auto'> {\n  const currentSnapPoint = Math.min(\n    Math.max(settlingHeight, SNAP_POINT_SAFE_RANGE.LOWER),\n    SNAP_POINT_DETENTS.LARGE,\n  );\n\n  return {\n    initial: currentSnapPoint,\n    detents: inRange(currentSnapPoint, SNAP_POINT_SAFE_RANGE.LOWER, SNAP_POINT_SAFE_RANGE.HIGHEST)\n      ? [SNAP_POINT_DETENTS.MIN, currentSnapPoint, SNAP_POINT_DETENTS.LARGE]\n      : [SNAP_POINT_DETENTS.MIN, currentSnapPoint],\n  };\n}\n", "/**\n * Генерирует массив с диапазоном чисел.\n */\nexport function range(from: number, to: number, step = 1): number[] {\n  const direction = from < to ? 1 : -1;\n  const distance = Math.abs(from - to) + 1;\n  const arrayLength = Math.ceil(distance / step);\n\n  const arr = Array<number>(arrayLength);\n  for (let index = 0; index < arr.length; index++) {\n    arr[index] = from + index * step * direction;\n  }\n\n  return arr;\n}\n/**\n * Генерирует массив с диапазоном чисел в порядке возрастания.\n * Если `from` меньше `to`, вернется пустой массив.\n */\nexport function rangeIncrement(from: number, to: number, step = 1): number[] {\n  if (from > to) {\n    return [];\n  }\n\n  return range(from, to, step);\n}\n\nexport function inRange(number: number, from: number, to: number) {\n  return number >= from && number <= to;\n}\n", "/** @public */\nexport const BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE_KEY = 'data-vkui-block-sheet-behavior';\n\n/** @public */\nexport const BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE = {\n  [BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE_KEY]: true,\n};\n\n/** @private */\nexport const DRAG_THRESHOLDS = {\n  DISTANCE_FOR_MOVING_START: 12 as const,\n  VELOCITY: 500 as const,\n};\n\n/** @private */\nexport const SNAP_POINT_SAFE_RANGE = {\n  LOWER: 25 as const,\n  HIGHEST: 90 as const,\n};\n\n/** @private */\nexport const SNAP_POINT_DETENTS = {\n  MIN: 0 as const,\n  MEDIUM: 50 as const,\n  LARGE: 100 as const,\n};\n\n/** @private */\nexport const DYNAMIC_SNAP_POINT_DATA = {\n  IDLE_POINT_VALUE: 0 as const,\n  COMPUTED_INDEX: 1 as const,\n};\n", "'use client';\n\nimport {\n  type CSSProperties,\n  type Dispatch,\n  type SetStateAction,\n  type UIEvent,\n  type UIEventHandler,\n  useMemo,\n  useState,\n} from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { useStableCallback } from '../../hooks/useStableCallback';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\nimport {\n  BottomSheetController,\n  type SnapPoint,\n  type SnapPointChange,\n} from './controllers/BottomSheetController';\nimport { CSSTransitionController } from './controllers/CSSTransitionController';\n\nexport type UseBottomSheetOptions = {\n  sheetCSSProperty: string;\n  backdropCSSProperty: string;\n  snapPoint: SnapPoint;\n  blocked?: boolean;\n  onSnapPointChange?: SnapPointChange;\n  onDismiss?: VoidFunction;\n};\n\nexport type UseBottomSheetHandlers = {\n  onTouchStart: UIEventHandler<HTMLElement>;\n  onTouchMove: UIEventHandler<HTMLElement>;\n  onTouchEnd: UIEventHandler<HTMLElement>;\n  onTouchCancel: UIEventHandler<HTMLElement>;\n  onMouseDown: UIEventHandler<HTMLElement>;\n  onMouseMove: UIEventHandler<HTMLElement>;\n  onMouseUp: UIEventHandler<HTMLElement>;\n  onMouseLeave: UIEventHandler<HTMLElement>;\n};\n\nexport type UseBottomSheetResult = [\n  {\n    initialStyle?: CSSProperties;\n    setSheetEl: Dispatch<SetStateAction<HTMLElement | null>>;\n    setSheetScrollEl: Dispatch<SetStateAction<HTMLElement | null>>;\n    setBackdropEl: Dispatch<SetStateAction<HTMLElement | null>>;\n  },\n  UseBottomSheetHandlers | undefined,\n];\n\n/**\n * # Checklist\n *\n * ## Возможности\n *\n * - [x] есть возможность открывать до определенного размера (см. `snapPoint`)\n * - [x] есть возможность закрыть при сильном смахивании вниз\n * - [x] есть возможность отключить взаимодействие на определённых элементах используя data-атрибут\n * - [x] есть возможность отключить взаимодействие на определённых элементах используя stopPropagation()\n *\n * ## Анимации\n *\n * - [x] оверлей становится светлее в зависимости от процента сворачивания\n *    - [x] при `snapPoint !== 'auto'` процент высчитывается относительно переданного `snapPoint.initial`\n * - [x] при перетаскивании за пределы есть анимация натяжения\n *   > note: в `ModalPage` этого эффекта нет при высоте 100% из-за `max-block-size: 100%`\n *\n * ## Пограничные кейсы\n *\n * - [x] ⚠️ не блокирует взаимодействие с _горизонтальным_ скроллом\n * - [x] ⚠️ не блокирует взаимодействие с _вертикальным_ скроллом\n * - [x] ⚠️ не блокирует взаимодействие с полями ввода\n * - [x] ⚠️ не блокирует взаимодействие с элементами вне корневого элемента\n *\n * @private\n */\nexport const useBottomSheet = (\n  enabled: boolean,\n  {\n    blocked,\n    snapPoint,\n    sheetCSSProperty,\n    backdropCSSProperty,\n    onSnapPointChange: onSnapPointChangeProp,\n    onDismiss: onDismissProp,\n  }: UseBottomSheetOptions,\n): UseBottomSheetResult => {\n  const [sheetScrollEl, setSheetScrollEl] = useState<HTMLElement | null>(null);\n  const [sheetEl, setSheetEl] = useState<HTMLElement | null>(null);\n  const [backdropEl, setBackdropEl] = useState<HTMLElement | null>(null);\n\n  const initialStyle = useMemo<CSSProperties | undefined>(\n    () =>\n      enabled && snapPoint !== 'auto' ? { [sheetCSSProperty]: `${snapPoint.initial}%` } : undefined,\n    [enabled, snapPoint, sheetCSSProperty],\n  );\n\n  const onSnapPointChange = useStableCallback(onSnapPointChangeProp || noop);\n  const onDismiss = useStableCallback(onDismissProp || noop);\n  const bsController = useMemo<BottomSheetController | null>(() => {\n    if (!enabled || sheetEl === null) {\n      return null;\n    }\n\n    return new BottomSheetController(sheetEl, {\n      sheetScrollEl: sheetScrollEl || null,\n      sheetTransitionController: new CSSTransitionController<string>(sheetEl, sheetCSSProperty),\n      backdropTransitionController: backdropEl\n        ? new CSSTransitionController(backdropEl, backdropCSSProperty)\n        : null,\n      onSnapPointChange,\n      onDismiss,\n    });\n  }, [\n    enabled,\n    sheetEl,\n    sheetCSSProperty,\n    sheetScrollEl,\n    backdropEl,\n    backdropCSSProperty,\n    onSnapPointChange,\n    onDismiss,\n  ]);\n\n  const onPanStart = function onPanStart(event: UIEvent<HTMLElement>) {\n    if (!blocked) {\n      bsController!.panStart(event.nativeEvent);\n    }\n  };\n\n  const onPanMove = function onPanMove(event: UIEvent<HTMLElement>) {\n    bsController!.panMove(event.nativeEvent);\n  };\n\n  const onPanEnd = function onPanEnd() {\n    bsController!.panEnd();\n  };\n\n  useIsomorphicLayoutEffect(\n    function init() {\n      if (bsController) {\n        bsController.init(snapPoint);\n      }\n    },\n    [snapPoint, bsController],\n  );\n\n  useIsomorphicLayoutEffect(\n    () =>\n      function unmount() {\n        if (bsController) {\n          bsController.destroy();\n        }\n      },\n    [bsController],\n  );\n\n  return [\n    {\n      initialStyle,\n      setSheetEl,\n      setSheetScrollEl,\n      setBackdropEl,\n    },\n    bsController !== null\n      ? {\n          onTouchStart: onPanStart,\n          onTouchMove: onPanMove,\n          onTouchEnd: onPanEnd,\n          onTouchCancel: onPanEnd,\n          onMouseDown: onPanStart,\n          onMouseMove: onPanMove,\n          onMouseUp: onPanEnd,\n          onMouseLeave: onPanEnd,\n        }\n      : undefined,\n  ];\n};\n", "import { noop } from '@vkontakte/vkjs';\nimport { clamp } from '../../../helpers/math';\nimport { rubberbandIfOutOfBounds } from '../../animation';\nimport { getNearestOverflowAncestor, hasSelectionWithRangeType } from '../../dom';\nimport { UIPanGestureRecognizer } from '../../touch/UIPanGestureRecognizer';\nimport {\n  BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE_KEY,\n  DRAG_THRESHOLDS,\n  DYNAMIC_SNAP_POINT_DATA,\n  SNAP_POINT_DETENTS,\n} from '../constants';\nimport type { CSSTransitionController } from './CSSTransitionController';\n\nexport type SnapPointDetents = [number, number] | [number, number, number];\n\nexport type SnapPoint = 'auto' | { initial: number; detents: SnapPointDetents };\n\nexport type SnapPointChange = (snapPoint: number) => void;\n\nexport type BottomSheetControllerOptions = {\n  sheetScrollEl: HTMLElement | null;\n  sheetTransitionController: CSSTransitionController<string>;\n  backdropTransitionController: CSSTransitionController | null;\n  onSnapPointChange: SnapPointChange;\n  onDismiss: VoidFunction;\n};\n\nexport class BottomSheetController {\n  private readonly sheetEl: HTMLElement;\n\n  constructor(\n    sheetEl: HTMLElement,\n    {\n      sheetScrollEl,\n      sheetTransitionController,\n      backdropTransitionController,\n      onSnapPointChange,\n      onDismiss,\n    }: BottomSheetControllerOptions,\n  ) {\n    this.sheetEl = sheetEl;\n    this.onSnapPointChange = onSnapPointChange;\n    this.onDismiss = onDismiss;\n    this.panGestureRecognizer = new UIPanGestureRecognizer();\n    this.sheetScrollEl = sheetScrollEl;\n    this.sheetTransitionController = sheetTransitionController;\n    this.backdropTransitionController = backdropTransitionController;\n  }\n\n  init(snapPoint: SnapPoint) {\n    this.isInitialized = true;\n\n    if (snapPoint === 'auto') {\n      this.unit = 'px';\n      this.currentSnapPoint = DYNAMIC_SNAP_POINT_DATA.IDLE_POINT_VALUE;\n      this.snapPointDetents = [SNAP_POINT_DETENTS.MIN, DYNAMIC_SNAP_POINT_DATA.IDLE_POINT_VALUE];\n    } else {\n      this.unit = '%';\n      this.currentSnapPoint = snapPoint.initial;\n      this.snapPointDetents = snapPoint.detents;\n    }\n  }\n\n  destroy() {\n    this.isInitialized = false;\n    this.pannedEl = null;\n    this.sheetTransitionController.cleanup();\n    this.backdropTransitionController?.cleanup();\n\n    this.disableVerticalScrollBouncingDispose();\n    this.disableVerticalScrollBouncingDispose = noop;\n  }\n\n  panStart(event: UIEvent) {\n    if (\n      !this.isInitialized ||\n      this.panState !== 'idle' ||\n      hasSelectionWithRangeType(event.target)\n    ) {\n      return;\n    }\n\n    this.panState = 'start';\n    this.pannedEl = event.target as HTMLElement;\n    this.panGestureRecognizer.setStartCoords(event);\n  }\n\n  panMove(event: UIEvent) {\n    switch (this.panState) {\n      case 'start':\n        this.panGestureRecognizer.setInitialTimeOnce();\n        this.panGestureRecognizer.setEndCoords(event);\n\n        if (this.preventUntilPanGestureBecomesExpected()) {\n          return;\n        }\n\n        if (this.preventImmediatelyIfPannedElIsNotValid()) {\n          this.panState = 'idle';\n          return;\n        }\n\n        if (this.preventUntilVerticalScrollingOnSheetScrollElBecomesExpected()) {\n          return;\n        }\n\n        if (this.preventImmediatelyIfVerticalScrollingOnPannedElIsScrolled()) {\n          this.panState = 'idle';\n          return;\n        }\n\n        this.panState = 'moving';\n        this.panGestureRecognizer.setStartCoords(event);\n\n        this.sheetHeight = this.sheetEl.offsetHeight;\n\n        this.disableVerticalScrollBouncingDispose =\n          BottomSheetController.disableVerticalScrollBouncingIfNeeded(\n            this.sheetScrollEl,\n            this.pannedEl,\n          );\n\n        if (this.isDynamicSnapPoint) {\n          this.currentSnapPoint = this.sheetHeight;\n          this.snapPointDetents[DYNAMIC_SNAP_POINT_DATA.COMPUTED_INDEX] = this.sheetHeight;\n        }\n        break;\n      case 'moving':\n        this.panGestureRecognizer.setEndCoords(event);\n\n        const { y1, y2 } = this.panGestureRecognizer;\n\n        this.nextSnapPoint = rubberbandIfOutOfBounds(\n          this.currentSnapPoint - ((y2 - y1) / this.sheetHeight) * this.currentSnapPoint,\n          SNAP_POINT_DETENTS.MIN,\n          this.isDynamicSnapPoint ? this.sheetHeight : SNAP_POINT_DETENTS.LARGE,\n        );\n\n        this.calculateSnapPoint(this.nextSnapPoint, true);\n        break;\n    }\n  }\n\n  panEnd() {\n    switch (this.panState) {\n      case 'moving':\n        const prevCurrentSnapPoint = this.currentSnapPoint;\n        this.currentSnapPoint = this.getSnapPointTo(this.nextSnapPoint);\n\n        if (\n          prevCurrentSnapPoint !== this.currentSnapPoint &&\n          this.currentSnapPoint > SNAP_POINT_DETENTS.MIN\n        ) {\n          this.onSnapPointChange(this.currentSnapPoint);\n        }\n\n        this.calculateSnapPoint(this.currentSnapPoint);\n        break;\n    }\n\n    this.panState = 'idle';\n    this.panGestureRecognizer.reset();\n\n    this.disableVerticalScrollBouncingDispose();\n    this.disableVerticalScrollBouncingDispose = noop;\n  }\n\n  private isInitialized = false;\n  private panState: 'idle' | 'start' | 'moving' = 'idle';\n  private pannedEl: HTMLElement | null = null;\n  private sheetHeight = 0;\n  private rafId: number | null = null;\n  private currentSnapPoint = 0;\n  private nextSnapPoint = 0;\n  private snapPointDetents: SnapPointDetents = [0, 0];\n  private unit: 'px' | '%' = '%';\n  private get isDynamicSnapPoint() {\n    return this.unit === 'px';\n  }\n  private disableVerticalScrollBouncingDispose = noop;\n  private readonly sheetScrollEl: HTMLElement | null;\n  private readonly sheetTransitionController: CSSTransitionController<string>;\n  private readonly backdropTransitionController: CSSTransitionController | null;\n  private readonly panGestureRecognizer: UIPanGestureRecognizer;\n  private readonly onSnapPointChange: SnapPointChange;\n  private readonly onDismiss: VoidFunction;\n\n  private calculateSnapPoint(nextSnapPoint: number, immediately = false) {\n    if (this.rafId !== null) {\n      cancelAnimationFrame(this.rafId);\n    }\n\n    if (nextSnapPoint <= SNAP_POINT_DETENTS.MIN) {\n      this.sheetTransitionController.enableTransition();\n      this.backdropTransitionController?.enableTransition();\n      this.panState = 'idle';\n      this.onDismiss();\n      return;\n    }\n\n    const backdropOpacity = clamp(\n      this.isDynamicSnapPoint\n        ? nextSnapPoint / this.sheetHeight\n        : (nextSnapPoint * 2) / SNAP_POINT_DETENTS.LARGE,\n      0,\n      1,\n    );\n\n    this.rafId = requestAnimationFrame(() => {\n      if (immediately) {\n        this.backdropTransitionController?.disableTransition().set(backdropOpacity);\n        this.sheetTransitionController.disableTransition().set(`${nextSnapPoint}${this.unit}`);\n        return;\n      }\n\n      if (this.isDynamicSnapPoint) {\n        this.sheetTransitionController.cleanupOnTransitionEnd();\n      }\n\n      this.backdropTransitionController?.unset();\n      this.sheetTransitionController.enableTransition().set(`${this.currentSnapPoint}${this.unit}`);\n    });\n  }\n\n  private getSnapPointTo(nextSnapPoint: number) {\n    const closestSnapPoint = BottomSheetController.getClosestSnapPoint(\n      this.snapPointDetents,\n      nextSnapPoint,\n    );\n    if (closestSnapPoint !== this.currentSnapPoint) {\n      return closestSnapPoint;\n    }\n\n    const panDirection = this.panGestureRecognizer.direction();\n    if (panDirection.axis !== 'y' || panDirection.direction === null) {\n      return this.currentSnapPoint;\n    }\n\n    const velocity = this.panGestureRecognizer.velocity();\n    if (Math.abs(velocity.y) < DRAG_THRESHOLDS.VELOCITY) {\n      return this.currentSnapPoint;\n    }\n\n    const closestSnapPointByDirection = BottomSheetController.getClosestSnapPointByDirection(\n      this.snapPointDetents,\n      closestSnapPoint,\n      panDirection.direction,\n    );\n\n    return closestSnapPointByDirection;\n  }\n\n  private preventUntilPanGestureBecomesExpected() {\n    return (\n      this.panGestureRecognizer.direction().axis === 'x' ||\n      this.panGestureRecognizer.distance() < DRAG_THRESHOLDS.DISTANCE_FOR_MOVING_START\n    );\n  }\n\n  private preventImmediatelyIfPannedElIsNotValid() {\n    return (\n      this.pannedEl === null ||\n      // Элемент со специальным атрибутом\n      this.pannedEl.closest(`[${BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE_KEY}=true]`) !== null || // eslint-disable-line no-restricted-properties\n      // Элемент за пределами панели.\n      !this.sheetEl.contains(this.pannedEl)\n    );\n  }\n\n  private preventUntilVerticalScrollingOnSheetScrollElBecomesExpected() {\n    if (\n      this.sheetScrollEl === null ||\n      !this.sheetScrollEl.contains(this.pannedEl) ||\n      this.sheetScrollEl.scrollHeight <= this.sheetScrollEl.clientHeight\n    ) {\n      return false;\n    }\n\n    if (this.sheetScrollEl.scrollTop === 0) {\n      return (\n        this.panGestureRecognizer.direction().direction === -1 &&\n        BottomSheetController.isLastSnapPointDetents(this.snapPointDetents, this.currentSnapPoint)\n      );\n    }\n\n    return true;\n  }\n\n  private preventImmediatelyIfVerticalScrollingOnPannedElIsScrolled() {\n    if (\n      /* istanbul ignore next: покрываем TypeScript */\n      this.pannedEl === null ||\n      this.pannedEl === this.sheetEl ||\n      this.pannedEl === this.sheetScrollEl\n    ) {\n      return false;\n    }\n\n    const overflowAncestor = getNearestOverflowAncestor(this.pannedEl, this.sheetEl);\n\n    if (\n      overflowAncestor === null ||\n      this.sheetScrollEl === overflowAncestor ||\n      overflowAncestor.scrollHeight <= overflowAncestor.clientHeight\n    ) {\n      return false;\n    }\n\n    return (\n      overflowAncestor.scrollTop !== 0 || this.panGestureRecognizer.direction().direction === -1\n    );\n  }\n\n  private static disableVerticalScrollBouncingIfNeeded(\n    sheetScrollEl: HTMLElement | null,\n    targetEl: HTMLElement | null,\n  ) {\n    if (\n      sheetScrollEl !== null &&\n      sheetScrollEl.scrollTop <= 0 &&\n      sheetScrollEl.contains(targetEl) &&\n      sheetScrollEl.scrollHeight > sheetScrollEl.clientHeight\n    ) {\n      sheetScrollEl.style.setProperty('overflow-y', 'hidden');\n      return function dispose() {\n        sheetScrollEl.style.removeProperty('overflow-y');\n      };\n    }\n    return noop;\n  }\n\n  private static isLastSnapPointDetents(\n    snapPointDetents: SnapPointDetents,\n    currentY: number,\n  ): boolean {\n    return currentY === snapPointDetents[snapPointDetents.length - 1];\n  }\n\n  private static getClosestSnapPointByDirection(\n    snapPointDetents: SnapPointDetents,\n    currentY: number,\n    direction: -1 | 1,\n  ): number {\n    const foundIndex = snapPointDetents.findIndex((i) => i === currentY);\n    switch (direction) {\n      case -1:\n        return snapPointDetents[foundIndex + 1] ?? snapPointDetents[snapPointDetents.length - 1];\n      case 1:\n        return snapPointDetents[foundIndex - 1] ?? snapPointDetents[0];\n    }\n  }\n\n  private static getClosestSnapPoint(snapPointDetents: SnapPointDetents, currentY: number) {\n    let closest = snapPointDetents[0];\n    let minDifference = Math.abs(snapPointDetents[0] - currentY);\n\n    for (let i = 1; i < snapPointDetents.length; i += 1) {\n      const difference = Math.abs(snapPointDetents[i] - currentY);\n      if (difference < minDifference) {\n        closest = snapPointDetents[i];\n        minDifference = difference;\n      }\n    }\n\n    return closest;\n  }\n}\n", "export type CSSTransitionControllerUnit = 'px' | '%' | '';\n\nexport class CSSTransitionController<V extends number | string = number> {\n  public readonly el: HTMLElement;\n  public readonly property: string;\n\n  constructor(el: HTMLElement, property: string) {\n    this.el = el;\n    this.property = property;\n  }\n\n  set(to: V) {\n    this.el.style.setProperty(this.property, `${to}`);\n    return this;\n  }\n\n  unset() {\n    return this.cleanup();\n  }\n\n  enableTransition() {\n    this.el.style.removeProperty('transition');\n    return this;\n  }\n\n  disableTransition() {\n    this.el.style.setProperty('transition', 'none');\n    return this;\n  }\n\n  cleanup() {\n    this.el.removeEventListener('transitionend', this.handleTransitionEnd);\n    this.el.style.removeProperty('transition');\n    this.el.style.removeProperty(this.property);\n    return this;\n  }\n\n  cleanupOnTransitionEnd() {\n    this.el.addEventListener('transitionend', this.handleTransitionEnd, { once: true });\n    return this;\n  }\n\n  private readonly handleTransitionEnd = () => {\n    this.cleanup();\n    return this;\n  };\n}\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport { useContext, useId, useState } from 'react';\nimport { getNavId } from '../../lib/getNavId';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { AnyFunction } from '../../types';\nimport { ModalOverlay, type ModalOverlayProps } from '../ModalOverlay/ModalOverlay';\nimport { ModalRootContext } from './ModalRootContext';\nimport { VisuallyHiddenModalOverlay } from './VisuallyHiddenModalOverlay/VisuallyHiddenModalOverlay';\nimport type { ModalRootCallbackFunction } from './types';\n\nconst warn = warnOnce('useModalManager');\nexport interface UseModalManager {\n  id?: string;\n  open: boolean;\n  keepMounted: boolean;\n  modalOverlayTestId?: string;\n  noFocusToDialog?: boolean;\n  disableModalOverlay?: boolean;\n  onOpen?: AnyFunction;\n  onOpened?: AnyFunction;\n  onClose?: AnyFunction;\n  onClosed?: AnyFunction;\n}\n\nexport interface UseModalManagerResolvedProps {\n  id: string;\n  open: boolean;\n  noFocusToDialog?: boolean;\n  disableModalOverlay?: boolean;\n  modalOverlayTestId?: string;\n  ModalOverlay: React.ComponentType<ModalOverlayProps>;\n  onOpen?: AnyFunction;\n  onOpened?: AnyFunction;\n  onClose?: AnyFunction;\n  onClosed?: AnyFunction;\n}\n\nexport type UseModalManagerResult =\n  | { mounted: false; shouldPreserveSnapPoint: boolean; id: UseModalManagerResolvedProps['id'] }\n  | ({ mounted: true; shouldPreserveSnapPoint: boolean } & UseModalManagerResolvedProps);\n\nexport const useModalManager = ({\n  id: idProp,\n  open,\n  keepMounted,\n  modalOverlayTestId,\n  noFocusToDialog,\n  disableModalOverlay,\n  onOpen,\n  onOpened,\n  onClose,\n  onClosed,\n}: UseModalManager): UseModalManagerResult => {\n  const context = useContext(ModalRootContext);\n  const generatingId = useId();\n  const id = getNavId({ nav: idProp }, context.isInsideModal ? warn : undefined) || generatingId;\n  const opened = context.isInsideModal ? context.activeModal === id : open;\n  const shouldPreserveSnapPoint = context.isInsideModal ? context.activeModal !== null : false;\n\n  const [unmounted, setUnmounted] = useState(keepMounted ? false : !opened);\n\n  useIsomorphicLayoutEffect(\n    function unsetUnmounted() {\n      if (!keepMounted && opened) {\n        setUnmounted((prev) => (prev ? false : prev));\n      }\n    },\n    [opened, keepMounted],\n  );\n\n  if (unmounted) {\n    return { mounted: false, shouldPreserveSnapPoint, id };\n  }\n\n  return {\n    id,\n    mounted: true,\n    open: opened,\n    shouldPreserveSnapPoint,\n    noFocusToDialog: noFocusToDialog || context.noFocusToDialog,\n    modalOverlayTestId: modalOverlayTestId || context.modalOverlayTestId,\n    disableModalOverlay: disableModalOverlay || context.disableModalOverlay,\n    ModalOverlay: context.isInsideModal ? VisuallyHiddenModalOverlay : ModalOverlay,\n    onOpen: onOpen || getContextCallback(id, context.onOpen),\n    onOpened: onOpened || getContextCallback(id, context.onOpened),\n    onClose: onClose || getContextCallback(id, context.onClose),\n    onClosed: function handleClosed(...args: any[]) {\n      if (!keepMounted) {\n        setUnmounted(true);\n      }\n\n      if (onClosed) {\n        onClosed(...args);\n      } else {\n        context.onClosed?.(id);\n      }\n    },\n  };\n};\n\nfunction getContextCallback(id: string, fn: ModalRootCallbackFunction | undefined) {\n  return fn ? () => fn(id) : undefined;\n}\n", "'use client';\n\nimport { useContext } from 'react';\nimport { setRef } from '../../../lib/utils';\nimport type { ModalOverlayProps } from '../../ModalOverlay/ModalOverlay';\nimport { ModalRootOverlayContext } from '../ModalRootContext';\nimport styles from './VisuallyHiddenModalOverlay.module.css';\n\nexport type VisuallyHiddenModalOverlayProps = ModalOverlayProps;\n\n/**\n * `ModalRoot` выставляет общий `ModalOverlay` для всех потомков, и чтобы не нарушить логику\n * в `ModalPage` и `ModalCard`, в них прокидывается данный компонент, который визуально не виден,\n * но при этом на нём сохраняется возможность взаимодействия.\n *\n * В `getRooRef` отдаёт ссылку на DOM общего `ModalOverlay`.\n *\n * @private\n */\nexport const VisuallyHiddenModalOverlay = ({\n  visible: visibleExcluded,\n  position: positionExcluded,\n  getRootRef,\n  ...restProps\n}: VisuallyHiddenModalOverlayProps) => {\n  const ref = useContext(ModalRootOverlayContext);\n  return (\n    <div\n      {...restProps}\n      aria-hidden=\"true\"\n      className={styles.host}\n      ref={function handleCurrentRefForForwardContextRef() {\n        setRef(ref.current, getRootRef);\n      }}\n    />\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport { type ComponentType, type KeyboardEvent, useCallback } from 'react';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useVirtualKeyboardState } from '../../hooks/useVirtualKeyboardState';\nimport { Keys, pressedKey } from '../../lib/accessibility';\nimport { useCSSTransition, type UseCSSTransitionState } from '../../lib/animation';\nimport { type SnapPoint, type SnapPointChange, useBottomSheet } from '../../lib/sheet';\nimport type { CSSCustomProperties } from '../../types';\nimport { useScrollLock } from '../AppRoot/ScrollContext';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { FocusTrap } from '../FocusTrap/FocusTrap';\nimport { ModalOutlet } from '../ModalOutlet/ModalOutlet';\nimport {\n  ModalOverlay as ModalOverlayDefault,\n  type ModalOverlayProps,\n} from '../ModalOverlay/ModalOverlay';\nimport { ModalPageBase } from './ModalPageBase';\nimport type { ModalPageProps } from './types';\nimport styles from './ModalPage.module.css';\n\nconst transitionStateClassNames: Partial<Record<UseCSSTransitionState, string>> = {\n  appear: styles['documentStateEnter'],\n  appearing: styles['documentStateEntering'],\n\n  enter: styles['documentStateEnter'],\n  entering: styles['documentStateEntering'],\n\n  exiting: styles['documentStateExiting'],\n  exited: styles['documentStateExited'],\n};\n\nexport interface ModalPageInternalProps\n  extends Omit<ModalPageProps, 'nav' | 'keepMounted' | 'settlingHeight' | 'dynamicContentHeight'> {\n  snapPoint: SnapPoint;\n  ModalOverlay?: ComponentType<ModalOverlayProps>;\n  onSnapPointChange?: SnapPointChange;\n}\n\n/**\n * В компоненте заложена вся логика модального окна.\n *\n * @private\n */\nexport const ModalPageInternal = ({\n  open,\n  header,\n  footer,\n  size: desktopMaxWidth,\n  height,\n  children,\n  className,\n  style,\n  snapPoint,\n  onSnapPointChange,\n  getModalContentRef,\n  ModalOverlay = ModalOverlayDefault,\n  modalOverlayTestId,\n  modalContentTestId,\n  modalDismissButtonTestId,\n  modalDismissButtonLabel = 'Закрыть',\n  outsideButtons,\n  noFocusToDialog,\n  hideCloseButton,\n  preventClose,\n  disableContentPanningGesture,\n  restoreFocus,\n  onOpen,\n  onOpened,\n  onClose = noop,\n  onClosed,\n  disableFocusTrap,\n  disableModalOverlay,\n  ...restProps\n}: ModalPageInternalProps) => {\n  const { hasCustomPanelHeaderAfter } = useConfigProvider();\n  const [transitionState, { ref, onTransitionEnd }] = useCSSTransition<HTMLDivElement>(open, {\n    enableAppear: true,\n    onEnter() {\n      onOpen?.();\n    },\n    onEntered() {\n      onOpened?.();\n    },\n    onExited() {\n      onClosed?.();\n    },\n  });\n  const opened = transitionState === 'appeared' || transitionState === 'entered';\n  const hidden = transitionState === 'exited';\n  const closable = !preventClose && opened;\n\n  const { sizeX, isDesktop } = useAdaptivityWithJSMediaQueries();\n  const bottomSheetEnabled = !isDesktop && !preventClose && transitionState !== 'exited';\n  const { opened: keyboardOpened } = useVirtualKeyboardState(bottomSheetEnabled);\n\n  const [{ initialStyle, setSheetEl, setSheetScrollEl, setBackdropEl }, bottomSheetEventHandlers] =\n    useBottomSheet(bottomSheetEnabled, {\n      blocked: keyboardOpened,\n      snapPoint,\n      sheetCSSProperty: '--vkui_internal_ModalPageDocument--snapPoint',\n      backdropCSSProperty: '--vkui_internal--modal-overlay--opacity',\n      onSnapPointChange,\n      onDismiss() {\n        onClose('swipe-down');\n      },\n    });\n  const documentStyle = keyboardOpened\n    ? {\n        '--vkui_internal_ModalPageDocument--safeAreaInsetBottom': '0px',\n        ...initialStyle,\n      }\n    : initialStyle;\n  const handleSheetRef = useExternRef<HTMLDivElement>(setSheetEl, ref);\n  const handleSheetScrollRef = useExternRef<HTMLDivElement>(setSheetScrollEl, getModalContentRef);\n\n  const [desktopMaxWidthClassName, desktopMaxWidthStyle] = resolveDesktopMaxWidth(\n    isDesktop ? desktopMaxWidth : 's',\n  );\n\n  const modalOverlay = !disableModalOverlay && (\n    <ModalOverlay\n      getRootRef={setBackdropEl}\n      data-testid={modalOverlayTestId}\n      visible={open}\n      onClick={\n        closable\n          ? function handleBackdropClick(event) {\n              onClose('click-overlay', event);\n            }\n          : undefined\n      }\n    />\n  );\n  const handleEscKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLElement>) => {\n      if (closable && pressedKey(event) === Keys.ESCAPE) {\n        onClose('escape-key');\n      }\n    },\n    [closable, onClose],\n  );\n\n  useScrollLock(!hidden);\n\n  return (\n    <ModalOutlet\n      hidden={hidden}\n      isDesktop={isDesktop}\n      onKeyDown={handleEscKeyDown}\n      disableModalOverlay={disableModalOverlay}\n    >\n      {modalOverlay}\n      <FocusTrap\n        {...restProps}\n        autoFocus={!noFocusToDialog}\n        restoreFocus={restoreFocus}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        disabled={!opened || hidden || disableFocusTrap}\n        className={classNames(\n          className,\n          styles.host,\n          isDesktop ? styles.hostDesktop : styles.hostMobile,\n          !isDesktop &&\n            (hasCustomPanelHeaderAfter\n              ? styles.hostMobileSafeAreaInsetTopWithCustomOffset\n              : styles.hostMobileSafeAreaInsetTop),\n          desktopMaxWidthClassName,\n          sizeX === 'regular' && 'vkuiInternalModalPage--sizeX-regular',\n        )}\n        style={mergeStyle(mergeStyle(desktopMaxWidthStyle, getHeightCSSVariable(height)), style)}\n      >\n        <ModalPageBase\n          {...bottomSheetEventHandlers}\n          getRootRef={handleSheetRef}\n          getRef={handleSheetScrollRef}\n          style={documentStyle}\n          className={classNames(\n            isDesktop ? styles.documentDesktop : styles.documentMobile,\n            transitionStateClassNames[transitionState],\n          )}\n          onTransitionEnd={onTransitionEnd}\n          isDesktop={isDesktop}\n          disableContentPanningGesture={disableContentPanningGesture}\n          header={header}\n          footer={footer}\n          outsideButtons={outsideButtons}\n          modalContentTestId={modalContentTestId}\n          modalDismissButtonTestId={modalDismissButtonTestId}\n          modalDismissButtonLabel={modalDismissButtonLabel}\n          hideCloseButton={hideCloseButton}\n          closable={closable}\n          onClose={onClose}\n        >\n          {children}\n        </ModalPageBase>\n      </FocusTrap>\n    </ModalOutlet>\n  );\n};\n\nconst desktopMaxWidthClassNames = {\n  s: styles['hostDesktopMaxWidthS'],\n  m: styles['hostDesktopMaxWidthM'],\n  l: styles['hostDesktopMaxWidthL'],\n};\n\nfunction resolveDesktopMaxWidth(\n  desktopMaxWidth: ModalPageInternalProps['size'] = 's',\n): [string | undefined, CSSCustomProperties | undefined] {\n  if (typeof desktopMaxWidth === 'string') {\n    return [desktopMaxWidthClassNames[desktopMaxWidth], undefined];\n  }\n\n  return [\n    undefined,\n    typeof desktopMaxWidth === 'number'\n      ? { '--vkui_internal_ModalPage--desktopMaxWidth': `${desktopMaxWidth}px` }\n      : undefined,\n  ];\n}\n\nfunction getHeightCSSVariable(height?: number | string): CSSCustomProperties | undefined {\n  return height !== undefined\n    ? {\n        '--vkui_internal_ModalPage--userHeight':\n          typeof height === 'number' ? `${height}px` : height,\n      }\n    : undefined;\n}\n", "import { useEffect, useRef, useState } from 'react';\nimport { debounce, throttle } from '@vkontakte/vkjs';\nimport {\n  getVisualViewport,\n  isHTMLContentEditableElement,\n  useDOM,\n  type VisualViewport,\n} from '../lib/dom';\n\nexport type VirtualKeyboardState = { opened: boolean };\n\n/**\n * > см. [Неудобно работать с клавиатурой в ModalPage на iOS #3792](https://github.com/VKCOM/VKUI/discussions/3792)\n *\n * Для реализации модальных окон для тач-устройств, мы вынуждены отслеживать открытие виртуальной\n * клавиатуры. По состоянию `opened` компоненты должны временно блокировать дальнейшее взаимодействие\n * с ними. Например, отключить закрытие по свайпу, чтобы не мешать пользователю работать с полями\n * ввода.\n *\n * Помимо этого в **Safari** и в **Chrome Android** нам нужно отслеживать прокрутку области видимости\n * пользователем, т.к. в упомянутых браузерах, виртуальная клавиатура поднимает контент вверх\n * не изменяя её высоту. Из-за этого появляется возможность прокручивать `window`, что визуально\n * выглядит плохо. В хуке мы ловим фокус на поле ввода и далее, если это тач-устройство, то\n * отлавливаем события прокрутки на `window`, чтобы сохранять текущую её позицию через `scrollTo(x, y)`.\n *\n * **Troubleshooting**\n *\n * - в **Safari** и в **Chrome Android** шапка будет выдвигаться вверх – хаки с выставлением `offsetTop`\n *   из `VisualViewport` порождают reflow/repaint и прыгания контента;\n * - в **Safari** изменение высоты виртуальной клавиатуры, например, на выбор эмодзи, не поднимет\n *   `VisualViewport` из-за чего клавиатура может частично перекрыть элементы интерфейса.\n *\n * **Полезные ссылки**\n *\n * - [The Eccentric Ways of iOS Safari with the Keyboard](https://web.archive.org/web/20240920081850/https://blog.opendigerati.com/the-eccentric-ways-of-ios-safari-with-the-keyboard-b5aa3f34228d?gi=5411141a13e0)\n * - [Dealing with the visual viewport](https://web.archive.org/web/20240920082109/https://rdavis.io/articles/dealing-with-the-visual-viewport)\n * - [How to get the document height in iOS Safari when the on-screen keyboard is open](https://web.archive.org/web/20240920082743/https://martijnhols.nl/gists/how-to-get-document-height-ios-safari-osk)\n */\nexport function useVirtualKeyboardState(enabled = true): VirtualKeyboardState {\n  const { window, document } = useDOM();\n\n  const [focusedEl, setFocusedEl] = useState<Element | null>(null);\n  const [keyboardOpened, setKeyboardOpened] = useState(false);\n\n  const prevVisualViewportRef = useRef<VisualViewport | null>(null);\n\n  useEffect(\n    function handleFocusedEl() {\n      if (!enabled || !window || !document) {\n        return;\n      }\n\n      const handleFocus = (event: FocusEvent | true) => {\n        const activeElement = event === true ? document.activeElement : (event.target as Element);\n\n        if (isHTMLContentEditableElement(activeElement)) {\n          const patchedEvent = event === true ? { type: 'focusin' } : event;\n          switch (patchedEvent.type) {\n            case 'focusin':\n              prevVisualViewportRef.current = getVisualViewport(window);\n              setFocusedEl(activeElement);\n              break;\n            case 'focusout':\n              prevVisualViewportRef.current = null;\n              setKeyboardOpened(false);\n              setFocusedEl(null);\n              break;\n          }\n        }\n      };\n\n      /**\n       * У полей с autoFocus не отлавливаются события `focus`, для этого вызываем обработчик\n       * вручную, чтобы иметь хоть какое-то понимание происходящего.\n       */\n      handleFocus(true);\n\n      const eventOptions = { passive: true, capture: false };\n      document.addEventListener('focusin', handleFocus, eventOptions);\n      document.addEventListener('focusout', handleFocus, eventOptions);\n\n      return () => {\n        prevVisualViewportRef.current = null;\n        document.removeEventListener('focusin', handleFocus, eventOptions);\n        document.removeEventListener('focusout', handleFocus, eventOptions);\n      };\n    },\n    [enabled, window, document],\n  );\n\n  useEffect(\n    function handleVirtualKeyboardOpened() {\n      if (!focusedEl || !window) {\n        return;\n      }\n\n      const handleResize = debounce(() => {\n        /* istanbul ignore if: нереалистичный кейс, проверяем в угоду TypeScript */\n        if (prevVisualViewportRef.current === null) {\n          return;\n        }\n\n        const nextVisualViewport = getVisualViewport(window);\n\n        const { offsetTop: prevOffsetTop, height: prevHeight } = prevVisualViewportRef.current;\n        const { offsetTop: nextOffsetTop, height: nextHeight } = nextVisualViewport;\n        if (prevOffsetTop !== nextOffsetTop || prevHeight !== nextHeight) {\n          setKeyboardOpened(true);\n          prevVisualViewportRef.current = nextVisualViewport;\n        }\n      }, 100);\n\n      if (window.visualViewport) {\n        window.visualViewport.addEventListener('resize', handleResize);\n      } else {\n        window.addEventListener('resize', handleResize);\n      }\n\n      return function dispose() {\n        if (window.visualViewport) {\n          window.visualViewport.removeEventListener('resize', handleResize);\n        } else {\n          window.removeEventListener('resize', handleResize);\n        }\n      };\n    },\n    [focusedEl, window],\n  );\n\n  useEffect(\n    function preventWindowScrollIfKeyboardOpened() {\n      if (!keyboardOpened || !window) {\n        return;\n      }\n\n      const prevent = throttle(() => {\n        if (prevVisualViewportRef.current) {\n          window.scrollTo(0, prevVisualViewportRef.current.offsetTop);\n        }\n      }, 100);\n\n      window.addEventListener('scroll', prevent, { passive: true });\n\n      return function dispose() {\n        window.removeEventListener('scroll', prevent);\n      };\n    },\n    [keyboardOpened, window],\n  );\n\n  return { opened: keyboardOpened };\n}\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport styles from './ModalOutlet.module.css';\n\nexport interface ModalOutletProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'hidden' | 'aria-hidden'> {\n  disableModalOverlay?: boolean;\n  hidden?: boolean;\n  isDesktop?: boolean;\n}\n\n/**\n * @private\n */\nexport const ModalOutlet = ({\n  className,\n  hidden,\n  isDesktop,\n  children,\n  getRootRef,\n  disableModalOverlay,\n  ...restProps\n}: ModalOutletProps) => {\n  return (\n    <div\n      ref={getRootRef}\n      className={classNames(\n        className,\n        styles.host,\n        isDesktop && styles.hostDesktop,\n        disableModalOverlay && styles.disableModalOverlay,\n      )}\n      hidden={hidden}\n      aria-hidden={hidden}\n      {...restProps}\n    >\n      {children}\n    </div>\n  );\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport { Flex, type FlexProps } from '../Flex/Flex';\nimport styles from './ModalOutsideButtons.module.css';\n\n/**\n * @private\n */\nexport const ModalOutsideButtons = ({ className, children, ...restProps }: FlexProps) => {\n  return (\n    <Flex direction=\"column\" className={classNames(styles.host, className)} {...restProps}>\n      {children}\n    </Flex>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport { Icon20Cancel } from '@vkontakte/icons';\nimport { classNames, hasReactNode, noop } from '@vkontakte/vkjs';\nimport { BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE } from '../../lib/sheet';\nimport { type HasRef, type HTMLAttributesWithRootRef } from '../../types';\nimport { ModalOutsideButton } from '../ModalOutsideButton/ModalOutsideButton';\nimport { ModalOutsideButtons } from '../ModalOutsideButtons/ModalOutsideButtons';\nimport { ModalPageContent } from '../ModalPageContent/ModalPageContent';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { type ModalPageInternalProps } from './ModalPageInternal';\nimport styles from './ModalPage.module.css';\n\nexport interface ModalPageBaseProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'title'>,\n    HasRef<HTMLDivElement>,\n    Pick<\n      ModalPageInternalProps,\n      | 'disableContentPanningGesture'\n      | 'header'\n      | 'children'\n      | 'footer'\n      | 'outsideButtons'\n      | 'modalContentTestId'\n      | 'modalDismissButtonTestId'\n      | 'modalDismissButtonLabel'\n      | 'hideCloseButton'\n      | 'onClose'\n    > {\n  isDesktop?: boolean;\n  closable?: boolean;\n}\n\nexport const ModalPageBase = ({\n  isDesktop,\n  getRef,\n  disableContentPanningGesture,\n  header,\n  children,\n  footer,\n  outsideButtons,\n  modalContentTestId,\n  modalDismissButtonTestId,\n  modalDismissButtonLabel,\n  hideCloseButton,\n  closable,\n  onClose = noop,\n  ...restProps\n}: ModalPageBaseProps) => {\n  const disableContentPanningGestureProp = disableContentPanningGesture\n    ? BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE\n    : undefined;\n\n  const closeButton =\n    hideCloseButton || !isDesktop ? null : (\n      <ModalOutsideButton\n        data-testid={modalDismissButtonTestId}\n        onClick={\n          closable\n            ? function handleDismissButtonClick(event) {\n                onClose('click-close-button', event);\n              }\n            : noop\n        }\n        aria-label={modalDismissButtonLabel}\n      >\n        <Icon20Cancel />\n      </ModalOutsideButton>\n    );\n\n  return (\n    <RootComponent role=\"document\" baseClassName={styles.document} {...restProps}>\n      <div\n        className={classNames(\n          styles.children,\n          isDesktop ? styles.childrenDesktop : styles.childrenMobile,\n        )}\n      >\n        {hasReactNode(header) && header}\n        <ModalPageContent\n          getRootRef={getRef}\n          data-testid={modalContentTestId}\n          {...disableContentPanningGestureProp}\n        >\n          {children}\n        </ModalPageContent>\n        {hasReactNode(footer) && footer}\n      </div>\n      {isDesktop && (closeButton || outsideButtons) && (\n        <ModalOutsideButtons>\n          {closeButton}\n          {outsideButtons}\n        </ModalOutsideButtons>\n      )}\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useModalContext } from '../../context/ModalContext';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasRef, HasRootRef } from '../../types';\nimport { PanelHeader, type PanelHeaderProps } from '../PanelHeader/PanelHeader';\nimport { Separator } from '../Separator/Separator';\nimport styles from './ModalPageHeader.module.css';\n\nexport interface ModalPageHeaderProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    Omit<PanelHeaderProps, 'fixed' | 'shadow' | 'delimiter'>,\n    HasRef<HTMLDivElement>,\n    HasRootRef<HTMLDivElement> {\n  /**\n   * Отключение разделителя.\n   */\n  noSeparator?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/modal-page-header\n */\nexport const ModalPageHeader = ({\n  children,\n  noSeparator = false,\n  getRootRef,\n  className,\n  typographyProps,\n  ...restProps\n}: ModalPageHeaderProps): React.ReactNode => {\n  const platform = usePlatform();\n  const { isDesktop, sizeX } = useAdaptivityWithJSMediaQueries();\n  const modalContext = useModalContext();\n\n  return (\n    <>\n      <div\n        className={classNames(\n          styles.host,\n          platform !== 'vkcom' && styles.hostWithGaps,\n          isDesktop && styles.hostDesktop,\n        )}\n        ref={getRootRef}\n      >\n        <PanelHeader\n          className={classNames('vkuiInternalModalPageHeader__in', className)}\n          typographyProps={{\n            Component: 'h2',\n            id: modalContext.labelId,\n            ...typographyProps,\n          }}\n          {...restProps}\n          fixed={false}\n          delimiter=\"none\"\n          transparent\n        >\n          {children}\n        </PanelHeader>\n      </div>\n      {!noSeparator && <Separator padding={sizeX !== 'regular'} />}\n    </>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport { type ComponentType, type KeyboardEvent, type ReactNode, useCallback } from 'react';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useFocusTrap } from '../../hooks/useFocusTrap';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useVirtualKeyboardState } from '../../hooks/useVirtualKeyboardState';\nimport { Keys, pressedKey } from '../../lib/accessibility';\nimport { useCSSTransition, type UseCSSTransitionState } from '../../lib/animation';\nimport { useBottomSheet } from '../../lib/sheet';\nimport { useScrollLock } from '../AppRoot/ScrollContext';\nimport { ModalCardBase } from '../ModalCardBase/ModalCardBase';\nimport { ModalOutlet } from '../ModalOutlet/ModalOutlet';\nimport {\n  ModalOverlay as ModalOverlayDefault,\n  type ModalOverlayProps,\n} from '../ModalOverlay/ModalOverlay';\nimport type { ModalCardProps } from './types';\nimport styles from './ModalCard.module.css';\n\nconst sizeByPlatformClassNames = {\n  vkcom: styles['hostMaxWidthS'],\n  ios: styles['hostMaxWidthM'],\n  android: styles['hostMaxWidthL'],\n};\n\nconst transitionStateClassNames: Partial<Record<UseCSSTransitionState, string>> = {\n  appear: styles['hostStateEnter'],\n  appearing: styles['hostStateEntering'],\n\n  enter: styles['hostStateEnter'],\n  entering: styles['hostStateEntering'],\n\n  exiting: styles['hostStateExiting'],\n  exited: styles['hostStateExited'],\n};\n\nexport interface ModalCardInternalProps extends Omit<ModalCardProps, 'nav' | 'keepMounted'> {\n  ModalOverlay?: ComponentType<ModalOverlayProps>;\n}\n\n/**\n * В компоненте заложена вся логика модального окна.\n *\n * @private\n */\nexport const ModalCardInternal = ({\n  icon,\n  title,\n  titleComponent,\n  description,\n  descriptionComponent,\n  children,\n  actions,\n  size,\n  open,\n  style: styleProp,\n  className,\n  preventClose,\n  ModalOverlay = ModalOverlayDefault,\n  modalOverlayTestId,\n  modalDismissButtonTestId,\n  getRootRef,\n  dismissButtonMode,\n  dismissLabel,\n  noFocusToDialog,\n  restoreFocus,\n  onOpen,\n  onOpened,\n  onClose = noop,\n  onClosed,\n  disableFocusTrap,\n  disableModalOverlay,\n  ...restProps\n}: ModalCardInternalProps): ReactNode => {\n  const platform = usePlatform();\n  const [transitionState, { ref, onTransitionEnd }] = useCSSTransition<HTMLDivElement>(open, {\n    enableAppear: true,\n    onEnter() {\n      onOpen?.();\n    },\n    onEntered() {\n      onOpened?.();\n    },\n    onExited() {\n      onClosed?.();\n    },\n  });\n  const opened = transitionState === 'appeared' || transitionState === 'entered';\n  const hidden = transitionState === 'exited';\n  const closable = !preventClose && opened;\n\n  const { isDesktop } = useAdaptivityWithJSMediaQueries();\n  const bottomSheetEnabled = !isDesktop && !preventClose && transitionState !== 'exited';\n\n  const { opened: keyboardOpened } = useVirtualKeyboardState(bottomSheetEnabled);\n  const [{ setSheetEl, setBackdropEl }, bottomSheetEventHandlers] = useBottomSheet(\n    bottomSheetEnabled,\n    {\n      blocked: keyboardOpened,\n      snapPoint: 'auto',\n      sheetCSSProperty: '--vkui_internal_ModalCard--translateY',\n      backdropCSSProperty: '--vkui_internal--modal-overlay--opacity',\n      onDismiss() {\n        onClose?.('swipe-down');\n      },\n    },\n  );\n  const handleRef = useExternRef<HTMLDivElement>(setSheetEl, ref, getRootRef);\n  const style = keyboardOpened\n    ? {\n        ...styleProp,\n        '--vkui_internal_ModalCard--safeAreaInsetBottom': '0px',\n      }\n    : styleProp;\n  const modalOverlay = !disableModalOverlay && (\n    <ModalOverlay\n      getRootRef={setBackdropEl}\n      data-testid={modalOverlayTestId}\n      visible={open}\n      onClick={\n        closable\n          ? function handleBackdropClick(event) {\n              onClose('click-overlay', event);\n            }\n          : undefined\n      }\n    />\n  );\n  const handleEscKeyDown = useCallback(\n    (event: KeyboardEvent<HTMLElement>) => {\n      if (closable && pressedKey(event) === Keys.ESCAPE) {\n        onClose('escape-key');\n      }\n    },\n    [closable, onClose],\n  );\n\n  useScrollLock(!hidden);\n  useFocusTrap(ref, {\n    autoFocus: !noFocusToDialog,\n    disabled: !opened || hidden || disableFocusTrap,\n    restoreFocus,\n  });\n\n  return (\n    <ModalOutlet\n      hidden={hidden}\n      isDesktop={isDesktop}\n      onKeyDown={handleEscKeyDown}\n      disableModalOverlay={disableModalOverlay}\n    >\n      {modalOverlay}\n      <ModalCardBase\n        {...restProps}\n        tabIndex={-1}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        getRootRef={handleRef}\n        style={style}\n        className={classNames(\n          styles.host,\n          isDesktop ? styles.hostDesktop : styles.hostMobile,\n          sizeByPlatformClassNames[platform],\n          transitionStateClassNames[transitionState],\n          className,\n        )}\n        onTransitionEnd={onTransitionEnd}\n        {...bottomSheetEventHandlers}\n        icon={icon}\n        title={title}\n        titleComponent={titleComponent}\n        description={description}\n        descriptionComponent={descriptionComponent}\n        actions={actions}\n        onClose={() => onClose('click-close-button')}\n        size={size}\n        modalDismissButtonTestId={modalDismissButtonTestId}\n        dismissButtonMode={dismissButtonMode}\n        dismissLabel={dismissLabel}\n      >\n        {children}\n      </ModalCardBase>\n    </ModalOutlet>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon20Cancel, Icon24Dismiss } from '@vkontakte/icons';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { AdaptivityContext } from '../AdaptivityProvider/AdaptivityContext';\nimport { ModalOutsideButton } from '../ModalOutsideButton/ModalOutsideButton';\nimport { ModalOutsideButtons } from '../ModalOutsideButtons/ModalOutsideButtons';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Spacing } from '../Spacing/Spacing';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { Title } from '../Typography/Title/Title';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './ModalCardBase.module.css';\n\nexport interface ModalCardBaseProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'title'> {\n  /**\n   * Иконка.\n   *\n   * Может быть компонентом иконки, например, `<Icon56MoneyTransferOutline />`, или `<Avatar size={72} src=\"\" />`.\n   */\n  icon?: React.ReactNode;\n\n  /**\n   * Заголовок карточки.\n   */\n  title?: React.ReactNode;\n  /**\n   * Позволяет поменять тег используемый для заголовка.\n   */\n  titleComponent?: React.ElementType;\n  /**\n   * Позволяет задать id для заголовка. Используется, чтобы связать модальное окно и title через aria-labelledby, тем самым задав модальному окну имя через title.\n   */\n  titleId?: string;\n\n  /**\n   * Описание.\n   */\n  description?: React.ReactNode;\n  /**\n   * Позволяет поменять тег используемый для описания.\n   */\n  descriptionComponent?: React.ElementType;\n\n  /**\n   * Кнопки-действия. Принимает [`Button`](https://vkui.io/components/button) с параметрами:\n   *\n   * - `size=\"l\" mode=\"primary\" stretched`\n   * - `size=\"l\" mode=\"secondary\" stretched`.\n   *\n   * Для набора кнопок используйте [`ButtonGroup`](https://vkui.io/components/button-group) с параметрами:\n   *\n   * - `gap=\"s\" mode=\"horizontal\" stretched`\n   * - `gap=\"m\" mode=\"vertical\" stretched`.\n   */\n  actions?: React.ReactNode;\n  /**\n   * Обработчик закрытия модального окна.\n   */\n  onClose?: VoidFunction;\n\n  /**\n   * Текст кнопки закрытия. Делает ее доступной для ассистивных технологий.\n   */\n  dismissLabel?: string;\n\n  /**\n   * Задаёт контенту максимальную ширину для десктопной версии.\n   */\n  size?: number;\n\n  /**\n   * Передает атрибут `data-testid` для кнопки закрытия.\n   */\n  modalDismissButtonTestId?: string;\n  /**\n   * Расположение кнопки закрытия (внутри и вне `popout'a`).\n   *\n   * Доступно только в `compact`-режиме.\n   *\n   * На `iOS` в `regular`-режиме всегда включен `inside`.\n   *\n   * ⚠️ ВНИМАНИЕ: использование `none` скрывает крестик, это негативно сказывается на пользовательском опыте.\n   */\n  dismissButtonMode?: 'inside' | 'outside' | 'none';\n  /**\n   * Позволяет отключить возможность закрытия модальной страницы (смахивание, клавиша `ESC`, нажатие на подложку).\n   *\n   * ⚠️ ВНИМАНИЕ: использование этой опции негативно сказывается на пользовательском опыте.\n   */\n  preventClose?: boolean;\n  /**\n   * Управляющие элементы под кнопкой закрытия.\n   *\n   * Доступно только в `compact`-режиме. Рекомендуется размещать иконки размера 20, обернутые в ModalOutsideButton.\n   *\n   */\n  outsideButtons?: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/modal-card-base\n */\nexport const ModalCardBase = ({\n  icon,\n  title,\n  titleComponent = 'span',\n  description,\n  descriptionComponent = 'span',\n  children,\n  actions,\n  onClose,\n  dismissLabel = 'Закрыть',\n  size: sizeProp,\n  modalDismissButtonTestId,\n  dismissButtonMode = 'outside',\n  preventClose,\n  outsideButtons,\n  titleId,\n  ...restProps\n}: ModalCardBaseProps): React.ReactNode => {\n  const platform = usePlatform();\n  const { isDesktop } = useAdaptivityWithJSMediaQueries();\n\n  const size = isDesktop ? sizeProp : undefined;\n  const withSafeZone =\n    !icon &&\n    (dismissButtonMode === 'inside' ||\n      (platform === 'ios' && !isDesktop && dismissButtonMode !== 'none'));\n\n  const hasTitle = hasReactNode(title);\n  const hasDescription = hasReactNode(description);\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        'vkuiInternalModalCardBase',\n        platform === 'ios' && styles.ios,\n        isDesktop && styles.desktop,\n        withSafeZone && styles.withSafeZone,\n      )}\n      baseStyle={{\n        maxWidth: size,\n      }}\n    >\n      <div className={styles.container}>\n        {hasReactNode(icon) && <div className={styles.icon}>{icon}</div>}\n        {hasReactNode(title) && (\n          <Title\n            id={titleId}\n            level=\"2\"\n            weight=\"2\"\n            className={styles.title}\n            Component={titleComponent}\n          >\n            {title}\n          </Title>\n        )}\n        {hasTitle && hasDescription && <Spacing size={8} />}\n        {hasDescription && (\n          <AdaptivityContext.Provider value={{ sizeY: 'regular' }}>\n            <Subhead className={styles.description} Component={descriptionComponent}>\n              {description}\n            </Subhead>\n          </AdaptivityContext.Provider>\n        )}\n\n        {children}\n\n        {hasReactNode(actions) && <div className={styles.actions}>{actions}</div>}\n\n        {isDesktop && (dismissButtonMode === 'outside' || outsideButtons) && (\n          <ModalOutsideButtons>\n            {dismissButtonMode === 'outside' && (\n              <ModalOutsideButton\n                aria-label={dismissLabel}\n                data-testid={modalDismissButtonTestId}\n                onClick={onClose}\n              >\n                <Icon20Cancel />\n              </ModalOutsideButton>\n            )}\n            {outsideButtons}\n          </ModalOutsideButtons>\n        )}\n\n        {(dismissButtonMode === 'inside' ||\n          (platform === 'ios' && !isDesktop && dismissButtonMode !== 'none')) && (\n          <Tappable\n            className={styles.dismiss}\n            onClick={onClose}\n            hoverMode=\"opacity\"\n            activeMode=\"opacity\"\n            data-testid={modalDismissButtonTestId}\n          >\n            <VisuallyHidden>{dismissLabel}</VisuallyHidden>\n            {platform === 'ios' ? <Icon24Dismiss /> : <Icon20Cancel />}\n          </Tappable>\n        )}\n      </div>\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport { ModalContext } from '../../context/ModalContext';\nimport { useModalManager } from '../ModalRoot/useModalManager';\nimport { ModalCardInternal } from './ModalCardInternal';\nimport type { ModalCardProps } from './types';\n\n/**\n * @see https://vkui.io/components/modal-card\n */\nexport const ModalCard = ({\n  id: idProp,\n  nav,\n  open = false,\n  modalOverlayTestId,\n  noFocusToDialog,\n  onOpen,\n  onOpened,\n  onClose,\n  onClosed,\n  keepMounted = false,\n  disableModalOverlay,\n  ...restProps\n}: ModalCardProps): React.ReactNode => {\n  const {\n    mounted,\n    shouldPreserveSnapPoint: excludedProp,\n    id,\n    ...resolvedProps\n  } = useModalManager({\n    id: nav || idProp,\n    open,\n    keepMounted,\n    modalOverlayTestId,\n    noFocusToDialog,\n    disableModalOverlay,\n    onOpen,\n    onOpened,\n    onClose,\n    onClosed,\n  });\n\n  if (mounted === false) {\n    return null;\n  }\n\n  return (\n    <ModalContext.Provider value={id}>\n      <ModalCardInternal\n        id={id}\n        aria-labelledby={`${id}-label`}\n        titleId={`${id}-label`}\n        {...resolvedProps}\n        {...restProps}\n      />\n    </ModalContext.Provider>\n  );\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport { RootComponent, type RootComponentProps } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './Badge.module.css';\n\nconst stylesMode = {\n  new: styles.modeNew,\n  prominent: styles.modeProminent,\n};\n\nexport interface BadgeProps extends RootComponentProps<HTMLSpanElement> {\n  /**\n   * Режим отображения компонента.\n   */\n  mode?: 'new' | 'prominent';\n}\n\n/**\n * @see https://vkui.io/components/badge\n */\nexport const Badge = ({ mode = 'new', children, ...restProps }: BadgeProps): React.ReactNode => (\n  <RootComponent\n    Component=\"span\"\n    baseClassName={classNames(styles.host, 'vkuiInternalBadge', stylesMode[mode])}\n    {...restProps}\n  >\n    {children && <VisuallyHidden>{children}</VisuallyHidden>}\n  </RootComponent>\n);\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { Tappable } from '../Tappable/Tappable';\nimport { captionClassNames } from '../Typography/Caption/Caption';\nimport { footnoteClassNames } from '../Typography/Footnote/Footnote';\nimport { type TypographyProps, weightClassNames } from '../Typography/Typography';\nimport { ContentBadgeContext } from './ContentBadgeContext';\nimport { ContentBadgeIconSlot } from './ContentBadgeIconSlot';\nimport type { ContentBadgeModeType, ContentBadgeSizeType } from './types';\nimport styles from './ContentBadge.module.css';\n\nconst appearanceClassNames = {\n  'accent': {\n    primary: styles.primaryAccent,\n    secondary: styles.secondaryAccent,\n    outline: styles.outlineAccent,\n  },\n  'neutral': {\n    primary: styles.primaryNeutral,\n    secondary: styles.secondaryNeutral,\n    outline: styles.outlineNeutral,\n  },\n  'accent-green': {\n    primary: styles.primaryAccentGreen,\n    secondary: styles.secondaryAccentGreen,\n    outline: styles.outlineAccentGreen,\n  },\n  'accent-red': {\n    primary: styles.primaryAccentRed,\n    secondary: styles.secondaryAccentRed,\n    outline: styles.outlineAccentRed,\n  },\n  'overlay': {\n    primary: styles.primaryOverlay,\n    secondary: styles.secondaryOverlay,\n    outline: styles.outlineOverlay,\n  },\n};\n\nconst sizeClassNames = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n  l: styles.sizeL,\n};\n\nexport interface ContentBadgeProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement>,\n    Pick<TypographyProps, 'weight'> {\n  /**\n   * Вид отображения.\n   */\n  mode?: ContentBadgeModeType;\n  /**\n   * Цвет оформления.\n   */\n  appearance?: 'accent' | 'neutral' | 'accent-green' | 'accent-red' | 'overlay';\n  /**\n   * Включает приближение значения закругления к форме круга.\n   *\n   * > Note: игнорируется при size=\"s\".\n   */\n  capsule?: boolean;\n  /**\n   * Определяет отступы и размер текста.\n   *\n   * Соответствие размеров иконок в слоте `<ContentBadge.SlotIcon />`:\n   *\n   * - size=\"s\" – ⚠️ не поддерживает иконки;\n   * - size=\"m\" – при **одиночной** иконке `16x16`, в остальных случаях `12x12`;\n   * - size=\"l\" – при **одиночной** иконке `20x20`, в остальных случаях `16x16`.\n   */\n  size?: ContentBadgeSizeType;\n}\n\n/**\n * Компонент, который позволяет добавить текстовые или иконочные бейджи. Как правило, используются\n * поверх других элементов или рядом с ними.\n *\n * Используйте `ContentBadge.SlotIcon` для размещения иконок внутри `ContentBadge`.\n *\n * @since 6.1.0\n * @see https://vkui.io/components/content-badge\n */\nexport const ContentBadge: React.FC<ContentBadgeProps> & {\n  IconSlot: typeof ContentBadgeIconSlot;\n  /**\n   * @deprecated Since 7.3.4. Используйте `IconSlot`.\n   */\n  SlotIcon: typeof ContentBadgeIconSlot;\n} = ({\n  appearance = 'accent',\n  mode = 'primary',\n  capsule,\n  size = 'm',\n  weight = '2',\n  children,\n  ...restProps\n}: ContentBadgeProps) => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const typographyClassNames = size === 'l' ? footnoteClassNames(sizeY) : captionClassNames(sizeY);\n\n  return (\n    <Tappable\n      baseClassName={classNames(\n        styles.host,\n        size !== 's' && capsule && styles.capsule,\n        mode === 'outline' && styles.modeOutline,\n        appearanceClassNames[appearance][mode],\n        sizeClassNames[size],\n        typographyClassNames,\n        weightClassNames(weight),\n      )}\n      DefaultComponent=\"span\"\n      hoverMode=\"opacity\"\n      activeMode=\"opacity\"\n      {...restProps}\n    >\n      <ContentBadgeContext.Provider\n        value={{ isSingleChild: React.Children.count(children) === 1, size }}\n      >\n        {children}\n      </ContentBadgeContext.Provider>\n    </Tappable>\n  );\n};\n\nContentBadge.IconSlot = ContentBadgeIconSlot;\nContentBadge.SlotIcon = ContentBadgeIconSlot;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(ContentBadge.IconSlot, 'ContentBadge.IconSlot');\n  defineComponentDisplayNames(ContentBadge.SlotIcon, 'ContentBadge.SlotIcon');\n}\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport type { ContentBadgeSizeType } from './types';\n\ntype ContentBadgeContextValue = {\n  isSingleChild: boolean;\n  size: ContentBadgeSizeType;\n};\n\n/**\n * Контекст для внутреннего использовния.\n * @private\n */\nexport const ContentBadgeContext: React.Context<ContentBadgeContextValue> =\n  React.createContext<ContentBadgeContextValue>({\n    isSingleChild: false,\n    size: 'm',\n  });\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { ContentBadgeContext } from './ContentBadgeContext';\nimport styles from './ContentBadge.module.css';\n\nconst iconsClassNames = {\n  m: null,\n  l: styles.iconSlotSizeL,\n};\n\nconst singleIconClassNames = {\n  m: styles.singleIconSlotSizeM,\n  l: styles.singleIconSlotSizeL,\n};\n\ntype ContentBadgeIconSlotProps = HTMLAttributesWithRootRef<HTMLDivElement>;\n\nexport const ContentBadgeIconSlot = ({\n  className,\n  getRootRef,\n  children,\n  ...restProps\n}: ContentBadgeIconSlotProps) => {\n  const { size, isSingleChild } = React.useContext(ContentBadgeContext);\n\n  if (size === 's') {\n    return null;\n  }\n\n  return (\n    <div\n      ref={getRootRef}\n      className={classNames(\n        className,\n        isSingleChild ? singleIconClassNames[size] : iconsClassNames[size],\n      )}\n      {...restProps}\n    >\n      {children}\n    </div>\n  );\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport type { AlignType, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './ButtonGroup.module.css';\n\nconst stylesMode = {\n  vertical: styles.modeVertical,\n  horizontal: styles.modeHorizontal,\n};\n\nconst stylesGap = {\n  space: styles.gapSpace,\n  s: styles.gapS,\n  m: styles.gapM,\n};\n\nconst stylesAlign = {\n  left: styles.alignLeft,\n  center: styles.alignCenter,\n  right: styles.alignRight,\n};\n\nexport interface ButtonGroupProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Задает расположение элементов внутри группы, вертикальное или горизонтальное.\n   */\n  mode?: 'vertical' | 'horizontal';\n  /**\n   * Выставляет в зависимости от `mode` отступ по вертикали или горизонтали.\n   */\n  gap?: 'none' | 'space' | 's' | 'm';\n  /**\n   * Растягивает компонент на всю ширину контейнера.\n   *\n   * Note: Для потомков соответствующее поведение нужно определять самостоятельно, где это необходимо.\n   */\n  stretched?: boolean;\n  /**\n   * Горизонтальное выравнивание элементов внутри группы.\n   */\n  align?: AlignType;\n}\n\n/**\n * @see https://vkui.io/components/button-group\n */\nexport const ButtonGroup = ({\n  mode = 'horizontal',\n  gap = 'm',\n  stretched = false,\n  align = 'left' /* NOTE: Чтобы блоки по-умолчанию не растягивались на всю ширину контейнера */,\n  ...restProps\n}: ButtonGroupProps): React.ReactNode => {\n  return (\n    <RootComponent\n      baseClassName={classNames(\n        styles.host,\n        stylesMode[mode],\n        gap !== 'none' && stylesGap[gap],\n        stretched && styles.stretched,\n        stylesAlign[align],\n      )}\n      role=\"group\"\n      {...restProps}\n    />\n  );\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Card.module.css';\n\nexport interface CardProps extends HTMLAttributesWithRootRef<HTMLDivElement>, HasComponent {\n  /**\n   * Внешний вид карточки.\n   */\n  mode?: 'tint' | 'shadow' | 'outline' | 'outline-tint' | 'plain';\n}\n\n/**\n * @see https://vkui.io/components/card\n */\nexport const Card = ({\n  mode = 'tint',\n  Component = 'li',\n  ...restProps\n}: CardProps): React.ReactNode => {\n  const withBorder = mode === 'outline' || mode === 'outline-tint';\n  return (\n    <RootComponent\n      {...restProps}\n      Component={Component}\n      baseClassName={classNames(\n        styles.host,\n        mode === 'outline' && styles.modeOutline,\n        mode === 'shadow' && styles.modeShadow,\n        mode === 'plain' && styles.modePlain,\n        withBorder && styles.withBorder,\n      )}\n    />\n  );\n};\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './CardGrid.module.css';\n\nconst sizeXClassNames = {\n  none: styles.sizeXNone,\n  compact: styles.sizeXCompact,\n};\n\nconst stylesSize = {\n  s: 'vkuiInternalCardGrid--size-s',\n  m: 'vkuiInternalCardGrid--size-m',\n  l: 'vkuiInternalCardGrid--size-l',\n};\n\nexport interface CardGridProps extends HTMLAttributesWithRootRef<HTMLDivElement>, HasComponent {\n  /**\n   * Размер карточек.\n   */\n  size?: 's' | 'm' | 'l';\n  /**\n   * Если true, то вокруг компонента присутствуют стандартные отсупы сверху/снизу и слева/справа.\n   */\n  padding?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/card-grid\n */\nexport const CardGrid = ({\n  size = 's',\n  padding = false,\n  Component = 'ul',\n  ...restProps\n}: CardGridProps): React.ReactNode => {\n  const { sizeX = 'none' } = useAdaptivity();\n\n  return (\n    <RootComponent\n      {...restProps}\n      Component={Component}\n      baseClassName={classNames(\n        styles.host,\n        'vkuiInternalCardGrid',\n        padding && styles.padding,\n        stylesSize[size],\n        sizeX !== 'regular' && sizeXClassNames[sizeX],\n      )}\n    />\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useDOM } from '../../lib/dom';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { HorizontalScroll, type HorizontalScrollProps } from '../HorizontalScroll/HorizontalScroll';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './CardScroll.module.css';\n\nconst stylesSize = {\n  s: 'vkuiInternalCardScroll--size-s',\n  m: 'vkuiInternalCardScroll--size-m',\n  l: 'vkuiInternalCardScroll--size-l',\n};\n\nexport interface CardScrollProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement>,\n    HasComponent,\n    Pick<HorizontalScrollProps, 'showArrows' | 'prevButtonTestId' | 'nextButtonTestId'> {\n  /**\n   * При `size=false` ширина `Card` будет регулироваться контентом внутри. В остальных случаях — будет явно задана в процентах.\n   */\n  size?: 's' | 'm' | 'l' | false;\n  /**\n   * Добавляет отступы по краям слева и справа.\n   */\n  padding?: boolean;\n  /**\n   * Позволяет поменять тег используемый для обертки над карточками.\n   */\n  CardsListComponent?: React.ElementType;\n}\n\n/**\n * @see https://vkui.io/components/card-scroll\n */\nexport const CardScroll = ({\n  children,\n  size = 's',\n  showArrows = true,\n  padding = false,\n  CardsListComponent = 'ul',\n  prevButtonTestId,\n  nextButtonTestId,\n  ...restProps\n}: CardScrollProps): React.ReactNode => {\n  const refContainer = React.useRef<HTMLDivElement>(null);\n  const direction = useConfigDirection();\n\n  const { window } = useDOM();\n\n  const getPadding = (container: HTMLElement) => {\n    return parseFloat(\n      window!\n        .getComputedStyle(container)\n        .getPropertyValue('--vkui_internal--CardScroll_horizontal_padding'),\n    );\n  };\n\n  const slideOffsetFromStart = (slide: HTMLElement) => {\n    const containerWidth = refContainer.current?.offsetWidth || 0;\n    return direction === 'rtl'\n      ? containerWidth - slide.offsetLeft - slide.offsetWidth\n      : slide.offsetLeft;\n  };\n\n  function getScrollToLeft(offset: number): number {\n    if (!refContainer.current) {\n      return offset;\n    }\n    const containerWidth = refContainer.current.offsetWidth;\n\n    const getMarginEnd = (el: HTMLElement) => {\n      const computedStyles = window!.getComputedStyle(el);\n      return (\n        parseInt(computedStyles.marginInlineEnd) ||\n        (direction === 'rtl'\n          ? parseInt(computedStyles.marginLeft)\n          : parseInt(computedStyles.marginRight)) ||\n        0\n      );\n    };\n\n    const slideIndex = ([...refContainer.current.children] as HTMLElement[]).findIndex(\n      (el: HTMLElement) =>\n        slideOffsetFromStart(el) + el.offsetWidth + getMarginEnd(el) - offset >= 0,\n    );\n\n    if (slideIndex === -1) {\n      return offset;\n    }\n\n    const slide = refContainer.current.children[slideIndex] as HTMLElement;\n    const padding = getPadding(refContainer.current);\n    const scrollTo = slideOffsetFromStart(slide) - (containerWidth - slide.offsetWidth) + padding;\n\n    if (scrollTo <= 2 * padding) {\n      return 0;\n    }\n\n    return scrollTo;\n  }\n\n  function getScrollToRight(offset: number): number {\n    if (!refContainer.current) {\n      return offset;\n    }\n    const containerWidth = refContainer.current.offsetWidth;\n    const slide = Array.prototype.find.call(refContainer.current.children, (el: HTMLElement) => {\n      return slideOffsetFromStart(el) + el.offsetWidth - offset > containerWidth;\n    }) as HTMLElement;\n\n    if (!slide) {\n      return offset;\n    }\n\n    const padding = getPadding(refContainer.current);\n    return slideOffsetFromStart(slide) - padding;\n  }\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        'vkuiInternalCardScroll',\n        size !== false && stylesSize[size],\n        padding && styles.withPaddings,\n      )}\n    >\n      <HorizontalScroll\n        getScrollToLeft={getScrollToLeft}\n        getScrollToRight={getScrollToRight}\n        showArrows={showArrows}\n        prevButtonTestId={prevButtonTestId}\n        nextButtonTestId={nextButtonTestId}\n        ContentWrapperComponent={CardsListComponent}\n        contentWrapperRef={refContainer}\n        contentWrapperClassName={styles.in}\n      >\n        {children}\n      </HorizontalScroll>\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { getFetchPriorityProp } from '../../lib/utils';\nimport type { HasComponent, HasRef, HasRootRef } from '../../types';\nimport { Card, type CardProps } from '../Card/Card';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Text } from '../Typography/Text/Text';\nimport styles from './ContentCard.module.css';\n\nexport interface ContentCardProps\n  extends HasRootRef<HTMLDivElement>,\n    HasComponent,\n    Omit<TappableOmitProps, 'getRootRef' | 'crossOrigin' | 'title' | 'src'>,\n    Omit<React.ImgHTMLAttributes<HTMLImageElement>, keyof React.HTMLAttributes<HTMLImageElement>>,\n    HasRef<HTMLImageElement> {\n  /**\n   Текст над заголовком.\n   */\n  overTitle?: React.ReactNode;\n  /**\n   Заголовок.\n   */\n  title?: React.ReactNode;\n  /**\n   Позволяет поменять тег используемый для заголовка.\n   */\n  titleComponent?: React.ElementType;\n  /**\n   Текст.\n   */\n  description?: React.ReactNode;\n  /**\n   Нижний текст.\n   */\n  caption?: React.ReactNode;\n  /**\n    Максимальная высота изображения.\n   */\n  maxHeight?: number;\n  /**\n   * Внешний вид карточки.\n   */\n  mode?: CardProps['mode'];\n  /**\n   * Пользовательское значения стиля `object-fit` для картинки\n   * Подробнее можно почитать в [документации](https://developer.mozilla.org/ru/docs/Web/CSS/object-fit).\n   */\n  imageObjectFit?: React.CSSProperties['objectFit'];\n}\n\n/**\n * @see https://vkui.io/components/content-card\n */\nexport const ContentCard = ({\n  overTitle,\n  title,\n  titleComponent = 'span',\n  description,\n  caption,\n  // card props\n  className,\n  mode = 'shadow',\n  style,\n  getRootRef,\n  // img props\n  getRef,\n  maxHeight,\n  src,\n  srcSet,\n  alt = '',\n  width = '100%',\n  height,\n  crossOrigin,\n  decoding,\n  loading,\n  referrerPolicy,\n  sizes,\n  useMap,\n  fetchPriority,\n  imageObjectFit,\n  hasHover = false,\n  hasActive = false,\n  Component = 'li',\n  ...restProps\n}: ContentCardProps): React.ReactNode => {\n  return (\n    <Card\n      mode={mode}\n      getRootRef={getRootRef}\n      Component={Component}\n      style={style}\n      className={classNames(restProps.disabled && styles.disabled, className)}\n    >\n      <Tappable\n        hasHover={hasHover}\n        hasActive={hasActive}\n        {...restProps}\n        baseClassName={styles.tappable}\n      >\n        {(src || srcSet) && (\n          <img\n            ref={getRef}\n            className={styles.img}\n            src={src}\n            srcSet={srcSet}\n            alt={alt}\n            crossOrigin={crossOrigin}\n            decoding={decoding}\n            loading={loading}\n            referrerPolicy={referrerPolicy}\n            sizes={sizes}\n            useMap={useMap}\n            {...getFetchPriorityProp(fetchPriority)}\n            height={height}\n            width={width}\n            style={{ maxHeight, objectFit: imageObjectFit }}\n          />\n        )}\n        <div className={styles.body}>\n          {hasReactNode(overTitle) && (\n            <Caption\n              className={classNames(styles.text, styles.overTitle)}\n              weight=\"1\"\n              level=\"3\"\n              caps\n            >\n              {overTitle}\n            </Caption>\n          )}\n          {hasReactNode(title) && (\n            <Headline className={styles.text} weight=\"2\" level=\"1\" Component={titleComponent}>\n              {title}\n            </Headline>\n          )}\n          {hasReactNode(description) && <Text className={styles.text}>{description}</Text>}\n          {hasReactNode(caption) && (\n            <Footnote className={classNames(styles.text, styles.caption)}>{caption}</Footnote>\n          )}\n        </div>\n      </Tappable>\n    </Card>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode, isPrimitiveReactNode } from '@vkontakte/vkjs';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Paragraph } from '../Typography/Paragraph/Paragraph';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { Title } from '../Typography/Title/Title';\nimport styles from './Header.module.css';\n\nexport interface HeaderProps extends HTMLAttributesWithRootRef<HTMLElement>, HasComponent {\n  /**\n   * Размер компонента.\n   */\n  size?: 's' | 'm' | 'l' | 'xl';\n  /**\n   * Подпись под основным текстом.\n   */\n  subtitle?: React.ReactNode;\n  /**\n   * Позволяет задать тип элемента в который будет обёрнут subtitle.\n   */\n  subtitleComponent?: React.ElementType;\n  /**\n   * Допускаются иконки, текст, Link.\n   */\n  after?: React.ReactNode;\n  /**\n   * Допускаются текст, Indicator.\n   */\n  indicator?: React.ReactNode;\n  /**\n   * Возможность отображения текста в несколько строк.\n   */\n  multiline?: boolean;\n  /**\n   * Иконка слева (рекомендуется использовать размер 28px).\n   */\n  before?: React.ReactNode;\n  /**\n   * Иконка слева от title (рекомендуется использовать размер 16px).\n   */\n  beforeTitle?: React.ReactNode;\n  /**\n   * Иконка справа от title (рекомендуется использовать размер 16px).\n   */\n  afterTitle?: React.ReactNode;\n  /**\n   * Иконка слева от subtitle (рекомендуется использовать размер 12px).\n   */\n  beforeSubtitle?: React.ReactNode;\n  /**\n   * Иконка справа от subtitle (рекомендуется использовать размер 12px).\n   */\n  afterSubtitle?: React.ReactNode;\n}\n\nconst sizeClassNames: Record<Exclude<HeaderProps['size'], undefined>, string> = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n  l: styles.sizeL,\n  xl: styles.sizeXl,\n};\n\ntype HeaderContentProps = Pick<HeaderProps, 'children' | 'size' | 'className'> & HasComponent;\n\nconst HeaderContent = ({ size, ...restProps }: HeaderContentProps) => {\n  switch (size) {\n    case 'xl':\n      return <Title level=\"2\" weight=\"1\" {...restProps} />;\n    case 'l':\n      return <Title level=\"3\" weight=\"1\" {...restProps} />;\n    case 'm':\n      return <Headline {...restProps} />;\n    case 's':\n      return <Footnote caps weight=\"1\" {...restProps} />;\n  }\n\n  return null;\n};\n\nconst Subtitle: React.FC<\n  Pick<HeaderProps, 'multiline' | 'subtitleComponent' | 'size'> & { children: React.ReactNode }\n> = ({ subtitleComponent, children, multiline, size }) => {\n  const SubtitleElement = size === 'm' || size === 's' ? Caption : Subhead;\n  return (\n    <SubtitleElement\n      className={classNames(styles.subtitle, multiline && styles.contentMultiline)}\n      Component={subtitleComponent}\n    >\n      {children}\n    </SubtitleElement>\n  );\n};\n\n/**\n * @see https://vkui.io/components/group#header\n */\nexport const Header = ({\n  size = 'm',\n  Component = 'h2',\n  children,\n  subtitle,\n  subtitleComponent = 'span',\n  indicator,\n  after,\n  multiline,\n  before,\n  beforeTitle,\n  afterTitle,\n  beforeSubtitle,\n  afterSubtitle,\n  ...restProps\n}: HeaderProps): React.ReactNode => {\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        sizeClassNames[size],\n        isPrimitiveReactNode(indicator) && styles.pi,\n      )}\n    >\n      {before && (\n        <div className={classNames(styles.before, subtitle && styles.beforeWithSubtitle)}>\n          {before}\n        </div>\n      )}\n      <div className={styles.main}>\n        <HeaderContent className={styles.content} Component={Component} size={size}>\n          {beforeTitle && <div className={styles.contentBefore}>{beforeTitle}</div>}\n          <span className={classNames(styles.contentIn, multiline && styles.contentMultiline)}>\n            {children}\n          </span>\n          {afterTitle && <div className={styles.contentAfter}>{afterTitle}</div>}\n          {hasReactNode(indicator) && (\n            <Footnote className={styles.indicator} weight=\"2\">\n              {indicator}\n            </Footnote>\n          )}\n        </HeaderContent>\n        {hasReactNode(subtitle) && (\n          <div className={styles.subtitleWrapper}>\n            {beforeSubtitle && <div className={styles.subtitleBefore}>{beforeSubtitle}</div>}\n            <Subtitle multiline={multiline} subtitleComponent={subtitleComponent} size={size}>\n              {subtitle}\n            </Subtitle>\n            {afterSubtitle && <div className={styles.subtitleAfter}>{afterSubtitle}</div>}\n          </div>\n        )}\n      </div>\n\n      {hasReactNode(after) && (\n        <Paragraph className={styles.after} Component=\"span\">\n          {after}\n        </Paragraph>\n      )}\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { hasReactNode } from '@vkontakte/vkjs';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { GroupContainer, type GroupContainerProps } from './GroupContainer';\nimport { GroupDescription } from './GroupDescription';\nimport { GroupExpandedContent } from './GroupExpandedContent';\nimport { GroupHeader } from './GroupHeader';\n\nexport interface GroupProps extends GroupContainerProps {\n  /**\n   * Элемент заголовка группы.\n   */\n  header?: React.ReactNode;\n  /**\n   * Подпись под содержимым.\n   */\n  description?: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/group\n */\nexport const Group: React.FC<GroupProps> & {\n  Container: typeof GroupContainer;\n  Header: typeof GroupHeader;\n  Description: typeof GroupDescription;\n  ExpandedContent: typeof GroupExpandedContent;\n} = ({ header, description, children, ...restProps }: GroupProps): React.ReactNode => {\n  return (\n    <GroupContainer {...restProps}>\n      {hasReactNode(header) && <GroupHeader>{header}</GroupHeader>}\n      {children}\n      {hasReactNode(description) && <GroupDescription>{description}</GroupDescription>}\n    </GroupContainer>\n  );\n};\n\nGroup.Container = GroupContainer;\nGroup.Header = GroupHeader;\nGroup.Description = GroupDescription;\nGroup.ExpandedContent = GroupExpandedContent;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(Group.Container, 'Group.Container');\n  defineComponentDisplayNames(Group.Header, 'Group.Header');\n  defineComponentDisplayNames(Group.Description, 'Group.Description');\n  defineComponentDisplayNames(Group.ExpandedContent, 'Group.ExpandedContent');\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useModalContext } from '../../context/ModalContext';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport type { SizeTypeValues } from '../../lib/adaptivity';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { AppRootContext } from '../AppRoot/AppRootContext';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Group.module.css';\n\nconst sizeXClassNames = {\n  none: classNames(styles.sizeXNone, 'vkuiInternalGroup--sizeX-none'),\n  regular: styles.sizeXRegular,\n  compact: styles.sizeXCompact,\n};\n\nconst stylesMode = {\n  none: classNames(styles.modeNone, 'vkuiInternalGroup--mode-none'),\n  plain: classNames(styles.modePlain, 'vkuiInternalGroup--mode-plain'),\n  card: classNames(styles.modeCard, 'vkuiInternalGroup--mode-card'),\n};\n\nconst stylesPadding = {\n  s: styles.paddingS,\n  m: styles.paddingM,\n};\n\ntype GroupMode = 'plain' | 'card' | 'none';\n\n/**\n * Вычисляем mode для Group.\n */\nfunction useGroupMode(\n  forcedMode: GroupContainerProps['mode'],\n  sizeX: SizeTypeValues | 'none',\n  isInsideModal: boolean,\n): GroupMode {\n  const { layout } = React.useContext(AppRootContext);\n\n  if (forcedMode) {\n    return forcedMode;\n  }\n\n  if (isInsideModal) {\n    return 'plain';\n  }\n\n  if (layout) {\n    return layout;\n  }\n\n  if (sizeX !== 'none') {\n    return sizeX === 'regular' ? 'card' : 'plain';\n  }\n\n  return 'none';\n}\n\nexport type GroupContainerProps = HTMLAttributesWithRootRef<HTMLElement> &\n  HasComponent & {\n    /**\n    `show` (только для `mode=\"plain\"`) - разделитель всегда показывается\n    `hide` - разделитель всегда спрятан,\n    `auto` - разделитель рисуется автоматически между соседними группами.\n   */\n    separator?: 'show' | 'hide' | 'auto';\n    /**\n     * Режим отображения. Если установлен `card`, выглядит как карточка c\n     * обводкой и внешними отступами. Если `plain` — без отступов и обводки.\n     * По умолчанию режим отображения зависит от `sizeX` (`mode=card` при `sizeX=REGULAR` и `mode=plain` при `sizeX=COMPACT`)\n     * В модальных окнах по умолчанию `plain`.\n     */\n    mode?: 'plain' | 'card';\n    /**\n     * Отвечает за отступы вокруг контента в режиме `card`.\n     */\n    padding?: 's' | 'm';\n  };\n\nconst warn = warnOnce('Group');\n\nexport const GroupContainer = ({\n  children,\n  separator = 'auto',\n  mode: modeProps,\n  padding = 'm',\n  tabIndex: tabIndexProp,\n  ...restProps\n}: GroupContainerProps) => {\n  const isInsideModal = useModalContext().id !== null;\n  const { sizeX = 'none' } = useAdaptivity();\n\n  const mode = useGroupMode(modeProps, sizeX, isInsideModal);\n\n  const isTabPanel = restProps.role === 'tabpanel';\n\n  if (\n    process.env.NODE_ENV === 'development' &&\n    isTabPanel &&\n    (!restProps['aria-controls'] || !restProps['id'])\n  ) {\n    warn(\n      'При использовании роли \"tabpanel\" необходимо задать значение свойств \"aria-controls\" и \"id\"',\n    );\n  }\n\n  const tabIndex = isTabPanel && tabIndexProp === undefined ? 0 : tabIndexProp;\n\n  let siblingSeparatorElement: React.ReactNode = null;\n  switch (separator) {\n    case 'auto':\n      siblingSeparatorElement = <div className={styles.separatorSibling} />;\n      break;\n    case 'show':\n      siblingSeparatorElement = (\n        <div\n          className={classNames(\n            styles.separatorSibling,\n            mode === 'plain' || mode === 'none' ? styles.separatorSiblingForced : undefined,\n          )}\n        />\n      );\n      break;\n    case 'hide':\n      break;\n  }\n  return (\n    <>\n      <RootComponent\n        Component=\"section\"\n        {...restProps}\n        tabIndex={tabIndex}\n        baseClassName={classNames(\n          'vkuiInternalGroup',\n          styles.host,\n          sizeXClassNames[sizeX],\n          mode === 'plain' && isInsideModal && styles.modePlainInsideModal,\n          stylesMode[mode],\n          stylesPadding[padding],\n        )}\n      >\n        {children}\n      </RootComponent>\n      {siblingSeparatorElement}\n    </>\n  );\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './Group.module.css';\n\nexport type GroupDescriptionProps = HTMLAttributesWithRootRef<HTMLElement> & HasComponent;\n\nexport const GroupDescription = ({ className, ...restProps }: GroupDescriptionProps) => (\n  <Footnote className={classNames(className, styles.description)} {...restProps} />\n);\n", "import type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Group.module.css';\n\nconst stylesDirection = {\n  inline: styles.expandedContentInline,\n  block: styles.expandedContentBlock,\n};\n\nexport type GroupExpandedContentProps = HTMLAttributesWithRootRef<HTMLElement> &\n  HasComponent & {\n    /**\n     * Направление отображения контента.\n     */\n    direction?: 'inline' | 'block';\n  };\nexport const GroupExpandedContent = ({\n  direction = 'inline',\n  ...restProps\n}: GroupExpandedContentProps) => {\n  return (\n    <RootComponent Component=\"div\" {...restProps} baseClassName={stylesDirection[direction]} />\n  );\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport styles from './Group.module.css';\n\nexport type GroupHeaderProps = HTMLAttributesWithRootRef<HTMLElement> & HasComponent;\nexport const GroupHeader = ({ className, ...restProps }: GroupHeaderProps) => (\n  <div className={classNames(className, styles.header)} {...restProps} />\n);\n", "import { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Gradient.module.css';\n\nconst modeStyles = {\n  overlay: styles.modeOverlay,\n  tint: styles.modeTint,\n};\n\nexport interface GradientProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Тип градиента.\n   */\n  mode?: 'tint' | 'default' | 'overlay';\n  /**\n   * Направление градиента.\n   */\n  to?: 'top' | 'bottom';\n}\n\n/**\n * @see https://vkui.io/components/gradient\n */\nexport const Gradient = ({\n  mode = 'default',\n  to = 'top',\n  ...restProps\n}: GradientProps): React.ReactNode => {\n  return (\n    <RootComponent\n      role=\"presentation\"\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        mode !== 'default' && modeStyles[mode],\n        to === 'bottom' && styles.toBottom,\n      )}\n    />\n  );\n};\n", "import * as React from 'react';\nimport { DATA_DRAGGABLE_PLACEHOLDER_REACT_PROP } from '../../hooks/useDraggableWithDomApi';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './List.module.css';\n\nexport type ListProps = HTMLAttributesWithRootRef<HTMLDivElement> & {\n  /**\n   * Задает отступ между элементами.\n   */\n  gap?: number;\n};\n\n/**\n * @see https://vkui.io/components/cell#list\n */\nexport const List = ({ children, gap = 0, ...restProps }: ListProps): React.ReactNode => {\n  return (\n    <RootComponent\n      role=\"list\"\n      baseClassName={styles.host}\n      baseStyle={{\n        gridGap: gap,\n      }}\n      {...restProps}\n    >\n      {children}\n      <div\n        aria-hidden\n        {...DATA_DRAGGABLE_PLACEHOLDER_REACT_PROP}\n        className={styles.placeholder}\n      ></div>\n    </RootComponent>\n  );\n};\n", "export const AUTO_SCROLL_START_DELAY = 300;\n\nexport const ITEM_INITIAL_INDEX = -1;\n\nexport const DATA_DRAGGABLE_PLACEHOLDER_KEY = 'data-draggable-placeholder';\n\nexport const DATA_DRAGGABLE_PLACEHOLDER_REACT_PROP: {\n  'data-draggable-placeholder': string;\n} = { [DATA_DRAGGABLE_PLACEHOLDER_KEY]: 'true' };\n", "import * as React from 'react';\nimport type { CustomTouchEvent } from '../../components/Touch/Touch';\nimport { getBoundingClientRect, getNearestOverflowAncestor, getNodeScroll } from '../../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { createAutoScrollController, getAutoScrollingData } from './autoScroll';\nimport {\n  AUTO_SCROLL_START_DELAY,\n  DATA_DRAGGABLE_PLACEHOLDER_KEY,\n  ITEM_INITIAL_INDEX,\n} from './constants';\nimport type {\n  Direction,\n  DraggingItem,\n  PlaceholderItem,\n  SiblingItem,\n  UseDraggable,\n  UseDraggableProps,\n} from './types';\nimport {\n  getTargetIsOverOrUnderElData,\n  setDraggingItemShiftStyles,\n  setInitialDraggingItemStyles,\n  setInitialPlaceholderItemStyles,\n  setInitialSiblingItemStyles,\n  setSiblingItemsShiftStyles,\n  unsetInitialDraggingItemStyles,\n  unsetInitialPlaceholderItemStyles,\n  unsetInitialSiblingItemStyles,\n} from './utils';\n\nexport const useDraggableWithDomApi = <T extends HTMLElement>({\n  elRef: draggingElRef,\n  onDragFinish,\n}: UseDraggableProps<T>): UseDraggable => {\n  const [dragging, setDragging] = React.useState(false);\n  const lastClientYRef = React.useRef(0);\n  const lastDragShiftYRef = React.useRef(0);\n\n  const scrollElRef = React.useRef<Element | Window | null>(null);\n  const lastScrollTopRef = React.useRef<number>(0);\n  const scrollControllerRef = React.useRef<ReturnType<typeof createAutoScrollController> | null>(\n    null,\n  );\n  const initializeScrollRefs = (draggableEl: HTMLElement) => {\n    const node = getNearestOverflowAncestor(draggableEl);\n    if (node) {\n      scrollElRef.current = node;\n      lastScrollTopRef.current = getNodeScroll(node).scrollTop;\n      scrollControllerRef.current = createAutoScrollController(scrollElRef.current);\n    }\n  };\n  const cleanupScrollRefs = () => {\n    lastScrollTopRef.current = 0;\n    scrollControllerRef.current?.stop();\n    scrollElRef.current = scrollControllerRef.current = null;\n  };\n\n  const lastDragDirectionRef = React.useRef<Direction | undefined>(undefined);\n  const toggleDragDirection = (prevShiftY: number, nextShiftY: number) => {\n    const shiftYDiff = prevShiftY - nextShiftY;\n    if (shiftYDiff < 0) {\n      return 'down';\n    }\n    if (shiftYDiff > 0) {\n      return 'up';\n    }\n    return lastDragDirectionRef.current;\n  };\n\n  const itemStartIndexRef = React.useRef<number>(ITEM_INITIAL_INDEX);\n  const itemEndIndexRef = React.useRef<number>(ITEM_INITIAL_INDEX);\n  const draggingItemRef = React.useRef<DraggingItem | null>(null);\n  const placeholderItemRef = React.useRef<PlaceholderItem | null>(null);\n  const siblingItemsRef = React.useRef<SiblingItem[]>([]);\n  const itemsGapRef = React.useRef<number>(0);\n  const initializeItems = (draggingEl: HTMLElement) => {\n    const draggingElRect = getBoundingClientRect(draggingEl, true);\n    const parentElement = draggingEl.parentElement;\n    itemsGapRef.current = parentElement ? parseInt(parentElement.style.gridGap) : 0;\n\n    const { children } = parentElement || { children: [] };\n    Array.prototype.forEach.call(children, (el: HTMLElement, index) => {\n      if (el === draggingEl) {\n        itemStartIndexRef.current = itemEndIndexRef.current = index;\n        draggingItemRef.current = { index, el, draggingElRect };\n      } else if (el.getAttribute(DATA_DRAGGABLE_PLACEHOLDER_KEY) !== null) {\n        placeholderItemRef.current = { index, el, draggingElRect };\n      } else {\n        siblingItemsRef.current.push({ index, el, shifted: itemStartIndexRef.current !== ITEM_INITIAL_INDEX && itemStartIndexRef.current < index, draggingElRect }); // prettier-ignore\n      }\n    });\n    if (placeholderItemRef.current) {\n      setInitialPlaceholderItemStyles(placeholderItemRef.current); // 1. reflow\n    }\n    if (draggingItemRef.current) {\n      setInitialDraggingItemStyles(draggingItemRef.current); // 2. repaint\n    }\n    siblingItemsRef.current.forEach((sibling) =>\n      setInitialSiblingItemStyles(sibling, itemsGapRef.current),\n    ); // 2. repaint\n  };\n  const cleanupItems = () => {\n    if (placeholderItemRef.current) {\n      unsetInitialPlaceholderItemStyles(placeholderItemRef.current); // 1. reflow\n    }\n    if (draggingItemRef.current) {\n      unsetInitialDraggingItemStyles(draggingItemRef.current); // 2. repaint\n    }\n    siblingItemsRef.current.forEach(unsetInitialSiblingItemStyles); // 2. repaint\n    siblingItemsRef.current = [];\n    placeholderItemRef.current = draggingItemRef.current = null;\n\n    const swappedItemIndexRange = { from: itemStartIndexRef.current, to: itemEndIndexRef.current };\n    itemStartIndexRef.current = itemEndIndexRef.current = ITEM_INITIAL_INDEX;\n    return swappedItemIndexRange;\n  };\n  const getShiftAndUnshiftItemsPreparedData = (\n    clientY: number,\n  ): [Array<[SiblingItem, Direction]>, Array<[SiblingItem, Direction]>] => {\n    const shiftItemEls: Array<[SiblingItem, Direction]> = [];\n    const unshiftItemEls: Array<[SiblingItem, Direction]> = [];\n    itemEndIndexRef.current = itemStartIndexRef.current;\n    siblingItemsRef.current.forEach((siblingItem) => {\n      const { isOverEl, isUnderEl } = getTargetIsOverOrUnderElData(\n        clientY,\n        getBoundingClientRect(siblingItem.el),\n      );\n      if (itemStartIndexRef.current < siblingItem.index) {\n        if (isOverEl) {\n          itemEndIndexRef.current = itemEndIndexRef.current + 1;\n          if (lastDragDirectionRef.current === 'down' && siblingItem.shifted) {\n            siblingItem.shifted = false;\n            shiftItemEls.push([siblingItem, 'up']);\n          }\n        }\n        if (isUnderEl) {\n          if (lastDragDirectionRef.current === 'up' && !siblingItem.shifted) {\n            siblingItem.shifted = true;\n            unshiftItemEls.push([siblingItem, 'down']);\n          }\n        }\n      } else if (itemStartIndexRef.current > siblingItem.index) {\n        if (isUnderEl) {\n          itemEndIndexRef.current = itemEndIndexRef.current - 1;\n          if (lastDragDirectionRef.current === 'up' && !siblingItem.shifted) {\n            siblingItem.shifted = true;\n            shiftItemEls.push([siblingItem, 'down']);\n          }\n        }\n        if (isOverEl) {\n          if (lastDragDirectionRef.current === 'down' && siblingItem.shifted) {\n            siblingItem.shifted = false;\n            unshiftItemEls.push([siblingItem, 'up']);\n          }\n        }\n      }\n    });\n    return [shiftItemEls, unshiftItemEls];\n  };\n  const setShiftAndUnshiftItemStyles = (\n    shiftItemEls: Array<[SiblingItem, Direction]>,\n    unshiftItemEls: Array<[SiblingItem, Direction]>,\n  ) => {\n    shiftItemEls.forEach((item) => setSiblingItemsShiftStyles(item, itemsGapRef.current));\n    unshiftItemEls.forEach((item) => setSiblingItemsShiftStyles(item, itemsGapRef.current));\n  };\n\n  const schedulingAutoScrollTimeoutIdRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n  const clearSchedulingAutoScrollTimeout = () => {\n    if (schedulingAutoScrollTimeoutIdRef.current) {\n      clearTimeout(schedulingAutoScrollTimeoutIdRef.current);\n      schedulingAutoScrollTimeoutIdRef.current = null;\n    }\n  };\n  const tryAutoScroll = () => {\n    if (scrollControllerRef.current) {\n      scrollControllerRef.current.tryAutoScroll(() => {\n        return scrollElRef.current\n          ? getAutoScrollingData(lastClientYRef.current, scrollElRef.current)\n          : {\n              shouldScrolling: false,\n              y: 0,\n            };\n      });\n    }\n  };\n  const schedulingAutoScroll = () => {\n    clearSchedulingAutoScrollTimeout();\n    schedulingAutoScrollTimeoutIdRef.current = setTimeout(() => {\n      schedulingAutoScrollTimeoutIdRef.current = null;\n      tryAutoScroll();\n    }, AUTO_SCROLL_START_DELAY);\n  };\n\n  const onDragStart = (event: CustomTouchEvent) => {\n    event.originalEvent.stopPropagation();\n    event.originalEvent.preventDefault();\n  };\n\n  const onDragMove = (event: CustomTouchEvent) => {\n    event.originalEvent.stopPropagation();\n    event.originalEvent.preventDefault();\n\n    const draggingEl = draggingElRef.current;\n\n    if (!draggingEl) {\n      return;\n    }\n\n    if (dragging) {\n      lastDragDirectionRef.current = toggleDragDirection(lastDragShiftYRef.current, event.shiftY);\n      lastDragShiftYRef.current = event.shiftY;\n      lastClientYRef.current = event.clientY;\n\n      if (scrollControllerRef.current && scrollControllerRef.current.isRunning) {\n        setDraggingItemShiftStyles(draggingEl, lastDragShiftYRef.current);\n      } else {\n        const [shiftItemEls, unshiftItemEls] = getShiftAndUnshiftItemsPreparedData(\n          lastClientYRef.current,\n        );\n        setDraggingItemShiftStyles(draggingEl, lastDragShiftYRef.current);\n        setShiftAndUnshiftItemStyles(shiftItemEls, unshiftItemEls);\n        schedulingAutoScroll();\n      }\n    } else {\n      setDragging((prevDragging) => {\n        // На случай, если onDragMove успеет вызваться ещё раз до того, как `dragging` выставится в\n        // `true`\n        if (prevDragging) {\n          return prevDragging;\n        }\n        initializeScrollRefs(draggingEl);\n        initializeItems(draggingEl);\n        return true;\n      });\n    }\n  };\n\n  const onDragEnd = (event: CustomTouchEvent) => {\n    event.originalEvent.stopPropagation();\n    event.originalEvent.preventDefault();\n\n    clearSchedulingAutoScrollTimeout();\n    cleanupScrollRefs();\n\n    lastClientYRef.current = lastDragShiftYRef.current = 0;\n    lastDragDirectionRef.current = undefined;\n\n    if (dragging) {\n      const swappedItemRange = cleanupItems();\n      if (onDragFinish) {\n        onDragFinish(swappedItemRange);\n      }\n      setDragging(false);\n    }\n  };\n\n  const handleScroll = React.useCallback(() => {\n    if (!draggingElRef.current || !scrollElRef.current) {\n      return;\n    }\n\n    const nextScrollTop = getNodeScroll(scrollElRef.current).scrollTop;\n    lastDragDirectionRef.current = toggleDragDirection(lastScrollTopRef.current, nextScrollTop);\n    const scrollDiff = lastScrollTopRef.current - nextScrollTop;\n    const clientYWithScrollOffset = lastClientYRef.current + scrollDiff;\n    lastScrollTopRef.current = nextScrollTop;\n\n    const [shiftItemEls, unshiftItemEls] =\n      getShiftAndUnshiftItemsPreparedData(clientYWithScrollOffset);\n    setShiftAndUnshiftItemStyles(shiftItemEls, unshiftItemEls);\n  }, [draggingElRef]);\n\n  useIsomorphicLayoutEffect(\n    function recalculateOnScroll() {\n      const scrollEl = scrollElRef.current;\n      if (!dragging || !scrollEl) {\n        return;\n      }\n      scrollEl.addEventListener('scroll', handleScroll);\n      return () => {\n        if (scrollEl) {\n          scrollEl.removeEventListener('scroll', handleScroll);\n        }\n      };\n    },\n    [dragging, handleScroll],\n  );\n\n  useIsomorphicLayoutEffect(\n    () =>\n      function componentWillUnmount() {\n        if (placeholderItemRef.current) {\n          unsetInitialPlaceholderItemStyles(placeholderItemRef.current);\n        }\n      },\n    [],\n  );\n\n  return { dragging, onDragStart, onDragMove, onDragEnd };\n};\n", "/**\n * https://github.com/alexreardon/raf-schd\n *\n * Copyright (c) 2021 Alex Reardon\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\ntype AnyFn = (...args: any[]) => void;\n\nexport interface RafSchedule<T extends AnyFn> {\n  (...args: Parameters<T>): void;\n  cancel: () => void;\n}\n\nexport const rafSchd = <T extends AnyFn>(fn: T): RafSchedule<T> => {\n  let lastArgs: any = [];\n  let frameId: number | null = null;\n\n  const wrapperFn = <T extends AnyFn>(...args: Parameters<T>) => {\n    // Always capture the latest value\n    lastArgs = args;\n\n    // There is already a frame queued\n    if (frameId) {\n      return;\n    }\n\n    // Schedule a new frame\n    frameId = requestAnimationFrame(() => {\n      frameId = null;\n      fn(...lastArgs);\n    });\n  };\n\n  // Adding cancel property to result function\n  wrapperFn.cancel = () => {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n", "import { getNodeScroll, getScrollHeight, getScrollRect } from '../../lib/dom';\nimport { rafSchd } from '../../lib/rafSchd';\n\nconst SCROLL_SPEED = 10;\nexport const EDGE_SIZE = 50;\n\nexport const getAutoScrollingData = (\n  clientY: number,\n  scrollEl: Element | Window,\n): {\n  shouldScrolling: boolean;\n  y: number;\n} => {\n  const scrollTop = Math.floor(getNodeScroll(scrollEl).scrollTop);\n\n  const { relative, edges } = getScrollRect(scrollEl);\n  const viewportHeight = relative.height;\n  const documentHeight = getScrollHeight(scrollEl);\n  const maxScrollY = documentHeight - viewportHeight;\n  const canScrollUp = scrollTop > 0;\n  const canScrollDown = scrollTop < maxScrollY;\n\n  const [edgeTop, edgeBottom] = edges.y;\n  const topDistance = clientY - edgeTop;\n  const bottomDistance = edgeBottom - clientY;\n  const isInTopEdge = topDistance <= EDGE_SIZE;\n  const isInBottomEdge = bottomDistance <= EDGE_SIZE;\n\n  const result = {\n    shouldScrolling: (canScrollUp && isInTopEdge) || (canScrollDown && isInBottomEdge),\n    y: 0,\n  };\n\n  // Inspired by https://github.com/SortableJS/Sortable/issues/1907#issuecomment-1495403785\n  if (isInTopEdge) {\n    result.y = -1 * ((EDGE_SIZE - topDistance) / EDGE_SIZE) * SCROLL_SPEED;\n  } else if (isInBottomEdge) {\n    result.y = ((EDGE_SIZE - bottomDistance) / EDGE_SIZE) * SCROLL_SPEED;\n  }\n\n  return result;\n};\n\nexport type AutoScrollingDataFn = () => { shouldScrolling: boolean; y: number };\n\nexport const createAutoScrollController = (\n  scrollEl: Element | Window,\n): {\n  tryAutoScroll: (fn: AutoScrollingDataFn) => void;\n  stop: () => void;\n  readonly isRunning: boolean;\n} => {\n  let isRunning = false;\n  const scheduledScroll = rafSchd(scroll);\n\n  function scroll(fn: AutoScrollingDataFn) {\n    const { shouldScrolling, y } = fn();\n    if (shouldScrolling) {\n      isRunning = true;\n      scrollEl.scrollBy(0, y);\n      scheduledScroll(fn);\n    } else {\n      isRunning = false;\n      scheduledScroll.cancel();\n    }\n  }\n\n  const tryAutoScroll = (fn: AutoScrollingDataFn) => {\n    scheduledScroll(fn);\n  };\n\n  const stop = () => {\n    isRunning = false;\n    scheduledScroll.cancel();\n  };\n\n  return {\n    tryAutoScroll,\n    stop,\n    get isRunning() {\n      return isRunning;\n    },\n  };\n};\n", "import type { Direction, DraggingItem, PlaceholderItem, SiblingItem } from './types';\n\nexport const getTargetIsOverOrUnderElData = (\n  clientY: number,\n  elRect: DOMRect,\n): {\n  isUnderEl: boolean;\n  isOverEl: boolean;\n} => {\n  const elRectHalfHeight = elRect.height / 2;\n  return {\n    isUnderEl: clientY <= elRect.bottom - elRectHalfHeight,\n    isOverEl: clientY >= elRect.top + elRectHalfHeight,\n  };\n};\n\nexport const setDraggingItemShiftStyles = (draggingEl: HTMLElement, nextShiftY: number): void => {\n  requestAnimationFrame(() => {\n    draggingEl.style.transform = `translateY(${nextShiftY}px)`;\n  });\n};\n\nexport const setSiblingItemsShiftStyles = (\n  [\n    {\n      el,\n      draggingElRect: { height },\n    },\n    direction,\n  ]: [Omit<SiblingItem, 'shifted'>, Direction],\n  additionalGap = 0,\n): void => {\n  requestAnimationFrame(() => {\n    if (direction === 'up') {\n      el.style.setProperty('transition', 'transform 0.3s ease-in 0s');\n      el.style.removeProperty('transform');\n    } else {\n      el.style.setProperty('transition', 'transform 0.3s ease-out 0s');\n      el.style.setProperty('transform', `translateY(${height + additionalGap}px)`);\n    }\n  });\n};\n\nexport const setInitialDraggingItemStyles = ({ el, draggingElRect }: DraggingItem): void => {\n  const { top, left, width, height } = draggingElRect;\n  requestAnimationFrame(() => {\n    // Inspired by https://github.com/hello-pangea/dnd\n    el.style.setProperty('pointer-events', 'none');\n    el.style.setProperty('position', 'fixed');\n    el.style.setProperty('top', `${top}px`);\n    el.style.setProperty('left', `${left}px`);\n    el.style.setProperty('width', `${width}px`);\n    el.style.setProperty('height', `${height}px`);\n    el.style.setProperty('z-index', 'var(--vkui_internal--z_index_cell_dragging)');\n    el.style.setProperty('box-sizing', 'border-box');\n    el.style.setProperty('transform', 'translateY(0)');\n  });\n};\n\nexport const unsetInitialDraggingItemStyles = ({ el }: DraggingItem): void => {\n  requestAnimationFrame(() => {\n    el.style.removeProperty('pointer-events');\n    el.style.removeProperty('position');\n    el.style.removeProperty('top');\n    el.style.removeProperty('left');\n    el.style.removeProperty('width');\n    el.style.removeProperty('height');\n    el.style.removeProperty('z-index');\n    el.style.removeProperty('box-sizing');\n    el.style.removeProperty('transform');\n  });\n};\n\nexport const setInitialPlaceholderItemStyles = ({ el, draggingElRect }: PlaceholderItem): void => {\n  if (el.firstElementChild) {\n    return;\n  }\n  const { width, height } = draggingElRect;\n  const node = el.cloneNode() as HTMLElement;\n  node.style.setProperty('display', 'block');\n  node.style.setProperty('width', `${width}px`);\n  node.style.setProperty('height', `${height}px`);\n  node.style.setProperty('pointer-events', 'none');\n  el.appendChild(node);\n  el.style.setProperty('display', 'block');\n};\n\nexport const unsetInitialPlaceholderItemStyles = ({ el }: PlaceholderItem): void => {\n  el.style.display = '';\n  el.removeAttribute('style');\n  if (el.firstElementChild) {\n    el.firstElementChild.remove();\n  }\n};\n\nexport const setInitialSiblingItemStyles = (\n  { el, shifted, draggingElRect }: SiblingItem,\n  additionalGap = 0,\n): void => {\n  const { height } = draggingElRect;\n  requestAnimationFrame(() => {\n    el.style.setProperty('pointer-events', 'none');\n    el.style.setProperty('transition', 'none 0s ease 0s');\n\n    if (shifted) {\n      el.style.setProperty('transform', `translateY(${height + additionalGap}px)`);\n    }\n  });\n};\n\nexport const unsetInitialSiblingItemStyles = ({ el }: Omit<SiblingItem, 'shifted'>): void => {\n  requestAnimationFrame(() => {\n    el.style.removeProperty('pointer-events');\n    el.style.removeProperty('transition');\n    el.style.removeProperty('transform');\n  });\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { SwappedItemRange } from '../../hooks/useDraggableWithDomApi';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasRootRef } from '../../types';\nimport { Removable, type RemovableProps } from '../Removable/Removable';\nimport { SimpleCell, type SimpleCellProps } from '../SimpleCell/SimpleCell';\nimport { CellCheckbox, type CellCheckboxProps } from './CellCheckbox/CellCheckbox';\nimport { CellDragger } from './CellDragger/CellDragger';\nimport { DEFAULT_DRAGGABLE_LABEL } from './constants';\nimport styles from './Cell.module.css';\n\nexport interface CellProps\n  extends Omit<SimpleCellProps, 'getRootRef'>,\n    RemovableProps,\n    HasRootRef<HTMLDivElement> {\n  /**\n   * Режим отображения ячейки:\n   *\n   * - \"removable\": добавляется кнопка для удаления\n   * - \"selectable\": добавляется чекбокс для выбора.\n   */\n  mode?: 'removable' | 'selectable';\n  /**\n   * В режиме перетаскивания ячейка перестает реагировать на нажатие, то есть при нажатии переданный `onClick` вызываться не будет.\n   */\n  draggable?: boolean;\n  /**\n   * Имя для `input` в режиме `selectable`.\n   */\n  name?: string;\n  /**\n   * В режиме `selectable` реагирует на входящие значения пропса `cheсked`, как зависящий напрямую от входящего значения.\n   */\n  checked?: boolean;\n  /**\n   * В режиме `selectable` реагирует на входящие значения пропса `defaultChecked` как неконтролируемый компонент.\n   */\n  defaultChecked?: boolean;\n  /**\n   * Обработчик, срабатывающий при завершении перетаскивания.\n   * **Важно:** режим перетаскивания не меняет порядок ячеек в DOM. В обработчике есть объект с полями `from` и `to`.\n   * Эти числа нужны для того, чтобы разработчик понимал, с какого индекса на какой произошел переход. В песочнице\n   * есть рабочий пример с обработкой этих чисел и перерисовкой списка.\n   */\n  onDragFinish?: (swappedItemRange: SwappedItemRange) => void;\n  /**\n   * Текст для кнопки перетаскивания ячейки.\n   */\n  draggerLabel?: string;\n}\n\n/**\n * @see https://vkui.io/components/cell\n */\nexport const Cell: React.FC<CellProps> & {\n  Checkbox: typeof CellCheckbox;\n} = ({\n  mode,\n  onRemove,\n  removePlaceholder = 'Удалить',\n  onDragFinish,\n  before,\n  after,\n  disabled,\n  draggable,\n  Component: ComponentProps,\n  onChange,\n  name,\n  value,\n  checked,\n  defaultChecked,\n  getRootRef,\n  draggerLabel = DEFAULT_DRAGGABLE_LABEL,\n  className,\n  style,\n  toggleButtonTestId,\n  removeButtonTestId,\n  href: hrefProp,\n  ...restProps\n}: CellProps) => {\n  const [dragging, setDragging] = React.useState(false);\n  const selectable = mode === 'selectable';\n  const removable = mode === 'removable';\n  const Component = selectable ? 'label' : ComponentProps;\n  const href = selectable ? undefined : hrefProp;\n\n  const platform = usePlatform();\n\n  const rootElRef = useExternRef(getRootRef);\n\n  const dragger = draggable ? (\n    <CellDragger\n      elRef={rootElRef}\n      className={classNames(styles.dragger, !before && !selectable && styles.controlNoBefore)}\n      onDragStateChange={setDragging}\n      onDragFinish={onDragFinish}\n    >\n      {draggerLabel}\n    </CellDragger>\n  ) : null;\n\n  let checkbox;\n  if (selectable) {\n    const checkboxProps: CellCheckboxProps = {\n      name,\n      value,\n      defaultChecked,\n      checked,\n      disabled,\n      onChange,\n    };\n    checkbox = (\n      <CellCheckbox\n        className={classNames(styles.checkbox, !before && styles.controlNoBefore)}\n        {...checkboxProps}\n      />\n    );\n  }\n\n  const hasActive = !disabled && !dragging;\n\n  const cellClasses = classNames(\n    styles.host,\n    dragging && styles.dragging,\n    platform === 'ios' && styles.ios,\n    removable && styles.removable,\n  );\n\n  const simpleCellProps: SimpleCellProps = {\n    hasActive: hasActive,\n    hasHover: hasActive && !removable,\n    disabled,\n    href,\n    ...restProps,\n    className: styles.content,\n    // чтобы свойство, если не определено, не присутствовало в\n    // restProps явно как {'Component': undefined} и ниже не переопределяло\n    // возможное значение commonProps.Component = 'a' при слиянии двух объектов, как\n    // {...commonProps, ...restProps}\n    ...(Component && { Component }),\n    before: (\n      <React.Fragment>\n        {draggable && platform !== 'ios' && dragger}\n        {selectable && checkbox}\n        {before}\n      </React.Fragment>\n    ),\n    after: (\n      <React.Fragment>\n        {draggable && platform === 'ios' && dragger}\n        {after}\n      </React.Fragment>\n    ),\n  };\n\n  if (removable) {\n    return (\n      <Removable\n        className={classNames(cellClasses, className)}\n        style={style}\n        getRootRef={rootElRef}\n        removePlaceholder={removePlaceholder}\n        onRemove={(e) => onRemove?.(e, rootElRef.current)}\n        toggleButtonTestId={toggleButtonTestId}\n        removeButtonTestId={removeButtonTestId}\n        disabled={disabled}\n      >\n        {platform === 'ios' ? (\n          ({ isRemoving }) => {\n            return (\n              <SimpleCell {...simpleCellProps} {...(isRemoving ? { onClick: undefined } : {})} />\n            );\n          }\n        ) : (\n          <SimpleCell {...simpleCellProps} />\n        )}\n      </Removable>\n    );\n  }\n\n  return (\n    <div className={classNames(cellClasses, className)} style={style} ref={rootElRef}>\n      <SimpleCell {...simpleCellProps} />\n    </div>\n  );\n};\n\nCell.Checkbox = CellCheckbox;\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon24Cancel } from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { getTextFromChildren } from '../../lib/children';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { IconButton } from '../IconButton/IconButton';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { RemovableIos } from './RemovableIos';\nimport styles from './Removable.module.css';\n\nexport interface RemovableProps {\n  /**\n   * Текст кнопки удаления ячейки. Визуально скрыт везде, кроме iOS. На iOS появляется в выезжающей кнопке для удаления ячейки.\n   */\n  removePlaceholder?: React.ReactNode;\n  /**\n   * Обработчик, срабатывающий при нажатии на контрол удаления.\n   */\n  onRemove?: (e: React.MouseEvent, rootEl?: HTMLElement | null) => void;\n  /**\n   * Передает атрибут `data-testid` для кнопки, которая активирует кнопку удаления (iOS only).\n   */\n  toggleButtonTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки удаления.\n   */\n  removeButtonTestId?: string;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n}\n/* eslint-disable jsdoc/require-jsdoc */\ninterface RemovableCommonOwnProps\n  extends Pick<\n    RemovableOwnProps,\n    'noPadding' | 'children' | 'removeButtonTestId' | 'disabled' | 'indent'\n  > {\n  removePlaceholderString?: string;\n  onRemoveClick: (e: React.MouseEvent) => void;\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nconst RemovableCommon = ({\n  noPadding,\n  children,\n  removePlaceholderString,\n  onRemoveClick,\n  removeButtonTestId,\n  disabled,\n  indent,\n}: RemovableCommonOwnProps) => {\n  return (\n    <div\n      className={classNames(\n        styles.content,\n        !noPadding && styles.withPadding,\n        'vkuiInternalRemovable__content',\n      )}\n    >\n      {typeof children === 'function' ? children({ isRemoving: false }) : children}\n\n      {indent ? (\n        <div className={classNames(styles.action, styles.indentation)} />\n      ) : (\n        <IconButton\n          activeMode=\"opacity\"\n          hoverMode=\"opacity\"\n          className={classNames(styles.action, 'vkuiInternalRemovable__action')}\n          onClick={onRemoveClick}\n          label={removePlaceholderString}\n          data-testid={removeButtonTestId}\n          disabled={disabled}\n        >\n          <Icon24Cancel role=\"presentation\" />\n        </IconButton>\n      )}\n      <span className={styles.offset} aria-hidden />\n    </div>\n  );\n};\n\nexport interface RemovableIosRenderProps {\n  /**\n   * Показывает состояние Removable на платформе iOS при нажатии на иконку удаления.\n   * Для имитации поведения на iOS при нажатии на иконку удаления самого удаление не происходит,\n   * контент сдвигается влево и справа выезжает настоящая кнопка \"Удалить\".\n   * Когда контент сдвинут `isRemoving = true`.\n   */\n  isRemoving: boolean;\n}\n\ninterface RemovableOwnProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'children'>,\n    RemovableProps {\n  /**\n   * Расположение кнопки удаления.\n   */\n  align?: 'start' | 'center';\n  /**\n   * Скрывает кнопку, но оставляет отступ.\n   * @since 5.4.0\n   */\n  indent?: boolean;\n  /**\n   * Убирает базовые отступы для базовой платформы.\n   */\n  noPadding?: boolean;\n  /**\n   * Содержимое. Можно передать функцию для отрисовки.\n   */\n  children?: React.ReactNode | ((renderProps: RemovableIosRenderProps) => React.ReactNode);\n}\n\nexport const Removable = ({\n  children,\n  onRemove,\n  removePlaceholder = 'Удалить',\n  align = 'center',\n  indent = false,\n  toggleButtonTestId,\n  removeButtonTestId,\n  disabled,\n  noPadding,\n  ...restProps\n}: RemovableOwnProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  const onRemoveClick = (e: React.MouseEvent) => {\n    e.preventDefault();\n    onRemove?.(e);\n  };\n\n  const removePlaceholderString: string = getTextFromChildren(removePlaceholder);\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        platform === 'ios' && styles.ios,\n        align === 'start' && styles.alignStart,\n        indent && styles.indent,\n      )}\n    >\n      {platform === 'ios' ? (\n        <RemovableIos\n          onRemove={onRemoveClick}\n          removePlaceholder={removePlaceholder}\n          removePlaceholderString={removePlaceholderString}\n          toggleButtonTestId={toggleButtonTestId}\n          removeButtonTestId={removeButtonTestId}\n          disabled={disabled}\n          indent={indent}\n        >\n          {children}\n        </RemovableIos>\n      ) : (\n        <RemovableCommon\n          onRemoveClick={onRemoveClick}\n          noPadding={noPadding}\n          removeButtonTestId={removeButtonTestId}\n          removePlaceholderString={removePlaceholderString}\n          disabled={disabled}\n          indent={indent}\n        >\n          {children}\n        </RemovableCommon>\n      )}\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useGlobalEventListener } from '../../hooks/useGlobalEventListener';\nimport { useDOM } from '../../lib/dom';\nimport { type CSSCustomProperties } from '../../types';\nimport { IconButton } from '../IconButton/IconButton';\nimport { Tappable } from '../Tappable/Tappable';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport { type RemovableIosRenderProps, type RemovableProps } from './Removable';\nimport styles from './Removable.module.css';\n\n/* eslint-disable jsdoc/require-jsdoc */\ninterface RemovableIosOwnProps extends RemovableProps {\n  indent?: boolean;\n  removePlaceholderString?: string;\n  children?: React.ReactNode | ((renderProps: RemovableIosRenderProps) => React.ReactNode);\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nconst RemovableIosWithRemove = ({\n  onRemove,\n  removePlaceholder,\n  removePlaceholderString,\n  children: childrenProp,\n  toggleButtonTestId,\n  removeButtonTestId,\n  disabled,\n}: Omit<RemovableIosOwnProps, 'indent'>) => {\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n  const { window } = useDOM();\n\n  const removeButtonRef = React.useRef<HTMLElement>(null);\n  const disabledRef = React.useRef(true);\n  const [removeOffset, updateRemoveOffset] = React.useState(0);\n\n  useGlobalEventListener(\n    window,\n    'click',\n    () => {\n      if (removeOffset > 0) {\n        updateRemoveOffset(0);\n      }\n    },\n    { capture: true },\n  );\n\n  const onRemoveTransitionEnd = () => {\n    if (removeOffset > 0) {\n      removeButtonRef?.current?.focus();\n    } else {\n      disabledRef.current = true;\n    }\n  };\n\n  const onRemoveActivateClick = (e: React.MouseEvent) => {\n    e.stopPropagation();\n    if (!removeButtonRef.current) {\n      return;\n    }\n    const { offsetWidth } = removeButtonRef.current;\n    disabledRef.current = false;\n    updateRemoveOffset(offsetWidth);\n  };\n\n  const style: CSSCustomProperties = {\n    '--vkui_internal_Removable_remove_offset': String(removeOffset ?? 0),\n  };\n\n  return (\n    <div\n      className={classNames(styles.content, isRtl && styles.rtl, 'vkuiInternalRemovable__content')}\n      style={style}\n      onTransitionEnd={onRemoveTransitionEnd}\n    >\n      <IconButton\n        hasActive={false}\n        hasHover={false}\n        className={classNames(styles.action, styles.toggle, 'vkuiInternalRemovable__action')}\n        onClick={onRemoveActivateClick}\n        disabled={removeOffset > 0 || disabled}\n        data-testid={toggleButtonTestId}\n      >\n        <VisuallyHidden>{removePlaceholderString}</VisuallyHidden>\n        <i className={styles.toggleIn} role=\"presentation\" />\n      </IconButton>\n      {typeof childrenProp === 'function'\n        ? childrenProp({ isRemoving: removeOffset > 0 })\n        : childrenProp}\n\n      <span className={styles.offset} aria-hidden />\n\n      <Tappable\n        Component=\"button\"\n        hasActive={false}\n        hasHover={false}\n        disabled={disabledRef.current}\n        getRootRef={removeButtonRef}\n        className={styles.remove}\n        onClick={onRemove}\n        data-testid={removeButtonTestId}\n      >\n        <span className={styles.removeIn}>{removePlaceholder}</span>\n      </Tappable>\n    </div>\n  );\n};\n\nconst RemovableIosWithIndent = ({\n  children: childrenProp,\n}: Pick<RemovableIosOwnProps, 'children'>) => {\n  return (\n    <div className={classNames(styles.content, 'vkuiInternalRemovable__content')}>\n      <div\n        className={classNames(styles.action, styles.indentation, 'vkuiInternalRemovable__action')}\n      />\n      {typeof childrenProp === 'function' ? childrenProp({ isRemoving: false }) : childrenProp}\n\n      <span className={styles.offset} aria-hidden />\n    </div>\n  );\n};\n\nconst RemovableIos = ({ indent, children, ...restProps }: RemovableIosOwnProps) => {\n  return indent ? (\n    <RemovableIosWithIndent>{children}</RemovableIosWithIndent>\n  ) : (\n    <RemovableIosWithRemove {...restProps}>{children}</RemovableIosWithRemove>\n  );\n};\n\nexport { RemovableIos };\n", "import { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\nimport { useEventListener } from './useEventListener';\n\nexport function useGlobalEventListener<K extends keyof GlobalEventHandlersEventMap>(\n  element: Document | HTMLElement | Window | null | undefined,\n  event: K,\n  cb: ((ev: GlobalEventHandlersEventMap[K]) => void) | null | false | undefined,\n  options?: AddEventListenerOptions,\n): void;\nexport function useGlobalEventListener<E extends Event>(\n  element: Document | HTMLElement | Window | null | undefined,\n  event: string,\n  cb: ((ev: E) => void) | null | false | undefined,\n  options?: AddEventListenerOptions,\n): void;\nexport function useGlobalEventListener<\n  K extends keyof GlobalEventHandlersEventMap,\n  E extends Event,\n>(\n  element: Document | HTMLElement | Window | null | undefined,\n  event: K | string,\n  cb: ((ev: E) => void) | null | false | undefined,\n  options?: AddEventListenerOptions,\n) {\n  const listener = useEventListener(event, cb, options);\n  useIsomorphicLayoutEffect(() => {\n    if (cb && element) {\n      listener.add(element);\n    } else {\n      listener.remove();\n    }\n  }, [Boolean(cb), Boolean(element)]);\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasComponent } from '../../types';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport { Chevron } from './Chevron/Chevron';\nimport styles from './SimpleCell.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface SimpleCellOwnProps extends HasComponent {\n  /**\n   * Иконка 28 или `<Avatar size={28|32|40|48|72} />`.\n   */\n  before?: React.ReactNode;\n  /**\n   * Иконка 12 или `<Badge />`. Добавится слева от текста `children`.\n   */\n  badgeBeforeTitle?: React.ReactNode;\n  /**\n   * Иконка 12 или `<Badge />`. Добавится справа от текста `children`.\n   */\n  badgeAfterTitle?: React.ReactNode;\n  /**\n   * Иконка 12. Добавится слева от текста `subtitle`.\n   */\n  badgeBeforeSubtitle?: React.ReactNode;\n  /**\n   * Иконка 12. Добавится справа от текста `subtitle`.\n   */\n  badgeAfterSubtitle?: React.ReactNode;\n  /**\n   * Контейнер для текста справа от `children`.\n   */\n  indicator?: React.ReactNode;\n  /**\n   * Дополнительная строка текста над `children`.\n   */\n  overTitle?: React.ReactNode;\n  /**\n   * Дополнительная строка текста под `children`.\n   */\n  subtitle?: React.ReactNode;\n  /**\n   * Дополнительная строка текста под `children` и `subtitle`.\n   */\n  extraSubtitle?: React.ReactNode;\n  /**\n   * Иконка 24|28 или `<Switch />`. Располагается справа от `indicator`.\n   */\n  after?: React.ReactNode;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n  /**\n   * Управляет видимостью иконки шеврона `›`.\n   *\n   * - `auto` - добавляет шеврон справа только для платформы `ios`;\n   * - `always` - всегда показывает шеврон.\n   */\n  chevron?: 'auto' | 'always';\n  /**\n   * Размер chevron.\n   */\n  chevronSize?: 's' | 'm';\n  /**\n   * Включает многострочный режим для отображения текста.\n   */\n  multiline?: boolean;\n}\n\nexport interface SimpleCellProps extends SimpleCellOwnProps, TappableOmitProps {}\n\n/**\n * @see https://vkui.io/components/simple-cell\n */\nexport const SimpleCell = ({\n  badgeBeforeTitle,\n  badgeAfterTitle,\n  badgeBeforeSubtitle,\n  badgeAfterSubtitle,\n  before,\n  indicator,\n  children,\n  after,\n  chevron,\n  multiline,\n  overTitle,\n  subtitle,\n  extraSubtitle,\n  chevronSize = 'm',\n  ...restProps\n}: SimpleCellProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  const hasChevron = chevron === 'always' || (chevron === 'auto' && platform === 'ios');\n\n  const hasAfter = hasReactNode(after) || hasChevron;\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Tappable\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        restProps.disabled && styles.disabled,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        multiline && styles.mult,\n      )}\n    >\n      <div className={classNames(styles.before, platform === 'ios' && styles.beforeIos)}>\n        {before}\n      </div>\n      <div className={styles.middle}>\n        {overTitle && (\n          <Subhead Component=\"span\" className={classNames(styles.text, styles.overTitle)}>\n            {overTitle}\n            <VisuallyHidden>&nbsp;</VisuallyHidden>\n          </Subhead>\n        )}\n        <div className={styles.content}>\n          {badgeBeforeTitle && <span className={styles.badge}>{badgeBeforeTitle}</span>}\n          <Headline Component=\"span\" className={styles.children} weight=\"3\">\n            {children}\n            <VisuallyHidden>&nbsp;</VisuallyHidden>\n          </Headline>\n          {hasReactNode(badgeAfterTitle) && <span className={styles.badge}>{badgeAfterTitle}</span>}\n        </div>\n        {subtitle && (\n          <div className={styles.content}>\n            {badgeBeforeSubtitle && <span className={styles.badge}>{badgeBeforeSubtitle}</span>}\n            <Footnote normalize={false} className={classNames(styles.text, styles.subtitle)}>\n              {subtitle}\n              <VisuallyHidden>&nbsp;</VisuallyHidden>\n            </Footnote>\n            {badgeAfterSubtitle && <span className={styles.badge}>{badgeAfterSubtitle}</span>}\n          </div>\n        )}\n        {extraSubtitle && (\n          <Footnote className={classNames(styles.text, styles.extraSubtitle)}>\n            {extraSubtitle}\n            <VisuallyHidden>&nbsp;</VisuallyHidden>\n          </Footnote>\n        )}\n      </div>\n      {hasReactNode(indicator) && (\n        <Headline Component=\"span\" weight=\"3\" className={styles.indicator}>\n          {indicator}\n        </Headline>\n      )}\n      {hasAfter && (\n        <div className={classNames(styles.after, 'vkuiInternalSimpleCell__after')}>\n          {after}\n          {hasChevron && <Chevron size={chevronSize} className={styles.chevronIcon} />}\n        </div>\n      )}\n    </Tappable>\n  );\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { Icon16Chevron, Icon24ChevronCompactRight } from '@vkontakte/icons';\n\nconst iconSize = {\n  s: Icon16Chevron,\n  m: Icon24ChevronCompactRight,\n};\n\nexport interface ChevronProps extends Omit<React.SVGProps<SVGSVGElement>, 'width' | 'height'> {\n  size?: 's' | 'm';\n}\n\nexport const Chevron = ({ size = 'm', ...restProps }: ChevronProps): React.ReactNode => {\n  const Icon = iconSize[size];\n\n  return <Icon {...restProps} />;\n};\n", "'use client';\n\nimport * as React from 'react';\nimport {\n  Icon20CheckBoxOff,\n  Icon20CheckBoxOn,\n  Icon20CheckCircleOff,\n  Icon20CheckCircleOn,\n  Icon24CheckBoxOff,\n  Icon24CheckBoxOn,\n  Icon24CheckCircleOff,\n  Icon24CheckCircleOn,\n} from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../../hooks/usePlatform';\nimport type { HasRef, HasRootRef } from '../../../types';\nimport { AdaptiveIconRenderer } from '../../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\nimport type { CellProps } from '../Cell';\nimport styles from './CellCheckbox.module.css';\n\nconst CheckBoxOn = () => (\n  <AdaptiveIconRenderer IconCompact={Icon20CheckBoxOn} IconRegular={Icon24CheckBoxOn} />\n);\n\nconst CheckBoxOff = () => (\n  <AdaptiveIconRenderer IconCompact={Icon20CheckBoxOff} IconRegular={Icon24CheckBoxOff} />\n);\n\nconst CheckCircleOn = () => (\n  <AdaptiveIconRenderer IconCompact={Icon20CheckCircleOn} IconRegular={Icon24CheckCircleOn} />\n);\n\nconst CheckCircleOff = () => (\n  <AdaptiveIconRenderer IconCompact={Icon20CheckCircleOff} IconRegular={Icon24CheckCircleOff} />\n);\n\nfunction useTypeIcon(type: NonNullable<CellCheckboxProps['type']>) {\n  const platform = usePlatform();\n\n  if (type !== 'auto') {\n    return type;\n  }\n\n  if (platform === 'ios' || platform === 'vkcom') {\n    return 'circle';\n  }\n\n  return 'square';\n}\n\nexport interface CellCheckboxProps\n  extends Pick<CellProps, 'defaultChecked' | 'checked'>,\n    React.InputHTMLAttributes<HTMLInputElement>,\n    HasRootRef<HTMLSpanElement>,\n    HasRef<HTMLInputElement> {\n  /**\n   * Вид чекбокса. Если auto, то зависит от платформы.\n   */\n  type?: 'auto' | 'circle' | 'square';\n}\n\nexport const CellCheckbox = ({\n  getRootRef,\n  getRef,\n  className,\n  style,\n  type = 'auto',\n  ...restProps\n}: CellCheckboxProps): React.ReactNode => {\n  const typeIcon = useTypeIcon(type);\n\n  const IconOff = typeIcon === 'circle' ? CheckCircleOff : CheckBoxOff;\n  const IconOn = typeIcon === 'circle' ? CheckCircleOn : CheckBoxOn;\n\n  return (\n    <span className={classNames(styles.host, className)} style={style} ref={getRootRef}>\n      <VisuallyHidden\n        {...restProps}\n        Component=\"input\"\n        type=\"checkbox\"\n        className={styles.input}\n        getRootRef={getRef}\n      />\n      <span className={classNames(styles.icon, styles.iconOff)} aria-hidden>\n        <IconOff />\n      </span>\n      <span className={classNames(styles.icon, styles.iconOn)} aria-hidden>\n        <IconOn />\n      </span>\n    </span>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport { Icon24Reorder, Icon24ReorderIos } from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport {\n  type DraggableProps,\n  type UseDraggableProps,\n  useDraggableWithDomApi,\n} from '../../../hooks/useDraggableWithDomApi';\nimport { usePlatform } from '../../../hooks/usePlatform';\nimport { useIsomorphicLayoutEffect } from '../../../lib/useIsomorphicLayoutEffect';\nimport type { HTMLAttributesWithRootRef } from '../../../types';\nimport { Touch } from '../../Touch/Touch';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\nimport styles from './CellDragger.module.css';\n\ninterface CellDraggerProps\n  extends UseDraggableProps,\n    Omit<HTMLAttributesWithRootRef<HTMLElement>, keyof DraggableProps> {\n  disabled?: boolean;\n  onDragStateChange?: (dragging: boolean) => void;\n}\n\nexport const CellDragger = ({\n  elRef,\n  disabled,\n  className,\n  onDragStateChange,\n  onDragFinish,\n  children,\n  ...restProps\n}: CellDraggerProps): React.ReactNode => {\n  const platform = usePlatform();\n  const Icon = platform === 'ios' ? Icon24ReorderIos : Icon24Reorder;\n\n  const { dragging, onDragStart, onDragMove, onDragEnd } = useDraggableWithDomApi({\n    elRef,\n    onDragFinish,\n  });\n\n  useIsomorphicLayoutEffect(() => {\n    if (onDragStateChange) {\n      onDragStateChange(dragging);\n    }\n  }, [dragging, onDragStateChange]);\n\n  return (\n    <Touch\n      className={classNames(styles.host, className)}\n      onStart={disabled ? undefined : onDragStart}\n      onMoveY={disabled ? undefined : onDragMove}\n      onEnd={disabled ? undefined : onDragEnd}\n      {...restProps}\n    >\n      {children && <VisuallyHidden>{children}</VisuallyHidden>}\n      <Icon className={styles.icon} />\n    </Touch>\n  );\n};\n", "export const DEFAULT_DRAGGABLE_LABEL = 'Перенести ячейку';\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { RichCellIcon } from './RichCellIcon/RichCellIcon';\nimport styles from './RichCell.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nconst alignAfterClassNames = {\n  start: styles.alignAfterStart,\n  center: styles.alignAfterCenter,\n  end: styles.alignAfterEnd,\n};\n\nconst alignBeforeClassNames = {\n  start: styles.alignBeforeStart,\n  center: styles.alignBeforeCenter,\n  end: styles.alignBeforeEnd,\n};\n\nconst alignContentClassNames = {\n  start: styles.contentAlignStart,\n  center: styles.contentAlignCenter,\n  end: styles.contentAlignEnd,\n};\n\ntype Align = 'start' | 'center' | 'end';\n\nexport interface RichCellProps extends TappableOmitProps {\n  /**\n   * Контейнер для текста над `children`.\n   */\n  overTitle?: React.ReactNode;\n  /**\n   * Контейнер для текста под `children`.\n   */\n  subtitle?: React.ReactNode;\n  /**\n   * Контейнер для текста под `subtitle`.\n   */\n  extraSubtitle?: React.ReactNode;\n  /**\n   * Контейнер для контента под `caption`. Например `<UsersStack size=\"m\" />`.\n   */\n  bottom?: React.ReactNode;\n  /**\n   * Кнопки-действия. Принимает [`Button`](https://vkui.io/components/button) с параметрами:\n   *\n   * - `mode=\"primary\" size=\"s\"`\n   * - `mode=\"secondary\" size=\"s\"`.\n   *\n   * Для набора кнопок используйте [`ButtonGroup`](https://vkui.io/components/button-group) с параметрами:\n   *\n   * - `mode=\"horizontal\" gap=\"s\" stretched`.\n   */\n  actions?: React.ReactNode;\n  /**\n   * `<Avatar size={40|48|72} />`.\n   */\n  before?: React.ReactNode;\n  /**\n   * Иконка 28 или текст.\n   */\n  after?: React.ReactNode;\n  /**\n   * Текст под `after`.\n   */\n  afterCaption?: React.ReactNode;\n  /**\n   * Выравнивание before компонента по вертикали.\n   */\n  beforeAlign?: Align;\n  /**\n   * Выравнивание центрального контента по вертикали.\n   */\n  contentAlign?: Align;\n  /**\n   * Выравнивание after компонента по вертикали.\n   */\n  afterAlign?: Align;\n  /**\n   * Блокировка взаимодействия с компонентом. Убирает анимацию нажатия.\n   */\n  disabled?: boolean;\n  /**\n   * Включает многострочный режим для `subhead`, `children`, `text` и `caption`.\n   */\n  multiline?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/rich-cell\n */\nexport const RichCell: React.FC<RichCellProps> & {\n  Icon: typeof RichCellIcon;\n} = ({\n  overTitle,\n  children,\n  subtitle,\n  extraSubtitle,\n  before,\n  after,\n  afterCaption,\n  bottom,\n  actions,\n  multiline,\n  beforeAlign = 'start',\n  contentAlign = 'start',\n  afterAlign = 'start',\n  ...restProps\n}: RichCellProps) => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const withAfter = after || afterCaption;\n\n  const afterRender = () => {\n    if (!withAfter) {\n      return;\n    }\n    return (\n      <div className={styles.contentAfter}>\n        {after && <div className={styles.afterChildren}>{after}</div>}\n        {afterCaption && <div className={styles.afterCaption}>{afterCaption}</div>}\n      </div>\n    );\n  };\n\n  return (\n    <Tappable\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        !multiline && styles.textEllipsis,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        withAfter && styles.withAfter,\n        withAfter && alignAfterClassNames[afterAlign],\n        before && alignBeforeClassNames[beforeAlign],\n        alignContentClassNames[contentAlign],\n      )}\n    >\n      {before && <div className={styles.before}>{before}</div>}\n      <div className={styles.in}>\n        <div className={styles.content}>\n          <div className={styles.contentBefore}>\n            {overTitle && (\n              <Subhead Component=\"div\" className={styles.overTitle}>\n                {overTitle}\n              </Subhead>\n            )}\n            <div className={styles.children}>{children}</div>\n            {subtitle && <div className={styles.subtitle}>{subtitle}</div>}\n            {extraSubtitle && (\n              <Subhead Component=\"div\" className={styles.extraSubtitle}>\n                {extraSubtitle}\n              </Subhead>\n            )}\n          </div>\n          {afterAlign === 'start' && afterRender()}\n        </div>\n        {bottom && <div className={styles.bottom}>{bottom}</div>}\n        {actions && <div className={styles.actions}>{actions}</div>}\n      </div>\n      {afterAlign !== 'start' && afterRender()}\n    </Tappable>\n  );\n};\n\nRichCell.Icon = RichCellIcon;\n", "import type { HTMLAttributesWithRootRef } from '../../../types';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport styles from './RichCellIcon.module.css';\n\nexport type RichCellIconProps = HTMLAttributesWithRootRef<HTMLDivElement>;\n\nexport const RichCellIcon = (props: RichCellIconProps): React.ReactNode => {\n  return <RootComponent baseClassName={styles.host} {...props} />;\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport { SimpleCell, type SimpleCellProps } from '../SimpleCell/SimpleCell';\nimport '../SimpleCell/SimpleCell.module.css';\nimport styles from './CellButton.module.css';\n\nexport const appearanceClassNames = {\n  accent: styles.appearanceAccent,\n  neutral: styles.appearanceNeutral,\n  negative: styles.appearanceNegative,\n};\n\nexport interface CellButtonProps extends SimpleCellProps {\n  /**\n   * > Режим `centered` переопределяет токен для темы `\"accent\"`.\n   */\n  appearance?: 'accent' | 'neutral' | 'negative';\n  /**\n   * Возможность центрирования содержимого компонента.\n   */\n  centered?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/cell-button\n */\nexport const CellButton = ({\n  centered = false,\n  appearance = 'accent',\n  className,\n  ...restProps\n}: CellButtonProps): React.ReactNode => {\n  return (\n    <SimpleCell\n      {...restProps}\n      className={classNames(\n        styles.host,\n        appearanceClassNames[appearance],\n        centered && styles.centered,\n        className,\n      )}\n    />\n  );\n};\n", "import * as React from 'react';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { type HTMLAttributesWithRootRef } from '../../types';\nimport { ButtonGroup } from '../ButtonGroup/ButtonGroup';\nimport { CellButtonGroupSeparator } from './CellButtonGroupSeparator/CellButtonGroupSeparator';\n\nexport type CellButtonGroupProps = HTMLAttributesWithRootRef<HTMLDivElement>;\n\n/**\n * @since 7.2.0\n *\n * @see https://vkui.io/components/cell-button-group\n */\nexport const CellButtonGroup = (props: CellButtonGroupProps): React.ReactNode => {\n  return <ButtonGroup gap=\"none\" stretched {...props} />;\n};\n\nCellButtonGroup.Separator = CellButtonGroupSeparator;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(CellButtonGroup.Separator, 'CellButtonGroup.Separator');\n}\n", "import { classNames } from '@vkontakte/vkjs';\nimport { Separator, type SeparatorProps } from '../../Separator/Separator';\nimport styles from './CellButtonGroupSeparator.module.css';\n\ntype CellButtonGroupSeparatorProps = Omit<SeparatorProps, 'direction' | 'padding'>;\n\nexport const CellButtonGroupSeparator = ({\n  className,\n  ...restProps\n}: CellButtonGroupSeparatorProps) => {\n  return (\n    <Separator\n      className={classNames(styles.root, className)}\n      {...restProps}\n      direction=\"vertical\"\n      padding\n    />\n  );\n};\n", "import * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport type { CSSCustomProperties, HasRef, HasRootRef, LiteralUnion } from '../../types';\nimport { Avatar } from '../Avatar/Avatar';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport styles from './HorizontalCell.module.css';\n\nexport const CUSTOM_CSS_TOKEN_FOR_CELL_WIDTH = '--vkui_internal--cell_width';\n\nconst stylesSize = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n  l: styles.sizeL,\n  xl: styles.sizeXL,\n  auto: styles.sizeAuto,\n};\n\nconst textAlignClassNames = {\n  center: styles.textAlignCenter,\n  end: styles.textAlignEnd,\n};\n\ntype HorizontalCellSizes = 's' | 'm' | 'l' | 'xl' | 'auto';\n\nexport interface HorizontalCellProps\n  extends Omit<TappableOmitProps, 'size' | 'getRootRef' | 'title' | 'borderRadiusMode'>,\n    HasRootRef<HTMLDivElement>,\n    HasRef<HTMLDivElement> {\n  /**\n   * Ширина компонента.\n   *\n   * Значения `'s' | 'm' | 'l' | 'xl'` определяются дизайн-системой.\n   * Значение `auto` позволяет задать динамическую ширину, определяемую контентом.\n   * Пользовательскую ширину можно задать через числовое значение.\n   */\n  size?: LiteralUnion<HorizontalCellSizes, number>;\n  /**\n   * Заголовок.\n   */\n  title?: React.ReactNode;\n  /**\n   * Дополнительная строка текста под `children`.\n   */\n  subtitle?: React.ReactNode;\n  /**\n   * Дополнительная строка текста под `children` и `subtitle`.\n   */\n  extraSubtitle?: React.ReactNode;\n  /**\n   * Задает выравнивание типографики. По умолчанию `center` для `size=s`, иначе `start`.\n   */\n  textAlign?: 'start' | 'center' | 'end';\n  /**\n   * Отключает формирование отступов у крайних элементов.\n   *\n   * Актуально для использования в многострочных списках.\n   */\n  noPadding?: boolean;\n  /**\n   * Позволяет передать типографический компонент, используемый для `title`.\n   * По умолчанию `Caption` для `size=s`, иначе `Subhead`.\n   */\n  TitleComponent?: React.ElementType;\n}\n\n/**\n * @see https://vkui.io/components/horizontal-cell\n */\nexport const HorizontalCell = ({\n  className,\n  title,\n  style,\n  subtitle,\n  size = 's',\n  children = <Avatar size={56} />,\n  getRootRef,\n  getRef,\n  extraSubtitle,\n  textAlign = size === 's' ? 'center' : 'start',\n  noPadding = false,\n  TitleComponent = size === 's' ? Caption : Subhead,\n  ...restProps\n}: HorizontalCellProps): React.ReactNode => {\n  const hasTypography =\n    hasReactNode(title) || hasReactNode(subtitle) || hasReactNode(extraSubtitle);\n\n  const customProperties: CSSCustomProperties | undefined =\n    typeof size === 'number' ? { [CUSTOM_CSS_TOKEN_FOR_CELL_WIDTH]: `${size}px` } : undefined;\n\n  return (\n    <div\n      ref={getRootRef}\n      style={mergeStyle(customProperties, style)}\n      className={classNames(\n        styles.host,\n        typeof size === 'string' && stylesSize[size],\n        size !== 'auto' && styles.sized,\n        typeof size === 'number' && styles.customSize,\n        noPadding && styles.noPadding,\n        className,\n      )}\n    >\n      <Tappable className={styles.body} getRootRef={getRef} {...restProps}>\n        {hasReactNode(children) && <div className={styles.image}>{children}</div>}\n        {hasTypography && (\n          <div\n            className={classNames(\n              styles.content,\n              textAlign !== 'start' && textAlignClassNames[textAlign],\n            )}\n          >\n            {hasReactNode(title) && <TitleComponent>{title}</TitleComponent>}\n            {hasReactNode(subtitle) && <Footnote className={styles.subtitle}>{subtitle}</Footnote>}\n            {hasReactNode(extraSubtitle) && (\n              <Footnote className={styles.subtitle}>{extraSubtitle}</Footnote>\n            )}\n          </div>\n        )}\n      </Tappable>\n    </div>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { ImageBase, type ImageBaseBadgeProps, ImageBaseContext } from '../../ImageBase/ImageBase';\nimport styles from './AvatarBadge.module.css';\n\nexport type AvatarBadgeProps = ImageBaseBadgeProps;\n\nexport const AvatarBadge = ({ className, ...restProps }: AvatarBadgeProps) => {\n  const { size } = React.useContext(ImageBaseContext);\n  return (\n    <ImageBase.Badge\n      {...restProps}\n      className={classNames(styles.host, size < 96 && styles.shifted, className)}\n    />\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useConfigDirection } from '../../../hooks/useConfigDirection';\nimport {\n  getBadgeIconSizeByImageBaseSize,\n  ImageBase,\n  type ImageBaseBadgeProps,\n  ImageBaseContext,\n} from '../../ImageBase/ImageBase';\nimport { Icon12Circle, Icon12OnlineMobile } from './icons';\nimport styles from './AvatarBadge.module.css';\n\nexport interface AvatarBadgeWithPresetProps\n  extends Omit<ImageBaseBadgeProps, 'background' | 'children'> {\n  /**\n   * Использует предзаданные настройки.\n   *\n   * За каждым пресетом закреплена своя иконка и стили.\n   */\n  preset?: 'online' | 'online-mobile';\n}\n\nexport const AvatarBadgeWithPreset = ({\n  preset = 'online',\n  className,\n  ...restProps\n}: AvatarBadgeWithPresetProps) => {\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n  const { size } = React.useContext(ImageBaseContext);\n  const badgeSize = getBadgeIconSizeByImageBaseSize(size);\n  const isOnlinePreset = preset === 'online';\n  const presetClassName = isOnlinePreset ? styles.presetOnline : styles.presetOnlineMobile;\n  const Icon = isOnlinePreset ? Icon12Circle : Icon12OnlineMobile;\n\n  return (\n    <ImageBase.Badge\n      background=\"stroke\"\n      className={classNames(styles.host, isRtl && styles.rtl, presetClassName, className)}\n      {...restProps}\n    >\n      <Icon width={badgeSize} height={badgeSize} />\n    </ImageBase.Badge>\n  );\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport {\n  Icon12Circle as Icon12CircleLib,\n  Icon12OnlineMobile as Icon12OnlineMobileLib,\n} from '@vkontakte/icons';\n\ntype IconsProps = Omit<React.ComponentProps<typeof Icon12CircleLib>, 'width' | 'height'> & {\n  width: number;\n  height: number;\n};\n\nexport const Icon12Circle = ({ width, height, ...restProps }: IconsProps): React.ReactNode => {\n  return (\n    <Icon12CircleLib {...restProps} width={width >= 24 ? 15 : 12} height={height >= 24 ? 15 : 12} />\n  );\n};\n\nexport const Icon12OnlineMobile = ({\n  width,\n  height,\n  ...restProps\n}: IconsProps): React.ReactNode => {\n  return (\n    <Icon12OnlineMobileLib\n      {...restProps}\n      width={width >= 24 ? 9 : 8}\n      height={height >= 24 ? 15 : 12}\n    />\n  );\n};\n", "import type { ImageBaseSize } from '../ImageBase/ImageBase';\n\nconst MAX_FONT_SIZE = 30;\nconst MAX_IMAGE_BASE_SIZE: ImageBaseSize = 96;\nconst RELATIVE_SIZE = MAX_FONT_SIZE / MAX_IMAGE_BASE_SIZE;\n\nexport type GetInitialsFontSizeType = (avatarSize: number) => number;\n\n/**\n * По возможности выставляем размеры по дизайн-системе. Иначе высчитываем.\n */\nexport const getInitialsFontSize: GetInitialsFontSizeType = (avatarSize) => {\n  if (avatarSize <= 16) {\n    return 5;\n  } else if (avatarSize <= 24) {\n    return 8;\n  } else if (avatarSize <= 32) {\n    return 10;\n  } else if (avatarSize <= 36) {\n    return 13;\n  } else if (avatarSize <= 44) {\n    return 14;\n  } else if (avatarSize <= 48) {\n    return 17;\n  } else if (avatarSize < 56) {\n    return 18;\n  } else if (avatarSize <= 64) {\n    return 21;\n  } else if (avatarSize <= 88) {\n    return 26;\n  } else if (avatarSize <= MAX_IMAGE_BASE_SIZE) {\n    return MAX_FONT_SIZE;\n  }\n\n  const calculatedFontSize = Math.ceil(avatarSize * RELATIVE_SIZE);\n  const evenFix = calculatedFontSize % 2;\n  return calculatedFontSize + evenFix;\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { ImageBase, type ImageBaseProps } from '../ImageBase/ImageBase';\nimport {\n  ImageBaseOverlay,\n  type ImageBaseOverlayProps,\n} from '../ImageBase/ImageBaseOverlay/ImageBaseOverlay';\nimport { AvatarBadge, type AvatarBadgeProps } from './AvatarBadge/AvatarBadge';\nimport {\n  AvatarBadgeWithPreset,\n  type AvatarBadgeWithPresetProps,\n} from './AvatarBadge/AvatarBadgeWithPreset';\nimport { getInitialsFontSize } from './helpers';\nimport styles from './Avatar.module.css';\n\nexport type {\n  AvatarBadgeProps,\n  AvatarBadgeWithPresetProps,\n  ImageBaseOverlayProps as AvatarOverlayProps,\n};\n\nconst AVATAR_DEFAULT_SIZE = 48;\n\nconst COLORS_NUMBER_TO_TEXT_MAP = {\n  1: 'red',\n  2: 'orange',\n  3: 'yellow',\n  4: 'green',\n  5: 'l-blue',\n  6: 'violet',\n} as const;\n\n/**\n * Градиенты, которые можно использовать в алгоритме поиска градиентов по числовому идентификатору пользователя.\n * @example user.id % 6 + 1\n */\nexport type InitialsAvatarNumberGradients = keyof typeof COLORS_NUMBER_TO_TEXT_MAP;\n\nexport type InitialsAvatarTextGradients =\n  | (typeof COLORS_NUMBER_TO_TEXT_MAP)[InitialsAvatarNumberGradients]\n  | 'blue';\n\nconst gradientStyles = {\n  'red': styles.gradientRed,\n  'orange': styles.gradientOrange,\n  'yellow': styles.gradientYellow,\n  'green': styles.gradientGreen,\n  'blue': styles.gradientBlue,\n  'l-blue': styles.gradientLBlue,\n  'violet': styles.gradientViolet,\n};\n\nexport interface AvatarProps extends Omit<ImageBaseProps, 'widthSize' | 'heightSize'> {\n  /**\n   * Инициалы пользователя.\n   *\n   * > Note: Если аватарка не прогрузится, то пользователь увидит инициалы.\n   *\n   * > ⚠️ Перебивает `fallbackIcon`.\n   */\n  initials?: string;\n  /**\n   * Задаёт градиент для фона.\n   *\n   * Если передано число, то оно будет сконвертировано в строчное представление цвета по следующей схеме:\n   *\n   * 1: 'red'\n   * 2: 'orange'\n   * 3: 'yellow'\n   * 4: 'green'\n   * 5: 'l-blue'\n   * 6: 'violet'.\n   *\n   * > Если необходимо задать свой градиент, то используйте значение `\"custom\"` и определите цвет градиента либо через\n   * > свой класс в `className`, либо через `style={{ backgroundImage: \"...\" }}`.\n   */\n  gradientColor?: InitialsAvatarNumberGradients | InitialsAvatarTextGradients | 'custom';\n}\n\n/**\n * @see https://vkui.io/components/avatar\n */\nexport const Avatar: React.FC<AvatarProps> & {\n  Badge: typeof AvatarBadge;\n  BadgeWithPreset: typeof AvatarBadgeWithPreset;\n  Overlay: typeof ImageBase.Overlay;\n  getInitialsFontSize: typeof getInitialsFontSize;\n} = ({\n  size = AVATAR_DEFAULT_SIZE,\n  className,\n  gradientColor,\n  initials,\n  fallbackIcon: fallbackIconProp,\n  children,\n  ...restProps\n}: AvatarProps) => {\n  const gradientName =\n    typeof gradientColor === 'number' ? COLORS_NUMBER_TO_TEXT_MAP[gradientColor] : gradientColor;\n  const isGradientNotCustom = gradientName && gradientName !== 'custom';\n\n  const fallbackIcon = initials ? (\n    <div\n      className={styles.initials}\n      style={{\n        fontSize: getInitialsFontSize(size),\n      }}\n    >\n      {initials}\n    </div>\n  ) : (\n    fallbackIconProp\n  );\n\n  return (\n    <ImageBase\n      {...restProps}\n      size={size}\n      fallbackIcon={fallbackIcon}\n      className={classNames(\n        styles.host,\n        gradientName && styles.hasGradient,\n        isGradientNotCustom && gradientStyles[gradientName],\n        className,\n      )}\n    >\n      {children}\n    </ImageBase>\n  );\n};\n\nAvatar.Badge = AvatarBadge;\nAvatar.BadgeWithPreset = AvatarBadgeWithPreset;\nAvatar.Overlay = ImageBaseOverlay;\nAvatar.getInitialsFontSize = getInitialsFontSize;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(Avatar.Badge, 'Avatar.Badge');\n  defineComponentDisplayNames(Avatar.BadgeWithPreset, 'Avatar.BadgeWithPreset');\n  defineComponentDisplayNames(Avatar.Overlay, 'Avatar.Overlay');\n}\n", "import { Icon28ChevronRightCircle } from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasRef, HasRootRef, LiteralUnion } from '../../../types';\nimport type { ImageBaseSize } from '../../ImageBase/ImageBase';\nimport { Tappable, type TappableOmitProps } from '../../Tappable/Tappable';\nimport { Subhead, type SubheadProps } from '../../Typography/Subhead/Subhead';\nimport styles from './HorizontalCellShowMore.module.css';\n\nconst sizeClassNames = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n};\n\nexport interface HorizontalCellShowMoreProps\n  extends Omit<TappableOmitProps, 'getRootRef' | 'size' | 'borderRadiusMode'>,\n    HasRef<HTMLElement>,\n    HasRootRef<HTMLDivElement> {\n  /**\n   * Задаёт высоту компонента. Должeн соответствовать размеру картинок\n   * внутри соседних `HorizontalCell` компонентов.\n   *\n   * Используйте размеры, заданные дизайн-системой (смотри типы).\n   *\n   * > ⚠️ Использование кастомного размера – это пограничный кейс.\n   *\n   * Игнорируется, если `size='s'`.\n   */\n  height?: LiteralUnion<ImageBaseSize, number>;\n  /**\n   * Задаёт размер компонента.\n   *\n   * Значение `s` применяется для `<HorizontalCell size=\"s\"`, в остальных случаях рекомендуется `m`.\n   */\n  size?: 's' | 'm';\n  /**\n   * Предназначен для отрисовки текста.\n   * По умолчанию для `size='s'` содержит текст `Все`, для `size='m'` - `Показать все`.\n   * */\n  children?: SubheadProps['children'];\n  /**\n   * Выравнивание по центру относительно родителя.\n   */\n  centered?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/horizontal-scroll#horizontal-cell-show-more\n */\nexport const HorizontalCellShowMore = ({\n  className,\n  style,\n  getRef,\n  getRootRef,\n  height,\n  size = 's',\n  children = size === 's' ? 'Все' : 'Показать все',\n  centered = false,\n  ...restProps\n}: HorizontalCellShowMoreProps): React.ReactNode => {\n  return (\n    <div\n      style={style}\n      className={classNames(\n        styles.host,\n        centered && styles.centered,\n        sizeClassNames[size],\n        className,\n      )}\n      ref={getRootRef}\n    >\n      <Tappable\n        style={size === 's' ? undefined : { height }}\n        className={styles.body}\n        getRootRef={getRef}\n        activeMode=\"opacity\"\n        hoverMode=\"opacity\"\n        {...restProps}\n      >\n        <Icon28ChevronRightCircle className={styles.icon} />\n\n        <Subhead className={styles.text} weight=\"2\">\n          {children}\n        </Subhead>\n      </Tappable>\n    </div>\n  );\n};\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasComponent } from '../../types';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './Footer.module.css';\n\nexport type FooterProps = React.AllHTMLAttributes<HTMLElement> & HasComponent;\n\n/**\n * @see https://vkui.io/components/group#footer\n */\nexport const Footer = ({\n  children,\n  className,\n  Component = 'footer',\n  role: roleProp,\n  ...restProps\n}: FooterProps): React.ReactNode => {\n  const role = roleProp ?? (Component === 'footer' ? 'contentinfo' : undefined);\n  return (\n    <Footnote\n      Component={Component}\n      role={role}\n      {...restProps}\n      className={classNames(styles.host, className)}\n    >\n      {children}\n    </Footnote>\n  );\n};\n", "import * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './InfoRow.module.css';\n\nexport interface InfoRowProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Элемент, отображаемый над содержимым.\n   */\n  header: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/info-row\n */\nexport const InfoRow = ({\n  header,\n  children,\n  className,\n  ...restProps\n}: InfoRowProps): React.ReactNode => (\n  <Headline\n    {...restProps}\n    Component=\"span\"\n    className={classNames(styles.host, className)}\n    weight=\"3\"\n  >\n    {hasReactNode(header) && (\n      <Subhead Component=\"strong\" className={styles.header}>\n        {header}\n        <VisuallyHidden>&nbsp;</VisuallyHidden>\n      </Subhead>\n    )}\n    {children}\n  </Headline>\n);\n", "'use client';\n\nimport * as React from 'react';\nimport { clamp } from '../../helpers/math';\nimport { useIsClient } from '../../hooks/useIsClient';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { CarouselBase } from '../CarouselBase/CarouselBase';\nimport type { BaseGalleryProps } from '../CarouselBase/types';\nimport { useAutoPlay } from './hooks';\n\nexport interface GalleryProps extends BaseGalleryProps {\n  /**\n   * Индекс слайда по умолчанию.\n   */\n  initialSlideIndex?: number;\n  /**\n   * При передаче происходит автоматический переход к следующему слайду через переданное время в ms.\n   */\n  timeout?: number;\n}\n\n/**\n * @see https://vkui.io/components/gallery\n */\nexport const Gallery = ({\n  initialSlideIndex = 0,\n  children,\n  timeout = 0,\n  onChange,\n  bullets,\n  onDragStart,\n  onDragEnd,\n  ...props\n}: GalleryProps): React.ReactNode => {\n  const [localSlideIndex, setSlideIndex] = React.useState(initialSlideIndex);\n  const isControlled = typeof props.slideIndex === 'number';\n  const slideIndex = isControlled ? (props.slideIndex ?? 0) : localSlideIndex;\n  const slides = React.useMemo(\n    () => React.Children.toArray(children).filter((item) => Boolean(item)),\n    [children],\n  );\n  const childCount = slides.length;\n  const isClient = useIsClient();\n\n  const handleChange: GalleryProps['onChange'] = React.useCallback(\n    (current: number) => {\n      if (current === slideIndex) {\n        return;\n      }\n      !isControlled && setSlideIndex(current);\n      onChange && onChange(current);\n    },\n    [isControlled, onChange, slideIndex],\n  );\n\n  const autoPlayControls = useAutoPlay({\n    timeout,\n    slideIndex,\n    onNext: () => handleChange((slideIndex + 1) % childCount),\n  });\n\n  // prevent invalid slideIndex\n  // any slide index is invalid with no slides, just keep it as is\n  const safeSlideIndex = childCount > 0 ? clamp(slideIndex, 0, childCount - 1) : slideIndex;\n  // notify parent in controlled mode\n  React.useEffect(() => {\n    if (onChange && safeSlideIndex !== slideIndex) {\n      onChange(safeSlideIndex);\n    }\n    setSlideIndex(safeSlideIndex);\n  }, [onChange, safeSlideIndex, slideIndex]);\n\n  if (!isClient) {\n    return null;\n  }\n\n  return (\n    <CarouselBase\n      dragDisabled={isControlled && !onChange}\n      {...props}\n      onDragStart={callMultiple(onDragStart, autoPlayControls.pause)}\n      onDragEnd={callMultiple(onDragEnd, autoPlayControls.resume)}\n      bullets={childCount > 0 && bullets}\n      slideIndex={safeSlideIndex}\n      onChange={handleChange}\n    >\n      {slides}\n    </CarouselBase>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivityHasPointer } from '../../hooks/useAdaptivityHasPointer';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useMutationObserver } from '../../hooks/useMutationObserver';\nimport { useResizeObserver } from '../../hooks/useResizeObserver';\nimport { useDOM } from '../../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { type CustomTouchEvent } from '../Touch/Touch';\nimport { Bullets } from './Bullets';\nimport { CarouselViewPort } from './CarouselViewPort';\nimport { ScrollArrows } from './ScrollArrows';\nimport {\n  ANIMATION_DURATION,\n  CONTROL_ELEMENTS_STATE,\n  SLIDE_THRESHOLD,\n  SLIDES_MANAGER_STATE,\n} from './constants';\nimport {\n  calcMax,\n  calcMin,\n  calculateIndent,\n  getLoopPoints,\n  getTargetIndex,\n  isBigger,\n  isBiggerOrEqual,\n  isLowerOrEqual,\n  revertRtlValue,\n  validateIndent,\n} from './helpers';\nimport { useSlideAnimation } from './hooks';\nimport {\n  type BaseGalleryProps,\n  type ControlElementsState,\n  type GallerySlidesState,\n  type SlidesManagerState,\n} from './types';\nimport styles from './CarouselBase.module.css';\n\nconst warn = warnOnce('Gallery');\n\nexport const CarouselBase = ({\n  bullets = false,\n  getRootRef,\n  children,\n  slideWidth = '100%',\n  slideIndex = 0,\n  dragDisabled = false,\n  resizeSource = 'window',\n  onDragStart,\n  onDragEnd,\n  onChange,\n  onPrevClick,\n  onNextClick,\n  align = 'left',\n  showArrows,\n  getRef,\n  arrowSize,\n  arrowAreaHeight,\n  arrowNextLabel,\n  arrowPrevLabel,\n  slideTestId,\n  bulletTestId,\n  nextArrowTestId,\n  prevArrowTestId,\n  looped = false,\n  ...restProps\n}: BaseGalleryProps): React.ReactNode => {\n  const slidesStore = React.useRef<Record<string, HTMLDivElement | null>>({});\n  const slidesManager = React.useRef<SlidesManagerState>(SLIDES_MANAGER_STATE);\n  const textDirection = useConfigDirection();\n  const isRtl = textDirection === 'rtl';\n\n  const rootRef = useExternRef(getRootRef);\n  const viewportRef = useExternRef(getRef);\n  const layerRef = React.useRef<HTMLDivElement>(null);\n  const animationFrameRef = React.useRef<ReturnType<typeof requestAnimationFrame> | null>(null);\n  const shiftXCurrentRef = React.useRef<number>(0);\n  const shiftXDeltaRef = React.useRef<number>(0);\n  const initialized = React.useRef<boolean>(false);\n  const { addToAnimationQueue, getAnimateFunction, startAnimation } = useSlideAnimation();\n  const isDragging = React.useRef(false);\n\n  const [controlElementsState, setControlElementsState] =\n    React.useState<ControlElementsState>(CONTROL_ELEMENTS_STATE);\n\n  const hasPointer = useAdaptivityHasPointer();\n\n  const isCenterAlign = align === 'center';\n\n  const calculateCanSlideLeft = () => {\n    if (looped) {\n      return !slidesManager.current.isFullyVisible;\n    }\n    const isStartShiftX = isBiggerOrEqual(shiftXCurrentRef.current, 0, isRtl);\n    return !slidesManager.current.isFullyVisible && !isStartShiftX;\n  };\n\n  const calculateCanSlideRight = () => {\n    if (looped) {\n      return !slidesManager.current.isFullyVisible;\n    }\n    return (\n      !slidesManager.current.isFullyVisible &&\n      // we can't move right when gallery layer fully scrolled right, if gallery aligned by left side\n      ((align === 'left' &&\n        slidesManager.current.containerWidth - revertRtlValue(shiftXCurrentRef.current, isRtl) <\n          (slidesManager.current.layerWidth ?? 0)) ||\n        // otherwise we need to check current slide index (align = right or align = center)\n        (align !== 'left' && slideIndex < slidesManager.current.slides.length - 1))\n    );\n  };\n\n  const transformCssStyles = (shiftX: number, animation = false) => {\n    shiftX = Math.round(shiftX);\n    if (looped) {\n      slidesManager.current.loopPoints.forEach((loopPoint) => {\n        const { target, index } = loopPoint;\n        const slide = slidesStore.current[index];\n        if (slide) {\n          slide.style.transform = `translate3d(${target(shiftX)}px, 0, 0)`;\n        }\n      });\n    } else {\n      Object.values(slidesStore.current).forEach((slide) => {\n        if (slide) {\n          slide.style.transform = '';\n        }\n      });\n    }\n\n    if (layerRef.current) {\n      const indent =\n        isDragging.current && !looped\n          ? validateIndent(\n              slidesManager.current,\n              shiftXCurrentRef.current + shiftXDeltaRef.current,\n              isRtl,\n              false,\n            )\n          : shiftX;\n\n      layerRef.current.style.transform = `translate3d(${indent}px, 0, 0)`;\n      layerRef.current.style.transition = animation\n        ? `transform ${ANIMATION_DURATION}ms cubic-bezier(.1, 0, .25, 1)`\n        : '';\n    }\n  };\n\n  const checkShiftOutOfBoundsFromStart = (shiftX: number, snaps: number[]) =>\n    isBigger(shiftX, snaps[0], isRtl);\n\n  const checkShiftOutOfBoundsFromEnd = (shiftX: number, slides: GallerySlidesState[]) => {\n    /**\n     * Поскольку при `align=\"center\"` слайды сдвинуты, прежде чем рассчитать крайнюю правую точку,\n     * нужно вычесть сдвиг слайдов.\n     */\n    const firstSlideShift =\n      align === 'center'\n        ? (slidesManager.current.containerWidth - slidesManager.current.slides[0].width) / 2\n        : 0;\n\n    const lastPoint =\n      slides[slides.length - 1].width + slides[slides.length - 1].coordX - firstSlideShift;\n    return isRtl ? shiftX >= lastPoint : shiftX <= -lastPoint;\n  };\n\n  const requestTransform = (shiftX: number, animation = false) => {\n    const { snaps, contentSize, slides } = slidesManager.current;\n\n    if (animationFrameRef.current !== null) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n    animationFrameRef.current = requestAnimationFrame(() => {\n      /**\n       * Для бесконечной галереи проверяем, что при dnd мы прокрутили левее, чем первый слайд,\n       * чтобы сбросить `shiftXCurrentRef`.\n       */\n      if (looped && checkShiftOutOfBoundsFromStart(shiftX, snaps)) {\n        const firstSnap = revertRtlValue(snaps[0], isRtl);\n        shiftXCurrentRef.current = revertRtlValue(-contentSize + firstSnap, isRtl);\n        shiftX = shiftXCurrentRef.current + shiftXDeltaRef.current;\n      }\n\n      /**\n       * Для бесконечной галереи проверяем, что при dnd мы прокрутили правее, чем последний слайд,\n       * чтобы правильно пересчитать `shiftXCurrentRef`.\n       */\n      if (looped && checkShiftOutOfBoundsFromEnd(shiftX, slides)) {\n        shiftXCurrentRef.current = Math.abs(shiftXDeltaRef.current) + snaps[0];\n      }\n      transformCssStyles(shiftX, animation);\n    });\n  };\n\n  const initializeSlides = () => {\n    if (!rootRef.current || !viewportRef.current || !layerRef.current) {\n      return;\n    }\n    const layerOffsetWidth = layerRef.current.offsetWidth;\n\n    const calcRtlCoord = (element: HTMLDivElement) => {\n      const offsetLeft = element.offsetLeft;\n      const offsetWidth = element.offsetWidth;\n      return layerOffsetWidth - offsetLeft - offsetWidth;\n    };\n\n    let localSlides =\n      React.Children.map(children, (_item, i): GallerySlidesState => {\n        const elem = slidesStore.current[i];\n        if (!elem) {\n          return { coordX: 0, width: 0 };\n        }\n        const coordX = isRtl ? calcRtlCoord(elem) : elem.offsetLeft;\n        return { coordX, width: elem.offsetWidth };\n      }) || [];\n\n    if (localSlides.length === 0) {\n      initialized.current = false;\n      return;\n    }\n\n    const containerWidth = rootRef.current.offsetWidth;\n    const viewportOffsetWidth = viewportRef.current.offsetWidth;\n    const layerWidth = localSlides.reduce((val, slide) => slide.width + val, 0);\n\n    if (process.env.NODE_ENV === 'development' && looped) {\n      let remainingWidth = containerWidth;\n      let slideIndex = 0;\n\n      while (remainingWidth > 0 && slideIndex < localSlides.length) {\n        remainingWidth -= localSlides[slideIndex].width;\n        slideIndex++;\n      }\n      if (remainingWidth <= 0 && slideIndex === localSlides.length) {\n        warn(\n          'Ширины слайдов недостаточно для корректной работы свойства \"looped\". Пожалуйста, сделайте её больше.',\n        );\n      }\n    }\n\n    const currentSlideOffsetOnCenterAlignment =\n      (containerWidth - (localSlides[slideIndex]?.width ?? 0)) / 2;\n    const isFullyVisible =\n      align === 'center'\n        ? layerWidth + currentSlideOffsetOnCenterAlignment <= containerWidth\n        : layerWidth <= containerWidth;\n\n    const onlyOneSlide = localSlides.length === 1;\n\n    slidesManager.current = {\n      ...slidesManager.current,\n      layerWidth,\n      containerWidth,\n      viewportOffsetWidth,\n      slides: localSlides,\n      isFullyVisible,\n      max:\n        looped || onlyOneSlide\n          ? null\n          : calcMax({\n              slides: localSlides,\n              containerWidth,\n              isCenterAlign,\n              isRtl,\n            }),\n      min:\n        looped || onlyOneSlide\n          ? null\n          : calcMin({\n              containerWidth,\n              layerWidth,\n              slides: localSlides,\n              viewportOffsetWidth,\n              isFullyVisible,\n              align,\n              isRtl,\n            }),\n    };\n    const snaps = localSlides.map((_, index) =>\n      calculateIndent({\n        targetIndex: index,\n        slidesManager: slidesManager.current,\n        isCenter: isCenterAlign,\n        looped,\n        isRtl,\n      }),\n    );\n\n    let contentSize = Math.abs(snaps[snaps.length - 1]) + localSlides[localSlides.length - 1].width;\n    if (align === 'center') {\n      contentSize += revertRtlValue(snaps[0], isRtl);\n    }\n\n    slidesManager.current.snaps = snaps;\n    slidesManager.current.contentSize = contentSize;\n    // Если галерея не зациклена и слайд всего один, то рассчитывать loopPoints тоже не надо\n    if (looped && !onlyOneSlide && !isFullyVisible) {\n      slidesManager.current.loopPoints = getLoopPoints(\n        slidesManager.current,\n        containerWidth,\n        isRtl,\n      );\n    }\n\n    shiftXCurrentRef.current = snaps[slideIndex];\n    initialized.current = true;\n\n    setControlElementsState({\n      canSlideLeft: calculateCanSlideLeft(),\n      canSlideRight: calculateCanSlideRight(),\n      isDraggable: !(dragDisabled || slidesManager.current.isFullyVisible),\n    });\n    requestTransform(shiftXCurrentRef.current);\n  };\n\n  const onResize = () => {\n    if (initialized.current) {\n      initializeSlides();\n    }\n  };\n  const { window } = useDOM();\n  useResizeObserver(resizeSource === 'element' ? rootRef : window, onResize);\n\n  const loopedSlideChangePerform = () => {\n    const { snaps, slides } = slidesManager.current;\n    const indent = snaps[slideIndex];\n    let startPoint = shiftXCurrentRef.current;\n\n    const fromLastToFirst = isLowerOrEqual(\n      shiftXCurrentRef.current,\n      snaps[snaps.length - 1],\n      isRtl,\n    );\n    /**\n     * Переключаемся с последнего элемента на первый\n     * Для корректной анимации мы прокручиваем последний слайд на всю длину (shiftX) \"вперед\"\n     * В конце анимации при отрисовке следующего кадра задаем всем слайдам начальные значения.\n     */\n    if (indent === snaps[0] && fromLastToFirst) {\n      const endEdge = revertRtlValue(\n        Math.abs(snaps[snaps.length - 1]) + slides[slides.length - 1].width,\n        isRtl,\n      );\n      const distance = endEdge + startPoint;\n      addToAnimationQueue(\n        getAnimateFunction((progress) => {\n          const shiftX = startPoint + progress * distance * -1;\n\n          transformCssStyles(shiftX);\n\n          if (shiftX <= snaps[snaps.length - 1] - slides[slides.length - 1].width) {\n            requestAnimationFrame(() => {\n              shiftXCurrentRef.current = indent;\n              transformCssStyles(snaps[0]);\n            });\n          }\n        }),\n      );\n      /**\n       * Переключаемся с первого слайда на последний\n       * Для корректной анимации сначала задаем первым видимым слайдам смещение\n       * В следующем кадре начинаем анимация прокрутки \"назад\".\n       */\n    } else if (indent === snaps[snaps.length - 1] && shiftXCurrentRef.current === snaps[0]) {\n      startPoint = indent - revertRtlValue(slides[slides.length - 1].width, isRtl);\n\n      addToAnimationQueue(() => {\n        requestAnimationFrame(() => {\n          const shiftX = indent - revertRtlValue(slides[slides.length - 1].width, isRtl);\n          transformCssStyles(shiftX);\n\n          getAnimateFunction((progress) => {\n            const diff = revertRtlValue(progress * slides[slides.length - 1].width, isRtl);\n            transformCssStyles(startPoint + diff);\n          })();\n        });\n      });\n      /**\n       * Если не обработаны `corner`-кейсы выше, то просто проигрываем анимацию смещения.\n       */\n    } else {\n      addToAnimationQueue(() => {\n        const distance = Math.abs(indent - startPoint);\n        let direction = startPoint <= indent ? 1 : -1;\n\n        getAnimateFunction((progress) => {\n          const shiftX = startPoint + progress * distance * direction;\n          transformCssStyles(shiftX);\n        })();\n      });\n    }\n  };\n\n  const simpleSlideChangePerform = () => {\n    const { snaps } = slidesManager.current;\n    requestTransform(snaps[slideIndex], true);\n  };\n\n  useIsomorphicLayoutEffect(\n    function performSlideChange() {\n      if (!initialized.current) {\n        return;\n      }\n      const { snaps } = slidesManager.current;\n      const indent = snaps[slideIndex];\n\n      if (looped) {\n        loopedSlideChangePerform();\n      } else {\n        simpleSlideChangePerform();\n      }\n\n      startAnimation();\n\n      shiftXCurrentRef.current = indent;\n\n      setControlElementsState((v) => ({\n        ...v,\n        canSlideLeft: calculateCanSlideLeft(),\n        canSlideRight: calculateCanSlideRight(),\n      }));\n    },\n    [slideIndex],\n  );\n\n  useIsomorphicLayoutEffect(\n    function updateIsDraggable() {\n      setControlElementsState((v) => ({\n        ...v,\n        isDraggable: !(dragDisabled || slidesManager.current.isFullyVisible),\n      }));\n    },\n    [dragDisabled],\n  );\n\n  useMutationObserver(layerRef, initializeSlides);\n\n  useIsomorphicLayoutEffect(initializeSlides, [align, slideWidth, looped, isRtl]);\n\n  const calculateMinDeltaXToSlide = () => {\n    return slidesManager.current.slides[slideIndex].width * SLIDE_THRESHOLD;\n  };\n\n  const slideLeft = (event: React.MouseEvent) => {\n    if (slideIndex > 0) {\n      shiftXCurrentRef.current += revertRtlValue(calculateMinDeltaXToSlide(), isRtl);\n    }\n    onChange?.(\n      (slideIndex - 1 + slidesManager.current.slides.length) % slidesManager.current.slides.length,\n    );\n    onPrevClick?.(event);\n  };\n\n  const slideRight = (event: React.MouseEvent) => {\n    if (slideIndex < slidesManager.current.slides.length - 1) {\n      shiftXCurrentRef.current -= revertRtlValue(calculateMinDeltaXToSlide(), isRtl);\n    }\n    onChange?.((slideIndex + 1) % slidesManager.current.slides.length);\n    onNextClick?.(event);\n  };\n\n  const onStart = (e: CustomTouchEvent) => {\n    e.originalEvent.stopPropagation();\n    if (controlElementsState.isDraggable) {\n      onDragStart?.(e);\n      shiftXCurrentRef.current = slidesManager.current.snaps[slideIndex];\n      shiftXDeltaRef.current = 0;\n    }\n  };\n\n  const onMoveX = (e: CustomTouchEvent) => {\n    if (controlElementsState.isDraggable) {\n      e.originalEvent.preventDefault();\n\n      if (e.isSlideX) {\n        isDragging.current = true;\n        if (shiftXDeltaRef.current !== e.shiftX) {\n          shiftXDeltaRef.current = e.shiftX;\n          requestTransform(shiftXCurrentRef.current + shiftXDeltaRef.current);\n        }\n      }\n    }\n  };\n\n  const onEnd = (e: CustomTouchEvent) => {\n    if (controlElementsState.isDraggable) {\n      isDragging.current = false;\n      let targetIndex = slideIndex;\n      if (e.isSlide) {\n        targetIndex = getTargetIndex({\n          slides: slidesManager.current.slides,\n          slideIndex,\n          currentShiftX: shiftXCurrentRef.current,\n          currentShiftXDelta: shiftXDeltaRef.current,\n          max: slidesManager.current.max,\n          looped,\n          isRtl,\n        });\n      }\n      onDragEnd?.(e, targetIndex);\n\n      if (targetIndex !== slideIndex) {\n        shiftXCurrentRef.current = shiftXCurrentRef.current + shiftXDeltaRef.current;\n        onChange?.(targetIndex);\n      } else {\n        const initialShiftX = slidesManager.current.snaps[targetIndex];\n        requestTransform(initialShiftX, true);\n      }\n    }\n  };\n\n  const setSlideRef = (slideRef: HTMLDivElement | null, slideIndex: number) => {\n    slidesStore.current[slideIndex] = slideRef;\n  };\n\n  const { isDraggable, canSlideRight, canSlideLeft } = controlElementsState;\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        slideWidth === 'custom' && styles.customWidth,\n        isDraggable && styles.draggable,\n      )}\n      getRootRef={rootRef}\n    >\n      <CarouselViewPort\n        slideWidth={slideWidth}\n        slideTestId={slideTestId}\n        onStart={onStart}\n        onMoveX={onMoveX}\n        onEnd={onEnd}\n        getRootRef={viewportRef}\n        layerRef={layerRef}\n        setSlideRef={setSlideRef}\n      >\n        {children}\n      </CarouselViewPort>\n\n      {bullets && (\n        <Bullets\n          bullets={bullets}\n          slideIndex={slideIndex}\n          count={React.Children.count(children)}\n          bulletTestId={bulletTestId}\n        />\n      )}\n      <ScrollArrows\n        hasPointer={hasPointer}\n        canSlideLeft={canSlideLeft}\n        canSlideRight={canSlideRight}\n        onSlideRight={slideRight}\n        onSlideLeft={slideLeft}\n        showArrows={showArrows}\n        arrowSize={arrowSize}\n        arrowAreaHeight={arrowAreaHeight}\n        arrowPrevLabel={arrowPrevLabel}\n        arrowNextLabel={arrowNextLabel}\n        prevArrowTestId={prevArrowTestId}\n        nextArrowTestId={nextArrowTestId}\n      />\n    </RootComponent>\n  );\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { type BaseGalleryProps } from './types';\nimport styles from './CarouselBase.module.css';\n\nexport interface BulletsTestIds {\n  /**\n   * Передает атрибут `data-testid` для bullets.\n   */\n  bulletTestId?: (index: number, active: boolean) => string;\n}\n\ninterface BulletsProps extends BulletsTestIds {\n  bullets: Exclude<BaseGalleryProps['bullets'], false | undefined>;\n  slideIndex: number;\n  count: number;\n}\n\nconst stylesBullets = {\n  dark: styles.bulletsDark,\n  light: styles.bulletsLight,\n};\n\nexport const Bullets = ({ bullets, slideIndex, count, bulletTestId }: BulletsProps) => {\n  return (\n    <div aria-hidden className={classNames(styles.bullets, stylesBullets[bullets])}>\n      {Array.from({ length: count }).map((_, index) => (\n        <div\n          className={classNames(styles.bullet, index === slideIndex && styles.bulletActive)}\n          data-testid={bulletTestId?.(index, index === slideIndex)}\n          key={index}\n        />\n      ))}\n    </div>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { type HasChildren, type HasRootRef } from '../../types';\nimport { type CustomTouchEvent, Touch } from '../Touch/Touch';\nimport { type BaseGalleryProps } from './types';\nimport styles from './CarouselBase.module.css';\n\ntype GalleryViewPortProps = Pick<BaseGalleryProps, 'slideWidth' | 'slideTestId'> &\n  HasRootRef<HTMLElement> &\n  HasChildren & {\n    onStart: (e: CustomTouchEvent) => void;\n    onMoveX: (e: CustomTouchEvent) => void;\n    onEnd: (e: CustomTouchEvent) => void;\n    setSlideRef: (slideRef: HTMLDivElement | null, slideIndex: number) => void;\n    layerRef?: React.Ref<HTMLDivElement>;\n  };\n\nexport const CarouselViewPort = ({\n  slideTestId,\n  slideWidth,\n  onStart,\n  onMoveX,\n  onEnd,\n  getRootRef,\n  layerRef,\n  children,\n  setSlideRef,\n}: GalleryViewPortProps) => {\n  return (\n    <Touch\n      className={styles.viewport}\n      onStartX={onStart}\n      onMoveX={onMoveX}\n      onEnd={onEnd}\n      style={{ width: slideWidth === 'custom' ? '100%' : slideWidth }}\n      noSlideClick\n      getRootRef={getRootRef}\n    >\n      <div className={styles.layer} ref={layerRef}>\n        {React.Children.map(children, (item: React.ReactNode, i: number) => (\n          <div\n            className={styles.slide}\n            key={`slide-${i}`}\n            data-testid={slideTestId?.(i)}\n            ref={(el) => setSlideRef(el, i)}\n          >\n            {item}\n          </div>\n        ))}\n      </div>\n    </Touch>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { ScrollArrow } from '../ScrollArrow/ScrollArrow';\nimport { type BaseGalleryProps } from './types';\nimport styles from './CarouselBase.module.css';\n\nconst stylesArrowAreaHeight = {\n  stretch: styles.arrowAreaStretch,\n  fit: styles.arrowAreaFit,\n};\n\nexport const getArrowClassName = (\n  side: 'start' | 'end',\n  arrowAreaHeight: Exclude<BaseGalleryProps['arrowAreaHeight'], undefined>,\n) => {\n  return classNames(\n    styles.arrow,\n    side === 'start' ? styles.arrowStart : styles.arrowEnd,\n    stylesArrowAreaHeight[arrowAreaHeight],\n  );\n};\n\nexport interface ScrollArrowsTestIds {\n  /**\n   * Передает атрибут `data-testid` для кнопки перехода к следующему слайду.\n   */\n  nextArrowTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки перехода к предыдущему слайду.\n   */\n  prevArrowTestId?: string;\n}\n\ninterface ScrollArrowsProps\n  extends Pick<\n      BaseGalleryProps,\n      'showArrows' | 'arrowSize' | 'arrowAreaHeight' | 'arrowPrevLabel' | 'arrowNextLabel'\n    >,\n    ScrollArrowsTestIds {\n  hasPointer?: boolean;\n  canSlideLeft: boolean;\n  canSlideRight: boolean;\n  onSlideLeft: (e: React.MouseEvent) => void;\n  onSlideRight: (e: React.MouseEvent) => void;\n}\n\nexport const ScrollArrows = ({\n  hasPointer,\n  canSlideLeft,\n  canSlideRight,\n  onSlideRight,\n  onSlideLeft,\n  showArrows = false,\n  arrowSize = 'm',\n  arrowAreaHeight = 'stretch',\n  arrowPrevLabel,\n  arrowNextLabel,\n  nextArrowTestId,\n  prevArrowTestId,\n}: ScrollArrowsProps) => {\n  return showArrows && hasPointer ? (\n    <>\n      {canSlideLeft && (\n        <ScrollArrow\n          className={getArrowClassName('start', arrowAreaHeight)}\n          direction=\"left\"\n          onClick={onSlideLeft}\n          size={arrowSize}\n          data-testid={prevArrowTestId}\n          label={arrowPrevLabel}\n        />\n      )}\n      {canSlideRight && (\n        <ScrollArrow\n          className={getArrowClassName('end', arrowAreaHeight)}\n          direction=\"right\"\n          onClick={onSlideRight}\n          size={arrowSize}\n          data-testid={nextArrowTestId}\n          label={arrowNextLabel}\n        />\n      )}\n    </>\n  ) : null;\n};\n", "import type { ControlElementsState, SlidesManagerState } from './types';\n\nexport const ANIMATION_DURATION = 240;\n\nexport const SLIDE_THRESHOLD = 0.05;\n\nexport const CONTROL_ELEMENTS_STATE: ControlElementsState = {\n  canSlideLeft: true,\n  canSlideRight: true,\n  isDraggable: true,\n};\n\nexport const SLIDES_MANAGER_STATE: SlidesManagerState = {\n  viewportOffsetWidth: 0,\n  slides: [],\n  isFullyVisible: true,\n  loopPoints: [],\n  contentSize: 0,\n  snaps: [],\n  containerWidth: 0,\n  layerWidth: 0,\n  min: 0,\n  max: 0,\n};\n", "export const getRequiredValueByKey = <VALUE, KEY extends PropertyKey = PropertyKey>(\n  key: KEY,\n  map: Record<KEY, VALUE>,\n): VALUE => {\n  if (!map.hasOwnProperty(key)) {\n    throw new Error(`getRequiredValueByKey(${key})`);\n  }\n  return map[key];\n};\n\nexport const getValueByKey = <VALUE, KEY extends PropertyKey = PropertyKey>(\n  key: KEY,\n  map: {\n    [key: string]: VALUE;\n  },\n  defaultValue: VALUE,\n): VALUE => {\n  if (!map.hasOwnProperty(key)) {\n    if (defaultValue) {\n      return defaultValue;\n    }\n    throw new Error(`getValueByKey(${String(key)})`);\n  }\n  return map[key];\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\nimport { getRequiredValueByKey } from '../../helpers/getValueByKey';\nimport { type AlignType } from '../../types';\nimport { SLIDE_THRESHOLD } from './constants';\nimport {\n  type GallerySlidesState,\n  type LayoutState,\n  type LoopPoint,\n  type SlidesManagerState,\n} from './types';\n\nexport const revertRtlValue = (n: number, isRtl: boolean) => {\n  return isRtl ? -n : n;\n};\n\nexport const isBigger = (a: number, b: number, isRtl: boolean) => (isRtl ? a < b : a > b);\nexport const isBiggerOrEqual = (a: number, b: number, isRtl: boolean) => (isRtl ? a <= b : a >= b);\n\nexport const isLower = (a: number, b: number, isRtl: boolean) => (isRtl ? a > b : a < b);\nexport const isLowerOrEqual = (a: number, b: number, isRtl: boolean) => (isRtl ? a >= b : a <= b);\n\n/*\n * Считает отступ слоя галереи во время драга\n * Используется только для looped=false галереи\n * так как только у нее есть пределы по краям\n */\nexport const validateIndent = (\n  slidesManager: SlidesManagerState,\n  value: number,\n  isRtl: boolean,\n  bounded = true,\n) => {\n  const localMax = slidesManager.max ?? 0;\n  const localMin = slidesManager.min ?? 0;\n\n  const moreThanMax = isBigger(value, localMax, isRtl);\n  if (moreThanMax) {\n    if (bounded) {\n      return localMax;\n    } else {\n      return localMax + Number((value - localMax) / 3);\n    }\n  }\n\n  const lessThanMin = isLower(value, localMin, isRtl);\n  if (lessThanMin) {\n    if (bounded) {\n      return localMin;\n    } else {\n      return localMin + Number((value - localMin) / 3);\n    }\n  }\n\n  return value;\n};\n\n/*\n * Считает отступ слоя галереи\n */\nexport function calculateIndent({\n  targetIndex,\n  slidesManager,\n  isCenter,\n  looped = false,\n  isRtl = false,\n}: {\n  targetIndex: number;\n  slidesManager: SlidesManagerState;\n  isCenter: boolean;\n  looped: boolean;\n  isRtl: boolean;\n}): number {\n  if (!slidesManager.slides.length) {\n    return 0;\n  }\n\n  const targetSlide = slidesManager.slides[targetIndex];\n\n  if (targetSlide) {\n    const { coordX, width } = targetSlide;\n\n    if (isCenter) {\n      return revertRtlValue(slidesManager.containerWidth / 2 - coordX - width / 2, isRtl);\n    }\n    const indent = revertRtlValue(-1 * coordX, isRtl);\n    return looped ? indent : validateIndent(slidesManager, indent, isRtl);\n  }\n\n  return 0;\n}\n\n/**\n * Вычисляем индексы слайдов, которые необходимо смещать.\n */\nexport function getShiftedIndexes(\n  direction: 1 | -1,\n  slides: GallerySlidesState[],\n  availableWidth: number,\n): number[] {\n  let gap = availableWidth;\n  const shiftedSlideIndexes = [];\n  const startIndex = direction === 1 ? 0 : slides.length - 1;\n  const endIndex = direction === 1 ? slides.length - 1 : 0;\n\n  for (\n    let i = startIndex;\n    (direction === 1 ? i <= endIndex : i >= endIndex) && gap > 0;\n    i += direction\n  ) {\n    const slideWidth = slides[i].width;\n\n    if (gap > 0) {\n      shiftedSlideIndexes.push(i);\n    }\n    gap -= slideWidth;\n  }\n\n  return shiftedSlideIndexes;\n}\n\nfunction calculateLoopPoints(\n  indexes: number[],\n  edge: 'start' | 'end',\n  slidesManager: SlidesManagerState,\n  containerWidth: number,\n  isRtl: boolean,\n): LoopPoint[] {\n  const { contentSize, slides, snaps } = slidesManager;\n  const isStartEdge = edge === 'start';\n  const offset = isStartEdge ? -contentSize : contentSize;\n\n  return indexes.map((index) => {\n    const initial = revertRtlValue(isStartEdge ? 0 : -contentSize, isRtl);\n    const altered = revertRtlValue(isStartEdge ? contentSize : 0, isRtl);\n\n    const snap = revertRtlValue(snaps[index], isRtl);\n    const firstSnap = revertRtlValue(snaps[0], isRtl);\n    const loopPoint = revertRtlValue(\n      isStartEdge\n        ? snap + containerWidth + offset\n        : snap - slides[index].width + offset - firstSnap,\n      isRtl,\n    );\n\n    return {\n      index,\n      target: (currentLocation) =>\n        isBiggerOrEqual(currentLocation, loopPoint, isRtl) ? initial : altered,\n    };\n  });\n}\n\n/**\n * Вычисляем \"ключевые\" точки, на которых должно происходить смещение слайдов.\n */\nexport function getLoopPoints(\n  slidesManager: SlidesManagerState,\n  containerWidth: number,\n  isRtl = false,\n): LoopPoint[] {\n  const { slides, snaps } = slidesManager;\n  const firstSnap = revertRtlValue(snaps[0], isRtl);\n  const startShiftedIndexes = getShiftedIndexes(-1, slides, firstSnap);\n  const endShiftedIndexes = getShiftedIndexes(1, slides, containerWidth - firstSnap);\n\n  return [\n    ...calculateLoopPoints(endShiftedIndexes, 'start', slidesManager, containerWidth, isRtl),\n    ...calculateLoopPoints(startShiftedIndexes, 'end', slidesManager, containerWidth, isRtl),\n  ];\n}\n\n/*\n * Получает индекс слайда, к которому будет осуществлен переход\n */\nexport function getTargetIndex({\n  slides,\n  slideIndex,\n  currentShiftX,\n  currentShiftXDelta,\n  looped = false,\n  max = null,\n  isRtl = false,\n}: {\n  slides: GallerySlidesState[];\n  slideIndex: number;\n  currentShiftX: number;\n  currentShiftXDelta: number;\n  looped: boolean;\n  max?: number | null;\n  isRtl?: boolean;\n}): number {\n  max = max ?? 0;\n  // Инвертируем значения смещения для RTL режима\n  const shift = revertRtlValue(currentShiftX + currentShiftXDelta - max, isRtl);\n\n  // Инвертируем направление для RTL режима\n  const direction = isLower(currentShiftXDelta, 0, isRtl) ? 1 : -1;\n\n  // Находим ближайшую границу слайда к текущему отступу\n  let targetIndex = slides.reduce((val: number, item: GallerySlidesState, index: number) => {\n    // Инвертируем координаты для RTL режима\n    const previousCoordX = slides[val].coordX;\n    const currentCoordX = item.coordX;\n\n    const previousValue = Math.abs(previousCoordX + shift);\n    const currentValue = Math.abs(currentCoordX + shift);\n\n    return previousValue < currentValue ? val : index;\n  }, slideIndex);\n\n  if (targetIndex === slideIndex) {\n    let targetSlide = slideIndex + direction;\n\n    if (targetSlide >= 0 && targetSlide < slides.length) {\n      if (Math.abs(currentShiftXDelta) > slides[targetSlide].width * SLIDE_THRESHOLD) {\n        return targetSlide;\n      }\n      return targetIndex;\n    }\n    if (!looped) {\n      return direction < 0 ? Math.max(targetIndex, 0) : Math.min(targetIndex, slides.length - 1);\n    }\n\n    return direction < 0\n      ? (targetSlide + slides.length) % slides.length\n      : targetSlide % slides.length;\n  }\n\n  return targetIndex;\n}\n\ninterface CalcMin extends Partial<LayoutState> {\n  isRtl?: boolean;\n  align: AlignType;\n}\n\nexport const calcMin = ({\n  containerWidth = 0,\n  layerWidth = 0,\n  slides = [],\n  viewportOffsetWidth = 0,\n  isFullyVisible,\n  align,\n  isRtl = false,\n}: CalcMin): number => {\n  if (align !== 'center' && isFullyVisible) {\n    return 0;\n  }\n  const result = getRequiredValueByKey(align, {\n    left: () => containerWidth - layerWidth,\n    right: () => viewportOffsetWidth - layerWidth,\n    center: () => {\n      const { coordX, width } = slides[slides.length - 1];\n      return containerWidth / 2 - coordX - width / 2;\n    },\n  })();\n  return revertRtlValue(result, isRtl);\n};\n\ninterface CalcMax extends Partial<LayoutState> {\n  isRtl?: boolean;\n  isCenterAlign: boolean;\n}\n\nexport const calcMax = ({\n  slides = [],\n  containerWidth = 0,\n  isCenterAlign,\n  isRtl = false,\n}: CalcMax): number => {\n  if (isCenterAlign && slides.length) {\n    const { width, coordX } = slides[0];\n    const result = containerWidth / 2 - coordX - width / 2;\n    return revertRtlValue(result, isRtl);\n  }\n  return 0;\n};\n", "import * as React from 'react';\nimport { animate, type DrawInterface } from '../../lib/animate';\nimport { cubicBezier } from '../../lib/fx';\nimport { ANIMATION_DURATION } from './constants';\n\nconst TIMING_FUNCTION = cubicBezier(0.8, 1);\n\nexport function useSlideAnimation(): {\n  getAnimateFunction: (drawFunction: DrawInterface) => () => void;\n  addToAnimationQueue: (func: VoidFunction) => void;\n  startAnimation: () => void;\n} {\n  const animationQueue = React.useRef<VoidFunction[]>([]);\n\n  function getAnimateFunction(drawFunction: DrawInterface) {\n    return () => {\n      animate({\n        duration: ANIMATION_DURATION,\n        timing: TIMING_FUNCTION,\n        animationQueue: animationQueue.current,\n        draw: drawFunction,\n      });\n    };\n  }\n\n  function addToAnimationQueue(func: VoidFunction) {\n    animationQueue.current.push(func);\n  }\n\n  function startAnimation() {\n    if (animationQueue.current.length === 1) {\n      animationQueue.current[0]();\n    }\n  }\n\n  return {\n    getAnimateFunction,\n    addToAnimationQueue,\n    startAnimation,\n  };\n}\n", "import { canUseDOM } from './dom';\n\n/**\n * Функция для js анимации\n * @param {number} duration\n * @param {function} timing тайминг функция анимации\n * @param {function} draw коллбэк, в который прокидывается прогресс [0, 1]\n * @returns {void}\n */\nexport type TimingInterface = (timeFraction: number) => number;\n\nexport type DrawInterface = (progress: number) => void;\n\nexport interface AnimateArgumentsInterface {\n  duration: number;\n  timing: TimingInterface;\n  draw: DrawInterface;\n  animationQueue: VoidFunction[];\n}\n\nexport function animate({\n  duration,\n  timing,\n  draw,\n  animationQueue = [],\n}: AnimateArgumentsInterface): void {\n  if (!canUseDOM) {\n    return;\n  }\n\n  let start: number;\n\n  requestAnimationFrame(function animate(time: number): void {\n    if (!start) {\n      start = time;\n    }\n    let timeFraction = Math.min((time - start) / duration, 1);\n\n    const progress = timing(timeFraction);\n\n    draw(progress);\n\n    if (timeFraction < 1) {\n      requestAnimationFrame(animate);\n      return;\n    }\n    animationQueue.shift();\n    if (animationQueue.length > 0) {\n      animationQueue[0]();\n    }\n  });\n}\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { useStableCallback } from '../../hooks/useStableCallback';\nimport { useDOM } from '../../lib/dom';\nimport type { TimeoutId } from '../../types';\n\nexport interface AutoPlayConfig {\n  timeout: number;\n  slideIndex: number;\n  onNext: VoidFunction;\n}\n\nexport function useAutoPlay({ timeout, slideIndex, onNext }: AutoPlayConfig): {\n  pause: VoidFunction;\n  resume: VoidFunction;\n} {\n  const { document } = useDOM();\n  const [paused, setPaused] = React.useState(false);\n  const timeoutRef = React.useRef<TimeoutId>(null);\n  const callbackFn = useStableCallback(onNext);\n\n  const pause = React.useCallback(() => setPaused(true), []);\n  const resume = React.useCallback(() => setPaused(false), []);\n\n  // Выносим функции очистки и старта таймера в отдельные функции\n  const clearAutoPlayTimeout = React.useCallback(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      timeoutRef.current = null;\n    }\n  }, []);\n\n  const startAutoPlayTimeout = React.useCallback(() => {\n    if (!document || !timeout || paused) {\n      return;\n    }\n\n    if (document.visibilityState === 'visible') {\n      clearAutoPlayTimeout();\n      timeoutRef.current = setTimeout(callbackFn, timeout);\n    } else {\n      clearAutoPlayTimeout();\n    }\n  }, [document, timeout, paused, clearAutoPlayTimeout, callbackFn]);\n\n  // Основной эффект для управления автопроигрыванием\n  React.useEffect(\n    function initializeAutoPlay() {\n      if (!document || !timeout || paused) {\n        return;\n      }\n\n      startAutoPlayTimeout();\n      document.addEventListener('visibilitychange', startAutoPlayTimeout);\n\n      return () => {\n        clearAutoPlayTimeout();\n        document.removeEventListener('visibilitychange', startAutoPlayTimeout);\n      };\n    },\n    [document, timeout, slideIndex, startAutoPlayTimeout, clearAutoPlayTimeout, paused],\n  );\n\n  return {\n    resume,\n    pause,\n  };\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { ImageBase, type ImageBaseBadgeProps, ImageBaseContext } from '../../ImageBase/ImageBase';\nimport styles from './GridAvatarBadge.module.css';\n\nexport type GridAvatarBadgeProps = ImageBaseBadgeProps;\n\nexport const GridAvatarBadge = ({\n  className,\n  ...restProps\n}: GridAvatarBadgeProps): React.ReactNode => {\n  const { size } = React.useContext(ImageBaseContext);\n  return (\n    <ImageBase.Badge\n      {...restProps}\n      className={classNames(styles.host, size < 96 && styles.shifted, className)}\n    />\n  );\n};\n", "import { classNames } from '@vkontakte/vkjs';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { ImageBase, type ImageBaseProps } from '../ImageBase/ImageBase';\nimport { GridAvatarBadge, type GridAvatarBadgeProps } from './GridAvatarBadge/GridAvatarBadge';\nimport styles from './GridAvatar.module.css';\n\nexport { GridAvatarBadgeProps };\n\nconst GRID_AVATAR_DEFAULT_SIZE = 48;\n\nexport const MAX_GRID_LENGTH = 4;\n\nexport interface GridAvatarProps extends Omit<ImageBaseProps, 'src' | 'fallbackIcon'> {\n  /**\n   * Массив со ссылками. От 1 до 4 элементов.\n   */\n  src?: string[];\n}\n\nconst warn = warnOnce('GridAvatar');\n\n/**\n * @see https://vkui.io/components/grid-avatar\n */\nexport const GridAvatar: React.FC<GridAvatarProps> & { Badge: typeof GridAvatarBadge } = ({\n  src = [],\n  size = GRID_AVATAR_DEFAULT_SIZE,\n  className,\n  children,\n  ...restProps\n}: GridAvatarProps) => {\n  if (process.env.NODE_ENV === 'development') {\n    if (src.length > MAX_GRID_LENGTH) {\n      warn(`Длина массива src (${src.length}) больше максимальной (${MAX_GRID_LENGTH})`, 'error');\n    }\n  }\n\n  return (\n    <ImageBase {...restProps} size={size} className={classNames(styles.host, className)}>\n      <div className={styles.in} aria-hidden>\n        {src.map((url, index) =>\n          index < MAX_GRID_LENGTH ? (\n            <div key={index} className={styles.item} style={{ backgroundImage: `url(${url})` }} />\n          ) : null,\n        )}\n      </div>\n      {children}\n    </ImageBase>\n  );\n};\n\nGridAvatar.Badge = GridAvatarBadge;\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { type CSSCustomProperties } from '../../types';\nimport { ImageBase, type ImageBaseOverlayProps, type ImageBaseProps } from '../ImageBase/ImageBase';\nimport { ImageBadge, type ImageBadgeProps } from './ImageBadge/ImageBadge';\nimport styles from './Image.module.css';\n\nexport type { ImageBadgeProps, ImageBaseOverlayProps as ImageOverlayProps };\n\nconst IMAGE_DEFAULT_SIZE = 48;\n\nexport interface ImageProps extends Omit<ImageBaseProps, 'badge'> {\n  /**\n   * Размер закругления.\n   */\n  borderRadius?: 's' | 'l' | 'm';\n  /**\n   * Размер закругления угла между сторонами начала блока и строки.\n   */\n  borderStartStartRadius?: 's' | 'l' | 'm';\n  /**\n   * Размер закругления угла между стороной начала блока и стороной конца строки.\n   */\n  borderStartEndRadius?: 's' | 'l' | 'm';\n  /**\n   * Размер закругления угла между стороной конца блока и стороной начала строки.\n   */\n  borderEndStartRadius?: 's' | 'l' | 'm';\n  /**\n   * Размер закругления угла между сторонами конца блока и строки.\n   */\n  borderEndEndRadius?: 's' | 'l' | 'm';\n}\n\nconst getBorderRadiusBySize = (\n  size: Exclude<ImageBaseProps['size'], undefined>,\n  borderRadius: Exclude<ImageProps['borderRadius'], undefined>,\n) => {\n  switch (borderRadius) {\n    case 's': {\n      if (size <= 32) {\n        return 2;\n      }\n      if (size <= 56) {\n        return 3;\n      }\n      return 4;\n    }\n    case 'm': {\n      if (size <= 32) {\n        return 3;\n      }\n      if (size <= 48) {\n        return 4;\n      }\n      if (size <= 72) {\n        return 6;\n      }\n      if (size <= 80) {\n        return 8;\n      }\n      return 10;\n    }\n    case 'l': {\n      if (size <= 16) {\n        return 4;\n      }\n      if (size <= 20) {\n        return 5;\n      }\n      if (size <= 32) {\n        return 6;\n      }\n      if (size <= 40) {\n        return 8;\n      }\n      if (size <= 48) {\n        return 10;\n      }\n      if (size <= 56) {\n        return 12;\n      }\n      if (size <= 64) {\n        return 14;\n      }\n      return 16;\n    }\n  }\n};\n\nconst getBorderRadiusBySizeInPx = (\n  size: Exclude<ImageBaseProps['size'], undefined>,\n  borderRadius: ImageProps['borderRadius'],\n) => {\n  if (!borderRadius) {\n    return undefined;\n  }\n\n  return `${getBorderRadiusBySize(size, borderRadius)}px`;\n};\n\n/**\n * @see https://vkui.io/components/image\n */\nexport const Image: React.FC<ImageProps> & {\n  Badge: typeof ImageBadge;\n  Overlay: typeof ImageBase.Overlay;\n  FloatElement: typeof ImageBase.FloatElement;\n} = ({\n  size = IMAGE_DEFAULT_SIZE,\n  borderRadius = 'm',\n  borderStartStartRadius,\n  borderStartEndRadius,\n  borderEndStartRadius,\n  borderEndEndRadius,\n  style,\n  className,\n  objectFit = 'cover',\n  ...restProps\n}: ImageProps) => {\n  const borderStyles: CSSCustomProperties<string | undefined> = React.useMemo(\n    () => ({\n      '--vkui_internal--Image_border_radius': getBorderRadiusBySizeInPx(size, borderRadius),\n      '--vkui_internal--Image_border_start_start_radius': getBorderRadiusBySizeInPx(\n        size,\n        borderStartStartRadius,\n      ),\n      '--vkui_internal--Image_border_start_end_radius': getBorderRadiusBySizeInPx(\n        size,\n        borderStartEndRadius,\n      ),\n      '--vkui_internal--Image_border_end_start_radius': getBorderRadiusBySizeInPx(\n        size,\n        borderEndStartRadius,\n      ),\n      '--vkui_internal--Image_border_end_end_radius': getBorderRadiusBySizeInPx(\n        size,\n        borderEndEndRadius,\n      ),\n    }),\n    [\n      borderRadius,\n      borderStartStartRadius,\n      borderStartEndRadius,\n      borderEndStartRadius,\n      borderEndEndRadius,\n      size,\n    ],\n  );\n\n  return (\n    <ImageBase\n      {...restProps}\n      objectFit={objectFit}\n      size={size}\n      style={mergeStyle(borderStyles, style)}\n      className={classNames(\n        className,\n        styles.host,\n        borderStartStartRadius && styles.borderStartStartRadius,\n        borderStartEndRadius && styles.borderStartEndRadius,\n        borderEndStartRadius && styles.borderEndStartRadius,\n        borderEndEndRadius && styles.borderEndEndRadius,\n      )}\n    />\n  );\n};\n\nImage.Badge = ImageBadge;\nImage.Overlay = ImageBase.Overlay;\nImage.FloatElement = ImageBase.FloatElement;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(Image.Badge, 'Image.Badge');\n  defineComponentDisplayNames(Image.Overlay, 'Image.Overlay');\n  defineComponentDisplayNames(Image.FloatElement, 'Image.FloatElement');\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { ImageBase, type ImageBaseBadgeProps, ImageBaseContext } from '../../ImageBase/ImageBase';\nimport styles from './ImageBadge.module.css';\n\nexport type ImageBadgeProps = ImageBaseBadgeProps;\n\nexport const ImageBadge = ({ className, ...restProps }: ImageBadgeProps) => {\n  const { size } = React.useContext(ImageBaseContext);\n  return (\n    <ImageBase.Badge\n      {...restProps}\n      className={classNames(styles.host, size < 96 && styles.shifted, className)}\n    />\n  );\n};\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { clamp } from '../../helpers/math';\nimport { type CSSCustomProperties, type HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Progress.module.css';\n\nconst stylesAppearance: Record<string, string> = {\n  accent: styles.appearanceAccent,\n  positive: styles.appearancePositive,\n  negative: styles.appearanceNegative,\n};\n\nfunction progressCustomHeightStyle(height: number | undefined): React.CSSProperties | undefined {\n  return height\n    ? {\n        height,\n        borderRadius: height / 2,\n      }\n    : undefined;\n}\n\nexport interface ProgressProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Стиль отображения прогрессбара.\n   */\n  appearance?: 'accent' | 'positive' | 'negative' | `var(--${string})` | `#${string}`;\n  /**\n   * Значение прогресса.\n   */\n  value?: number;\n  /**\n   * Высота элемента.\n   */\n  height?: number;\n  /**\n   * Сделать прогрессбар прозрачным.\n   */\n  trackDisable?: boolean;\n}\n\nconst PROGRESS_MIN_VALUE = 0;\nconst PROGRESS_MAX_VALUE = 100;\n\nconst resolveAppearance = (\n  appearance: Exclude<ProgressProps['appearance'], undefined>,\n): [CSSCustomProperties | undefined, string | undefined] => {\n  switch (appearance) {\n    case 'accent':\n    case 'positive':\n    case 'negative':\n      return [undefined, stylesAppearance[appearance]];\n    default: {\n      return [{ '--vkui_internal_Progress_background_color': appearance }, undefined];\n    }\n  }\n};\n\n/**\n * @see https://vkui.io/components/progress\n */\nexport const Progress = ({\n  value = 0,\n  height,\n  trackDisable = false,\n  appearance = 'accent',\n  ...restProps\n}: ProgressProps): React.ReactNode => {\n  const progress = clamp(value, PROGRESS_MIN_VALUE, PROGRESS_MAX_VALUE);\n  const title = `${progress} / ${PROGRESS_MAX_VALUE}`;\n  const styleHeight = progressCustomHeightStyle(height);\n\n  const [appearanceStyles, appearanceClassName] = resolveAppearance(appearance);\n\n  const style = {\n    ...styleHeight,\n    ...appearanceStyles,\n    '--vkui_internal_Progress_progress': progress,\n  };\n\n  return (\n    <RootComponent\n      aria-valuenow={value}\n      title={title}\n      {...restProps}\n      role=\"progressbar\"\n      aria-valuemin={PROGRESS_MIN_VALUE}\n      aria-valuemax={PROGRESS_MAX_VALUE}\n      baseClassName={classNames(\n        styles.host,\n        trackDisable && styles.trackDisable,\n        appearanceClassName,\n      )}\n      baseStyle={style}\n    />\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Clear, Icon16SearchOutline, Icon24Cancel } from '@vkontakte/icons';\nimport { classNames, hasReactNode, noop } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useAdaptivityConditionalRender } from '../../hooks/useAdaptivityConditionalRender';\nimport { useBooleanState } from '../../hooks/useBooleanState';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useNativeFormResetListener } from '../../hooks/useNativeFormResetListener';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { touchEnabled } from '../../lib/touch';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HasDataAttribute, HasRef, HasRootRef } from '../../types';\nimport { Button } from '../Button/Button';\nimport { IconButton, type IconButtonProps } from '../IconButton/IconButton';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './Search.module.css';\n\nexport type RenderIconButtonFn = (\n  icon: React.ReactNode,\n  props?: Partial<IconButtonProps> & HasDataAttribute,\n) => React.ReactElement;\n\nexport interface SearchProps\n  extends React.InputHTMLAttributes<HTMLInputElement>,\n    HasRootRef<HTMLDivElement>,\n    HasRef<HTMLInputElement> {\n  /**\n   * Only iOS. Текст кнопки \"отмена\", которая чистит текстовое поле и убирает фокус.\n   */\n  after?: React.ReactNode;\n  /**\n   * Контент, отображаемый перед полем ввода.\n   */\n  before?: React.ReactNode;\n  /**\n   * Иконка поиска. Может быть React-элементом или функцией, возвращающей элемент.\n   */\n  icon?: React.ReactNode | ((renderFn: RenderIconButtonFn) => React.ReactNode);\n  /**\n   * Обработчик нажатия на иконку поиска.\n   */\n  onIconClick?: React.PointerEventHandler<HTMLElement>;\n  /**\n   * Значение поля ввода по умолчанию.\n   */\n  defaultValue?: string;\n  /**\n   * Текст для скринридеров, описывающий иконку поиска.\n   */\n  iconLabel?: string;\n  /**\n   * Текст для скринридеров, описывающий кнопку очистки.\n   */\n  clearLabel?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки очистки.\n   */\n  clearButtonTestId?: string;\n  /**\n   * Удаляет отступы у компонента.\n   */\n  noPadding?: boolean;\n  /**\n   * Текст для кнопки Найти.\n   */\n  findButtonText?: string;\n  /**\n   * Обработчик, при нажатии на кнопку \"Найти\".\n   */\n  onFindButtonClick?: React.MouseEventHandler<HTMLElement>;\n  /**\n   * Передает атрибут `data-testid` для кнопки поиска.\n   */\n  findButtonTestId?: string;\n}\n\n/**\n * @see https://vkui.io/components/search\n */\nexport const Search = ({\n  id: idProp,\n  before = <Icon16SearchOutline />,\n  className,\n  placeholder = 'Поиск',\n  after = 'Отмена',\n  getRef,\n  icon: iconProp,\n  onIconClick,\n  style,\n  autoComplete = 'off',\n  onChange,\n  iconLabel,\n  clearLabel = 'Очистить',\n  clearButtonTestId,\n  noPadding,\n  getRootRef,\n  findButtonText = 'Найти',\n  findButtonTestId,\n  onFindButtonClick,\n  ...inputProps\n}: SearchProps): React.ReactNode => {\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n  const inputRef = useExternRef(getRef);\n  const {\n    value: isFocused,\n    setTrue: setFocusedTrue,\n    setFalse: setFocusedFalse,\n  } = useBooleanState(false);\n  const generatedId = React.useId();\n  const inputId = idProp ? idProp : `search-${generatedId}`;\n\n  const [hasValue, setHasValue] = React.useState<boolean>(() =>\n    Boolean(inputProps.value || inputProps.defaultValue),\n  );\n  const checkHasValue: React.ChangeEventHandler<HTMLInputElement> = (e) =>\n    setHasValue(Boolean(e.currentTarget.value));\n\n  const { sizeY = 'none' } = useAdaptivity();\n  const { sizeY: adaptiveSizeY } = useAdaptivityConditionalRender();\n  const platform = usePlatform();\n\n  const hasAfter = platform === 'ios' && hasReactNode(after);\n\n  const onFocus = (e: React.FocusEvent<HTMLInputElement>) => {\n    setFocusedTrue();\n    inputProps.onFocus && inputProps.onFocus(e);\n  };\n\n  const onBlur = (e: React.FocusEvent<HTMLInputElement>) => {\n    setFocusedFalse();\n    inputProps.onBlur && inputProps.onBlur(e);\n  };\n\n  const onCancel = React.useCallback(() => {\n    // eslint-disable-next-line @typescript-eslint/unbound-method\n    const nativeInputValueSetter = Object.getOwnPropertyDescriptor(\n      HTMLInputElement.prototype,\n      'value',\n    )?.set;\n    nativeInputValueSetter?.call(inputRef.current, '');\n\n    const ev2 = new Event('input', { bubbles: true });\n    inputRef.current?.dispatchEvent(ev2);\n  }, [inputRef]);\n\n  const onIconClickStart: React.PointerEventHandler<HTMLElement> = React.useCallback(\n    (e) => onIconClick?.(e),\n    [onIconClick],\n  );\n\n  const onIconCancelClickStart: React.PointerEventHandler<HTMLElement> = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      inputRef.current?.focus();\n      if (touchEnabled()) {\n        onCancel();\n      }\n    },\n    [inputRef, onCancel],\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    if (inputProps.value !== undefined) {\n      setHasValue(Boolean(inputProps.value));\n    }\n  }, [inputProps.value]);\n\n  useNativeFormResetListener(inputRef, () => {\n    setHasValue(Boolean(inputProps.defaultValue));\n  });\n\n  const renderIconButton: RenderIconButtonFn = (icon, props = {}) => (\n    <IconButton\n      hoverMode=\"opacity\"\n      onPointerDown={onIconClickStart}\n      className={styles.icon}\n      onFocus={setFocusedTrue}\n      onBlur={setFocusedFalse}\n      onClick={noop}\n      {...props}\n    >\n      <VisuallyHidden>{iconLabel}</VisuallyHidden>\n      {icon}\n    </IconButton>\n  );\n\n  return (\n    <div\n      className={classNames(\n        'vkuiInternalSearch',\n        styles.host,\n        sizeY === 'none' && styles.sizeYNone,\n        sizeY === 'compact' && styles.sizeYCompact,\n        isFocused && styles.focused,\n        hasValue && styles.hasValue,\n        hasAfter && styles.hasAfter,\n        iconProp && styles.hasIcon,\n        inputProps.disabled && styles.disabled,\n        !noPadding && styles.withPadding,\n        isRtl && styles.rtl,\n        className,\n      )}\n      ref={getRootRef}\n      style={style}\n    >\n      <div className={styles.field}>\n        <label htmlFor={inputId} className={styles.label}>\n          {placeholder}\n        </label>\n        <div className={styles.input}>\n          {before}\n          <Headline\n            Component=\"input\"\n            type=\"search\"\n            level=\"1\"\n            weight=\"3\"\n            {...inputProps}\n            id={inputId}\n            placeholder={placeholder}\n            autoComplete={autoComplete}\n            getRootRef={inputRef}\n            className={styles.nativeInput}\n            onFocus={onFocus}\n            onBlur={onBlur}\n            onChange={callMultiple(onChange, checkHasValue)}\n          />\n        </div>\n        <div className={styles.controls}>\n          {iconProp &&\n            (typeof iconProp === 'function'\n              ? iconProp(renderIconButton)\n              : renderIconButton(iconProp))}\n          <IconButton\n            hoverMode=\"opacity\"\n            onPointerDown={onIconCancelClickStart}\n            onClick={onCancel}\n            className={styles.icon}\n            tabIndex={hasValue ? undefined : -1}\n            disabled={inputProps.disabled}\n            data-testid={clearButtonTestId}\n          >\n            <VisuallyHidden>{clearLabel}</VisuallyHidden>\n            {platform === 'ios' ? <Icon16Clear /> : <Icon24Cancel />}\n          </IconButton>\n          {adaptiveSizeY.compact && onFindButtonClick && (\n            <Button\n              mode=\"primary\"\n              size=\"m\"\n              className={classNames(styles.findButton, adaptiveSizeY.compact.className)}\n              focusVisibleMode=\"inside\"\n              onClick={onFindButtonClick}\n              tabIndex={hasValue ? undefined : -1}\n              data-testid={findButtonTestId}\n            >\n              {findButtonText}\n            </Button>\n          )}\n        </div>\n      </div>\n      {hasAfter && (\n        <div className={styles.after}>\n          <Button\n            mode=\"tertiary\"\n            size=\"m\"\n            focusVisibleMode=\"inside\"\n            hoverMode=\"opacity\"\n            activeMode=\"opacity\"\n            onClick={onCancel}\n            onFocus={setFocusedTrue}\n            onBlur={setFocusedFalse}\n          >\n            <span className={styles.afterTextClip}>{after}</span>\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n};\n", "import * as React from 'react';\n\nexport const useBooleanState = (\n  defaultValue = false,\n): {\n  value: boolean;\n  setTrue: () => void;\n  setFalse: () => void;\n  toggle: () => void;\n} => {\n  const [value, setValue] = React.useState(defaultValue);\n\n  const setTrue = React.useCallback(() => {\n    setValue(true);\n  }, []);\n\n  const setFalse = React.useCallback(() => {\n    setValue(false);\n  }, []);\n\n  const toggle = React.useCallback(() => {\n    setValue((value) => !value);\n  }, []);\n\n  return { value, setTrue, setFalse, toggle };\n};\n", "import type * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nexport const useNativeFormResetListener = (\n  ref: React.RefObject<HTMLElement | null>,\n  handler: (event: Event) => void,\n): void => {\n  useIsomorphicLayoutEffect(() => {\n    if (!ref.current) {\n      return;\n    }\n\n    // eslint-disable-next-line no-restricted-properties\n    const formEl = ref.current.closest('form');\n\n    if (!formEl) {\n      return;\n    }\n\n    formEl.addEventListener('reset', handler);\n\n    return () => {\n      formEl.removeEventListener('reset', handler);\n    };\n  }, [ref, handler]);\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useTabsNavigation } from '../../hooks/useTabsNavigation';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { useTabsController } from './TabsController';\nimport { TabsControllerContext } from './TabsControllerContext';\nimport { TabsModeContext } from './TabsModeContext';\nimport styles from './Tabs.module.css';\nexport interface TabsProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Режим отображения компонента.\n   */\n  mode?: 'default' | 'accent' | 'secondary';\n  /**\n   * Включает прокрутку контейнера до активной (`selected`) вкладки.\n   * @since 5.10.0\n   */\n  withScrollToSelectedTab?: boolean;\n  /**\n   * Отвечает за горизонтальное выравнивание при прокрутке до активной вкладки.\n   * @see [scrollIntoView](https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView)\n   * @since 5.10.0\n   */\n  scrollBehaviorToSelectedTab?: ScrollIntoViewOptions['inline'];\n  /**\n   * При `auto` ширина вкладок определяется контекстом:\n   *  - равномерно занимают всю доступную ширину при вложении в `HorizontalScroll`\n   *  - равномерно занимают всю доступную ширину при `mode=default` и platform !== 'VKCOM'\n   * При `stretched` и `shrinked` вкладки либо равномерно занимают всю ширину,\n   * либо выравниваются по контенту соответственно.\n   */\n  layoutFillMode?: 'auto' | 'stretched' | 'shrinked';\n  /**\n   * Идентификатор выбранной вкладки. Чтобы свойство работало корректно, у каждого `TabsItem` должно быть прокинуто свойство `id`.\n   */\n  selectedId?: string;\n  /**\n   * Идентификатор выбранной вкладки по умолчанию. Чтобы свойство работало корректно, у каждого `TabsItem` должно быть прокинуто свойство `id`.\n   */\n  defaultSelectedId?: string;\n  /**\n   * Обработчик изменения выбранной вкладки. Чтобы свойство работало корректно, у каждого `TabsItem` должно быть прокинуто свойство `id`.\n   */\n  onSelectedIdChange?: (id: string) => void;\n}\n\n/**\n * @see https://vkui.io/components/tabs\n */\nexport const Tabs = ({\n  children,\n  mode = 'default',\n  role = 'tablist',\n  withScrollToSelectedTab,\n  scrollBehaviorToSelectedTab = 'nearest',\n  layoutFillMode = 'auto',\n  selectedId,\n  defaultSelectedId,\n  onSelectedIdChange,\n  ...restProps\n}: TabsProps): React.ReactNode => {\n  const controller = useTabsController({\n    selectedId,\n    defaultSelectedId,\n    onSelectedIdChange,\n  });\n  const platform = usePlatform();\n  const direction = useConfigDirection();\n  const isTabFlow = role === 'tablist';\n  const withGaps = mode === 'accent' || mode === 'secondary';\n\n  const { tabsRef } = useTabsNavigation(isTabFlow, direction === 'rtl');\n\n  const tabsModeContext = React.useMemo(\n    () => ({\n      mode,\n      withGaps,\n      layoutFillMode,\n      withScrollToSelectedTab,\n      scrollBehaviorToSelectedTab,\n    }),\n    [mode, withGaps, layoutFillMode, withScrollToSelectedTab, scrollBehaviorToSelectedTab],\n  );\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        'vkuiInternalTabs',\n        platform === 'vkcom' && 'vkuiInternalTabs--vkcom',\n        withGaps && classNames(styles.withGaps, 'vkuiInternalTabs--withGaps'),\n        mode === 'default' && styles.modeDefault,\n      )}\n      role={role}\n    >\n      <div className={styles.in} ref={tabsRef}>\n        <TabsModeContext.Provider value={tabsModeContext}>\n          <TabsControllerContext.Provider value={controller}>\n            {children}\n          </TabsControllerContext.Provider>\n        </TabsModeContext.Provider>\n      </div>\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { pressedKey } from '../lib/accessibility';\nimport { useDOM } from '../lib/dom';\nimport { useGlobalEventListener } from './useGlobalEventListener';\n\nexport function useTabsNavigation(enabled = true, isRtl = false) {\n  const { document } = useDOM();\n  const tabsRef = React.useRef<HTMLDivElement>(null);\n  const getTabEls = () => {\n    if (!tabsRef.current) {\n      return [];\n    }\n\n    return Array.from(\n      // eslint-disable-next-line no-restricted-properties\n      tabsRef.current.querySelectorAll<HTMLDivElement>(\n        `[role=tab]:not([disabled]):not([aria-disabled='true'])`,\n      ),\n    );\n  };\n\n  const handleDocumentKeydown = (event: KeyboardEvent) => {\n    if (!document || !tabsRef.current || !enabled) {\n      return;\n    }\n\n    const key = pressedKey(event);\n\n    switch (key) {\n      case 'ArrowLeft':\n      case 'ArrowRight':\n      case 'End':\n      case 'Home': {\n        const tabEls = getTabEls();\n        const currentFocusedElIndex = tabEls.findIndex((el) => document.activeElement === el);\n        if (currentFocusedElIndex === -1) {\n          return;\n        }\n\n        let nextIndex = 0;\n        if (key === 'Home') {\n          nextIndex = 0;\n        } else if (key === 'End') {\n          nextIndex = tabEls.length - 1;\n        } else {\n          const offset = (key === 'ArrowRight' ? 1 : -1) * (isRtl ? -1 : 1);\n          nextIndex = currentFocusedElIndex + offset;\n        }\n\n        const nextTabEl = tabEls[nextIndex];\n\n        if (nextTabEl) {\n          event.preventDefault();\n          nextTabEl.focus();\n        }\n\n        break;\n      }\n      /*\n       В JAWS и NVDA стрелка вниз активирует контент.\n       Это не прописано в стандартах, но по ссылке ниже это рекомендуется делать.\n       https://inclusive-components.design/tabbed-interfaces/\n      */\n      case 'ArrowDown': {\n        const tabEls = getTabEls();\n        const currentFocusedEl = tabEls.find((el) => document.activeElement === el);\n\n        if (!currentFocusedEl || currentFocusedEl.getAttribute('aria-selected') !== 'true') {\n          return;\n        }\n\n        const relatedContentElId = currentFocusedEl.getAttribute('aria-controls');\n        if (!relatedContentElId) {\n          return;\n        }\n\n        // eslint-disable-next-line no-restricted-properties\n        const relatedContentEl = document.getElementById(relatedContentElId);\n        if (!relatedContentEl) {\n          return;\n        }\n\n        event.preventDefault();\n        relatedContentEl.focus();\n\n        break;\n      }\n      case 'Space':\n      case 'Enter': {\n        const tabEls = getTabEls();\n        const currentFocusedEl = tabEls.find((el) => document.activeElement === el);\n        if (currentFocusedEl) {\n          currentFocusedEl.click();\n        }\n      }\n    }\n  };\n\n  useGlobalEventListener(document, 'keydown', handleDocumentKeydown, {\n    capture: true,\n  });\n\n  return {\n    tabsRef,\n  };\n}\n", "import { useCustomEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { useStableCallback } from '../../hooks/useStableCallback';\nimport { type TabsProps } from './Tabs';\n\n/* eslint-disable jsdoc/require-jsdoc */\nexport type TabsControllerProps = {\n  onChange: (id: string) => void;\n  selectedTab: string;\n};\n/* eslint-enable jsdoc/require-jsdoc */\n\nexport const useTabsController = ({\n  selectedId,\n  defaultSelectedId,\n  onSelectedIdChange: onSelectedIdChangeProp,\n}: Pick<\n  TabsProps,\n  'selectedId' | 'defaultSelectedId' | 'onSelectedIdChange'\n>): TabsControllerProps | null => {\n  const onSelectedIdChange = useStableCallback(\n    (id: string | undefined) => id && onSelectedIdChangeProp?.(id),\n  );\n\n  const [value, onChange] = useCustomEnsuredControl<string | undefined>({\n    onChange: onSelectedIdChange,\n    value: selectedId,\n    defaultValue: defaultSelectedId,\n  });\n\n  if ((!selectedId && !defaultSelectedId) || !value) {\n    return null;\n  }\n  return {\n    onChange,\n    selectedTab: value,\n  };\n};\n", "import * as React from 'react';\nimport { type TabsControllerProps } from './TabsController';\n\nexport type TabsControllerContextProps = TabsControllerProps | null;\n\nexport const TabsControllerContext: React.Context<TabsControllerContextProps> =\n  React.createContext<TabsControllerContextProps>(null);\n", "import * as React from 'react';\nimport { type TabsProps } from './Tabs';\n\n/* eslint-disable jsdoc/require-jsdoc */\nexport interface TabsContextProps {\n  mode: TabsProps['mode'];\n  withGaps: boolean;\n  layoutFillMode: NonNullable<TabsProps['layoutFillMode']>;\n  withScrollToSelectedTab: TabsProps['withScrollToSelectedTab'];\n  scrollBehaviorToSelectedTab: Required<TabsProps['scrollBehaviorToSelectedTab']>;\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nexport const TabsModeContext: React.Context<TabsContextProps> =\n  React.createContext<TabsContextProps>({\n    mode: 'default',\n    withGaps: false,\n    layoutFillMode: 'auto',\n    withScrollToSelectedTab: false,\n    scrollBehaviorToSelectedTab: 'nearest',\n  });\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { usePrevious } from '../../hooks/usePrevious';\nimport { useDOM } from '../../lib/dom';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { AnchorHTMLAttributesOnly, HTMLAttributesWithRootRef } from '../../types';\nimport { TabsControllerContext } from '../Tabs/TabsControllerContext';\nimport { TabsModeContext } from '../Tabs/TabsModeContext';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './TabsItem.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nconst stylesMode = {\n  default: styles.modeDefault,\n  accent: styles.modeAccent,\n  secondary: styles.modeSecondary,\n};\n\nconst fillModeClassNames = {\n  stretched: styles.stretched,\n  shrinked: styles.shrinked,\n};\n\nexport interface TabsItemProps\n  extends HTMLAttributesWithRootRef<HTMLElement>,\n    AnchorHTMLAttributesOnly,\n    Pick<\n      TappableOmitProps,\n      | 'Component'\n      | 'activeMode'\n      | 'hoverMode'\n      | 'hovered'\n      | 'activated'\n      | 'hasActive'\n      | 'hasHover'\n      | 'focusVisibleMode'\n    > {\n  /**\n   * Добавляет иконку слева.\n   *\n   * - Для `mode=\"default\"` используйте иконки размером 24.\n   * - Для всех остальных `mode` используйте иконки размером 20.\n   */\n  before?: React.ReactNode;\n  /**\n   * Добавляет элемент слева от `after`.\n   *\n   * - `React.ReactElement` – либо [`Badge`](https://vkui.io/components/badge) с параметром `mode=\"prominent\"`.\n   *   Либо [`Counter`](https://vkui.io/components/counter) с параметрами `mode=\"prominent\" size=\"s\"`.\n   * - `number` – для показа текстового блока с переданным числом.\n   */\n  status?: React.ReactElement | number;\n  /**\n   * Добавляет иконку справа.\n   *\n   * Например, `<Icon16Dropdown />`.\n   */\n  after?: React.ReactNode;\n  /**\n   * Флаг для отображения выбранного состояния.\n   */\n  selected?: boolean;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n}\n\nconst warn = warnOnce('TabsItem');\n\n/**\n * @see https://vkui.io/components/tabs#tabs-item\n */\nexport const TabsItem = ({\n  before,\n  children,\n  status,\n  after,\n  selected: selectedProp = false,\n  role = 'tab',\n  tabIndex: tabIndexProp,\n  getRootRef,\n  hoverMode = styles.hover,\n  activeMode = '',\n  hasActive = false,\n  focusVisibleMode = 'inside',\n  id,\n  onClick,\n  ...restProps\n}: TabsItemProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const { mode, withGaps, layoutFillMode, scrollBehaviorToSelectedTab, withScrollToSelectedTab } =\n    React.useContext(TabsModeContext);\n  const controller = React.useContext(TabsControllerContext);\n  let statusComponent = null;\n\n  const isTabFlow = role === 'tab';\n\n  const selected = selectedProp || (!!id && controller?.selectedTab === id);\n\n  if (hasReactNode(status)) {\n    statusComponent =\n      typeof status === 'number' ? (\n        <Subhead\n          Component=\"span\"\n          className={classNames(styles.status, styles.statusCount)}\n          weight=\"2\"\n        >\n          <VisuallyHidden>&nbsp;</VisuallyHidden>\n          {status}\n        </Subhead>\n      ) : (\n        <span className={styles.status}>\n          <VisuallyHidden>&nbsp;</VisuallyHidden>\n          {status}\n        </span>\n      );\n  }\n\n  if (process.env.NODE_ENV === 'development' && isTabFlow) {\n    if (!restProps['aria-controls']) {\n      warn(`Передайте в \"aria-controls\" id контролируемого блока`, 'warn');\n    } else if (!id) {\n      warn(\n        `Передайте \"id\" компоненту для использования в \"aria-labelledby\" контролируемого блока`,\n        'warn',\n      );\n    }\n  }\n\n  let tabIndex = tabIndexProp;\n  if (isTabFlow && tabIndex === undefined) {\n    tabIndex = selected ? 0 : -1;\n  }\n\n  const rootRef = useExternRef(getRootRef);\n\n  const prevSelected = usePrevious(selected);\n  const isInitialRender = prevSelected === undefined;\n  const shouldScrollToSelected =\n    withScrollToSelectedTab && !isInitialRender && prevSelected !== selected && selected;\n\n  const { document } = useDOM();\n  React.useEffect(\n    function scrollToSelectedItem() {\n      if (!shouldScrollToSelected || !rootRef.current || !document) {\n        return;\n      }\n\n      const tabDOMRect = rootRef.current.getBoundingClientRect();\n      const isTabVerticallyOutsideOfViewport =\n        tabDOMRect.top < 0 || tabDOMRect.bottom > document.documentElement.clientHeight;\n\n      /* проверяем, возможен ли вертикальный скролл, а он возможен для scrollIntoView если\n       * элемент вертикально вне зоны видимости */\n      if (isTabVerticallyOutsideOfViewport) {\n        return;\n      }\n\n      /* Не все браузеры поддерживают используемые нами опции. */\n      try {\n        rootRef.current.scrollIntoView({\n          inline: scrollBehaviorToSelectedTab,\n          block: 'nearest',\n          behavior: 'smooth',\n        });\n      } catch {\n        /* Вызывать scrollIntoView с булевым аргументом не следует, потому что это повлечёт\n         * вертикальный скролл.\n         **/\n      }\n    },\n    [rootRef, document, shouldScrollToSelected, scrollBehaviorToSelectedTab],\n  );\n\n  const _onClick: React.MouseEventHandler<HTMLElement> = React.useCallback(\n    (e) => {\n      onClick?.(e);\n      if (id) {\n        controller?.onChange(id);\n      }\n    },\n    [id, onClick, controller],\n  );\n\n  return (\n    <Tappable\n      getRootRef={rootRef}\n      hoverMode={hoverMode}\n      activeMode={activeMode}\n      hasActive={hasActive}\n      focusVisibleMode={focusVisibleMode}\n      role={role}\n      aria-selected={selected}\n      tabIndex={tabIndex}\n      baseClassName={classNames(\n        styles.host,\n        mode && stylesMode[mode],\n        selected && styles.selected,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        withGaps && styles.withGaps,\n        layoutFillMode !== 'auto' && fillModeClassNames[layoutFillMode],\n      )}\n      onClick={_onClick}\n      id={id}\n      {...restProps}\n    >\n      {before && <div className={styles.before}>{before}</div>}\n      <Headline\n        Component=\"span\"\n        className={styles.label}\n        level={mode === 'default' ? '1' : '2'}\n        weight=\"2\"\n      >\n        {children}\n      </Headline>\n      {statusComponent}\n      {after && <div className={styles.after}>{after}</div>}\n      {mode === 'default' && (\n        <div className={styles.underline} aria-hidden data-selected={selected} />\n      )}\n    </Tappable>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { clamp } from '../../helpers/math';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useStateWithPrev } from '../../hooks/useStateWithPrev';\nimport { type DOMProps, initializeBrowserGesturePreventionEffect, useDOM } from '../../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { AnyFunction, HasChildren } from '../../types';\nimport { type ScrollContextInterface, useScroll } from '../AppRoot/ScrollContext';\nimport { FixedLayout } from '../FixedLayout/FixedLayout';\nimport { type CustomTouchEvent, Touch, type TouchProps } from '../Touch/Touch';\nimport TouchRootContext from '../Touch/TouchContext';\nimport { PullToRefreshSpinner } from './PullToRefreshSpinner';\nimport styles from './PullToRefresh.module.css';\n\nconst WAIT_FETCHING_TIMEOUT_MS = 1000;\n\nfunction cancelEvent(event: CustomTouchEvent) {\n  /* istanbul ignore if: неясно в какой ситуации `event` из `Touch` может быть не определён */\n  if (!event) {\n    return false;\n  }\n  if ('preventDefault' in event.originalEvent && event.originalEvent.cancelable) {\n    event.originalEvent.preventDefault();\n  }\n  if ('stopPropagation' in event.originalEvent) {\n    event.originalEvent.stopPropagation();\n  }\n  return false;\n}\n\nexport interface PullToRefreshProps extends DOMProps, TouchProps, HasChildren {\n  /**\n   * Будет вызвана для обновления контента (прим.: функция должна быть мемоизированным обработчиком).\n   */\n  onRefresh: AnyFunction;\n  /**\n   * Определяет, выполняется ли обновление. Для скрытия спиннера после получения контента необходимо передать `false`.\n   */\n  isFetching?: boolean;\n  /** @ignore */\n  scroll?: ScrollContextInterface;\n}\n\n/**\n * @see https://vkui.io/components/pull-to-refresh\n */\nexport const PullToRefresh = ({\n  children,\n  isFetching,\n  onRefresh,\n  className,\n  ...restProps\n}: PullToRefreshProps): React.ReactNode => {\n  const platform = usePlatform();\n  const scroll = useScroll();\n  const { window } = useDOM();\n\n  const prevIsFetchingRef = React.useRef<boolean | undefined>(undefined);\n  React.useEffect(() => {\n    prevIsFetchingRef.current = isFetching;\n  });\n\n  const initParams = React.useMemo(\n    () => ({\n      start: platform === 'ios' ? -10 : -45,\n      max: platform === 'ios' ? 50 : 80,\n      maxY: platform === 'ios' ? 400 : 80,\n      refreshing: platform === 'ios' ? 36 : 50,\n      positionMultiplier: platform === 'ios' ? 0.21 : 1,\n    }),\n    [platform],\n  );\n\n  const [spinnerY, setSpinnerY] = React.useState(initParams.start);\n  const [watching, setWatching] = React.useState(false);\n  const [refreshing, setRefreshing] = React.useState(false);\n  const [canRefresh, setCanRefresh] = React.useState(false);\n  const [[touchDown, prevTouchDown], setTouchDown] = useStateWithPrev(false);\n\n  const touchY = React.useRef(0);\n  const [contentShift, setContentShift] = React.useState(0);\n  const [spinnerProgress, setSpinnerProgress] = React.useState(0);\n\n  const resetRefreshingState = React.useCallback(() => {\n    setWatching(false);\n    setCanRefresh(false);\n    setRefreshing(false);\n    setSpinnerY(initParams.start);\n    setSpinnerProgress(0);\n    setContentShift(0);\n  }, [initParams]);\n\n  const onRefreshingFinish = React.useCallback(() => {\n    if (!touchDown) {\n      resetRefreshingState();\n    }\n  }, [touchDown, resetRefreshingState]);\n\n  const waitFetchingTimeoutId = React.useRef<ReturnType<typeof setTimeout>>(undefined);\n\n  useIsomorphicLayoutEffect(() => {\n    const prevIsFetching = prevIsFetchingRef.current;\n    if (prevIsFetching !== undefined && prevIsFetching && !isFetching) {\n      onRefreshingFinish();\n    }\n  }, [isFetching, onRefreshingFinish]);\n\n  useIsomorphicLayoutEffect(() => {\n    const prevIsFetching = prevIsFetchingRef.current;\n    if (prevIsFetching !== undefined && !prevIsFetching && isFetching) {\n      clearTimeout(waitFetchingTimeoutId.current);\n    }\n  }, [isFetching]);\n\n  const runRefreshing = React.useCallback(() => {\n    if (!refreshing && onRefresh) {\n      // cleanup if the consumer does not start fetching in 1s\n      clearTimeout(waitFetchingTimeoutId.current);\n      waitFetchingTimeoutId.current = setTimeout(onRefreshingFinish, WAIT_FETCHING_TIMEOUT_MS);\n\n      setRefreshing(true);\n      setSpinnerY((prevSpinnerY) => (platform === 'ios' ? prevSpinnerY : initParams.refreshing));\n\n      onRefresh();\n    }\n  }, [refreshing, onRefresh, onRefreshingFinish, platform, initParams.refreshing]);\n\n  useIsomorphicLayoutEffect(() => {\n    if (prevTouchDown !== undefined && prevTouchDown && !touchDown) {\n      if (!refreshing && canRefresh) {\n        runRefreshing();\n      } else if (refreshing && !isFetching) {\n        // only iOS can start refresh before gesture end\n        resetRefreshingState();\n        /* istanbul ignore if: TODO написать тест */\n      } else {\n        // refreshing && isFetching: refresh in progress\n        // OR !refreshing && !canRefresh: pull was not strong enough\n        setSpinnerY(refreshing ? initParams.refreshing : initParams.start);\n        setSpinnerProgress(0);\n        setContentShift(0);\n      }\n    }\n  }, [\n    initParams,\n    isFetching,\n    onRefreshingFinish,\n    prevTouchDown,\n    touchDown,\n    refreshing,\n    canRefresh,\n    runRefreshing,\n  ]);\n\n  useIsomorphicLayoutEffect(\n    function toggleDocumentOverscrollBehavior() {\n      return window && (watching || refreshing)\n        ? initializeBrowserGesturePreventionEffect(window)\n        : undefined;\n    },\n    [window, watching, refreshing],\n  );\n\n  const startYRef = React.useRef(0);\n\n  const onTouchStart = (event: CustomTouchEvent) => {\n    if (refreshing) {\n      cancelEvent(event);\n      return;\n    }\n    setTouchDown(true);\n    startYRef.current = event.startY;\n  };\n\n  const iosRefreshStartedRef = React.useRef(false);\n  const onTouchMove = (event: CustomTouchEvent) => {\n    const { isY, shiftY } = event;\n    const { start, max } = initParams;\n    const pageYOffset = scroll?.getScroll().y;\n\n    if (watching && touchDown) {\n      cancelEvent(event);\n\n      const { positionMultiplier, maxY } = initParams;\n\n      const shift = Math.max(0, shiftY - touchY.current);\n\n      const currentY = clamp(start + shift * positionMultiplier, start, maxY);\n      const progress = currentY > -10 ? Math.abs((currentY + 10) / max) * 80 : 0;\n\n      setSpinnerY(currentY);\n      setSpinnerProgress(clamp(progress, 0, 80));\n      setCanRefresh(progress > 80);\n      setContentShift((currentY + 10) * 2.3);\n\n      const iosCanStartRefreshDuringGesture =\n        platform === 'ios' && progress > 85 && !refreshing && !iosRefreshStartedRef.current;\n      if (iosCanStartRefreshDuringGesture) {\n        iosRefreshStartedRef.current = true;\n        runRefreshing();\n      }\n    } else if (isY && pageYOffset === 0 && shiftY > 0 && !refreshing && touchDown) {\n      cancelEvent(event);\n\n      touchY.current = shiftY;\n      setWatching(true);\n      setSpinnerY(start);\n      setSpinnerProgress(0);\n    }\n  };\n\n  const onTouchEnd = () => {\n    setWatching(false);\n    setTouchDown(false);\n    iosRefreshStartedRef.current = false;\n  };\n\n  const spinnerTransform = `translate3d(0, ${spinnerY}px, 0)`;\n  let contentTransform = '';\n\n  if (platform === 'ios' && refreshing && !touchDown) {\n    contentTransform = 'translate3d(0, 100px, 0)';\n  } else if (platform === 'ios' && (contentShift || refreshing)) {\n    contentTransform = `translate3d(0, ${contentShift}px, 0)`;\n  }\n\n  return (\n    <TouchRootContext.Provider value={true}>\n      <Touch\n        aria-live=\"polite\"\n        aria-busy={!!isFetching}\n        {...restProps}\n        onStart={onTouchStart}\n        onMove={onTouchMove}\n        onEnd={onTouchEnd}\n        className={classNames(\n          styles.host,\n          platform === 'ios' && styles.ios,\n          watching && styles.watching,\n          refreshing && styles.refreshing,\n          className,\n        )}\n      >\n        <FixedLayout className={styles.controls} useParentWidth>\n          <PullToRefreshSpinner\n            style={{\n              transform: spinnerTransform,\n              opacity: watching || refreshing || canRefresh ? 1 : 0,\n            }}\n            on={refreshing}\n            progress={refreshing ? undefined : spinnerProgress}\n          />\n        </FixedLayout>\n\n        <div\n          className={styles.content}\n          style={{\n            transform: contentTransform,\n          }}\n        >\n          {children}\n        </div>\n      </Touch>\n    </TouchRootContext.Provider>\n  );\n};\n", "import * as React from 'react';\n\nfunction basicStateInitializer<S>(initialArg: S | (() => S)): S {\n  return initialArg instanceof Function ? initialArg() : initialArg;\n}\n\nfunction initializer<T>(initialArg: T | (() => T)): [T, T | undefined] {\n  const initialState = basicStateInitializer(initialArg);\n\n  return [initialState, undefined];\n}\n\nfunction basicStateReducer<S>(state: S, action: React.SetStateAction<S>): S {\n  return action instanceof Function ? action(state) : action;\n}\n\nfunction reducer<T>(\n  [prevState]: [T, T | undefined],\n  action: React.SetStateAction<T>,\n): [T, T | undefined] {\n  const newState = basicStateReducer(prevState, action);\n\n  return [newState, prevState];\n}\n\n/**\n * Возвращает значение с текущим и предыдущим состоянием\n *\n * # Пример\n *\n * ```ts\n * const [[count, prevCount], setCount] = useStateWithPrev(initialState);\n * ```\n */\nexport function useStateWithPrev<T>(\n  initialState: T | (() => T),\n): [[T, T | undefined], React.Dispatch<React.SetStateAction<T>>] {\n  return React.useReducer(reducer, undefined, () => initializer(initialState));\n}\n", "import * as React from 'react';\n\n/**\n * Контекст для компонентов, использующих Touch в качестве корневой обёртки,\n * и для которых важно не предотвращать всплытие тач-событий от дочерних компонентов.\n */\nconst TouchRootContext: React.Context<boolean> = React.createContext<boolean>(false);\n\n// eslint-disable-next-line import/no-default-export\nexport default TouchRootContext;\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './PullToRefresh.module.css';\n\nfunction calcStrokeDashOffset(value: number, radius: number) {\n  const progress = value / 100;\n  return 2 * Math.PI * radius * (1 - progress);\n}\n\nexport interface PullToRefreshSpinnerProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  size?: number;\n  strokeWidth?: number;\n  on?: boolean;\n  progress?: number;\n}\n\nexport const PullToRefreshSpinner = ({\n  on = true,\n  size = 24,\n  strokeWidth = 2.5,\n  progress = 0,\n  children = 'Пожалуйста, подождите...',\n  ...restProps\n}: PullToRefreshSpinnerProps): React.ReactNode => {\n  const radius = 0.5 * size - 0.5 * strokeWidth;\n  const dasharray = 2 * Math.PI * radius;\n  const circleCenter = 0.5 * size;\n\n  const dashoffset = calcStrokeDashOffset(on ? 80 : progress, radius);\n\n  return (\n    <RootComponent\n      baseClassName={classNames(styles.spinner, on && styles.spinnerOn)}\n      {...restProps}\n    >\n      {on && <VisuallyHidden>{children}</VisuallyHidden>}\n      <svg\n        role=\"presentation\"\n        className={styles.spinnerSelf}\n        style={{\n          width: size,\n          height: size,\n        }}\n        viewBox={`0 0 ${size} ${size}`}\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <g\n          style={{\n            width: size,\n            height: size,\n            transformOrigin: `${circleCenter}px ${circleCenter}px`,\n          }}\n        >\n          <circle\n            className={styles.spinnerPath}\n            fill=\"none\"\n            strokeDasharray={dasharray}\n            strokeDashoffset={dashoffset}\n            strokeWidth={strokeWidth}\n            strokeLinecap=\"round\"\n            cx={circleCenter}\n            cy={circleCenter}\n            r={radius}\n          />\n        </g>\n      </svg>\n    </RootComponent>\n  );\n};\n", "import type { ReactElement } from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport styles from './Link.module.css';\n\nexport interface LinkProps extends TappableOmitProps {\n  /**\n   * Иконка слева.\n   */\n  before?: ReactElement;\n  /**\n   * Иконка справа.\n   */\n  after?: ReactElement;\n  /**\n   * Выключает появления нижнего подчеркивания при наведении.\n   */\n  noUnderline?: boolean;\n  /**\n   * Включает состояние `visited`, которое позволяет пользователю понять посещал ли он ссылку или нет.\n   */\n  hasVisited?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/link\n */\nexport const Link = ({\n  before: beforeProp,\n  after: afterProp,\n  noUnderline,\n  hasVisited,\n  children,\n  ...restProps\n}: LinkProps): React.ReactNode => {\n  const before = beforeProp ? <span className={styles.before}>{beforeProp}</span> : null;\n  const after = afterProp ? <span className={styles.after}>{afterProp}</span> : null;\n\n  return (\n    <Tappable\n      activeMode=\"opacity\"\n      hoverMode={styles.hover}\n      focusVisibleMode=\"outside\"\n      DefaultComponent=\"span\"\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        hasVisited && styles.hasVisited,\n        !noUnderline && styles.withUnderline,\n      )}\n    >\n      {before}\n      {children}\n      {after}\n    </Tappable>\n  );\n};\n", "import * as React from 'react';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Mark.module.css';\n\nexport type MarkProps = HTMLAttributesWithRootRef<HTMLDivElement>;\n\n/**\n * Компонент используется для выделения фрагментов текста,\n * например при поиске определенных слов или выделения текста в цитате.\n *\n * @since 6.1.0\n * @see https://vkui.io/components/mark\n */\nexport const Mark = (props: MarkProps): React.ReactNode => (\n  <RootComponent baseClassName={styles.host} Component=\"mark\" {...props} />\n);\n", "'use client';\n\nimport * as React from 'react';\nimport { hasReactNode } from '@vkontakte/vkjs';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { type UseFocusTrapProps } from '../../hooks/useFocusTrap';\nimport { usePatchChildren } from '../../hooks/usePatchChildren';\nimport { createPortal } from '../../lib/createPortal';\nimport {\n  autoUpdateFloatingElement,\n  convertFloatingDataToReactCSSProperties,\n  type FloatingComponentProps,\n  useFloating,\n  useFloatingMiddlewaresBootstrap,\n  usePlacementChangeCallback,\n} from '../../lib/floating';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { DEFAULT_ARROW_HEIGHT, DEFAULT_ARROW_PADDING } from '../FloatingArrow/DefaultIcon';\nimport type { FloatingArrowProps } from '../FloatingArrow/FloatingArrow';\nimport { FocusTrap } from '../FocusTrap/FocusTrap';\nimport { useNavTransition } from '../NavTransitionContext/NavTransitionContext';\nimport { TOOLTIP_MAX_WIDTH, TooltipBase, type TooltipBaseProps } from '../TooltipBase/TooltipBase';\nimport { onboardingTooltipContainerAttr } from './OnboardingTooltipContainer';\nimport styles from './OnboardingTooltip.module.css';\n\nconst warn = warnOnce('OnboardingTooltip');\n\ntype AllowedFloatingComponentProps = Pick<\n  FloatingComponentProps,\n  | 'arrowHeight'\n  | 'arrowPadding'\n  | 'arrowRef'\n  | 'placement'\n  | 'offsetByMainAxis'\n  | 'offsetByCrossAxis'\n  | 'shown'\n  | 'children'\n  | 'onPlacementChange'\n  | 'disableFlipMiddleware'\n  | 'disableShiftMiddleware'\n  | 'disableFocusTrap'\n>;\n\ntype AllowedTooltipBaseProps = Omit<\n  TooltipBaseProps,\n  'arrowProps' | 'closeIconLabel' | 'onCloseIconClick'\n>;\n\ntype AllowedFloatingArrowProps = {\n  /**\n   * Сдвиг стрелки относительно текущих координат.\n   */\n  arrowOffset?: FloatingArrowProps['offset'];\n  /**\n   * Включает абсолютное смещение по `arrowOffset`.\n   */\n  isStaticArrowOffset?: FloatingArrowProps['isStaticOffset'];\n};\n\nexport interface OnboardingTooltipProps\n  extends AllowedFloatingComponentProps,\n    AllowedTooltipBaseProps,\n    AllowedFloatingArrowProps,\n    Pick<UseFocusTrapProps, 'restoreFocus'> {\n  /**\n   * Скрывает стрелку, указывающую на якорный элемент.\n   */\n  disableArrow?: boolean;\n  /**\n   * Обработчик, который вызывается при нажатии по любому месту в пределах экрана.\n   */\n  onClose?: (this: void) => void;\n  /**\n   * [a11y] Метка для подложки-кнопки, для описания того, что произойдёт при нажатии.\n   */\n  overlayLabel?: string;\n}\n\n/**\n * @see https://vkui.io/components/onboarding-tooltip\n */\nexport const OnboardingTooltip = ({\n  'id': idProp,\n  children,\n  'shown': shownProp = true,\n  arrowPadding = DEFAULT_ARROW_PADDING,\n  arrowHeight = DEFAULT_ARROW_HEIGHT,\n  offsetByMainAxis = 0,\n  offsetByCrossAxis = 0,\n  arrowOffset = 0,\n  isStaticArrowOffset = false,\n  onClose,\n  'placement': placementProp = 'bottom-start',\n  maxWidth = TOOLTIP_MAX_WIDTH,\n  'style': styleProp,\n  getRootRef,\n  disableArrow = false,\n  onPlacementChange,\n  disableFlipMiddleware = false,\n  disableShiftMiddleware = false,\n  overlayLabel = 'Закрыть',\n  title,\n  'aria-label': ariaLabel,\n  'aria-labelledby': ariaLabelledBy,\n  restoreFocus,\n  disableFocusTrap,\n  ...restProps\n}: OnboardingTooltipProps): React.ReactNode => {\n  const generatedId = React.useId();\n  const tooltipId = idProp || generatedId;\n  const { entering } = useNavTransition();\n\n  const [arrowRef, setArrowRef] = React.useState<HTMLDivElement | null>(null);\n  const [tooltipContainer, setTooltipContainer] = React.useState<HTMLElement | null>(null);\n  const [positionStrategy, setPositionStrategy] = React.useState<'fixed' | 'absolute'>('absolute');\n  const shown = shownProp && tooltipContainer && !entering;\n\n  const { middlewares, strictPlacement } = useFloatingMiddlewaresBootstrap({\n    placement: placementProp,\n    offsetByMainAxis,\n    offsetByCrossAxis,\n    arrowRef,\n    arrow: !disableArrow,\n    arrowHeight,\n    arrowPadding,\n    disableFlipMiddleware,\n    disableShiftMiddleware,\n  });\n  const {\n    x: floatingDataX,\n    y: floatingDataY,\n    refs,\n    placement: resolvedPlacement,\n    middlewareData: { arrow: arrowCoords },\n  } = useFloating({\n    strategy: positionStrategy,\n    placement: strictPlacement,\n    middleware: middlewares,\n    whileElementsMounted: autoUpdateFloatingElement,\n  });\n  const tooltipRef = useExternRef<HTMLDivElement>(getRootRef, refs.setFloating);\n  const [childRef, child] = usePatchChildren(children, {\n    'aria-describedby': shown ? tooltipId : undefined,\n  });\n\n  usePlacementChangeCallback(placementProp, resolvedPlacement, onPlacementChange);\n\n  const titleId = React.useId();\n  if (process.env.NODE_ENV === 'development' && !title && !ariaLabel && !ariaLabelledBy) {\n    warn(\n      'Если \"title\" не используется, то необходимо задать либо \"aria-label\", либо \"aria-labelledby\" (см. правило axe aria-dialog-name)',\n    );\n  }\n\n  let tooltip: React.ReactPortal | null = null;\n  if (shown) {\n    const floatingStyle = convertFloatingDataToReactCSSProperties({\n      strategy: positionStrategy,\n      x: floatingDataX,\n      y: floatingDataY,\n    });\n\n    tooltip = createPortal(\n      <FocusTrap\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label={ariaLabel}\n        aria-labelledby={title ? titleId : ariaLabel ? undefined : ariaLabelledBy}\n        onClose={onClose}\n        disabled={disableFocusTrap}\n        restoreFocus={restoreFocus}\n      >\n        <button aria-label={overlayLabel} className={styles.overlay} onClickCapture={onClose} />\n        <TooltipBase\n          {...restProps}\n          id={tooltipId}\n          title={title}\n          titleId={title ? titleId : undefined}\n          getRootRef={tooltipRef}\n          style={mergeStyle(floatingStyle, styleProp)}\n          maxWidth={maxWidth}\n          arrowProps={\n            disableArrow\n              ? undefined\n              : {\n                  offset: arrowOffset,\n                  isStaticOffset: isStaticArrowOffset,\n                  coords: arrowCoords,\n                  placement: resolvedPlacement,\n                  getRootRef: setArrowRef,\n                }\n          }\n        />\n      </FocusTrap>,\n      tooltipContainer,\n    );\n  }\n\n  useIsomorphicLayoutEffect(\n    function initialize() {\n      const referenceEl = childRef.current;\n      if (referenceEl) {\n        setTooltipContainer(\n          referenceEl.closest<HTMLDivElement>(`[${onboardingTooltipContainerAttr}]`), // eslint-disable-line no-restricted-properties\n        );\n        setPositionStrategy(referenceEl.style.position === 'fixed' ? 'fixed' : 'absolute');\n        refs.setReference(referenceEl);\n      }\n    },\n    [childRef],\n  );\n\n  if (process.env.NODE_ENV === 'development') {\n    const multiChildren = React.Children.count(children) > 1;\n    // Empty children is a noop\n    const primitiveChild = hasReactNode(children) && typeof children !== 'object';\n    (multiChildren || primitiveChild) &&\n      warn(\n        [\n          'children должен быть одним React элементом, получено',\n          multiChildren && 'несколько',\n          primitiveChild && JSON.stringify(children),\n        ]\n          .filter(Boolean)\n          .join(' '),\n        'error',\n      );\n\n    if (refs.reference.current && !tooltipContainer) {\n      throw new Error('Use TooltipContainer for Tooltip outside Panel (see docs)');\n    }\n  }\n\n  return (\n    <React.Fragment>\n      {child}\n      {tooltip}\n    </React.Fragment>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport { type CSSCustomProperties, type HTMLAttributesWithRootRef } from '../../types';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { Headline } from '../Typography/Headline/Headline';\nimport styles from './Counter.module.css';\n\nconst modeClassNames = {\n  primary: styles.modePrimary,\n  contrast: styles.modeContrast,\n  tertiary: styles.modeTertiary,\n  inherit: styles.modeInherit,\n};\n\nconst appearanceClassNames: Record<string, string> = {\n  'custom': styles.appearanceCustom,\n  'accent': styles.appearanceAccent,\n  'neutral': styles.appearanceNeutral,\n  'accent-green': styles.appearanceAccentGreen,\n  'accent-red': styles.appearanceAccentRed,\n};\n\nconst sizeClassNames = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n};\n\nexport interface CounterProps extends HTMLAttributesWithRootRef<HTMLSpanElement> {\n  /**\n   * Режим отображения счетчика.\n   */\n  mode?: 'primary' | 'contrast' | 'tertiary' | 'inherit';\n\n  /**\n   * Внешний вид счетчика.\n   */\n  appearance?: 'accent' | 'neutral' | 'accent-green' | 'accent-red' | 'custom';\n\n  /**\n   * Пользовательский цвет (работает только при appearance=\"custom\")\n   * - При mode=\"primary\" - изменяет фон\n   * - При mode=\"contrast\" - изменяет цвет текста\n   * - При mode=\"tertiary\" - изменяет цвет текста\n   * - При mode=\"inherit\" - не работает.\n   */\n  color?: string;\n  /**\n   * Размер счетчика.\n   */\n  size?: 's' | 'm';\n}\n\n/**\n * @see https://vkui.io/components/counter\n */\nexport const Counter = ({\n  mode = 'inherit',\n  appearance: appearanceProp,\n  color,\n  size = 'm',\n  children,\n  className,\n  style: styleProp,\n  ...restProps\n}: CounterProps): React.ReactNode => {\n  const appearance = React.useMemo<CounterProps['appearance']>(() => {\n    if (mode === 'inherit') {\n      return undefined;\n    }\n    if (appearanceProp) {\n      return appearanceProp;\n    }\n    return 'accent';\n  }, [appearanceProp, mode]);\n\n  const style: (React.CSSProperties & CSSCustomProperties<string | undefined>) | undefined =\n    React.useMemo(() => {\n      if (mode === 'inherit' || appearance !== 'custom' || !color) {\n        return undefined;\n      }\n      switch (mode) {\n        case 'primary':\n          return {\n            '--vkui_internal--counter_background': color,\n          };\n        case 'contrast':\n        case 'tertiary':\n          return {\n            '--vkui_internal--counter_foreground': color,\n          };\n      }\n    }, [appearance, color, mode]);\n\n  if (React.Children.count(children) === 0) {\n    return null;\n  }\n\n  const CounterTypography = size === 's' ? Caption : Headline;\n  const counterLevel = size === 's' ? '1' : '2';\n\n  return (\n    <CounterTypography\n      {...restProps}\n      style={mergeStyle(style, styleProp)}\n      Component=\"span\"\n      className={classNames(\n        'vkuiInternalCounter',\n        styles.host,\n        modeClassNames[mode],\n        !!appearance && appearanceClassNames[appearance],\n        sizeClassNames[size],\n        className,\n      )}\n      level={counterLevel}\n    >\n      {children}\n    </CounterTypography>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport styles from './UsersStack.module.css';\n\nconst stylesSize = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n  l: styles.sizeL,\n};\n\nconst avatarsPositionStyles = {\n  'inline-start': styles.avatarsPositionInlineStart,\n  'inline-end': styles.avatarsPositionInlineEnd,\n  'block-start': styles.avatarsPositionBlockStart,\n};\n\nexport type UsersStackRenderWrapperProps = {\n  /**\n   * Контент для обертки.\n   */\n  children: React.ReactElement;\n  /**\n   * Путь до фотографии.\n   */\n  ['data-src']: string;\n};\n\nexport type UsersStackPhoto = {\n  /**\n   * Путь до фотографии.\n   */\n  src: string;\n  /**\n   * Функция для рендера обертки над фотографией.\n   */\n  renderWrapper?: (props: UsersStackRenderWrapperProps) => React.ReactElement;\n};\n\nexport interface UsersStackProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Массив ссылок на фотографии либо массив структур типа `UsersStackPhoto`.\n   */\n  photos?: string[] | UsersStackPhoto[];\n  /**\n   * Размер аватарок.\n   */\n  size?: 's' | 'm' | 'l';\n  /**\n   * Количество аватарок, которые будут показаны.\n   * Если в массиве `photos` больше элементов и не используется размер `s`, то будет показано количество остальных элементов.\n   */\n  visibleCount?: number;\n  /**\n   * Число, которое будет указано в счетчике.\n   * По умолчанию высчитывается по формуле `photos.length - visibleCount`.\n   * Если число больше 99, то счетчик скроется.\n   */\n  count?: number;\n  /**\n   * Определяет положение аватаров\n   * Режим `block-start` рекомендуется использовать с размером `m`.\n   */\n  avatarsPosition?: 'inline-start' | 'block-start' | 'inline-end';\n}\n\ninterface PathElementProps extends React.SVGAttributes<SVGElement> {\n  /**\n   * Размер фотографии.\n   */\n  photoSize: number;\n  /**\n   * Тип обрезания фотографии.\n   */\n  direction: 'circle' | 'right' | 'left';\n}\n\ntype PhotoSizeType = 16 | 24 | 32;\n\nfunction PathElement({ photoSize, direction, ...props }: PathElementProps) {\n  switch (direction) {\n    case 'circle':\n      const radius = photoSize / 2;\n\n      return <circle cx={radius} cy={radius} r={radius} {...props} />;\n\n    case 'right':\n      switch (photoSize) {\n        case 16:\n          return (\n            <path\n              d=\"M14,13.285A8 8 0 0 1 8 16A8 8 0 0 1 8 0A8 8 0 0 1 14 2.715A8 8 0 0 0 14,13.285\"\n              {...props}\n            />\n          );\n        case 24:\n          return (\n            <path\n              d=\"M22,18.625A12 12 0 0 1 12 24A12 12 0 0 1 12 0A12 12 0 0 1 22 5.375A12 12 0 0 0 22,18.625\"\n              {...props}\n            />\n          );\n\n        default:\n          return (\n            <path\n              d=\"M30,23.75A16 16 0 0 1 16 32A16 16 0 0 1 16 0A16 16 0 0 1 30 8.25A16 16 0 0 0 30,23.75\"\n              {...props}\n            />\n          );\n      }\n\n    default:\n      switch (photoSize) {\n        case 16:\n          return (\n            <path\n              d=\"M2,13.285A8 8 0 0 0 8 16A8 8 0 0 0 8 0A8 8 0 0 0 2 2.715A8 8 0 0 1 2,13.285\"\n              {...props}\n            />\n          );\n        case 24:\n          return (\n            <path\n              d=\"M2,18.625A12 12 0 0 0 12 24A12 12 0 0 0 12 0A12 12 0 0 0 2 5.375A12 12 0 0 1 2,18.625\"\n              {...props}\n            />\n          );\n\n        default:\n          return (\n            <path\n              d=\"M2,23.75A16 16 0 0 0 16 32A16 16 0 0 0 16 0A16 16 0 0 0 2 8.25A16 16 0 0 1 2,23.75\"\n              {...props}\n            />\n          );\n      }\n  }\n}\n\nconst photoSizes: Record<NonNullable<UsersStackProps['size']>, PhotoSizeType> = {\n  s: 16,\n  m: 24,\n  l: 32,\n};\n\n/**\n * @see https://vkui.io/components/users-stack\n */\nexport const UsersStack = ({\n  photos = [],\n  visibleCount = 3,\n  count = Math.max(0, photos.length - visibleCount),\n  size = 'm',\n  children,\n  avatarsPosition = 'inline-start',\n  ...restProps\n}: UsersStackProps): React.ReactNode => {\n  const cmpId = React.useId();\n  const direction = useConfigDirection();\n\n  const canShowOthers = count > 0 && count < 100 && size !== 's';\n  const CounterTypography = size === 'l' ? Footnote : Caption;\n\n  const photoSize = photoSizes[size];\n  const directionClip =\n    direction === 'ltr' ? (canShowOthers ? 'right' : 'left') : canShowOthers ? 'left' : 'right';\n\n  const photosElements = photos.slice(0, visibleCount).map((photo, i) => {\n    const direction = i === 0 && !canShowOthers ? 'circle' : directionClip;\n\n    const id = `UsersStackDefs${cmpId}${i}`;\n    const hrefID = `#${id}`;\n    const maskID = `UsersStackMask${cmpId}${i}`;\n\n    const isPhotoType = typeof photo === 'object';\n    const photoSrc = isPhotoType ? photo.src : photo;\n\n    let photoElement = (\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className={classNames(styles.photo, styles.item)}\n        aria-hidden\n        display=\"block\"\n      >\n        <defs>\n          <PathElement id={id} direction={direction} photoSize={photoSize} />\n        </defs>\n        <clipPath id={maskID}>\n          <use href={hrefID} />\n        </clipPath>\n        <g clipPath={`url(#${maskID})`}>\n          <use href={hrefID} className={styles.fill} />\n          <image href={photoSrc} width={photoSize} height={photoSize} />\n          <use href={hrefID} fill=\"none\" stroke=\"rgba(0, 0, 0, 0.08)\" />\n        </g>\n      </svg>\n    );\n    if (isPhotoType && photo.renderWrapper) {\n      photoElement = photo.renderWrapper({\n        'children': photoElement,\n        'data-src': photoSrc,\n      });\n    }\n\n    return (\n      <div className={styles.photoWrapper} key={i}>\n        {photoElement}\n      </div>\n    );\n  });\n\n  const othersElement = canShowOthers ? (\n    <div className={styles.photoWrapper}>\n      <CounterTypography caps weight=\"1\" className={classNames(styles.item, styles.counter)}>\n        +{count}\n      </CounterTypography>\n    </div>\n  ) : null;\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        stylesSize[size],\n        avatarsPositionStyles[avatarsPosition],\n      )}\n    >\n      {(photosElements.length > 0 || othersElement) && (\n        <div className={styles.photos} aria-hidden>\n          {photosElements}\n          {othersElement}\n        </div>\n      )}\n      {hasReactNode(children) && <Footnote className={styles.text}>{children}</Footnote>}\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Title } from '../Typography/Title/Title';\nimport styles from './Placeholder.module.css';\n\nexport interface PlaceholderContainerProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'title'> {\n  /**\n   * Растягивает плейсхолдер на весь экран, но в таком случае на экране должен быть только плейсхолдер.\n   */\n  stretched?: boolean;\n  /**\n   * Убирает отступы у компонента.\n   */\n  noPadding?: boolean;\n}\n\nconst PlaceholderContainer = ({\n  stretched,\n  noPadding = false,\n  ...restProps\n}: PlaceholderContainerProps): React.ReactNode => (\n  <RootComponent\n    baseClassName={classNames(\n      styles.host,\n      stretched && styles.stretched,\n      !noPadding && styles.withPadding,\n    )}\n    {...restProps}\n  />\n);\n\nexport type PlaceholderIconProps = HTMLAttributesWithRootRef<HTMLDivElement>;\n\nconst PlaceholderIcon = (props: PlaceholderIconProps): React.ReactNode => (\n  <RootComponent baseClassName={styles.icon} {...props} />\n);\n\nexport type PlaceholderTitleProps = HTMLAttributesWithRootRef<HTMLElement> & HasComponent;\n\nconst PlaceholderTitle = ({ className, ...restProps }: PlaceholderTitleProps): React.ReactNode => (\n  <Title level=\"2\" weight=\"2\" className={classNames(className, styles.title)} {...restProps} />\n);\n\nexport type PlaceholderDescriptionProps = HTMLAttributesWithRootRef<HTMLElement> & HasComponent;\n\nconst PlaceholderDescription = ({\n  className,\n  ...restProps\n}: PlaceholderDescriptionProps): React.ReactNode => (\n  <Headline weight=\"3\" className={classNames(className, styles.description)} {...restProps} />\n);\n\nexport type PlaceholderActionsProps = HTMLAttributesWithRootRef<HTMLDivElement>;\n\nconst PlaceholderActions = (props: PlaceholderActionsProps): React.ReactNode => (\n  <RootComponent baseClassName={styles.action} {...props} />\n);\n\nexport interface PlaceholderProps extends PlaceholderContainerProps {\n  /**\n   * Иконка.\n   */\n  icon?: React.ReactNode;\n  /**\n   * Заголовок плейсхолдера.\n   */\n  title?: React.ReactNode;\n  /**\n   * Кнопка действия.\n   */\n  action?: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/placeholder\n */\nexport const Placeholder: React.FC<PlaceholderProps> & {\n  Container: typeof PlaceholderContainer;\n  Icon: typeof PlaceholderIcon;\n  Title: typeof PlaceholderTitle;\n  Description: typeof PlaceholderDescription;\n  Actions: typeof PlaceholderActions;\n} = ({ icon, title, children, action, noPadding = false, ...restProps }: PlaceholderProps) => (\n  <PlaceholderContainer noPadding={noPadding} {...restProps}>\n    {hasReactNode(icon) && <PlaceholderIcon>{icon}</PlaceholderIcon>}\n    {hasReactNode(title) && <PlaceholderTitle>{title}</PlaceholderTitle>}\n    {hasReactNode(children) && <PlaceholderDescription>{children}</PlaceholderDescription>}\n    {hasReactNode(action) && <PlaceholderActions>{action}</PlaceholderActions>}\n  </PlaceholderContainer>\n);\n\nPlaceholder.Container = PlaceholderContainer;\nPlaceholder.Icon = PlaceholderIcon;\nPlaceholder.Title = PlaceholderTitle;\nPlaceholder.Description = PlaceholderDescription;\nPlaceholder.Actions = PlaceholderActions;\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon24Cancel, Icon24Chevron, Icon24Dismiss, Icon24DismissDark } from '@vkontakte/icons';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { IconButton } from '../IconButton/IconButton';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport { Text } from '../Typography/Text/Text';\nimport { Title } from '../Typography/Title/Title';\nimport styles from './Banner.module.css';\n\nexport interface BannerProps extends Omit<TappableOmitProps, 'title' | 'size'> {\n  /**\n   * Тип баннера.\n   */\n  mode?: 'tint' | 'image';\n  /**\n   * Размер баннера.\n   */\n  size?: 's' | 'm';\n  /**\n   * Тип действия в правой части баннера.\n   *\n   * - `dismiss` – отображается иконка крестика, при нажатии на неё сработает свойство `onDismiss`.\n   * - `chevron` – отображается иконка шеврона, которая подразумевает, что при нажатии на баннер можно куда-то перейти.\n   */\n  after?: 'dismiss' | 'chevron' | React.ReactNode;\n  /**\n   * Срабатывает при нажатии на иконку крестика при `after=\"dismiss\"`.\n   */\n  onDismiss?: React.MouseEventHandler<HTMLButtonElement>;\n  /**\n   * Текст кнопки закрытия. Делает ее доступной для ассистивных технологий.\n   */\n  dismissLabel?: string;\n  /**\n   * Содержимое, отображаемое в левой части баннера.\n   */\n  before?: React.ReactNode;\n  /**\n   * Заголовок.\n   */\n  title?: React.ReactNode;\n  /**\n   * Подзаголовок.\n   */\n  subtitle?: React.ReactNode;\n  /**\n   * Дополнительный подзаголовок баннера.\n   */\n  extraSubtitle?: React.ReactNode;\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * - `light` – в качестве фона используется светлое изображение, цвет текста в баннере будет тёмным.\n   * - `dark` – в качестве фона используется тёмное изображение, цвет текста будет светлым.\n   */\n  imageTheme?: 'light' | 'dark';\n  /**\n   * При использовании `mode=\"image\"`.\n   *\n   * Элемент, который нужно стилизовать цветом и/или фоном. Этот элемент будет растянут на 100% ширины и высоты баннера.\n   */\n  background?: React.ReactNode;\n  /**\n   * Кнопки-действия. Принимает [`Button`](https://vkui.io/components/button).\n   *\n   * - В режиме `tint` или `image` со светлым фоном используйте только с параметрами:\n   *    - `mode=\"primary\"`\n   *    - `mode=\"secondary\"`\n   * - В режиме `image` с тёмным фоном используйте с параметрами:\n   *    - `appearance=\"overlay\"`.\n   *\n   * Для набора кнопок используйте [`ButtonGroup`](https://vkui.io/components/button-group) с параметрами:\n   *\n   * - `gap=\"m\" mode=\"horizontal\" stretched`\n   * - `gap=\"m\" mode=\"vertical\" stretched`.\n   */\n  actions?: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/banner\n */\nexport const Banner = ({\n  mode = 'tint',\n  imageTheme = 'dark',\n  size = 's',\n  before,\n  after: afterProp,\n  title,\n  subtitle,\n  extraSubtitle,\n  children,\n  background,\n  actions,\n  onDismiss,\n  dismissLabel = 'Скрыть',\n  Component,\n  ...restProps\n}: BannerProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  const HeaderTypography = size === 'm' ? Title : Headline;\n  const SubheadTypography = size === 'm' ? Text : Subhead;\n\n  const IconDismissIOS = mode === 'image' ? Icon24DismissDark : Icon24Dismiss;\n\n  const content = (\n    <>\n      {mode === 'image' && background && (\n        <div aria-hidden className={styles.bg}>\n          {background}\n        </div>\n      )}\n\n      {before && <div className={styles.before}>{before}</div>}\n\n      <div className={styles.content}>\n        {hasReactNode(title) && (\n          <HeaderTypography Component=\"div\" weight=\"2\" level={size === 'm' ? '2' : '1'}>\n            {title}\n          </HeaderTypography>\n        )}\n        {hasReactNode(subtitle) && (\n          <SubheadTypography Component=\"div\" className={styles.subtitle}>\n            {subtitle}\n          </SubheadTypography>\n        )}\n        {hasReactNode(extraSubtitle) && (\n          <Text Component=\"div\" className={styles.extraSubtitle}>\n            {extraSubtitle}\n          </Text>\n        )}\n        {hasReactNode(actions) && React.Children.count(actions) > 0 && (\n          <div className={styles.actions}>{actions}</div>\n        )}\n      </div>\n    </>\n  );\n\n  const afterMap: Record<string, React.ReactNode> = {\n    chevron: <Icon24Chevron className={styles.chevron} />,\n    dismiss: (\n      <IconButton\n        label={dismissLabel}\n        className={styles.dismiss}\n        onClick={onDismiss}\n        hoverMode=\"opacity\"\n        hasActive={false}\n      >\n        {platform === 'ios' ? <IconDismissIOS /> : <Icon24Cancel />}\n      </IconButton>\n    ),\n  };\n\n  const after = afterProp && (\n    <div className={styles.after}>\n      {typeof afterProp === 'string' ? afterMap[afterProp] : afterProp}\n    </div>\n  );\n\n  const isClickable = restProps.onClick || restProps.onClickCapture || restProps.href;\n\n  return (\n    <Tappable\n      Component={Component || (!isClickable ? 'section' : undefined)}\n      activeMode={platform === 'ios' ? 'opacity' : 'background'}\n      baseClassName={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        mode === 'image' && styles.modeImage,\n        size === 'm' && styles.sizeM,\n        mode === 'image' && imageTheme === 'dark' && styles.inverted,\n      )}\n      {...restProps}\n    >\n      {content}\n      {after}\n    </Tappable>\n  );\n};\n", "import * as React from 'react';\nimport { Icon16Chevron } from '@vkontakte/icons';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { type RootComponentProps } from '../RootComponent/RootComponent';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { Paragraph } from '../Typography/Paragraph/Paragraph';\nimport styles from './MiniInfoCell.module.css';\n\nconst stylesMode = {\n  add: styles.modeAdd,\n  accent: styles.modeAccent,\n  more: styles.modeMore,\n};\n\nconst stylesTextWrap = {\n  nowrap: styles.textWrapNowrap,\n  full: styles.textWrapFull,\n  short: styles.textWrapShort,\n};\n\nexport interface MiniInfoCellProps\n  extends Pick<\n      TappableOmitProps,\n      'hoverMode' | 'activeMode' | 'hovered' | 'activated' | 'hasHover' | 'hasActive'\n    >,\n    RootComponentProps<HTMLDivElement> {\n  /**\n   * Иконка слева.<br />\n   * Рекомендуется использовать иконки размера 20.\n   */\n  before?: React.ReactNode;\n\n  /**\n   * Содержимое справа.<br />\n   * `<UsersStack size=\"s\" />` или `<Avatar size={24} />`.\n   */\n  after?: React.ReactNode;\n\n  /**\n   * Тип ячейки:\n   *\n   * - `base` – базовая ячейка с серой иконкой и серым текстом.<br />\n   * В компонент можно передать `Link`, чтобы визуально сделать часть текста ссылкой.\n   * - `add` – тип ячейки, который показывает, что взаимодействие с ней должно вызывать действие добавления чего-то.\n   * - `more` – взаимодействие с такой ячейкой должно открывать какую-то подробную информацию.\n   */\n  mode?: 'base' | 'accent' | 'add' | 'more';\n\n  /**\n   * Тип отображения текста:\n   *\n   * - `nowrap` – в одну строку, текст не переносится и обрезается.\n   * - `short` – максимально отображается 3 строки, остальное обрезается.\n   * - `full` – текст отображается полностью. В дизайне это свойство `multiline`.\n   */\n  textWrap?: 'nowrap' | 'short' | 'full';\n\n  /**\n   * Передавать `true`, если предполагается переход при нажатии на ячейку.\n   */\n  chevron?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/mini-info-cell\n */\nexport const MiniInfoCell = ({\n  before,\n  after,\n  children,\n  mode = 'base',\n  textWrap = 'nowrap',\n  chevron = false,\n  ...restProps\n}: MiniInfoCellProps): React.ReactNode => {\n  const cellClasses = classNames(\n    styles.host,\n    stylesTextWrap[textWrap],\n    mode !== 'base' && stylesMode[mode],\n  );\n\n  const cellContent = (\n    <React.Fragment>\n      {hasReactNode(before) && <span className={styles.before}>{before}</span>}\n      <div className={styles.middle}>\n        <Paragraph className={styles.content} weight={mode === 'more' ? '2' : undefined}>\n          {children}\n        </Paragraph>\n        {chevron && <Icon16Chevron />}\n      </div>\n      {hasReactNode(after) && <span className={styles.after}>{after}</span>}\n    </React.Fragment>\n  );\n\n  return (\n    <Tappable {...restProps} baseClassName={cellClasses}>\n      {cellContent}\n    </Tappable>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { callMultiple } from '../../lib/callMultiple';\nimport type { HasRef, HasRootRef } from '../../types';\nimport { useResizeTextarea } from '../Textarea/useResizeTextarea';\nimport { Headline } from '../Typography/Headline/Headline';\nimport { Title } from '../Typography/Title/Title';\nimport type { TypographyProps } from '../Typography/Typography';\nimport styles from './WriteBar.module.css';\n\nexport interface WriteBarProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement>,\n    HasRootRef<HTMLDivElement>,\n    HasRef<HTMLTextAreaElement> {\n  /**\n   * Содержимое, отображаемое слева от поля ввода.\n   */\n  before?: React.ReactNode;\n  /**\n   * Содержимое, отображаемое поверх поля ввода (актуально для iOS).\n   */\n  inlineAfter?: React.ReactNode;\n  /**\n   * Содержимое, отображаемое справа от поля ввода.\n   */\n  after?: React.ReactNode;\n  /**\n   * Вызывается при смене высоты поля ввода.\n   */\n  onHeightChange?: VoidFunction;\n  /**\n   * Добавляет тень вокруг поля ввода.\n   */\n  shadow?: boolean;\n  /**\n   * @deprecated Неиспользуемое свойство.\n   */\n  children?: never;\n}\n\nconst WriteBarTypography = (props: TypographyProps) => {\n  const platform = usePlatform();\n\n  if (platform === 'ios') {\n    return <Title {...props} level=\"3\" weight=\"3\" />;\n  }\n\n  return <Headline weight=\"3\" {...props} />;\n};\n\n/**\n * @see https://vkui.io/components/write-bar\n */\nexport const WriteBar = ({\n  className,\n  style,\n  before,\n  inlineAfter,\n  after,\n  getRootRef,\n  getRef,\n  onHeightChange,\n  shadow = false,\n  onChange,\n  ...restProps\n}: WriteBarProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  const [refResizeTextarea, resize] = useResizeTextarea(onHeightChange, true);\n  const textareaRef = useExternRef(getRef, refResizeTextarea);\n\n  React.useEffect(resize, [resize, platform]);\n\n  return (\n    <div\n      ref={getRootRef}\n      className={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        shadow && styles.shadow,\n        className,\n      )}\n      style={style}\n    >\n      <div className={styles.form}>\n        {hasReactNode(before) && <div className={styles.before}>{before}</div>}\n\n        <div className={styles.formIn}>\n          <WriteBarTypography\n            {...restProps}\n            Component=\"textarea\"\n            className={styles.textarea}\n            onChange={callMultiple(onChange, resize)}\n            getRootRef={textareaRef}\n          />\n          {hasReactNode(inlineAfter) && <div className={styles.inlineAfter}>{inlineAfter}</div>}\n        </div>\n\n        {hasReactNode(after) && <div className={styles.after}>{after}</div>}\n      </div>\n    </div>\n  );\n};\n", "import * as React from 'react';\n\nexport function useResizeTextarea(\n  onResize: ((el: HTMLTextAreaElement) => void) | undefined,\n  grow: boolean,\n): readonly [React.RefObject<HTMLTextAreaElement | null>, () => void] {\n  const elementRef = React.useRef<HTMLTextAreaElement | null>(null);\n  const currentScrollHeight = React.useRef<number>(undefined);\n\n  const resizeElement = React.useCallback(\n    (el: HTMLTextAreaElement) => {\n      if (grow && el.offsetParent) {\n        el.style.height = '';\n        el.style.height = `${el.scrollHeight}px`;\n\n        if (el.scrollHeight !== currentScrollHeight.current && onResize) {\n          onResize(el);\n          currentScrollHeight.current = el.scrollHeight;\n        }\n      }\n    },\n    [grow, onResize],\n  );\n\n  const resize = React.useCallback(() => {\n    const el = elementRef.current;\n    if (!el) {\n      /* istanbul ignore next: нет возможности воспроизвести */\n      return;\n    }\n\n    resizeElement(el);\n  }, [elementRef, resizeElement]);\n\n  return [elementRef, resize];\n}\n", "'use client';\n\nimport * as React from 'react';\nimport {\n  Icon24Attach,\n  Icon24CheckCircleOutline,\n  Icon24Send,\n  Icon28AddCircleOutline,\n  Icon28AttachOutline,\n  Icon28CheckCircleOutline,\n  Icon28Send,\n  Icon48WritebarDone,\n  Icon48WritebarSend,\n} from '@vkontakte/icons';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { hasAccessibleName } from '../../lib/accessibility';\nimport { COMMON_WARNINGS, warnOnce } from '../../lib/warnOnce';\nimport { AdaptiveIconRenderer } from '../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport { Counter } from '../Counter/Counter';\nimport { Tappable } from '../Tappable/Tappable';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './WriteBarIcon.module.css';\n\nconst predefinedLabel = {\n  attach: 'Прикрепить файл',\n  send: 'Отправить',\n  done: 'Готово',\n};\n\nexport interface WriteBarIconProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  /**\n   * Предустановленные типы кнопок в WriteBar для отрисовки иконки и установки текста кнопки в зависимости от платформы.\n   * Если передать валидное значение для этого свойства, `children` игнорируются, а для `label` по умолчанию используется текст на \"ru_RU\".\n   *\n   * Валидные значения:\n   * - `attach` – иконка прикрепления, текст по умолчанию — \"Прикрепить файл\";\n   * - `send` – иконка отправки, текст по умолчанию — \"Отправить\";\n   * - `done` – иконка отправки в режиме редактирования, текст по умолчанию — \"Готово\".\n   */\n  mode?: 'attach' | 'send' | 'done';\n  /**\n   * Значение счётчика для кнопки. Например, для количества прикреплённых файлов.\n   */\n  count?: number;\n  /**\n   * Текст кнопки. Необходим для ассистивных технологий.\n   */\n  label?: string;\n}\n\nconst warn = warnOnce('WriteBarIcon');\n\n/**\n * @see https://vkui.io/components/write-bar#write-bar-icon\n */\nexport const WriteBarIcon = ({\n  mode,\n  children,\n  count,\n  label: labelProp,\n  ...restProps\n}: WriteBarIconProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  let predefinedIcons;\n\n  switch (mode) {\n    case 'attach':\n      predefinedIcons = {\n        IconCompact: platform === 'ios' ? Icon28AddCircleOutline : Icon24Attach,\n        IconRegular: platform === 'ios' ? Icon28AddCircleOutline : Icon28AttachOutline,\n      };\n      break;\n\n    case 'send':\n      predefinedIcons = {\n        IconCompact: platform === 'ios' ? Icon48WritebarSend : Icon24Send,\n        IconRegular: platform === 'ios' ? Icon48WritebarSend : Icon28Send,\n      };\n      break;\n\n    case 'done':\n      predefinedIcons = {\n        IconCompact: platform === 'ios' ? Icon48WritebarDone : Icon24CheckCircleOutline,\n        IconRegular: platform === 'ios' ? Icon48WritebarDone : Icon28CheckCircleOutline,\n      };\n      break;\n\n    default:\n      break;\n  }\n\n  const label = labelProp ?? (mode && predefinedLabel[mode]);\n\n  if (process.env.NODE_ENV === 'development') {\n    /* istanbul ignore next: проверка в dev mode, тест на hasAccessibleName() есть в lib/accessibility.test.tsx */\n    const isAccessible = hasAccessibleName({\n      children: [children, label],\n      ...restProps,\n    });\n\n    if (!isAccessible) {\n      warn(COMMON_WARNINGS.a11y['button-name'], 'error');\n    }\n  }\n\n  return (\n    <Tappable\n      Component=\"button\"\n      hasHover={false}\n      activeMode={styles.active}\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        platform === 'ios' && styles.ios,\n        mode === 'send' && styles.modeSend,\n        mode === 'done' && styles.modeDone,\n      )}\n    >\n      <span className={styles.in}>\n        {label && <VisuallyHidden>{label}</VisuallyHidden>}\n        {predefinedIcons ? <AdaptiveIconRenderer {...predefinedIcons} /> : children}\n      </span>\n      {hasReactNode(count) && (\n        <Counter className={styles.counter} size=\"s\">\n          {count}\n        </Counter>\n      )}\n    </Tappable>\n  );\n};\n", "import * as React from 'react';\nimport { hasReactNode } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport {\n  HorizontalScroll,\n  type HorizontalScrollProps,\n  type ScrollPositionHandler,\n} from '../HorizontalScroll/HorizontalScroll';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './SubnavigationBar.module.css';\n\nexport interface SubnavigationBarProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement>,\n    Pick<\n      HorizontalScrollProps,\n      'showArrows' | 'getScrollToLeft' | 'getScrollToRight' | 'scrollAnimationDuration'\n    > {\n  /**\n   * Отключение возможности прокручивания компонента по горизонтали.\n   */\n  fixed?: boolean;\n}\n\nconst defaultScrollToLeft: ScrollPositionHandler = (x) => x - 240;\n\nconst defaultScrollToRight: ScrollPositionHandler = (x) => x + 240;\n\n/**\n * @see https://vkui.io/components/subnavigation-bar\n */\nexport const SubnavigationBar = ({\n  fixed = false,\n  children,\n  showArrows = true,\n  getScrollToLeft = defaultScrollToLeft,\n  getScrollToRight = defaultScrollToRight,\n  scrollAnimationDuration,\n  ...restProps\n}: SubnavigationBarProps): React.ReactNode => {\n  let ScrollWrapper: React.ElementType;\n  let scrollWrapperProps = {};\n\n  if (fixed) {\n    ScrollWrapper = 'div';\n  } else {\n    ScrollWrapper = HorizontalScroll;\n    scrollWrapperProps = {\n      showArrows,\n      getScrollToLeft,\n      getScrollToRight,\n      scrollAnimationDuration,\n    };\n  }\n\n  return (\n    <RootComponent baseClassName={fixed && styles.modeFixed} {...restProps}>\n      <ScrollWrapper className={styles.in} {...scrollWrapperProps}>\n        <ul className={styles.scrollIn}>\n          {React.Children.map(children, (child, idx) =>\n            hasReactNode(child) ? (\n              <li key={idx} className={styles.item}>\n                {child}\n              </li>\n            ) : null,\n          )}\n        </ul>\n      </ScrollWrapper>\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Dropdown } from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport type { HasChildren, HasComponent } from '../../types';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { Caption } from '../Typography/Caption/Caption';\nimport { Subhead } from '../Typography/Subhead/Subhead';\nimport styles from './SubnavigationButton.module.css';\n\nconst appearanceStyles = {\n  accent: styles.appearanceAccent,\n  neutral: styles.appearanceNeutral,\n};\n\nconst modeStyles = {\n  primary: styles.modePrimary,\n  outline: styles.modeOutline,\n  tertiary: styles.modeTertiary,\n};\n\nconst sizeStyles = {\n  s: styles.sizeS,\n  m: styles.sizeM,\n  l: styles.sizeL,\n};\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface SubnavigationButtonProps extends Omit<TappableOmitProps, 'size'> {\n  /**\n   * Стиль отображения кнопки.\n   */\n  mode?: 'primary' | 'outline' | 'tertiary';\n  /**\n   * Тип внешнего вида кнопки.\n   */\n  appearance?: 'accent' | 'neutral';\n  /**\n   * Размер кнопки.\n   */\n  size?: 's' | 'm' | 'l';\n  /**\n   * Выбранное состояние.\n   */\n  selected?: boolean;\n  /**\n   * Размер шрифта. Этим свойством рекомендуется пользоваться, чтобы отрегулировать размер шрифта у кнопок в `<SubnavigationBar fixed />`.\n   */\n  textLevel?: '1' | '2' | '3';\n  /**\n   * Рекомендуется использовать только иконки с размером 24.\n   */\n  before?: React.ReactNode;\n  /**\n   * Рекомендуется использовать только `<Counter size=\"s\" />` или `<Badge />`.\n   */\n  after?: React.ReactNode;\n  /**\n   * Нужно ли отображать иконку `\"chevron\"`.\n   */\n  chevron?: boolean;\n}\n\ntype SubnavigationButtonTypographyProps = Pick<\n  SubnavigationButtonProps,\n  'textLevel' | 'className'\n> &\n  HasComponent &\n  HasChildren;\n\nconst SubnavigationButtonTypography = ({\n  textLevel,\n  ...restProps\n}: SubnavigationButtonTypographyProps) => {\n  if (textLevel === '1') {\n    return <Subhead {...restProps} />;\n  }\n\n  return <Caption level={textLevel === '2' ? '1' : '2'} {...restProps} />;\n};\n\n/**\n * @see https://vkui.io/components/subnavigation-bar#subnavigation-button\n */\nexport const SubnavigationButton = ({\n  mode = 'primary',\n  appearance = 'accent',\n  size = 'm',\n  selected,\n  textLevel = '1',\n  before,\n  after,\n  chevron,\n  children,\n  ...restProps\n}: SubnavigationButtonProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <Tappable\n      hasActive={false}\n      focusVisibleMode=\"outside\"\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        sizeStyles[size],\n        modeStyles[mode],\n        appearanceStyles[appearance],\n        selected && styles.selected,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        restProps.disabled && styles.disabled,\n      )}\n    >\n      <span className={styles.in}>\n        {before && <span className={styles.before}>{before}</span>}\n        <SubnavigationButtonTypography\n          textLevel={textLevel}\n          className={styles.label}\n          Component=\"span\"\n        >\n          {children}\n        </SubnavigationButtonTypography>\n        {after && <span className={styles.after}>{after}</span>}\n        {chevron && <Icon16Dropdown className={styles.chevronIcon} />}\n      </span>\n    </Tappable>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon24ChevronCompactLeft, Icon24ChevronCompactRight } from '@vkontakte/icons';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { type PaginationPageType, usePagination } from '../../hooks/usePagination';\nimport type { HasComponent, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport {\n  type CustomPaginationNavigationButton,\n  PaginationNavigationButton,\n  type PaginationNavigationButtonProps,\n} from './PaginationNavigationButton/PaginationNavigationButton';\nimport {\n  type CustomPaginationPageButtonProps,\n  PaginationPageButton,\n} from './PaginationPage/PaginationPageButton';\nimport { PaginationPageEllipsis } from './PaginationPage/PaginationPageEllipsis';\nimport styles from './Pagination.module.css';\n\nexport interface PaginationProps extends Omit<HTMLAttributesWithRootRef<HTMLElement>, 'onChange'> {\n  /**\n   * Текущая страница.\n   */\n  currentPage?: number;\n  /**\n   * Кол-во всегда видимых страниц по краям текущей страницы.\n   */\n  siblingCount?: number;\n  /**\n   * Кол-во всегда видимых страниц в начале и в конце.\n   */\n  boundaryCount?: number;\n  /**\n   * Общее кол-во страниц.\n   */\n  totalPages?: number;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n  /**\n   * Декоративный текст для кнопки навигации назад.\n   *\n   * > Note: Экранные дикторы будут использовать `prevButtonLabel`.\n   */\n  prevButtonCaption?: string;\n  /**\n   * Декоративный текст для кнопки навигации вперёд.\n   *\n   * > Note: Экранные дикторы будут использовать `nextButtonLabel`.\n   */\n  nextButtonCaption?: string;\n  /**\n   * Задаёт стиль отображения кнопок навигации.\n   *\n   * - `icon` – показывать только иконку;\n   * - `caption` – показывать только подпись;\n   * - `both` – показывать и иконку, и подпись.\n   */\n  navigationButtonsStyle?: PaginationNavigationButtonProps['style'];\n  /**\n   * [a11y] Метка для обозначения блока навигации.\n   */\n  navigationLabel?: string;\n  /**\n   * Тип элемента отрисовки блока навигации.\n   */\n  navigationLabelComponent?: HasComponent['Component'];\n  /**\n   * [a11y] Метка для кнопки навигации назад.\n   */\n  prevButtonLabel?: string;\n  /**\n   * [a11y] Метка для кнопки навигации вперёд.\n   */\n  nextButtonLabel?: string;\n  /**\n   * [a11y] Функция для переопределения и/или локализации метки кнопки страницы.\n   *\n   * > Note: По возможности лучше не использовать,\n   * так как компонент и так проставляет номер страницы в разметку,\n   * что достаточно для пользователей скринридеров.\n   * Дополнительная информация скорее будет избыточна,\n   * так как будет зачитываться для каждой кнопки при перемещении по списку.\n   */\n  getPageLabel?: (isCurrent: boolean) => string;\n  /**\n   * Обработчик изменения выбранной страницы.\n   */\n  onChange?: (page: number, event: React.MouseEvent<HTMLElement>) => void;\n  /**\n   * Функция для кастомного рендера кнопок страниц.\n   *\n   * > Note: `CustomPaginationPageButtonProps` наследует API [Tappable](https://vkui.io/components/tappable).\n   */\n  renderPageButton?: (props: CustomPaginationPageButtonProps) => React.ReactNode;\n  /**\n   Функция для кастомного рендера кнопок навигации `prev` и `next`.\n   *\n   * > Note: `CustomPaginationNavigationButton` наследует API [Button](https://vkui.io/components/button).\n   */\n  renderNavigationButton?: (props: CustomPaginationNavigationButton) => React.ReactNode;\n  /**\n   * Передает атрибут `data-testid` для кнопок страниц.\n   */\n  pageButtonTestId?: (day: PaginationPageType, active: boolean) => string;\n  /**\n   * Передает атрибут `data-testid` для кнопки `prev`.\n   */\n  prevButtonTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки `next`.\n   */\n  nextButtonTestId?: string;\n}\n\n/**\n * @see https://vkui.io/components/pagination\n */\nexport const Pagination = ({\n  currentPage = 1,\n  siblingCount = 1,\n  boundaryCount = 1,\n  totalPages = 1,\n  disabled,\n  prevButtonCaption = 'Назад',\n  nextButtonCaption = 'Вперёд',\n  navigationButtonsStyle = 'icon',\n  getPageLabel,\n  navigationLabel = 'Страницы',\n  navigationLabelComponent = 'h2',\n  prevButtonLabel = 'Перейти на предыдущую страницу',\n  nextButtonLabel = 'Перейти на следующую страницу',\n  onChange,\n  renderPageButton,\n  pageButtonTestId,\n  prevButtonTestId,\n  nextButtonTestId,\n  renderNavigationButton,\n  ...resetProps\n}: PaginationProps): React.ReactNode => {\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n  const pages = usePagination({\n    currentPage,\n    totalPages,\n    siblingCount,\n    boundaryCount,\n  });\n  const isFirstPage = currentPage === 1;\n  const isLastPage = currentPage === totalPages;\n  const prevPage = isFirstPage ? undefined : currentPage - 1;\n  const nextPage = isLastPage ? undefined : currentPage + 1;\n\n  const handlePrevClick = React.useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      if (onChange && prevPage !== undefined) {\n        onChange(prevPage, event);\n      }\n    },\n    [prevPage, onChange],\n  );\n\n  const handleClick = React.useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      const page: string = event.currentTarget.dataset.page || '1';\n      onChange?.(Number(page), event);\n    },\n    [onChange],\n  );\n\n  const handleNextClick = React.useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      if (onChange && nextPage !== undefined) {\n        onChange(nextPage, event);\n      }\n    },\n    [nextPage, onChange],\n  );\n\n  const { sizeY } = useAdaptivity();\n\n  const renderPages = React.useCallback(\n    (page: PaginationPageType) => {\n      const isCurrent = page === currentPage;\n      const dataTestId = pageButtonTestId?.(page, isCurrent);\n\n      switch (page) {\n        case 'start-ellipsis':\n        case 'end-ellipsis':\n          return (\n            <li key={page}>\n              <PaginationPageEllipsis disabled={disabled} data-testid={dataTestId} />\n            </li>\n          );\n        default: {\n          return (\n            <li key={page}>\n              <PaginationPageButton\n                getPageLabel={getPageLabel}\n                isCurrent={isCurrent}\n                onClick={handleClick}\n                disabled={disabled}\n                sizeY={sizeY}\n                renderPageButton={renderPageButton}\n                data-testid={dataTestId}\n              >\n                {page}\n              </PaginationPageButton>\n            </li>\n          );\n        }\n      }\n    },\n    [currentPage, disabled, getPageLabel, handleClick, renderPageButton, sizeY, pageButtonTestId],\n  );\n\n  const navigationLabelId = React.useId();\n\n  return (\n    <RootComponent\n      Component=\"nav\"\n      role=\"navigation\"\n      aria-labelledby={navigationLabelId}\n      {...resetProps}\n    >\n      <VisuallyHidden id={navigationLabelId} Component={navigationLabelComponent}>\n        {navigationLabel}\n      </VisuallyHidden>\n      <ul className={styles.list}>\n        <li className={styles.prevButtonContainer}>\n          <PaginationNavigationButton\n            type=\"prev\"\n            style={navigationButtonsStyle}\n            caption={prevButtonCaption}\n            Icon={isRtl ? Icon24ChevronCompactRight : Icon24ChevronCompactLeft}\n            a11yLabel={prevButtonLabel}\n            disabled={isFirstPage || disabled}\n            onClick={handlePrevClick}\n            data-page={prevPage}\n            data-testid={prevButtonTestId}\n            renderNavigationButton={renderNavigationButton}\n          />\n        </li>\n        {pages.map(renderPages)}\n        <li className={styles.nextButtonContainer}>\n          <PaginationNavigationButton\n            type=\"next\"\n            style={navigationButtonsStyle}\n            caption={nextButtonCaption}\n            Icon={isRtl ? Icon24ChevronCompactLeft : Icon24ChevronCompactRight}\n            a11yLabel={nextButtonLabel}\n            disabled={isLastPage || disabled}\n            onClick={handleNextClick}\n            data-page={nextPage}\n            data-testid={nextButtonTestId}\n            renderNavigationButton={renderNavigationButton}\n          />\n        </li>\n      </ul>\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { clamp } from '../helpers/math';\nimport { rangeIncrement } from '../helpers/range';\n\ninterface UsePaginationProps {\n  /**\n   * Текущая страница.\n   */\n  currentPage?: number;\n  /**\n   * Кол-во всегда видимых страниц по краям текущей страницы.\n   */\n  siblingCount?: number;\n  /**\n   * Кол-во всегда видимых страниц в начале и в конце.\n   */\n  boundaryCount?: number;\n  /**\n   * Общее кол-во страниц.\n   */\n  totalPages?: number;\n}\n\nexport type PaginationPageType = 'start-ellipsis' | 'end-ellipsis' | number;\n\nexport type UsePaginationResult = PaginationPageType[];\n\n/**\n * Хук позаимствован у @mui с некоторыми изменениями.\n *  [usePagination.js](https://github.com/mui/material-ui/blob/master/packages/mui-material/src/usePagination/usePagination.js).\n *\n * Примеры вывода:\n *           v\n * [1, 2, 3, 4, 5, 'end-ellipsis', 10]\n *                          v\n * [1, 'start-ellipsis', 4, 5, 6, 'end-ellipsis', 10]\n *                          v\n * [1, 'start-ellipsis', 6, 7, 8, 9, 10]\n */\nexport const usePagination = ({\n  currentPage = 1,\n  siblingCount = 1,\n  boundaryCount = 1,\n  totalPages: endPage = 1,\n}: UsePaginationProps = {}): UsePaginationResult =>\n  React.useMemo(() => {\n    const startPages = rangeIncrement(1, Math.min(boundaryCount, endPage));\n    const endPages = rangeIncrement(\n      Math.max(endPage - boundaryCount + 1, boundaryCount + 1),\n      endPage,\n    );\n\n    const lowerBoundaryWhenCurrentPageHigh = endPage - boundaryCount - 1 - 2 * siblingCount;\n    const siblingsStart = clamp(\n      currentPage - siblingCount,\n      boundaryCount + 2,\n      lowerBoundaryWhenCurrentPageHigh,\n    );\n\n    const upperBoundaryWhenCurrentPageLow = boundaryCount + 2 + 2 * siblingCount;\n    const siblingsEnd = Math.min(\n      Math.max(currentPage + siblingCount, upperBoundaryWhenCurrentPageLow),\n      endPages.length > 0 ? endPages[0] - 2 : endPage - 1,\n    );\n\n    const pages: UsePaginationResult = startPages;\n\n    if (siblingsStart > boundaryCount + 2) {\n      pages.push('start-ellipsis');\n    } else if (boundaryCount + 1 < endPage - boundaryCount) {\n      pages.push(boundaryCount + 1);\n    }\n\n    pages.push(...rangeIncrement(siblingsStart, siblingsEnd));\n\n    if (siblingsEnd < endPage - boundaryCount - 1) {\n      pages.push('end-ellipsis');\n    } else if (endPage - boundaryCount > boundaryCount) {\n      pages.push(endPage - boundaryCount);\n    }\n\n    pages.push(...endPages);\n\n    return pages;\n  }, [currentPage, endPage, siblingCount, boundaryCount]);\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { Button, type ButtonProps } from '../../Button/Button';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\n\nexport interface PaginationNavigationButtonOpts {\n  'type': 'prev' | 'next';\n  'style': 'icon' | 'caption' | 'both';\n  'caption': React.ReactNode;\n  'Icon': React.ComponentType;\n  'a11yLabel': React.ReactNode;\n  'disabled'?: boolean;\n  'onClick': (event: React.MouseEvent<HTMLElement>) => void;\n  'data-page': number | undefined;\n  'data-testid': string | undefined;\n}\n\nexport interface PaginationNavigationButtonProps extends PaginationNavigationButtonOpts {\n  renderNavigationButton?: (props: CustomPaginationNavigationButton) => React.ReactNode;\n}\n\n/**\n * @private\n */\nconst getButtonPropsFromPaginationNavigationButton = (\n  opts: PaginationNavigationButtonOpts,\n): ButtonProps & { 'data-page': number | undefined; 'data-testid': string | undefined } => {\n  const icon: React.ReactElement | null =\n    opts.style !== 'caption' ? (\n      <>\n        <VisuallyHidden>{opts.a11yLabel}</VisuallyHidden>\n        <opts.Icon />\n      </>\n    ) : null;\n  const caption: React.ReactElement | null =\n    opts.style === 'caption' ? (\n      <>\n        <VisuallyHidden>{opts.a11yLabel}</VisuallyHidden>\n        <span aria-hidden=\"true\">{opts.caption}</span>\n      </>\n    ) : opts.style !== 'icon' ? (\n      <span aria-hidden=\"true\">{opts.caption}</span>\n    ) : null;\n\n  return {\n    'size': 'l',\n    'before': opts.type === 'prev' ? icon : null,\n    'after': opts.type === 'next' ? icon : null,\n    'appearance': opts.style === 'caption' ? 'neutral' : 'accent',\n    'mode': 'tertiary',\n    'disabled': opts.disabled,\n    'onClick': opts.onClick,\n    'children': caption,\n    'data-page': opts['data-page'],\n    'data-testid': opts['data-testid'],\n  } satisfies ButtonProps & { 'data-page': number | undefined; 'data-testid': string | undefined };\n};\n\n/**\n * @private\n */\nexport type CustomPaginationNavigationButton = ReturnType<\n  typeof getButtonPropsFromPaginationNavigationButton\n>;\n\n/**\n * @private\n */\nexport const PaginationNavigationButton = ({\n  renderNavigationButton,\n  ...restProps\n}: PaginationNavigationButtonProps): React.ReactNode => {\n  const buttonProps = getButtonPropsFromPaginationNavigationButton(restProps);\n\n  if (typeof renderNavigationButton === 'function') {\n    return renderNavigationButton(buttonProps);\n  }\n\n  return <Button {...buttonProps} />;\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { type SizeTypeValues } from '../../../lib/adaptivity';\nimport { Tappable, type TappableOmitProps } from '../../Tappable/Tappable';\nimport { Text } from '../../Typography/Text/Text';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\nimport type { PaginationProps } from '../Pagination';\nimport { getPaginationPageClassNames } from './usePaginationPageClasses';\nimport styles from './PaginationPage.module.css';\n\nexport interface PaginationPageButtonOpts\n  extends Pick<React.ButtonHTMLAttributes<HTMLButtonElement>, 'onClick' | 'disabled' | 'className'>,\n    Pick<PaginationProps, 'getPageLabel'> {\n  isCurrent?: boolean;\n  sizeY?: SizeTypeValues;\n  children: number;\n}\n\nexport interface PaginationPageButtonProps extends PaginationPageButtonOpts {\n  renderPageButton?: (props: CustomPaginationPageButtonProps) => React.ReactNode;\n}\n\nconst getTappablePropsFromPaginationPage = (\n  opts: PaginationPageButtonOpts,\n): TappableOmitProps & { 'data-page': number } => {\n  const {\n    isCurrent = false,\n    getPageLabel,\n    children,\n    className,\n    disabled,\n    sizeY,\n    ...restProps\n  } = opts;\n\n  const pageClassNames = getPaginationPageClassNames({\n    isCurrent,\n    disabled,\n    sizeY,\n  });\n\n  const pageLabel = getPageLabel?.(isCurrent);\n  return {\n    'className': classNames(pageClassNames, className),\n    'activeMode': styles.stateActive,\n    'hoverMode': styles.stateHover,\n    'focusVisibleMode': 'outside',\n    'aria-current': isCurrent ? true : undefined,\n    'disabled': disabled,\n    'children': (\n      <Text normalize={false}>\n        {pageLabel && <VisuallyHidden>{pageLabel} </VisuallyHidden>}\n        {children}\n      </Text>\n    ),\n    'data-page': children,\n    ...restProps,\n  };\n};\n\nexport type CustomPaginationPageButtonProps = ReturnType<typeof getTappablePropsFromPaginationPage>;\n\nexport const PaginationPageButton = ({\n  renderPageButton,\n  ...restProps\n}: PaginationPageButtonProps): React.ReactNode => {\n  const tappableProps = getTappablePropsFromPaginationPage(restProps);\n\n  if (typeof renderPageButton === 'function') {\n    return renderPageButton(tappableProps);\n  }\n\n  return <Tappable {...tappableProps} />;\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport type { SizeTypeValues } from '../../../lib/adaptivity';\nimport styles from './PaginationPage.module.css';\n\nexport interface UsePaginationPageClassNamesProps {\n  isCurrent?: boolean;\n  disabled?: boolean;\n}\n\nexport const getPaginationPageClassNames = (\n  opts: UsePaginationPageClassNamesProps & { sizeY?: SizeTypeValues },\n): string => {\n  return classNames(\n    styles.host,\n    opts.sizeY == null && styles.sizeYNone,\n    opts.sizeY === 'compact' && styles.sizeYCompact,\n    opts.isCurrent && styles.current,\n    opts.disabled && styles.disabled,\n  );\n};\n\nexport function usePaginationPageClassNames({\n  isCurrent,\n  disabled,\n}: UsePaginationPageClassNamesProps): string {\n  const { sizeY } = useAdaptivity();\n  return getPaginationPageClassNames({\n    isCurrent,\n    disabled,\n    sizeY,\n  });\n}\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasRootRef } from '../../../types';\nimport { Text } from '../../Typography/Text/Text';\nimport { usePaginationPageClassNames } from './usePaginationPageClasses';\nimport styles from './PaginationPage.module.css';\n\nexport interface PaginationPageEllipsisProps\n  extends React.HTMLAttributes<HTMLSpanElement>,\n    HasRootRef<HTMLSpanElement> {\n  disabled?: boolean;\n}\n\nexport const PaginationPageEllipsis = ({\n  className,\n  disabled,\n  ...restProps\n}: PaginationPageEllipsisProps): React.ReactNode => {\n  const paginationClassNames = usePaginationPageClassNames({ isCurrent: false, disabled });\n\n  return (\n    <Text\n      className={classNames(paginationClassNames, styles.typeEllipsis, className)}\n      {...restProps}\n    >\n      &#8230;\n    </Text>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { useCustomEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { type HasChildren } from '../../types';\nimport { AccordionContent } from './AccordionContent';\nimport { AccordionContext, type AccordionContextProps } from './AccordionContext';\nimport { AccordionSummary } from './AccordionSummary';\n\nfunction useAccordionId(id: AccordionProps['id']) {\n  const generatedId = React.useId();\n  const labelId = id ?? `Accordion${generatedId}`;\n  const contentId = `AccordionContent${id ?? generatedId}`;\n\n  return { labelId, contentId };\n}\n\nexport interface AccordionProps extends HasChildren {\n  /**\n   * Используется для генерации id для заголовка и контента(a11y).\n   */\n  id?: string;\n  /**\n   * Управляет раскрытием и скрытием контента.\n   */\n  expanded?: boolean;\n  /**\n   * Значение по умолчанию.\n   */\n  defaultExpanded?: boolean;\n  /**\n   * Возвращает новое значение при изменении раскрытия/сворачивания контента.\n   */\n  onChange?: (newValue: boolean) => void;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n  /**\n   * Нужно ли удалять из DOM контент при сворачивании.\n   */\n  unmountOnCollapsed?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/accordion\n */\nexport const Accordion: React.FC<AccordionProps> & {\n  Summary: typeof AccordionSummary;\n  Content: typeof AccordionContent;\n} = ({\n  id,\n  expanded: expandedProp,\n  defaultExpanded = false,\n  onChange: onChangeProp,\n  children,\n  unmountOnCollapsed = false,\n  ...restProps\n}: AccordionProps) => {\n  const { labelId, contentId } = useAccordionId(id);\n\n  const [expanded, onChange] = useCustomEnsuredControl({\n    value: expandedProp,\n    defaultValue: defaultExpanded,\n    onChange: onChangeProp,\n    disabled: restProps.disabled,\n  });\n\n  const context = React.useMemo<AccordionContextProps>(\n    () => ({\n      labelId,\n      contentId,\n      expanded: expanded || false,\n      unmountOnCollapsed,\n      onChange,\n    }),\n    [contentId, expanded, labelId, onChange, unmountOnCollapsed],\n  );\n\n  return <AccordionContext.Provider value={context}>{children}</AccordionContext.Provider>;\n};\n\nAccordion.Summary = AccordionSummary;\nAccordion.Content = AccordionContent;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(Accordion.Summary, 'Accordion.Summary');\n  defineComponentDisplayNames(Accordion.Content, 'Accordion.Content');\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useCSSKeyframesAnimationController } from '../../lib/animation';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HasRef, HasRootRef } from '../../types';\nimport { AccordionContext } from './AccordionContext';\nimport styles from './Accordion.module.css';\n\nconst CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT = '--vkui_internal--AccordionContent_height';\n\nconst stateClassNames = {\n  enter: styles.inEnter,\n  entering: styles.inEnter,\n  entered: styles.inEntered,\n  exit: styles.inExit,\n  exiting: styles.inExit,\n  exited: styles.inExited,\n};\n\nexport interface AccordionContentProps\n  extends HasRootRef<HTMLDivElement>,\n    HasRef<HTMLDivElement>,\n    React.HTMLAttributes<HTMLDivElement> {}\n\nexport const AccordionContent = ({\n  getRootRef,\n  getRef,\n  className,\n  children,\n  ...restProps\n}: AccordionContentProps) => {\n  const { expanded, labelId, contentId, unmountOnCollapsed } = React.useContext(AccordionContext);\n\n  const inRef = useExternRef(getRef);\n  const [animationState, animationHandlers] = useCSSKeyframesAnimationController(\n    expanded ? 'enter' : 'exit',\n    undefined,\n    true,\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    const inEl = inRef.current;\n\n    /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n    if (!inEl) {\n      return;\n    }\n\n    switch (animationState) {\n      case 'enter':\n      case 'exit':\n        inEl.style.setProperty(CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT, `${inEl.scrollHeight}px`);\n        break;\n      case 'entered':\n      case 'exited':\n        inEl.style.removeProperty(CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT);\n        break;\n    }\n  }, [animationState, inRef]);\n\n  if (unmountOnCollapsed && animationState === 'exited') {\n    return null;\n  }\n\n  return (\n    <div\n      ref={getRootRef}\n      id={contentId}\n      role=\"region\"\n      aria-labelledby={labelId}\n      aria-hidden={!expanded}\n      className={classNames(styles.host, className)}\n      {...restProps}\n    >\n      <div\n        ref={inRef}\n        className={classNames(styles.in, stateClassNames[animationState])}\n        {...animationHandlers}\n      >\n        {children}\n      </div>\n    </div>\n  );\n};\n", "import { useContext } from 'react';\nimport * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\n\nexport interface AccordionContextProps {\n  /**\n   * [a11y] Id для `Accordion.Summary`.\n   */\n  labelId: string;\n  /**\n   * [a11y] Id для свойства `Accordion.Content`.\n   */\n  contentId: string;\n  /**\n   * Состояние аккордеона\n   * `true` - аккордеон развернут, `false` - аккордеон свернут.\n   */\n  expanded: boolean;\n  /**\n   * Нужно ли удалять из DOM контент при сворачивании.\n   */\n  unmountOnCollapsed: boolean;\n  /**\n   * Обработчик изменения состояния аккордеона.\n   */\n  onChange: (e: boolean) => void;\n}\n\nexport const AccordionContext: React.Context<AccordionContextProps> =\n  React.createContext<AccordionContextProps>({\n    labelId: '',\n    contentId: '',\n    expanded: false,\n    unmountOnCollapsed: false,\n    onChange: noop,\n  });\n\nexport const useAccordionContext = (): Pick<AccordionContextProps, 'expanded' | 'onChange'> => {\n  const { expanded, onChange } = useContext(AccordionContext);\n  return React.useMemo(\n    () => ({\n      expanded,\n      onChange,\n    }),\n    [onChange, expanded],\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon24ChevronDown, Icon24ChevronUp } from '@vkontakte/icons';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { SimpleCell, type SimpleCellProps } from '../SimpleCell/SimpleCell';\nimport { AccordionContext } from './AccordionContext';\nimport styles from './Accordion.module.css';\n\nexport interface AccordionSummaryProps extends Omit<SimpleCellProps, 'chevron'> {\n  /**\n   * Иконка для раскрытия контента.\n   */\n  ExpandIcon?: React.ElementType;\n  /**\n   * Иконка для сворачивания контента.\n   */\n  CollapseIcon?: React.ElementType;\n  /**\n   * Позиция иконки.\n   */\n  iconPosition?: 'before' | 'after';\n}\n\nexport const AccordionSummary = ({\n  after,\n  before,\n  ExpandIcon = Icon24ChevronDown,\n  CollapseIcon = Icon24ChevronUp,\n  iconPosition = 'after',\n  onClick,\n  children,\n  ...restProps\n}: AccordionSummaryProps) => {\n  const { expanded, labelId, contentId, onChange } = React.useContext(AccordionContext);\n\n  const Icon = expanded ? CollapseIcon : ExpandIcon;\n\n  const icon = (\n    // Обертка нужна для правильной работы с отступами в SimpleCell\n    <span className=\"vkuiIcon\">\n      <Icon className={styles.icon} />\n    </span>\n  );\n\n  const toggle = () => onChange(!expanded);\n\n  return (\n    <SimpleCell\n      id={labelId}\n      aria-expanded={expanded}\n      aria-controls={contentId}\n      onClick={callMultiple(toggle, onClick)}\n      before={\n        <>\n          {iconPosition === 'before' && icon}\n          {before}\n        </>\n      }\n      after={\n        <>\n          {after}\n          {iconPosition === 'after' && icon}\n        </>\n      }\n      {...restProps}\n    >\n      {children}\n    </SimpleCell>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, hasReactNode, isPrimitiveReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport type { HasComponent, HasRootRef } from '../../types';\nimport { Removable, type RemovableProps } from '../Removable/Removable';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { FormItemTop } from './FormItemTop/FormItemTop';\nimport { FormItemTopAside } from './FormItemTop/FormItemTopAside';\nimport { FormItemTopLabel } from './FormItemTop/FormItemTopLabel';\nimport { FormItemContext } from './context';\nimport styles from './FormItem.module.css';\n\nconst sizeYClassNames = {\n  none: classNames(styles.sizeYNone, 'vkuiInternalFormItem--sizeY-none'),\n  compact: classNames(styles.sizeYCompact, 'vkuiInternalFormItem--sizeY-compact'),\n};\n\nconst stylesStatus = {\n  error: classNames(styles.statusError, 'vkuiInternalFormItem--status-error'),\n  valid: classNames(styles.statusValid, 'vkuiInternalFormItem--status-valid'),\n};\n\nexport interface FormItemProps\n  extends React.AllHTMLAttributes<HTMLElement>,\n    HasRootRef<HTMLElement>,\n    HasComponent,\n    RemovableProps {\n  /**\n   * Дополнительный элемент, отображаемый над содержимым.\n   */\n  top?: React.ReactNode;\n  /**\n   * Передаётся при использовании `top`.\n   *\n   * `id` для `top`.\n   */\n  topId?: string;\n  /**\n   * Многострочный вывод заголовка. По умолчанию текст не переносится при переполнении.\n   */\n  topMultiline?: boolean;\n  /**\n   * Позволяет поменять тег используемый для top\n   * Если оставить пустым, то тег top будет span.\n   * Если оставить пустым и использовать htmlFor, то тег top будет label.\n   */\n  topComponent?: React.ElementType;\n  /**\n   * Дополнительный элемент, отображаемый под содержимым.\n   */\n  bottom?: React.ReactNode;\n  /**\n   * Передаётся при использовании `bottom`.\n   *\n   * Должен совпадать с `aria-describedby`, который передаётся в компонент, отвечающий за пользовательский ввод.\n   */\n  bottomId?: string;\n  /**\n   * Статус, влияющий на стиль отображения компонента.\n   */\n  status?: 'default' | 'error' | 'valid';\n  /**\n   * Дает возможность удалить `FormItem`. Рекомендуется использовать только для `Input` или `Select`.\n   *\n   * Режим `indent` предназначен для визуального отступа.\n   */\n  removable?: boolean | 'indent';\n  /**\n   * Удаляет внешние отступы вокруг компонента.\n   * @since 5.8.0\n   */\n  noPadding?: boolean;\n  /**\n   * Помечает поле обязательным.\n   */\n  required?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/form-item\n */\nexport const FormItem: React.FC<FormItemProps> & {\n  Top: typeof FormItemTop;\n  TopLabel: typeof FormItemTopLabel;\n  TopAside: typeof FormItemTopAside;\n} = ({\n  children,\n  top,\n  topId,\n  topMultiline = false,\n  topComponent: topComponentProp,\n  bottom,\n  status = 'default',\n  removable,\n  onRemove,\n  removePlaceholder = 'Удалить',\n  getRootRef,\n  htmlFor,\n  bottomId,\n  noPadding,\n  required = false,\n  disabled,\n  ...restProps\n}: FormItemProps) => {\n  const rootEl = useExternRef(getRootRef);\n  const { sizeY = 'none' } = useAdaptivity();\n\n  const wrappedChildren = (\n    <React.Fragment>\n      {isPrimitiveReactNode(top) ? (\n        <FormItemTop>\n          <FormItemTopLabel htmlFor={htmlFor} Component={topComponentProp} id={topId}>\n            {top}\n          </FormItemTopLabel>\n        </FormItemTop>\n      ) : hasReactNode(top) ? (\n        top\n      ) : null}\n      {children}\n      {hasReactNode(bottom) && (\n        <Footnote\n          className={styles.bottom}\n          id={bottomId}\n          role={status === 'error' ? 'alert' : undefined}\n        >\n          {bottom}\n        </Footnote>\n      )}\n    </React.Fragment>\n  );\n\n  const context = React.useMemo(() => ({ required, topMultiline }), [required, topMultiline]);\n\n  return (\n    <RootComponent\n      {...restProps}\n      getRootRef={rootEl}\n      baseClassName={classNames(\n        styles.host,\n        !noPadding && styles.withPadding,\n        'vkuiInternalFormItem',\n        status !== 'default' && stylesStatus[status],\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        hasReactNode(top) && classNames(styles.withTop, 'vkuiInternalFormItem--withTop'),\n        removable && classNames(styles.withRemovable, 'vkuiInternalFormItem--removable'),\n      )}\n    >\n      <FormItemContext.Provider value={context}>\n        {removable ? (\n          <Removable\n            align=\"start\"\n            onRemove={(e) => {\n              if (rootEl?.current) {\n                onRemove?.(e, rootEl.current);\n              }\n            }}\n            removePlaceholder={removePlaceholder}\n            indent={removable === 'indent'}\n            noPadding={noPadding}\n            disabled={disabled}\n          >\n            <div className={classNames(styles.removable, 'vkuiInternalFormItem__removable')}>\n              {wrappedChildren}\n            </div>\n          </Removable>\n        ) : (\n          wrappedChildren\n        )}\n      </FormItemContext.Provider>\n    </RootComponent>\n  );\n};\n\nFormItem.Top = FormItemTop;\nFormItem.TopLabel = FormItemTopLabel;\nFormItem.TopAside = FormItemTopAside;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(FormItem.Top, 'FormItem.Top');\n  defineComponentDisplayNames(FormItem.TopLabel, 'FormItem.TopLabel');\n  defineComponentDisplayNames(FormItem.TopAside, 'FormItem.TopAside');\n}\n", "import type { HasComponent, HTMLAttributesWithRootRef } from '../../../types';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport styles from '../FormItem.module.css';\n\nexport interface FormItemTopProps extends HTMLAttributesWithRootRef<HTMLDivElement>, HasComponent {}\n\n/**\n * Служит оберткой для составной шапки поля, отвечая за выравнивание контента и расстановку отступов.\n *\n * @since 6.1.0\n *\n */\nexport const FormItemTop = (props: FormItemTopProps) => (\n  <RootComponent {...props} baseClassName={styles.top} />\n);\n", "import * as React from 'react';\nimport type { HasComponent, HasRootRef } from '../../../types';\nimport { Subhead } from '../../Typography/Subhead/Subhead';\nimport styles from '../FormItem.module.css';\n\nexport interface FormItemTopAsideProps\n  extends React.AllHTMLAttributes<HTMLElement>,\n    HasRootRef<HTMLElement>,\n    HasComponent {}\n\n/**\n * Отвечает за отрисовку дополнительного контента справа от заголовка поля.\n *\n * @since 6.1.0\n *\n */\nexport const FormItemTopAside = ({ children, ...restProps }: FormItemTopAsideProps) => {\n  return (\n    <Subhead className={styles.aside} {...restProps}>\n      {children}\n    </Subhead>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasComponent, HasRootRef } from '../../../types';\nimport { Subhead } from '../../Typography/Subhead/Subhead';\nimport { FormItemContext } from '../context';\nimport styles from '../FormItem.module.css';\n\nexport interface FormItemTopLabelProps\n  extends React.AllHTMLAttributes<HTMLElement>,\n    HasRootRef<HTMLElement>,\n    HasComponent {}\n\n/**\n * Отвечает за отрисовку заголовка поля. По умолчанию компонент представлен тегом `label`, если передано свойство `htmlFor`.\n * Можно переопределить через свойство `Component`.\n *\n * @since 6.1.0\n *\n */\nexport const FormItemTopLabel = ({\n  children,\n  Component: componentProp,\n  htmlFor,\n  ...restProps\n}: FormItemTopLabelProps) => {\n  const component = componentProp || (htmlFor && 'label') || 'span';\n  const { required, topMultiline } = React.useContext(FormItemContext);\n\n  return (\n    <Subhead\n      className={classNames(styles.label, topMultiline && styles.labelMultiline)}\n      Component={component}\n      htmlFor={htmlFor}\n      {...restProps}\n    >\n      {children}\n      {required && (\n        <span className={styles.labelRequired} aria-hidden>\n          *\n        </span>\n      )}\n    </Subhead>\n  );\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\n\ninterface FormItemContextProps {\n  required?: boolean;\n  topMultiline?: boolean;\n}\n\nexport const FormItemContext: React.Context<FormItemContextProps> =\n  React.createContext<FormItemContextProps>({\n    required: false,\n    topMultiline: false,\n  });\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useFocusVisibleClassName } from '../../hooks/useFocusVisibleClassName';\nimport { useFocusWithin } from '../../hooks/useFocusWithin';\nimport type { HasComponent, HasRootRef } from '../../types';\nimport styles from './FormField.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nconst stylesStatus = {\n  error: styles.statusError,\n  valid: styles.statusValid,\n};\n\nconst iconAlignClassNames = {\n  center: undefined,\n  start: styles.iconAlignStart,\n  end: styles.iconAlignEnd,\n};\n\nconst renderIcon = (icon: React.ReactNode, align: FieldIconsAlign, className: string) => {\n  return (\n    <div className={styles.iconWrapper}>\n      <span className={classNames(iconAlignClassNames[align], className)}>{icon}</span>\n    </div>\n  );\n};\n\nexport type FieldIconsAlign = 'start' | 'center' | 'end';\n\nexport interface FormFieldProps {\n  /**\n   * Статус отображения поля в форме.\n   */\n  status?: 'default' | 'error' | 'valid';\n  /**\n   * Добавляет иконку слева.\n   *\n   * Рекомендации:\n   *\n   * - Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n   * - Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагирующая на нажатие.\n   */\n  before?: React.ReactNode;\n  /**\n   * Вертикальное выравнивание иконки слева.\n   */\n  beforeAlign?: FieldIconsAlign;\n  /**\n   * Добавляет иконку справа.\n   *\n   * Рекомендации:\n   *\n   * - Используйте следующие размеры иконок `12` | `16` | `20` | `24` | `28`.\n   * - Используйте [IconButton](https://vkui.io/components/icon-button), если вам нужна иконка, реагируюущая на нажатие.\n   */\n  after?: React.ReactNode;\n  /**\n   * Вертикальное выравнивание иконки справа.\n   */\n  afterAlign?: FieldIconsAlign;\n  /**\n   * Режим отображения.\n   *\n   * - `default` — показывает фон, обводку и, при наличии, текст-подсказку.\n   * - `plain` — показывает только текст-подсказку.\n   */\n  mode?: 'default' | 'plain';\n  /**\n   * Максимальная высота поля.\n   */\n  maxHeight?: number;\n}\n\nexport interface FormFieldOwnProps\n  extends React.AllHTMLAttributes<HTMLElement>,\n    HasRootRef<HTMLElement>,\n    HasComponent,\n    FormFieldProps {\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/form-field\n */\nexport const FormField = ({\n  Component = 'span',\n  status = 'default',\n  children,\n  getRootRef,\n  before,\n  after,\n  beforeAlign = 'center',\n  afterAlign = 'center',\n  disabled,\n  mode = 'default',\n  className,\n  maxHeight,\n  style,\n  ...restProps\n}: FormFieldOwnProps): React.ReactNode => {\n  const elRef = useExternRef(getRootRef);\n  const { sizeY = 'none' } = useAdaptivity();\n  const [hover, setHover] = React.useState(false);\n\n  const focusWithin = useFocusWithin(elRef);\n  const focusVisibleClassNames = useFocusVisibleClassName({\n    focusVisible: focusWithin,\n    mode: styles.focusVisible,\n  });\n\n  const handleMouseEnter = (e: MouseEvent) => {\n    e.stopPropagation();\n    setHover(true);\n  };\n\n  const handleMouseLeave = (e: MouseEvent) => {\n    e.stopPropagation();\n    setHover(false);\n  };\n\n  return (\n    <Component\n      {...restProps}\n      ref={elRef}\n      style={{\n        maxHeight,\n        ...style,\n      }}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={handleMouseLeave}\n      className={classNames(\n        styles.host,\n        mode === 'default' && styles.modeDefault,\n        status !== 'default' && stylesStatus[status],\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        disabled && styles.disabled,\n        !disabled && hover && styles.hover,\n        focusVisibleClassNames,\n        className,\n      )}\n    >\n      <div className={styles.scrollContainer}>\n        {before && renderIcon(before, beforeAlign, styles.before)}\n        <div className={styles.content}>{children}</div>\n        {after &&\n          renderIcon(after, afterAlign, classNames(styles.after, 'vkuiInternalFormField__after'))}\n      </div>\n      <span aria-hidden className={styles.border} />\n    </Component>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { Removable, type RemovableProps } from '../Removable/Removable';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './FormLayoutGroup.module.css';\n\nconst sizeYClassNames = {\n  none: classNames(styles.sizeYNone, 'vkuiInternalFormLayoutGroup--sizeY-none'),\n  compact: classNames(styles.sizeYCompact, 'vkuiInternalFormLayoutGroup--sizeY-compact'),\n};\n\nexport interface FormLayoutGroupProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement>,\n    RemovableProps {\n  /**\n   * Направление отображения элементов формы.\n   */\n  mode?: 'vertical' | 'horizontal';\n  /**\n   * Только для режима horizontal. Дает возможность удалить всю группу `FormItem`.\n   *\n   * Режим `indent` предназначен для визуального отступа.\n   */\n  removable?: boolean | 'indent';\n\n  /**\n   * Дает возможность склеить несколько `FormItem`.\n   */\n  segmented?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/form-layout-group\n */\nexport const FormLayoutGroup = ({\n  children,\n  mode = 'vertical',\n  removable,\n  segmented,\n  removePlaceholder = 'Удалить',\n  onRemove,\n  getRootRef,\n  disabled,\n  ...restProps\n}: FormLayoutGroupProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const isRemovable = removable && mode === 'horizontal';\n  const rootEl = useExternRef(getRootRef);\n\n  return (\n    <RootComponent\n      getRootRef={rootEl}\n      Component=\"fieldset\"\n      baseClassName={classNames(\n        styles.host,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        mode === 'horizontal' &&\n          classNames(styles.modeHorizontal, 'vkuiInternalFormLayoutGroup--mode-horizontal'),\n        mode === 'vertical' && 'vkuiInternalFormLayoutGroup--mode-vertical',\n        isRemovable && classNames(styles.withRemovable, 'vkuiInternalFormLayoutGroup--removable'),\n        segmented && classNames(styles.segmented, 'vkuiInternalFormLayoutGroup--segmented'),\n      )}\n      disabled={disabled}\n      {...restProps}\n    >\n      {isRemovable ? (\n        <Removable\n          className={styles.removable}\n          align=\"start\"\n          removePlaceholder={removePlaceholder}\n          onRemove={(e) => {\n            if (rootEl?.current) {\n              onRemove?.(e, rootEl.current);\n            }\n          }}\n          disabled={disabled}\n          indent={removable === 'indent'}\n        >\n          {children}\n        </Removable>\n      ) : (\n        <React.Fragment>\n          {children}\n          <span className={styles.offset} aria-hidden />\n        </React.Fragment>\n      )}\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { Banner } from '../Banner/Banner';\nimport styles from './FormStatus.module.css';\n\nexport interface FormStatusProps extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'title'> {\n  /**\n   * Режим отображения компонента.\n   */\n  mode?: 'default' | 'error';\n  /**\n   * Основной текст.\n   */\n  title?: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/form-status\n */\nexport const FormStatus = ({\n  mode,\n  children,\n  className,\n  role = mode === 'error' ? 'alert' : 'status',\n  title,\n  ...restProps\n}: FormStatusProps): React.ReactNode => {\n  return (\n    <Banner\n      {...restProps}\n      title={title}\n      role={role}\n      subtitle={children}\n      className={classNames(\n        'vkuiInternalFormStatus',\n        mode === 'error' && classNames(styles.modeError, 'vkuiInternalFormStatus--mode-error'),\n        className,\n      )}\n    />\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useFocusVisible } from '../../hooks/useFocusVisible';\nimport { useFocusVisibleClassName } from '../../hooks/useFocusVisibleClassName';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { callMultiple } from '../../lib/callMultiple';\nimport type { HasRef, HasRootRef } from '../../types';\nimport { VisuallyHidden, type VisuallyHiddenProps } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './Switch.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface SwitchProps\n  extends React.InputHTMLAttributes<HTMLInputElement>,\n    HasRootRef<HTMLLabelElement>,\n    HasRef<HTMLInputElement> {}\n\n/**\n * @see https://vkui.io/components/switch\n */\nexport const Switch = ({\n  style,\n  className,\n  getRootRef,\n  getRef,\n  checked: checkedProp,\n  disabled,\n  onBlur: onBlurProp,\n  onFocus: onFocusProp,\n  onClick,\n  ...restProps\n}: SwitchProps): React.ReactNode => {\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n  const platform = usePlatform();\n  const { sizeY = 'none' } = useAdaptivity();\n  const { focusVisible, onBlur, onFocus } = useFocusVisible();\n  const focusVisibleClassNames = useFocusVisibleClassName({ focusVisible, mode: 'outside' });\n  const handleBlur = callMultiple(onBlur, onBlurProp);\n  const handleFocus = callMultiple(onFocus, onFocusProp);\n\n  const [localUncontrolledChecked, setLocalUncontrolledChecked] = React.useState(\n    Boolean(restProps.defaultChecked),\n  );\n  const isControlled = checkedProp !== undefined;\n\n  const syncUncontrolledCheckedStateOnClick = React.useCallback(\n    (e: React.MouseEvent<HTMLInputElement>) => {\n      if (isControlled) {\n        return;\n      }\n\n      const switchTarget = e.target as HTMLInputElement;\n      setLocalUncontrolledChecked(switchTarget.checked);\n    },\n    [isControlled],\n  );\n\n  const inputProps: VisuallyHiddenProps<HTMLInputElement> = {\n    ...restProps,\n    Component: 'input',\n    getRootRef: getRef,\n    type: 'checkbox',\n    role: 'switch',\n    disabled: disabled,\n    onBlur: onBlurProp,\n    onFocus: onFocusProp,\n    onClick: callMultiple(syncUncontrolledCheckedStateOnClick, onClick),\n  };\n\n  if (isControlled) {\n    inputProps.checked = checkedProp;\n    inputProps['aria-checked'] = checkedProp ? 'true' : 'false';\n  } else {\n    inputProps['aria-checked'] = localUncontrolledChecked ? 'true' : 'false';\n  }\n\n  return (\n    <label\n      className={classNames(\n        styles.host,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        platform === 'ios' ? styles.ios : styles.default,\n        disabled && styles.disabled,\n        isRtl && styles.rtl,\n        focusVisibleClassNames,\n        className,\n      )}\n      style={style}\n      ref={getRootRef}\n    >\n      <VisuallyHidden\n        {...inputProps}\n        className={styles.inputNative}\n        onBlur={handleBlur}\n        onFocus={handleFocus}\n      />\n      <span aria-hidden className={styles.inputFake}>\n        <span className={styles.track} />\n        <span\n          aria-hidden\n          className={classNames(\n            styles.handle,\n            platform !== 'ios' && !disabled && styles.handleWithRipple,\n          )}\n        />\n      </span>\n    </label>\n  );\n};\n", "import * as React from 'react';\nimport type { HasRef, HasRootRef } from '../../types';\nimport { Button, type VKUIButtonProps } from '../Button/Button';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\n\nexport interface FileProps\n  extends Omit<VKUIButtonProps, 'type'>,\n    Omit<React.InputHTMLAttributes<HTMLInputElement>, 'type' | 'size'>,\n    HasRef<HTMLInputElement>,\n    HasRootRef<HTMLElement> {}\n\n/**\n * @see https://vkui.io/components/file\n */\nexport const File = ({\n  children = 'Выберите файл',\n  align = 'left',\n  size,\n  mode,\n  stretched,\n  before,\n  after,\n  loading,\n  className,\n  style,\n  getRef,\n  getRootRef,\n  appearance,\n  ...restProps\n}: FileProps): React.ReactNode => {\n  return (\n    <Button\n      Component=\"label\"\n      align={align}\n      className={className}\n      stretched={stretched}\n      mode={mode}\n      appearance={appearance}\n      size={size}\n      before={before}\n      after={after}\n      loading={loading}\n      style={style}\n      getRootRef={getRootRef}\n      disabled={restProps.disabled}\n    >\n      <VisuallyHidden title=\"\" {...restProps} Component=\"input\" type=\"file\" getRootRef={getRef} />\n      {children}\n    </Button>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { DropZoneGrid } from './components/DropZoneGrid';\nimport styles from './DropZone.module.css';\n\ninterface DropZonePropsChildrenProps {\n  /**\n   * Флаг активного состояния компонента.\n   */\n  active: boolean;\n}\n\nexport interface DropZoneProps extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'children'> {\n  /**\n   * Содержимое компонента. Можно прокинуть функцию для отрисовки содержимого.\n   */\n  children?: React.ReactNode | ((renderProps: DropZonePropsChildrenProps) => React.ReactNode);\n}\n\n/**\n * Компонент позволяет пользователям загружать файлы, перетаскивая файлы в\n * область на странице.\n *\n * @since 6.1.0\n * @see https://vkui.io/components/drop-zone\n */\nexport const DropZone: React.FC<DropZoneProps> & {\n  Grid: typeof DropZoneGrid;\n} = ({ onDragOver, onDragLeave, onDrop, children, ...props }: DropZoneProps): React.ReactNode => {\n  const [active, setActive] = React.useState(false);\n\n  const onActive: React.DragEventHandler<HTMLDivElement> = (event) => {\n    if (event.isPropagationStopped()) {\n      return;\n    }\n\n    setActive(true);\n  };\n\n  const offActive: React.DragEventHandler<HTMLDivElement> = () => {\n    setActive(false);\n  };\n\n  return (\n    <RootComponent\n      baseClassName={classNames(styles.host, active && styles.active)}\n      onDragOver={callMultiple(onDragOver, onActive)}\n      onDragLeave={callMultiple(onDragLeave, offActive)}\n      onDrop={callMultiple(onDrop, offActive)}\n      {...props}\n    >\n      {typeof children === 'function' ? children({ active }) : children}\n    </RootComponent>\n  );\n};\n\nDropZone.Grid = DropZoneGrid;\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(DropZone.Grid, 'DropZone.Grid');\n}\n", "import { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../../types';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport styles from './DropZoneGrid.module.css';\n\nconst directionStyle = {\n  row: styles.row,\n  column: styles.column,\n};\n\nexport interface DropZoneGridProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Направление дочерних компонентов.\n   */\n  direction?: 'row' | 'column';\n}\n\nexport const DropZoneGrid = ({ direction = 'column', ...props }: DropZoneGridProps) => (\n  <RootComponent baseClassName={classNames(styles.host, directionStyle[direction])} {...props} />\n);\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport type { HasAlign, HasRef, HasRootRef } from '../../types';\nimport { FormField, type FormFieldProps } from '../FormField/FormField';\nimport { UnstyledTextField } from '../UnstyledTextField/UnstyledTextField';\nimport styles from './Input.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement>,\n    HasRef<HTMLInputElement>,\n    HasRootRef<HTMLDivElement>,\n    HasAlign,\n    Omit<FormFieldProps, 'maxHeight'> {}\n\n/**\n * @see https://vkui.io/components/input\n */\nexport const Input = ({\n  type = 'text',\n  align = 'left',\n  getRef,\n  className,\n  getRootRef,\n  style,\n  before,\n  after,\n  status,\n  mode,\n  ...restProps\n}: InputProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <FormField\n      style={style}\n      className={classNames(\n        styles.host,\n        align === 'right' && styles.alignRight,\n        align === 'center' && styles.alignCenter,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        before && styles.hasBefore,\n        after && styles.hasAfter,\n        className,\n      )}\n      getRootRef={getRootRef}\n      before={before}\n      after={after}\n      disabled={restProps.disabled}\n      mode={mode}\n      status={status}\n    >\n      <UnstyledTextField\n        {...restProps}\n        as=\"input\"\n        type={type}\n        className={styles.el}\n        getRootRef={getRef}\n      />\n    </FormField>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Cancel } from '@vkontakte/icons';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { useFocusVisible } from '../../../hooks/useFocusVisible';\nimport { useFocusVisibleClassName } from '../../../hooks/useFocusVisibleClassName';\nimport {\n  type HasComponent,\n  type HasDataAttribute,\n  type HTMLAttributesWithRootRef,\n} from '../../../types';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport { Footnote } from '../../Typography/Footnote/Footnote';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\nimport { type ChipOptionValue } from '../types';\nimport styles from './Chip.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n} as const;\n\nconst modeClassNames = {\n  primary: styles.modePrimary,\n  secondary: styles.modeSecondary,\n} as const;\n\nexport interface ChipProps\n  extends HasComponent,\n    HasDataAttribute,\n    HTMLAttributesWithRootRef<HTMLElement> {\n  /**\n   * Режим отображения компонента.\n   */\n  mode?: 'primary' | 'secondary';\n  /**\n   * Значение чипа.\n   */\n  value?: ChipOptionValue;\n  /**\n   * Можно ли удалить чип.\n   */\n  removable?: boolean;\n  /**\n   * Блокировка взаимодействия с чипом.\n   */\n  disabled?: boolean;\n  /**\n   * Режим только для чтения.\n   */\n  readOnly?: boolean;\n  /**\n   * Текст для кнопки удаления.\n   */\n  removeLabel?: string;\n  /**\n   * Контент перед основным содержимым.\n   */\n  before?: React.ReactNode;\n  /**\n   * Контент после основного содержимого.\n   */\n  after?: React.ReactNode;\n  /**\n   * Обработчик удаления чипа.\n   */\n  onRemove?: (event: React.MouseEvent, value: ChipOptionValue) => void;\n}\n\n/**\n * @see https://vkui.io/components/chip\n */\nexport const Chip = ({\n  mode = 'primary',\n  Component = 'span',\n  value = '',\n  removable = true,\n  onRemove,\n  removeLabel = 'Удалить',\n  before,\n  after,\n  disabled,\n  readOnly,\n  children,\n  className,\n  onFocus: onFocusProp,\n  onBlur: onBlurProp,\n  ...restProps\n}: ChipProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const { focusVisible, onFocus, onBlur } = useFocusVisible();\n  const focusVisibleClassName = useFocusVisibleClassName({ focusVisible });\n\n  const handleFocus = (event: React.FocusEvent<HTMLInputElement>) => {\n    if (onFocusProp) {\n      onFocusProp(event);\n    }\n    onFocus(event);\n  };\n\n  const handleBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n    if (onBlurProp) {\n      onBlurProp(event);\n    }\n    onBlur(event);\n  };\n\n  const onRemoveWrapper = React.useCallback(\n    (event: React.MouseEvent) => {\n      onRemove?.(event, value);\n    },\n    [onRemove, value],\n  );\n\n  return (\n    <RootComponent\n      {...restProps}\n      Component={Component}\n      className={classNames(\n        styles.host,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        modeClassNames[mode],\n        focusVisibleClassName,\n        className,\n      )}\n      aria-readonly={readOnly}\n      aria-disabled={disabled}\n      onFocus={disabled ? undefined : handleFocus}\n      onBlur={disabled ? undefined : handleBlur}\n    >\n      <div className={styles.in}>\n        {hasReactNode(before) && <div className={styles.before}>{before}</div>}\n        <Footnote className={styles.content}>{children}</Footnote>\n        {hasReactNode(after) && <div className={styles.after}>{after}</div>}\n      </div>\n      {!readOnly && removable && (\n        <div className={styles.removable}>\n          <button\n            type=\"button\"\n            tabIndex={-1} // [reason]: чтобы можно было выставлять состояние фокуса только программно через `*.focus()`\n            disabled={disabled}\n            className={styles.remove}\n            onClick={disabled ? undefined : onRemoveWrapper}\n          >\n            <VisuallyHidden>\n              &nbsp; {removeLabel} {children}\n            </VisuallyHidden>\n            <Icon16Cancel />\n          </button>\n        </div>\n      )}\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { isHTMLElement } from '@vkontakte/vkui-floating-ui/utils/dom';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { getHorizontalFocusGoTo, Keys } from '../../lib/accessibility';\nimport {\n  contains as checkTargetIsInputEl,\n  contains,\n  getActiveElementByAnotherElement,\n} from '../../lib/dom';\nimport { FormField } from '../FormField/FormField';\nimport { FormFieldClearButton } from '../FormFieldClearButton/FormFieldClearButton';\nimport { Text } from '../Typography/Text/Text';\nimport { DEFAULT_INPUT_VALUE, DEFAULT_VALUE, renderChipDefault } from './constants';\nimport {\n  getChipOptionIndexByHTMLElement,\n  getChipOptionIndexByValueProp,\n  getChipOptionValueByHTMLElement,\n  getNextChipOptionIndexByNavigateToProp,\n  isInputValueEmpty,\n} from './helpers';\nimport type { ChipOption, ChipOptionValue, ChipsInputBasePrivateProps, NavigateTo } from './types';\nimport styles from './ChipsInputBase.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n} as const;\n\nexport const ChipsInputBase = <O extends ChipOption>({\n  // FormFieldProps\n  getRootRef,\n  style,\n  className,\n  before,\n  after,\n  status,\n  mode,\n  maxHeight,\n\n  // option\n  value = DEFAULT_VALUE,\n  onAddChipOption,\n  'onRemoveChipOption': onRemoveChipOptionProp,\n  renderChip = renderChipDefault,\n\n  // input\n  getRef,\n  'id': idProp,\n  inputValue = DEFAULT_INPUT_VALUE,\n  placeholder,\n  disabled,\n  readOnly,\n  addOnBlur,\n  onBlur,\n  onInputChange,\n\n  // clear\n  ClearButton = FormFieldClearButton,\n  clearButtonShown,\n  clearButtonTestId,\n  onClear,\n\n  // a11y\n  chipsListLabel = 'Выбранные элементы',\n  'aria-label': ariaLabel = '',\n  ...restProps\n}: ChipsInputBasePrivateProps<O>): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const idGenerated = React.useId();\n  const inputRef = useExternRef(getRef);\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const listboxRef = React.useRef<HTMLDivElement>(null);\n\n  const valueLength = value.length;\n  const withPlaceholder = valueLength === 0;\n  const [lastFocusedChipOptionIndex, setLastFocusedChipOptionIndex] = React.useState(0);\n\n  const resetChipOptionFocusToInputEl = (inputEl: HTMLInputElement) => {\n    setLastFocusedChipOptionIndex(0);\n    inputEl.focus();\n  };\n\n  const moveFocusToChipOption = (\n    currentIndex: number,\n    navigateTo: NavigateTo,\n    listboxEl: HTMLElement,\n  ) => {\n    const index = getNextChipOptionIndexByNavigateToProp(currentIndex, navigateTo, valueLength);\n    // eslint-disable-next-line no-restricted-properties\n    const foundEl = listboxEl.querySelector<HTMLElement>(`[data-index=\"${index}\"]`);\n\n    if (foundEl) {\n      setLastFocusedChipOptionIndex(index);\n      foundEl.focus();\n    }\n  };\n\n  const removeChipOption = (o: O | ChipOptionValue, index: number) => {\n    /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n    if (!inputRef.current || !listboxRef.current) {\n      return;\n    }\n\n    if (valueLength > 1) {\n      if (index === valueLength - 1) {\n        moveFocusToChipOption(index, 'prev', listboxRef.current);\n      } else {\n        moveFocusToChipOption(index, 'next', listboxRef.current);\n      }\n    } else {\n      resetChipOptionFocusToInputEl(inputRef.current);\n    }\n\n    onRemoveChipOptionProp(o);\n  };\n\n  const handleListboxKeyDown = (event: React.KeyboardEvent<HTMLDivElement>) => {\n    const targetEl = event.target;\n    /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n    if (event.defaultPrevented || !listboxRef.current || !isHTMLElement(targetEl)) {\n      return;\n    }\n\n    switch (event.key) {\n      case Keys.ENTER: {\n        if (\n          !readOnly &&\n          checkTargetIsInputEl(targetEl, inputRef.current) &&\n          inputRef.current &&\n          !isInputValueEmpty(inputRef.current)\n        ) {\n          event.preventDefault();\n          onAddChipOption(inputRef.current.value);\n        }\n        break;\n      }\n      case Keys.DELETE:\n      case Keys.BACKSPACE: {\n        if (!readOnly && valueLength > 0) {\n          if (!checkTargetIsInputEl(targetEl, inputRef.current)) {\n            event.preventDefault();\n            removeChipOption(\n              getChipOptionValueByHTMLElement(targetEl),\n              getChipOptionIndexByHTMLElement(targetEl),\n            );\n          } else if (event.key === Keys.BACKSPACE && isInputValueEmpty(inputRef.current)) {\n            event.preventDefault();\n            moveFocusToChipOption(\n              getChipOptionIndexByHTMLElement(targetEl),\n              'last',\n              listboxRef.current,\n            );\n          }\n        }\n        break;\n      }\n      case Keys.HOME:\n      case Keys.END:\n      case Keys.ARROW_UP:\n      case Keys.ARROW_LEFT:\n      case Keys.ARROW_DOWN:\n      case Keys.ARROW_RIGHT: {\n        if (valueLength !== 0 && !checkTargetIsInputEl(targetEl, inputRef.current)) {\n          event.preventDefault();\n          moveFocusToChipOption(\n            getChipOptionIndexByHTMLElement(targetEl),\n            getHorizontalFocusGoTo(event.key),\n            listboxRef.current,\n          );\n        }\n        break;\n      }\n    }\n  };\n\n  const handleInputBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n    if (onBlur) {\n      onBlur(event);\n    }\n\n    if (addOnBlur && !event.defaultPrevented && inputRef.current) {\n      onAddChipOption(inputRef.current.value);\n    }\n  };\n\n  const handleChipRemove = (event: React.MouseEvent, v: ChipOptionValue) => {\n    event.preventDefault();\n    event.stopPropagation();\n    removeChipOption(v, getChipOptionIndexByValueProp(v, value));\n  };\n\n  const handleRootClick = (event: React.MouseEvent<HTMLDivElement>) => {\n    const activeElement = getActiveElementByAnotherElement(event.currentTarget);\n    if (event.defaultPrevented || contains(event.currentTarget, activeElement)) {\n      return;\n    }\n\n    if (inputRef.current) {\n      inputRef.current.focus();\n    }\n  };\n\n  const handleClear = React.useCallback(() => {\n    if (inputRef.current) {\n      resetChipOptionFocusToInputEl(inputRef.current);\n    }\n    onClear();\n  }, [inputRef, onClear]);\n\n  const clearButton = React.useMemo(() => {\n    if (clearButtonShown) {\n      return (\n        <ClearButton onClick={handleClear} disabled={disabled} data-testid={clearButtonTestId} />\n      );\n    }\n    return undefined;\n  }, [ClearButton, clearButtonShown, clearButtonTestId, disabled, handleClear]);\n\n  const afterItems = React.useMemo(() => {\n    if (clearButton || after) {\n      return (\n        <>\n          {clearButton}\n          {after}\n        </>\n      );\n    }\n    return undefined;\n  }, [after, clearButton]);\n\n  const inputId = idProp || `chips-input-base-generated-id-${idGenerated}`;\n\n  const handleRootMouseDown = (e: React.MouseEvent<HTMLDivElement>) => {\n    // Если клик был в один из чипов, то preventDefault делать не нужно, так как не будет срабатывать выделение текста\n    if (\n      isHTMLElement(e.target) &&\n      contains(listboxRef.current, e.target) &&\n      listboxRef.current !== e.target\n    ) {\n      return;\n    }\n    const activeElement = getActiveElementByAnotherElement(e.currentTarget);\n    // Когда выделен текст чипа не нужно делать preventDefault, чтобы сбросить выделение\n    if (contains(listboxRef.current, activeElement)) {\n      return;\n    }\n    // Когда клик в сам инпут, не нужно делать preventDefault, так как не будет работать выделение текста\n    if (e.target === inputRef.current) {\n      return;\n    }\n    // Делаем preventDefault, чтобы при клике в поле, вне инпута, высота поля не скакала от того,\n    // что фокус сначала пропадает из инпута, а потом возвращается\n    e.preventDefault();\n  };\n\n  return (\n    <FormField\n      Component=\"div\"\n      getRootRef={getRootRef}\n      // role=\"group\" добавлена, чтобы этот блок можно было найти с помощью стрелочек при использовании NVDA\n      // Если убрать, то aria-label не будет читаться\n      role=\"group\"\n      aria-label={ariaLabel}\n      style={style}\n      disabled={disabled}\n      before={before}\n      after={afterItems}\n      status={status}\n      mode={mode}\n      className={className}\n      maxHeight={maxHeight}\n      onClick={disabled ? undefined : handleRootClick}\n      onMouseDown={handleRootMouseDown}\n    >\n      <div\n        className={classNames(\n          styles.host,\n          sizeY !== 'regular' && sizeYClassNames[sizeY],\n          withPlaceholder && styles.hasPlaceholder,\n          inputValue && styles.hasInputValue,\n        )}\n        ref={containerRef}\n        onKeyDown={disabled ? undefined : handleListboxKeyDown}\n      >\n        <div\n          className={styles.listBox}\n          // для a11y\n          ref={listboxRef}\n          role=\"listbox\"\n          aria-orientation=\"horizontal\"\n          aria-disabled={disabled}\n          aria-readonly={readOnly}\n          aria-label={chipsListLabel}\n        >\n          {value.map((option, index) => (\n            <React.Fragment key={`${typeof option.value}-${option.value}`}>\n              {renderChip(\n                {\n                  'Component': 'div',\n                  'value': option.value,\n                  'label': option.label,\n                  'disabled': option.disabled || disabled,\n                  'readOnly': option.readOnly || readOnly,\n                  'className': styles.chip,\n                  'onRemove': handleChipRemove,\n                  // чтобы можно было легче найти этот чип в DOM\n                  'data-index': index,\n                  'data-value': option.value,\n                  'data-value-type': typeof option.value,\n                  // для a11y\n                  'tabIndex': lastFocusedChipOptionIndex === index ? 0 : -1,\n                  'role': 'option',\n                  'aria-selected': true,\n                  'aria-posinset': index + 1,\n                  'aria-setsize': valueLength,\n                  'aria-description': 'Для удаления используйте Backspace или Delete',\n                },\n                option,\n              )}\n            </React.Fragment>\n          ))}\n        </div>\n        <Text\n          autoCapitalize=\"none\"\n          autoComplete=\"off\"\n          autoCorrect=\"off\"\n          spellCheck={false}\n          {...restProps}\n          aria-label={ariaLabel}\n          Component=\"input\"\n          type=\"text\"\n          id={inputId}\n          getRootRef={inputRef}\n          className={styles.el}\n          disabled={disabled}\n          readOnly={readOnly}\n          placeholder={withPlaceholder ? placeholder : undefined}\n          value={inputValue}\n          onChange={onInputChange}\n          onBlur={handleInputBlur}\n        />\n      </div>\n    </FormField>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Cancel } from '@vkontakte/icons';\nimport { stopPropagation } from '../../lib/utils';\nimport type { HasDataAttribute } from '../../types';\nimport { IconButton } from '../IconButton/IconButton';\n\nexport interface FormFieldClearButtonProps extends HasDataAttribute {\n  /**\n   * `className` для компонента.\n   */\n  className?: string;\n  /**\n   * Обработчик нажатия на кнопку.\n   */\n  onClick: () => void;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n}\n\nexport const FormFieldClearButton = ({\n  className,\n  onClick,\n  ...restProps\n}: FormFieldClearButtonProps): React.ReactNode => {\n  return (\n    <IconButton\n      Component=\"button\"\n      label=\"Очистить поле\"\n      onKeyDown={stopPropagation}\n      type=\"button\"\n      activeMode=\"opacity\"\n      hoverMode=\"opacity\"\n      {...restProps}\n      className={className}\n      onClick={(e) => {\n        stopPropagation(e);\n        e.preventDefault();\n        onClick();\n      }}\n    >\n      <Icon16Cancel />\n    </IconButton>\n  );\n};\n", "import * as React from 'react';\nimport { Chip } from './Chip/Chip';\nimport type { ChipOption, ChipOptionLabel, ChipOptionValue, RenderChipProps } from './types';\n\nexport const DEFAULT_VALUE: never[] = [];\n\nexport const DEFAULT_INPUT_VALUE = '';\n\nexport function getOptionValueDefault<O extends ChipOption>(option: O): ChipOptionValue {\n  return option.value;\n}\n\nexport function getOptionLabelDefault<O extends ChipOption>(option: O): ChipOptionLabel {\n  return option.label;\n}\n\nexport function getNewOptionDataDefault<O extends ChipOption>(\n  value: ChipOptionValue,\n  label: ChipOptionLabel,\n): O {\n  // eslint-disable-next-line @typescript-eslint/consistent-type-assertions\n  return {\n    value,\n    label,\n  } as O;\n}\n\nexport function renderChipDefault(props: RenderChipProps): React.ReactNode {\n  const { label, ...rest } = props;\n  return (\n    <Chip removable={!props.disabled} {...rest}>\n      {label}\n    </Chip>\n  );\n}\n", "import { DEFAULT_INPUT_VALUE } from './constants';\nimport type { ChipOption, ChipOptionValue, NavigateTo } from './types';\n\n/**\n * @private\n */\nexport const isValueLikeChipOptionObject = <O extends ChipOption>(v: O | ChipOptionValue): v is O =>\n  typeof v === 'object' && 'value' in v;\n\n/**\n * @private\n */\nexport const isInputValueEmpty = (input: HTMLInputElement | null): boolean =>\n  input ? input.value === DEFAULT_INPUT_VALUE : true;\n\n/**\n * @private\n */\nexport const getChipOptionIndexByValueProp = <O extends ChipOption>(\n  optionProp: O | ChipOptionValue,\n  valueProp: O[],\n): number => {\n  const value = isValueLikeChipOptionObject(optionProp) ? optionProp.value : optionProp;\n  return valueProp.findIndex((option) => option.value === value);\n};\n\n/**\n * @private\n */\nexport const getChipOptionIndexByHTMLElement = (el: HTMLElement | null): number => {\n  const value = el && el.dataset.index;\n  return typeof value === 'string' ? Number(value) : -1;\n};\n\n/**\n * @private\n */\nexport const getChipOptionValueByHTMLElement = (el: HTMLElement | null): ChipOptionValue | -1 => {\n  const value = el && el.dataset.value;\n  const valueType = el && el.dataset.valueType;\n  if (valueType === 'number') {\n    return Number(value);\n  }\n  return typeof value === 'string' ? value : -1;\n};\n\n/**\n * @private\n */\nexport const getNextChipOptionIndexByNavigateToProp = (\n  currentIndex: number,\n  navigateTo: NavigateTo,\n  length: number,\n): number => {\n  const LAST_INDEX = length - 1;\n  switch (navigateTo) {\n    case 'prev':\n      const prevIndex = currentIndex - 1;\n      return prevIndex < 0 ? LAST_INDEX : prevIndex;\n    case 'next':\n      const nextIndex = currentIndex + 1;\n      return nextIndex > LAST_INDEX ? 0 : nextIndex;\n    case 'last':\n      return LAST_INDEX;\n    case 'first':\n      return 0;\n    default:\n      /* istanbul ignore next */\n      return -1;\n  }\n};\n", "import * as React from 'react';\nimport { escapeRegExp } from '@vkontakte/vkjs';\nimport { useCustomEnsuredControl, useEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { useNativeFormResetListener } from '../../hooks/useNativeFormResetListener';\nimport { simulateReactInput, type SimulateReactInputTargetState } from '../../lib/react';\nimport {\n  DEFAULT_INPUT_VALUE,\n  DEFAULT_VALUE,\n  getNewOptionDataDefault,\n  getOptionLabelDefault,\n  getOptionValueDefault,\n} from '../ChipsInputBase/constants';\nimport { isValueLikeChipOptionObject } from '../ChipsInputBase/helpers';\nimport type {\n  ChipOption,\n  ChipOptionLabel,\n  ChipOptionValue,\n  GetNewOptionData,\n  GetOptionLabel,\n  GetOptionValue,\n  UseChipsInputBaseProps,\n} from '../ChipsInputBase/types';\n\nexport const transformValue = <O extends ChipOption>(\n  value: O[],\n  getOptionValue: GetOptionValue<O>,\n  getOptionLabel: GetOptionLabel<O>,\n): Array<\n  O & {\n    label: ChipOptionLabel;\n    value: ChipOptionValue;\n  }\n> =>\n  value.map((option) => ({\n    ...option,\n    label: getOptionLabel(option),\n    value: getOptionValue(option),\n  }));\n\nfunction getRegExpFromArray(separators: string[]) {\n  const validSeparators = separators.filter((s) => s.length > 0);\n  if (validSeparators.length === 0) {\n    return null;\n  }\n  const escaped = validSeparators.map((s) => escapeRegExp(s));\n  return new RegExp(`(?:${escaped.join('|')})`);\n}\n\nfunction getRegexFromDelimiter(delimiter: string | RegExp | string[]): RegExp | null {\n  if (delimiter instanceof RegExp) {\n    return delimiter;\n  }\n  if (typeof delimiter === 'string') {\n    return new RegExp(escapeRegExp(delimiter));\n  }\n  return getRegExpFromArray(delimiter);\n}\n\ninterface ToggleOption<O extends ChipOption> {\n  (optionsForAdd: Array<O | string>, isNewValue: true): void;\n  (optionsForRemove: Array<O | ChipOptionValue>, isNewValue: false): void;\n}\n\nexport interface UseChipsInputProps<O extends ChipOption = ChipOption>\n  extends UseChipsInputBaseProps<O> {\n  /**\n   * Селектор значения.\n   */\n  getOptionValue?: GetOptionValue<O>;\n  /**\n   * Селектор пользовательского представления.\n   */\n  getOptionLabel?: GetOptionLabel<O>;\n  /**\n   * Функция для создания новой опции.\n   */\n  getNewOptionData?: GetNewOptionData<O>;\n}\n\nexport const useChipsInput = <O extends ChipOption>({\n  // option\n  value: valueProp,\n  defaultValue = DEFAULT_VALUE,\n  onChange,\n  getOptionLabel = getOptionLabelDefault,\n  getOptionValue = getOptionValueDefault,\n  getNewOptionData = getNewOptionDataDefault,\n\n  // input\n  inputValue: inputValueProp,\n  defaultInputValue = DEFAULT_INPUT_VALUE,\n  onInputChange: onInputChangeProp,\n\n  // other\n  disabled,\n  delimiter,\n}: UseChipsInputProps<O>): {\n  value: Array<\n    O & {\n      label: ChipOptionLabel;\n      value: ChipOptionValue;\n    }\n  >;\n  addOption: (newValue: O | string) => void;\n  addOptionFromInput: (inputValue: string) => void;\n  removeOption: (newValue: O | ChipOptionValue) => void;\n  clearOptions: () => void;\n  inputRef: React.RefObject<(HTMLInputElement & SimulateReactInputTargetState) | null>;\n  inputValue: string;\n  onInputChange: (e: React.ChangeEvent<HTMLInputElement>, canCreate?: boolean) => any;\n  clearInput: () => void;\n} => {\n  const [value, setValue] = useCustomEnsuredControl({\n    disabled,\n    value: valueProp ? transformValue(valueProp, getOptionValue, getOptionLabel) : undefined,\n    defaultValue: transformValue(defaultValue, getOptionValue, getOptionLabel),\n    onChange,\n  });\n\n  const inputRef = React.useRef<(HTMLInputElement & SimulateReactInputTargetState) | null>(null);\n  const [inputValue, setInputChange] = useEnsuredControl({\n    disabled,\n    value: inputValueProp,\n    defaultValue: defaultInputValue,\n    onChange: onInputChangeProp,\n  });\n\n  const toggleOption: ToggleOption<O> = React.useCallback(\n    (nextValuesProp: Array<O | ChipOptionValue>, isNewValue: boolean) => {\n      setValue((prevValue) => {\n        const resolvedNextOptionsSet = new Set<ChipOptionValue>();\n        const resolvedNextOptions = nextValuesProp.map((option) => {\n          const isLikeObjectOption = isValueLikeChipOptionObject(option);\n          const resolvedOption = isLikeObjectOption\n            ? getNewOptionData(option.value, option.label)\n            : getNewOptionData(option, typeof option === 'string' ? option : '');\n          resolvedNextOptionsSet.add(resolvedOption.value);\n          return isLikeObjectOption ? { ...option, ...resolvedOption } : resolvedOption;\n        });\n\n        const nextValue = prevValue.filter(\n          (option: O) => !resolvedNextOptionsSet.has(option.value),\n        );\n\n        if (isNewValue) {\n          nextValue.push(...resolvedNextOptions);\n        }\n\n        return nextValue;\n      });\n    },\n    [setValue, getNewOptionData],\n  );\n\n  const clearInput = React.useCallback(() => {\n    /* istanbul ignore if */\n    if (!inputRef.current) {\n      return;\n    }\n    simulateReactInput(inputRef.current, '');\n  }, [inputRef]);\n\n  const addOption = React.useCallback(\n    (newValue: O | string) => toggleOption([newValue], true),\n    [toggleOption],\n  );\n\n  const addOptions = React.useCallback(\n    (newValues: Array<O | string>) => toggleOption(newValues, true),\n    [toggleOption],\n  );\n\n  const removeOption = React.useCallback(\n    (newValue: O | ChipOptionValue) => toggleOption([newValue], false),\n    [toggleOption],\n  );\n\n  const addOptionFromInput = React.useCallback(\n    (inputValue: string) => {\n      const label = inputValue.trim();\n      if (label) {\n        addOption(label);\n        clearInput();\n      }\n    },\n    [addOption, clearInput],\n  );\n\n  const reset = React.useCallback(() => {\n    setValue(defaultValue);\n  }, [defaultValue, setValue]);\n\n  const clearOptions = React.useCallback(() => {\n    setValue(DEFAULT_VALUE);\n    clearInput();\n  }, [clearInput, setValue]);\n\n  const onInputChange = React.useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>, canCreate = true) => {\n      const newInputValue = e.target.value;\n      const delimiterRegex = delimiter ? getRegexFromDelimiter(delimiter) : null;\n      if (!delimiterRegex || !delimiterRegex.test(newInputValue) || !canCreate) {\n        setInputChange(e);\n        return;\n      }\n      const values = newInputValue\n        .trim()\n        .split(delimiterRegex)\n        .map((v) => v.trim())\n        .filter(Boolean);\n\n      e.target.value = '';\n      e.currentTarget.value = '';\n      setInputChange(e);\n\n      addOptions(values);\n    },\n    [addOptions, delimiter, setInputChange],\n  );\n\n  useNativeFormResetListener(inputRef, reset);\n\n  return {\n    value,\n    addOption,\n    addOptionFromInput,\n    removeOption,\n\n    inputRef,\n    inputValue,\n    onInputChange,\n    clearInput,\n    clearOptions,\n  };\n};\n", "/* istanbul ignore file */\n\nexport interface SimulateReactInputTargetState {\n  _valueTracker?: {\n    getValue: () => string;\n    setValue: (value: string) => void;\n    stopTracking: () => void;\n  };\n}\n\n/**\n * @see https://github.com/facebook/react/issues/11488#issuecomment-347775628\n *\n * @private\n */\nexport const simulateReactInput = (\n  target: HTMLInputElement & SimulateReactInputTargetState,\n  nextValue = '',\n): void => {\n  try {\n    const prevValue = target.value;\n    target.value = nextValue;\n    const tracker = target._valueTracker;\n    if (tracker) {\n      tracker.setValue(prevValue);\n    }\n    const event = new Event('input', { bubbles: true });\n    target.dispatchEvent(event);\n  } catch (error) {\n    // Чтобы в будущем узнать, что это решение уже не работает.\n    if (process.env.NODE_ENV === 'development') {\n      throw error;\n    }\n  }\n};\n", "'use client';\n\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { ChipsInputBase } from '../ChipsInputBase/ChipsInputBase';\nimport type { ChipOption, ChipsInputBaseProps } from '../ChipsInputBase/types';\nimport type { FormFieldProps } from '../FormField/FormField';\nimport { useChipsInput, type UseChipsInputProps } from './useChipsInput';\n\nexport interface ChipsInputProps<Option extends ChipOption>\n  extends ChipsInputBaseProps<Option>,\n    UseChipsInputProps<Option>,\n    Pick<FormFieldProps, 'status' | 'mode' | 'before' | 'after' | 'maxHeight'> {\n  /**\n   * Если `true`, то справа будет отображаться кнопка для очистки значения.\n   */\n  allowClearButton?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/chips-input\n */\nexport const ChipsInput = <Option extends ChipOption>({\n  // option\n  value: valueProp,\n  defaultValue,\n  onChange,\n\n  // input\n  getRef,\n  inputValue: inputValueProp,\n  defaultInputValue: inputDefaultValueProp,\n  onInputChange: onInputChangeProp,\n  getOptionValue,\n  getOptionLabel,\n  getNewOptionData,\n\n  // other\n  disabled,\n  allowClearButton,\n  delimiter,\n  ...restProps\n}: ChipsInputProps<Option>): React.ReactNode => {\n  const {\n    value,\n    addOptionFromInput,\n    removeOption,\n    clearOptions,\n\n    // input\n    inputRef: inputRefHook,\n    inputValue,\n    onInputChange,\n  } = useChipsInput({\n    // option\n    value: valueProp,\n    defaultValue,\n    onChange,\n    getOptionLabel,\n    getOptionValue,\n    getNewOptionData,\n\n    // input\n    inputValue: inputValueProp,\n    defaultInputValue: inputDefaultValueProp,\n    onInputChange: onInputChangeProp,\n\n    // other\n    disabled,\n    delimiter,\n  });\n  const inputRef = useExternRef(getRef, inputRefHook);\n\n  return (\n    <ChipsInputBase\n      {...restProps}\n      disabled={disabled}\n      value={value}\n      clearButtonShown={allowClearButton && (!!value.length || !!inputValue.length)}\n      onAddChipOption={addOptionFromInput}\n      onRemoveChipOption={removeOption}\n      onClear={clearOptions}\n      getRef={inputRef}\n      inputValue={inputValue}\n      onInputChange={onInputChange}\n    />\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { type MouseEventHandler } from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useGlobalOnEventOutside } from '../../hooks/useGlobalOnClickOutside';\nimport { Keys } from '../../lib/accessibility';\nimport type { Placement } from '../../lib/floating';\nimport { defaultFilterFn } from '../../lib/select';\nimport { ChipsInputBase } from '../ChipsInputBase/ChipsInputBase';\nimport {\n  getNewOptionDataDefault,\n  getOptionLabelDefault,\n  getOptionValueDefault,\n  renderChipDefault,\n} from '../ChipsInputBase/constants';\nimport type { ChipOption, ChipsInputBaseProps } from '../ChipsInputBase/types';\nimport {\n  CustomSelectDropdown,\n  type CustomSelectDropdownProps,\n} from '../CustomSelectDropdown/CustomSelectDropdown';\nimport {\n  CustomSelectOption,\n  type CustomSelectOptionProps,\n} from '../CustomSelectOption/CustomSelectOption';\nimport { DropdownIcon } from '../DropdownIcon/DropdownIcon';\nimport type { FormFieldProps } from '../FormField/FormField';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport {\n  DEFAULT_EMPTY_TEXT,\n  DEFAULT_SELECTED_BEHAVIOR,\n  FOCUS_ACTION_NEXT,\n  FOCUS_ACTION_PREV,\n  isCreateNewOptionPreset,\n  isEmptyOptionPreset,\n  isNotServicePreset,\n  renderOptionDefault,\n} from './constants';\nimport type { FocusActionType, OptionPreset } from './types';\nimport { useChipsSelect, type UseChipsSelectProps } from './useChipsSelect';\nimport styles from './ChipsSelect.module.css';\n\nconst findIndexAfter = <O extends ChipOption>(\n  options: Array<OptionPreset<O>> = [],\n  startIndex = -1,\n) => {\n  if (startIndex >= options.length - 1) {\n    return -1;\n  }\n  return options.findIndex(\n    (option, i) => i > startIndex && (!isNotServicePreset(option) || !option.disabled),\n  );\n};\n\nconst findIndexBefore = <O extends ChipOption>(\n  options: Array<OptionPreset<O>> = [],\n  endIndex: number = options.length,\n) => {\n  let result = -1;\n  if (endIndex <= 0) {\n    return result;\n  }\n  for (let i = endIndex - 1; i >= 0; i--) {\n    let option = options[i];\n\n    if (!isNotServicePreset(option) || !option.disabled) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n};\n\nexport interface ChipsSelectProps<O extends ChipOption>\n  extends ChipsInputBaseProps<O>,\n    UseChipsSelectProps<O>,\n    Pick<FormFieldProps, 'status' | 'mode' | 'before'>,\n    Pick<CustomSelectDropdownProps, 'overscrollBehavior'> {\n  /**\n   * Расположение выпадающего списка.\n   */\n  placement?: 'top' | 'bottom';\n  /**\n   * Отрисовка Spinner вместо списка опций в выпадающем списке.\n   */\n  fetching?: boolean;\n  /**\n   * Закрытие выпадающего списка после выбора элемента.\n   */\n  closeAfterSelect?: boolean;\n  /**\n   * Ширина раскрывающегося списка зависит от контента.\n   */\n  dropdownAutoWidth?: boolean;\n  /**\n   * Принудительно использовать портал.\n   */\n  forceDropdownPortal?: boolean;\n  /**\n   * Передает атрибут `data-testid` для дропдауна.\n   */\n  dropdownTestId?: string;\n  /**\n   * Иконка раскрывающегося списка.\n   */\n  icon?: React.ReactNode;\n  /**\n   * Добавляет значение в список на событие `onBlur` (использовать вместе с `creatable`).\n   */\n  addOnBlur?: boolean;\n  /**\n   * Отключает максимальную высоту по умолчанию.\n   */\n  noMaxHeight?: boolean;\n  /**\n   * Функция для отрисовки кастомной опции в выпадающем списке.\n   */\n  renderOption?: (props: CustomSelectOptionProps, option: O) => React.ReactNode;\n  /**\n   * Рендер-проп для кастомного рендера содержимого дропдауна.\n   * В `defaultDropdownContent` содержится список опций.\n   */\n  renderDropdown?: ({\n    defaultDropdownContent,\n  }: {\n    defaultDropdownContent: React.ReactNode;\n  }) => React.ReactNode;\n  /**\n   * Событие срабатывающее перед `onChange`.\n   */\n  onChangeStart?: (event: React.MouseEvent | React.KeyboardEvent, option: O) => void;\n\n  /**\n   * Отступ от выпадающего списка.\n   */\n  dropdownOffsetDistance?: number;\n\n  /**\n   * Если `true`, то справа будет отображаться кнопка для очистки значения.\n   */\n  allowClearButton?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/chips-select\n */\nexport const ChipsSelect = <Option extends ChipOption>({\n  // FormFieldProps\n  id: labelledbyId,\n  getRootRef,\n  className,\n  status = 'default',\n  icon: dropdownIconProp,\n  onChangeStart,\n\n  // CustomSelectDropdownProps\n  options: optionsProp,\n  placement: placementProp = 'bottom',\n  closeAfterSelect = true,\n  selectedBehavior = DEFAULT_SELECTED_BEHAVIOR,\n  emptyText = DEFAULT_EMPTY_TEXT,\n  creatable = false,\n  fetching = false,\n  dropdownAutoWidth,\n  forceDropdownPortal,\n  noMaxHeight = false,\n  filterFn = defaultFilterFn,\n  sortFn = false,\n  dropdownTestId,\n  onClose,\n  onOpen,\n  overscrollBehavior,\n  renderDropdown,\n\n  // ChipsInputProps\n  getRef,\n  value: valueProp,\n  defaultValue,\n  inputValue: inputValueProp,\n  defaultInputValue,\n  disabled,\n  readOnly,\n  getOptionValue = getOptionValueDefault,\n  getOptionLabel = getOptionLabelDefault,\n  getNewOptionData = getNewOptionDataDefault,\n  renderChip = renderChipDefault,\n  renderOption = renderOptionDefault,\n  onChange,\n  onFocus: onFocusProp,\n  onInputChange: onInputChangeProp,\n  onBlur: onBlurProp,\n  onKeyDown: onKeyDownProp,\n  dropdownOffsetDistance = 0,\n  allowClearButton,\n  clearButtonTestId,\n  delimiter,\n\n  // a11y\n  chipsListLabel,\n  ...restProps\n}: ChipsSelectProps<Option>): React.ReactNode => {\n  const {\n    // Связано с ChipsInputProps\n    // option\n    value,\n    addOptionFromInput,\n    addOption,\n    removeOption,\n    clearOptions,\n    // input\n    inputRef: inputRefHook,\n    inputValue,\n    clearInput,\n    onInputChange,\n\n    // Связано с CustomSelectDropdownProps\n    options,\n    opened,\n    setOpened,\n    focusedOption,\n    focusedOptionIndex,\n    setFocusedOption,\n    setFocusedOptionIndex,\n  } = useChipsSelect({\n    // option\n    value: valueProp,\n    defaultValue,\n    onChange,\n    getOptionValue,\n    getOptionLabel,\n    getNewOptionData,\n\n    // input\n    inputValue: inputValueProp,\n    defaultInputValue,\n    onInputChange: onInputChangeProp,\n\n    // dropdown\n    options: optionsProp,\n    emptyText,\n    creatable,\n    filterFn,\n    sortFn,\n    selectedBehavior,\n    onClose,\n    onOpen,\n\n    // other\n    disabled,\n    delimiter,\n  });\n\n  // Связано с ChipsInputProps\n  const rootRef = useExternRef(getRootRef);\n  const inputRef = useExternRef(getRef, inputRefHook);\n\n  // Связано с CustomSelectDropdownProps\n  const [dropdownVerticalPlacement, setDropdownVerticalPlacement] = React.useState<\n    'top' | 'bottom'\n  >(placementProp);\n\n  const onDropdownPlacementChange = React.useCallback((placement: Placement) => {\n    if (placement.startsWith('top')) {\n      setDropdownVerticalPlacement('top');\n    } else if (placement.startsWith('bottom')) {\n      setDropdownVerticalPlacement('bottom');\n    }\n  }, []);\n\n  const dropdownId = React.useId();\n  const dropdownCurrentItemId =\n    focusedOptionIndex !== null ? `${dropdownId}-${focusedOptionIndex}` : undefined;\n  const dropdownScrollBoxRef = React.useRef<HTMLDivElement>(null);\n\n  const handleFocus = (event: React.FocusEvent<HTMLInputElement>) => {\n    if (onFocusProp) {\n      onFocusProp(event);\n    }\n\n    if (!readOnly) {\n      setOpened(true);\n      setFocusedOptionIndex(null);\n    }\n  };\n\n  const handleBlur = (event: React.FocusEvent<HTMLInputElement>) => {\n    if (onBlurProp) {\n      onBlurProp(event);\n    }\n\n    // Не добавляем значение, если его нужно выбрать строго из списка\n    if (!readOnly && !event.defaultPrevented && !creatable) {\n      event.preventDefault();\n    }\n  };\n\n  const chipsSelectOptions = React.useRef<HTMLElement[]>([]).current;\n\n  const scrollToElement = (index: number, center = false) => {\n    const dropdown = dropdownScrollBoxRef.current;\n    const item = chipsSelectOptions[index];\n\n    /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n    if (!item || !dropdown) {\n      return;\n    }\n\n    const dropdownHeight = dropdown.offsetHeight;\n    const scrollTop = dropdown.scrollTop;\n    const itemTop = item.offsetTop;\n    const itemHeight = item.offsetHeight;\n\n    /* istanbul ignore next: нет представления как воспроизвести */\n    if (center) {\n      dropdown.scrollTop = itemTop - dropdownHeight / 2 + itemHeight / 2;\n    } else if (itemTop + itemHeight > dropdownHeight + scrollTop) {\n      dropdown.scrollTop = itemTop - dropdownHeight + itemHeight;\n    } else if (itemTop < scrollTop) {\n      dropdown.scrollTop = itemTop;\n    }\n  };\n\n  const focusOptionByIndex = (index: number, oldIndex: number | null) => {\n    if (index === oldIndex) {\n      /* istanbul ignore next: нет представления как воспроизвести */\n      return;\n    }\n\n    const option = options[index];\n\n    if (isNotServicePreset(option) && option.disabled) {\n      return;\n    }\n\n    scrollToElement(index);\n    setFocusedOptionIndex(index);\n  };\n\n  const focusOption = (nextIndex: number | null, type: FocusActionType) => {\n    let index = nextIndex === null ? -1 : nextIndex;\n\n    if (type === FOCUS_ACTION_NEXT) {\n      const nextIndex = findIndexAfter(options, index);\n      index = nextIndex === -1 ? findIndexAfter(options) : nextIndex; // Следующий за index или первый валидный до index\n    } else if (type === FOCUS_ACTION_PREV) {\n      const beforeIndex = findIndexBefore(options, index);\n      index = beforeIndex === -1 ? findIndexBefore(options) : beforeIndex; // Предшествующий index или последний валидный после index\n    }\n\n    focusOptionByIndex(index, focusedOptionIndex);\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\n    if (onKeyDownProp) {\n      onKeyDownProp(event);\n    }\n\n    if (event.defaultPrevented || readOnly) {\n      return;\n    }\n\n    switch (event.key) {\n      case Keys.ARROW_UP:\n      case Keys.ARROW_DOWN:\n        event.preventDefault();\n\n        if (!opened) {\n          setOpened(true);\n          focusOption(null, FOCUS_ACTION_NEXT);\n        } else {\n          focusOption(\n            focusedOptionIndex,\n            event.key === Keys.ARROW_UP ? FOCUS_ACTION_PREV : FOCUS_ACTION_NEXT,\n          );\n        }\n        break;\n      case Keys.ENTER: {\n        if (!opened) {\n          break;\n        }\n        if (focusedOptionIndex != null) {\n          const foundOption = options[focusedOptionIndex];\n          if (foundOption && isNotServicePreset(foundOption)) {\n            event.preventDefault();\n\n            if (onChangeStart) {\n              onChangeStart(event, foundOption);\n            }\n\n            addOption(foundOption);\n            setFocusedOptionIndex(null);\n            clearInput();\n            if (closeAfterSelect) {\n              setOpened(false);\n            }\n\n            break;\n          }\n        }\n\n        if (!creatable) {\n          event.preventDefault();\n        }\n        break;\n      }\n      case Keys.ESCAPE:\n      case Keys.TAB:\n        if (opened) {\n          setOpened(false);\n        }\n    }\n  };\n\n  React.useEffect(() => {\n    if (focusedOptionIndex === null) {\n      setFocusedOption(null);\n    } else {\n      const foundFocusedOptionIndex = options[focusedOptionIndex];\n\n      if (foundFocusedOptionIndex && isNotServicePreset(foundFocusedOptionIndex)) {\n        setFocusedOption(foundFocusedOptionIndex);\n      }\n    }\n  }, [options, focusedOptionIndex, setFocusedOption]);\n\n  const onDropdownMouseLeave = React.useCallback(() => {\n    setFocusedOptionIndex(null);\n  }, [setFocusedOptionIndex]);\n\n  const handleClickOutside = React.useCallback(() => {\n    setOpened(false);\n  }, [setOpened]);\n\n  useGlobalOnEventOutside(\n    'mousedown', // см. https://github.com/VKCOM/VKUI/pull/8582\n    handleClickOutside,\n    opened ? rootRef : null,\n    opened ? dropdownScrollBoxRef : null,\n  );\n\n  const onDropdownIconClick: MouseEventHandler<SVGSVGElement> = React.useCallback(\n    (e) => {\n      e.preventDefault();\n      setOpened(!opened);\n    },\n    [opened, setOpened],\n  );\n\n  const dropdownContent = React.useMemo(() => {\n    const defaultDropdownContent = options.map((option, index) => {\n      const dropdownItemId = `${dropdownId}-${index}`;\n\n      if (isEmptyOptionPreset(option)) {\n        return (\n          <Footnote key=\"empty-text\" className={styles.empty}>\n            {option.placeholder}\n          </Footnote>\n        );\n      }\n      if (isCreateNewOptionPreset(option)) {\n        return (\n          <CustomSelectOption\n            key=\"create-new-option\"\n            id={dropdownItemId}\n            hovered={focusedOptionIndex === index}\n            onMouseDown={() => addOptionFromInput(inputValue)}\n            onMouseEnter={() => setFocusedOptionIndex(index)}\n          >\n            {option.actionText}\n          </CustomSelectOption>\n        );\n      }\n      return (\n        <React.Fragment key={`${typeof option.value}-${option.value}`}>\n          {renderOption(\n            {\n              id: dropdownItemId,\n              disabled: option.disabled,\n              hovered: focusedOption\n                ? getOptionValue(option) === getOptionValue(focusedOption)\n                : false,\n              children: option.label,\n              selected: !!value.find(\n                (selectedOption: Option) =>\n                  getOptionValue(selectedOption) === getOptionValue(option),\n              ),\n              getRootRef(node) {\n                if (node) {\n                  chipsSelectOptions[index] = node;\n                }\n              },\n              onMouseDown(event: React.MouseEvent<HTMLDivElement>) {\n                if (option.disabled) {\n                  return;\n                }\n                if (onChangeStart) {\n                  onChangeStart(event, option);\n                }\n\n                if (!event.defaultPrevented) {\n                  closeAfterSelect && setOpened(false);\n                  addOption(option);\n                  clearInput();\n                }\n              },\n              onMouseEnter() {\n                setFocusedOptionIndex(index);\n              },\n            },\n            option,\n          )}\n        </React.Fragment>\n      );\n    });\n\n    if (renderDropdown) {\n      return renderDropdown({\n        defaultDropdownContent,\n      });\n    }\n    return defaultDropdownContent;\n  }, [\n    addOption,\n    addOptionFromInput,\n    chipsSelectOptions,\n    clearInput,\n    closeAfterSelect,\n    dropdownId,\n    focusedOption,\n    focusedOptionIndex,\n    getOptionValue,\n    inputValue,\n    onChangeStart,\n    options,\n    renderDropdown,\n    renderOption,\n    setFocusedOptionIndex,\n    setOpened,\n    value,\n  ]);\n\n  const openedClassNames = React.useMemo(\n    () =>\n      (opened &&\n        dropdownOffsetDistance === 0 &&\n        (dropdownVerticalPlacement.includes('top') ? styles.popUp : styles.popDown)) ||\n      undefined,\n    [dropdownOffsetDistance, opened, dropdownVerticalPlacement],\n  );\n\n  const clearButtonShown = allowClearButton && (!!value.length || !!inputValue.length);\n\n  return (\n    <>\n      <ChipsInputBase\n        {...restProps}\n        disabled={disabled}\n        readOnly={readOnly}\n        clearButtonShown={clearButtonShown}\n        clearButtonTestId={clearButtonTestId}\n        // FormFieldProps\n        id={labelledbyId}\n        getRootRef={rootRef}\n        className={classNames(styles.host, openedClassNames, className)}\n        status={status}\n        after={\n          dropdownIconProp || (\n            <DropdownIcon\n              opened={opened}\n              onClick={onDropdownIconClick}\n              className={classNames(\n                styles.dropdownIcon,\n                clearButtonShown && styles.dropdownIconWithOffset,\n              )}\n            />\n          )\n        }\n        // option\n        value={value}\n        onAddChipOption={addOptionFromInput}\n        onRemoveChipOption={removeOption}\n        renderChip={renderChip}\n        onClear={clearOptions}\n        // input\n        getRef={inputRef}\n        inputValue={inputValue}\n        onInputChange={onInputChange}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        onKeyDown={handleKeyDown}\n        // a11y\n        role=\"combobox\"\n        aria-expanded={opened}\n        aria-autocomplete=\"list\"\n        aria-activedescendant={opened ? dropdownCurrentItemId : undefined}\n        aria-haspopup=\"listbox\"\n        chipsListLabel={chipsListLabel}\n      />\n      {opened && (\n        <CustomSelectDropdown\n          data-testid={dropdownTestId}\n          targetRef={rootRef}\n          placement={dropdownVerticalPlacement}\n          scrollBoxRef={dropdownScrollBoxRef}\n          onPlacementChange={onDropdownPlacementChange}\n          onMouseLeave={onDropdownMouseLeave}\n          fetching={fetching}\n          autoWidth={dropdownAutoWidth}\n          forcePortal={forceDropdownPortal}\n          noMaxHeight={noMaxHeight}\n          offsetDistance={dropdownOffsetDistance}\n          overscrollBehavior={overscrollBehavior}\n          // a11y\n          id={dropdownId}\n          role=\"listbox\"\n          aria-labelledby={labelledbyId}\n        >\n          {dropdownContent}\n        </CustomSelectDropdown>\n      )}\n    </>\n  );\n};\n", "import type * as React from 'react';\nimport type { SelectType } from '../components/Select/Select';\nimport { getTextFromChildren } from './children';\n\nexport type Option = {\n  value?: unknown;\n  label?: React.ReactNode;\n  [index: string]: any;\n};\n\nexport type GetOptionLabel<O extends Option> = (option: O) => O['label'];\n\nexport type FilterFn<O extends Option> = (\n  inputValue: string,\n  option: O,\n  getOptionsLabel?: GetOptionLabel<O>,\n) => boolean;\n\nexport type SortFn<O extends Option> = (optionA: O, optionB: O, inputValue: string) => number;\n\nfunction getOptionLabelDefault<O extends Option>(option: O): O['label'] {\n  return option.label;\n}\n\nexport function defaultFilterFn<O extends Option>(\n  ...args: Parameters<FilterFn<O>>\n): ReturnType<FilterFn<O>> {\n  const [rawSearchQuery = '', option, getOptionLabel] = args;\n  const foundRawLabel = getOptionLabel ? getOptionLabel(option) : getOptionLabelDefault(option);\n\n  if (foundRawLabel === undefined) {\n    return false;\n  }\n\n  const searchQuery = rawSearchQuery.toLocaleLowerCase();\n  const label = getTextFromChildren(foundRawLabel).toLocaleLowerCase();\n\n  if (label.startsWith(searchQuery)) {\n    return true;\n  }\n\n  const findAllIncludes = (target = '', search = '') => {\n    const includes = [];\n    let i = target.indexOf(search);\n    while (i !== -1) {\n      includes.push(i);\n      i = target.indexOf(search, i + 1);\n    }\n    return includes;\n  };\n\n  const includes = findAllIncludes(label, searchQuery);\n\n  if (includes.length) {\n    // Ищем вхождение перед началом которого не буква\n    const letterRegexp = new RegExp('\\\\p{L}', 'u');\n\n    for (const index of includes) {\n      if (!letterRegexp.test(label[index - 1])) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\nexport const getFormFieldModeFromSelectType = (\n  selectType: SelectType = 'default',\n): 'default' | 'plain' => {\n  return selectType === 'default' ? 'default' : 'plain';\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { Placement } from '../../lib/floating';\nimport type { HasDataAttribute, HTMLAttributesWithRootRef } from '../../types';\nimport { CustomScrollView, type CustomScrollViewProps } from '../CustomScrollView/CustomScrollView';\nimport { Popper } from '../Popper/Popper';\nimport { Spinner } from '../Spinner/Spinner';\nimport styles from './CustomSelectDropdown.module.css';\n\nexport interface CustomSelectDropdownProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement>,\n    Pick<CustomScrollViewProps, 'overscrollBehavior'>,\n    HasDataAttribute {\n  targetRef: React.RefObject<HTMLElement | null>;\n  placement?: Placement;\n  scrollBoxRef?: React.Ref<HTMLDivElement>;\n  fetching?: boolean;\n  offsetDistance?: number;\n  /**\n   * Ширина раскрывающегося списка зависит от контента.\n   */\n  autoWidth?: boolean;\n  forcePortal?: boolean;\n  onPlacementChange?: (placement: Placement) => void;\n  /**\n   * Отключает максимальную высоту по умолчанию.\n   */\n  noMaxHeight?: boolean;\n}\n\nexport const CustomSelectDropdown = ({\n  children,\n  targetRef,\n  scrollBoxRef,\n  placement = 'bottom',\n  fetching,\n  offsetDistance = 0,\n  autoWidth = false,\n  forcePortal = true,\n  className,\n  noMaxHeight = false,\n  // CustomScrollView\n  overscrollBehavior,\n  ...restProps\n}: CustomSelectDropdownProps): React.ReactNode => {\n  return (\n    <Popper\n      targetRef={targetRef}\n      offsetByMainAxis={offsetDistance}\n      sameWidth={!autoWidth}\n      placement={placement}\n      className={classNames(\n        styles.host,\n        'vkuiInternalCustomSelectDropdown',\n        offsetDistance === 0 && (placement.includes('top') ? styles.top : styles.bottom),\n        autoWidth && classNames(styles.wide, 'vkuiInternalCustomSelectDropdown--wide'),\n        className,\n      )}\n      usePortal={forcePortal}\n      autoUpdateOnTargetResize\n      flipMiddlewareFallbackAxisSideDirection=\"none\"\n      {...restProps}\n    >\n      <CustomScrollView\n        getRootRef={scrollBoxRef}\n        className={noMaxHeight ? undefined : styles.inWithMaxHeight}\n        overscrollBehavior={overscrollBehavior}\n        tabIndex={-1}\n        aria-busy={fetching}\n      >\n        {fetching ? (\n          <div className={styles.fetching}>\n            <Spinner size=\"s\" />\n          </div>\n        ) : (\n          children\n        )}\n      </CustomScrollView>\n    </Popper>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Done } from '@vkontakte/icons';\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport type { CSSCustomProperties, HTMLAttributesWithRootRef } from '../../types';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { Paragraph } from '../Typography/Paragraph/Paragraph';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './CustomSelectOption.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  regular: styles.sizeYRegular,\n};\n\nexport interface CustomSelectOptionProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Добавляет описание под основным блоком.\n   */\n  description?: React.ReactNode;\n  /**\n   * Вставляет элемент в начало блока перед основным контентом.\n   * Например, можно передать компонент `Avatar`, `Icon<Name>` или другие изображения.\n   */\n  before?: React.ReactNode;\n  /**\n   * Вставляет элемент в конец блока после основного контента.\n   * Например, можно передать компонент `Avatar`, `Icon<Name>` или другие изображения.\n   */\n  after?: React.ReactNode;\n  /**\n   * Позволяет создавать вложенность.\n   */\n  hierarchy?: number;\n  /**\n   * Включает состояние выбранного элемента списка.\n   */\n  selected?: boolean;\n  /**\n   * Включает состояние наведения.\n   */\n  hovered?: boolean;\n  /**\n   * Включает состояние фокуса.\n   */\n  focused?: boolean;\n  /**\n   * Блокирует весь блок.\n   *\n   * > ⚠️  Важно: если CustomSelectOption используется внутри [Select](https://vkui.io/components/select), [CustomSelect](https://vkui.io/components/custom-select) или [ChipsSelect](https://vkui.io/components/chips-select), то свойство явно должно выставляться только через структуру `options`.\n   * > Запрещается выставлять `disabled` проп опциям в обход `options`, иначе [CustomSelect](https://vkui.io/components/custom-select) и [ChipsSelect](https://vkui.io/components/chips-select) не будут знать об актуальном состоянии\n   * опции.\n   */\n  disabled?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/custom-select#custom-select-option\n */\nexport const CustomSelectOption = ({\n  children,\n  hierarchy = 0,\n  hovered: hoveredProp,\n  selected,\n  before,\n  after,\n  description,\n  disabled,\n  style: styleProp,\n  className,\n  onClick,\n  ...restProps\n}: CustomSelectOptionProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const style: (React.CSSProperties & CSSCustomProperties<number>) | undefined = React.useMemo(\n    () =>\n      hierarchy > 0\n        ? {\n            '--vkui_internal--custom_select_option_hierarchy_level': hierarchy,\n          }\n        : undefined,\n    [hierarchy],\n  );\n  const hovered = hoveredProp && !disabled ? true : false;\n\n  return (\n    <Paragraph\n      {...restProps}\n      onClick={disabled ? undefined : onClick}\n      Component=\"div\"\n      role=\"option\"\n      aria-disabled={disabled}\n      aria-selected={selected}\n      data-hovered={hovered}\n      className={classNames(\n        styles.host,\n        sizeY !== 'compact' && sizeYClassNames[sizeY],\n        hovered && styles.hover,\n        disabled && styles.disabled,\n        hierarchy > 0 && styles.hierarchy,\n        className,\n      )}\n      style={mergeStyle(style, styleProp)}\n    >\n      {hasReactNode(before) && <div className={styles.before}>{before}</div>}\n      <div className={styles.main}>\n        <div className={styles.children}>{children}</div>\n        {hasReactNode(description) && (\n          <Footnote className={styles.description}>\n            <VisuallyHidden>&nbsp;</VisuallyHidden>\n            {description}\n          </Footnote>\n        )}\n      </div>\n      <div className={styles.after}>\n        {hasReactNode(after) && <div>{after}</div>}\n        {selected && <Icon16Done className={styles.selectedIcon} />}\n      </div>\n    </Paragraph>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport {\n  Icon20ChevronUp,\n  Icon20Dropdown,\n  Icon24ChevronDown,\n  Icon24ChevronUp,\n} from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivityConditionalRender } from '../../hooks/useAdaptivityConditionalRender';\nimport type { HTMLAttributesWithRootRef } from '../../types';\n\nexport interface DropdownIconProps extends HTMLAttributesWithRootRef<SVGSVGElement> {\n  opened?: boolean;\n}\n\nexport const DropdownIcon = ({\n  opened = false,\n  className,\n  ...restProps\n}: DropdownIconProps): React.ReactNode => {\n  const { sizeY } = useAdaptivityConditionalRender();\n  const IconCompact = opened ? Icon20ChevronUp : Icon20Dropdown;\n  const IconRegular = opened ? Icon24ChevronUp : Icon24ChevronDown;\n\n  return (\n    <React.Fragment>\n      {sizeY.compact && (\n        <IconCompact className={classNames(sizeY.compact.className, className)} {...restProps} />\n      )}\n      {sizeY.regular && (\n        <IconRegular className={classNames(sizeY.regular.className, className)} {...restProps} />\n      )}\n    </React.Fragment>\n  );\n};\n", "import type { ChipOption } from '../ChipsInputBase/types';\nimport {\n  CustomSelectOption,\n  type CustomSelectOptionProps,\n} from '../CustomSelectOption/CustomSelectOption';\nimport type {\n  CreateNewOptionPreset,\n  FocusActionType,\n  OptionPreset,\n  PlaceholderPreset,\n} from './types';\n\nexport const DEFAULT_SELECTED_BEHAVIOR = 'highlight';\n\nexport const DEFAULT_EMPTY_TEXT = 'Ничего не найдено';\n\nexport const FOCUS_ACTION_NEXT: FocusActionType = 'next';\n\nexport const FOCUS_ACTION_PREV: FocusActionType = 'prev';\n\nexport const renderOptionDefault = (props: CustomSelectOptionProps): React.ReactNode => (\n  <CustomSelectOption {...props} />\n);\n\nexport const isCreateNewOptionPreset = <O extends ChipOption>(\n  option: OptionPreset<O>,\n): option is CreateNewOptionPreset => option && 'actionText' in option;\n\nexport const isEmptyOptionPreset = <O extends ChipOption>(\n  option: OptionPreset<O>,\n): option is PlaceholderPreset => option && 'placeholder' in option;\n\nexport const isNotServicePreset = <O extends ChipOption>(option: OptionPreset<O>): option is O =>\n  !isCreateNewOptionPreset(option) && !isEmptyOptionPreset(option);\n", "import * as React from 'react';\nimport { isEqual } from '@vkontakte/vkjs';\nimport { type SimulateReactInputTargetState } from '../../lib/react';\nimport { defaultFilterFn, type FilterFn, type SortFn } from '../../lib/select';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport {\n  transformValue,\n  useChipsInput,\n  type UseChipsInputProps,\n} from '../ChipsInput/useChipsInput';\nimport {\n  DEFAULT_INPUT_VALUE,\n  DEFAULT_VALUE,\n  getNewOptionDataDefault,\n  getOptionLabelDefault,\n  getOptionValueDefault,\n} from '../ChipsInputBase/constants';\nimport type { ChipOption, ChipOptionLabel, ChipOptionValue } from '../ChipsInputBase/types';\nimport { DEFAULT_EMPTY_TEXT, DEFAULT_SELECTED_BEHAVIOR, isNotServicePreset } from './constants';\nimport type { OptionPreset } from './types';\n\nexport interface UseChipsSelectProps<O extends ChipOption = ChipOption>\n  extends UseChipsInputProps<O> {\n  /**\n   * Список опций в выпадающем списке.\n   */\n  options?: O[];\n  /**\n   * Возможность создавать чипы которых нет в списке:\n   * - `true` – добавление по кнопке Enter;\n   * - `<текст>` – помимо возможности добавления через Enter, в пункте меню появится кнопка с текстом.\n   * Текст для пункта, создающего чипы при нажатии, также отвечает за то, будет ли показан этот пункт\n   * (показывается после того как в списке не останется опций).\n   */\n  creatable?: boolean | string;\n  /**\n   * Текст, который показывается если список опций пуст.\n   */\n  emptyText?: string;\n  /**\n   * Показывать или скрывать уже выбранные опции.\n   */\n  selectedBehavior?: 'hide' | 'highlight';\n  /**\n   * Функция для фильтрации опций в списке.\n   */\n  filterFn?: false | FilterFn<O>;\n  /**\n   * Функция для сортировки опций в списке.\n   */\n  sortFn?: false | SortFn<O>;\n  /**\n   * Будет вызвано в момент скрытия выпадающего списка.\n   */\n  onClose?: VoidFunction;\n  /**\n   * Будет вызвано в момент открытия выпадающего списка.\n   */\n  onOpen?: VoidFunction;\n}\n\nexport const useChipsSelect = <O extends ChipOption>({\n  // common\n  disabled,\n  delimiter,\n\n  // option\n  value: valueProp,\n  defaultValue,\n  onChange,\n  getOptionLabel = getOptionLabelDefault,\n  getOptionValue = getOptionValueDefault,\n  getNewOptionData = getNewOptionDataDefault,\n\n  // input\n  inputValue: inputValueProp,\n  defaultInputValue = DEFAULT_INPUT_VALUE,\n  onInputChange: onInputChangeProp,\n\n  // dropdown\n  creatable = false,\n  emptyText = DEFAULT_EMPTY_TEXT,\n  filterFn = defaultFilterFn,\n  sortFn = false,\n  selectedBehavior = DEFAULT_SELECTED_BEHAVIOR,\n  options: optionsProp = DEFAULT_VALUE,\n  onClose,\n  onOpen,\n}: UseChipsSelectProps<O>): {\n  // options\n  value: Array<\n    O & {\n      label: ChipOptionLabel;\n      value: ChipOptionValue;\n    }\n  >;\n  // input\n  inputValue: string;\n  onInputChange: (event: React.ChangeEvent<HTMLInputElement>) => void;\n  // dropdown states\n  options: Array<OptionPreset<O>>;\n  opened: boolean;\n  setOpened: (isOpened: boolean) => void;\n  focusedOption: O | null;\n  focusedOptionIndex: number | null;\n  setFocusedOption: React.Dispatch<React.SetStateAction<O | null>>;\n  setFocusedOptionIndex: React.Dispatch<React.SetStateAction<number | null>>;\n  addOption: (newValue: string | O) => void;\n  addOptionFromInput: (inputValue: string) => void;\n  removeOption: (newValue: ChipOptionValue | O) => void;\n  clearOptions: () => void;\n  inputRef: React.RefObject<(HTMLInputElement & SimulateReactInputTargetState) | null>;\n  clearInput: () => void;\n} => {\n  const { value, inputValue, onInputChange, ...restChipsInputProps } = useChipsInput({\n    // option\n    value: valueProp,\n    defaultValue,\n    onChange,\n    getOptionValue,\n    getOptionLabel,\n    getNewOptionData,\n\n    // input\n    inputValue: inputValueProp,\n    defaultInputValue,\n    onInputChange: onInputChangeProp,\n\n    // other\n    disabled,\n    delimiter,\n  });\n\n  // dropdown\n  const [opened, setOpened] = React.useState(false);\n  const [options, setOptions] = React.useState<Array<OptionPreset<O>>>(() =>\n    opened\n      ? transformOptions({\n          value,\n          getOptionValue,\n          getOptionLabel,\n          inputValue,\n          emptyText,\n          creatable,\n          filterFn,\n          sortFn,\n          options: optionsProp,\n          selectedBehavior,\n        })\n      : [],\n  );\n  const [focusedOptionIndex, setFocusedOptionIndex] = React.useState<number | null>(0);\n  const [focusedOption, setFocusedOption] = React.useState<O | null>(null);\n\n  const handleOpened = React.useCallback(\n    (isOpened: boolean) => {\n      isOpened ? onOpen?.() : onClose?.();\n      setOpened(isOpened);\n    },\n    [onOpen, onClose],\n  );\n\n  const handleInputChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      onInputChange(event, !!creatable);\n\n      if (!opened) {\n        handleOpened(true);\n        setFocusedOptionIndex(0);\n      }\n    },\n    [onInputChange, creatable, opened, handleOpened],\n  );\n\n  useIsomorphicLayoutEffect(\n    function handleDropdownOpen() {\n      if (!opened) {\n        return;\n      }\n\n      setOptions((prevOptions) => {\n        const nextOptions = transformOptions({\n          value,\n          getOptionValue,\n          getOptionLabel,\n          inputValue,\n          emptyText,\n          creatable,\n          filterFn,\n          sortFn,\n          options: optionsProp,\n          selectedBehavior,\n        });\n\n        if (isEqual(prevOptions, nextOptions)) {\n          return prevOptions;\n        }\n\n        return nextOptions;\n      });\n    },\n    [\n      opened,\n      value,\n      getOptionLabel,\n      getOptionValue,\n      inputValue,\n      optionsProp,\n      creatable,\n      selectedBehavior,\n      filterFn,\n      sortFn,\n    ],\n  );\n\n  return {\n    ...restChipsInputProps,\n\n    // options\n    value,\n\n    // input\n    inputValue,\n    onInputChange: handleInputChange,\n\n    // dropdown states\n    options,\n    opened,\n    setOpened: handleOpened,\n    focusedOption,\n    focusedOptionIndex,\n    setFocusedOption,\n    setFocusedOptionIndex,\n  };\n};\n\nfunction transformOptions<O extends ChipOption>({\n  value,\n  getOptionValue = getOptionValueDefault,\n  getOptionLabel = getOptionLabelDefault,\n  inputValue = DEFAULT_INPUT_VALUE,\n  emptyText = DEFAULT_EMPTY_TEXT,\n  creatable = false,\n  sortFn = false,\n  filterFn = defaultFilterFn,\n  options: optionsProp = DEFAULT_VALUE,\n  selectedBehavior = DEFAULT_SELECTED_BEHAVIOR,\n}: Required<Pick<UseChipsSelectProps<O>, 'value'>> &\n  Pick<\n    UseChipsSelectProps<O>,\n    | 'getOptionValue'\n    | 'getOptionLabel'\n    | 'inputValue'\n    | 'emptyText'\n    | 'creatable'\n    | 'filterFn'\n    | 'sortFn'\n    | 'options'\n    | 'selectedBehavior'\n  >) {\n  const filteredOptionsProp = filterFn\n    ? optionsProp.filter((option) => filterFn(inputValue, option, getOptionLabel))\n    : optionsProp;\n\n  if (filteredOptionsProp.length === 0) {\n    if (inputValue !== DEFAULT_INPUT_VALUE && typeof creatable === 'string') {\n      return [{ actionText: creatable }];\n    }\n    return [{ placeholder: emptyText }];\n  }\n\n  if (sortFn) {\n    filteredOptionsProp.sort((optionA, optionB) => sortFn(optionA, optionB, inputValue));\n  }\n\n  const parsedOptions = transformValue(filteredOptionsProp, getOptionValue, getOptionLabel);\n\n  if (selectedBehavior === 'hide') {\n    const selected = value.map((item) => item.value);\n    return parsedOptions.filter((item) =>\n      isNotServicePreset(item) ? !selected.includes(item.value) : false,\n    );\n  }\n  return parsedOptions;\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { clamp } from '../../helpers/math';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport type { CSSCustomProperties, HTMLAttributesWithRootRef } from '../../types';\nimport { type CustomTouchEvent, type CustomTouchEventHandler, Touch } from '../Touch/Touch';\nimport { SliderThumb } from './SliderThumb/SliderThumb';\nimport {\n  extractSliderAriaAttributesFromRestProps,\n  getDraggingTypeByTargetDataset,\n  isMultipleValues,\n  offsetToValue,\n  snapDirection,\n  toPercent,\n  updateInternalStateValue,\n  updateInternalStateValueByNativeChange,\n} from './helpers';\nimport type { InternalDraggingType, InternalGestureRef, InternalValueState } from './types';\nimport styles from './Slider.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nconst sizeClassNames = {\n  l: styles.sizeL,\n  m: styles.sizeM,\n  s: styles.sizeS,\n};\n\nexport interface SliderBaseProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'value' | 'defaultValue' | 'onChange'> {\n  /**\n   * Минимальное значение слайдера.\n   */\n  min?: number;\n  /**\n   * Максимальное значение слайдера.\n   */\n  max?: number;\n  /**\n   * Шаг изменения значения слайдера.\n   */\n  step?: number;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n  /**\n   * Тоже самое, что и `aria-label`, но на вход можно получать индекс текущего ползунка и в зависимости от этого выдавать разный текст.\n   *\n   * > Перебивает `aria-label`.\n   */\n  getAriaLabel?: (index: number) => string;\n  /**\n   * В отличие от `aria-valuetext`, позволяет более гибко форматировать текст в зависимости от значения ползунка.\n   *\n   * Полезно при использовании компонента как неконтролируемого.\n   *\n   * > Перебивает `aria-valuetext`.\n   */\n  getAriaValueText?: (value: number, index: number) => string;\n  /**\n   * Включает отображение всплывающей подсказки при взаимодействии с ползунком.\n   */\n  withTooltip?: boolean;\n  /**\n   * Размер ползунка.\n   */\n  size?: 's' | 'm' | 'l';\n  /**\n   * Передает атрибут `data-testid` для первого ползунка.\n   */\n  startThumbTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для второго ползунка когда `multiple=true`.\n   */\n  endThumbTestId?: string;\n}\n\nexport interface SliderProps extends SliderBaseProps {\n  /**\n   * Флаг множественного выбора (должен быть false или не указан).\n   */\n  multiple?: false;\n  /**\n   * Текущее значение слайдера.\n   */\n  value?: number;\n  /**\n   * Значение слайдера по умолчанию.\n   */\n  defaultValue?: number;\n  /**\n   * Обработчик изменения значения слайдера.\n   */\n  onChange?: (value: number, event: CustomTouchEvent | React.ChangeEvent) => void;\n}\n\nexport interface SliderMultipleProps extends SliderBaseProps {\n  /**\n   * Флаг множественного выбора (должен быть true).\n   */\n  multiple: true;\n  /**\n   * Текущие значения слайдера в виде массива [начальное, конечное].\n   */\n  value?: [number, number];\n  /**\n   * Значения слайдера по умолчанию в виде массива [начальное, конечное].\n   */\n  defaultValue?: [number, number];\n  /**\n   * Обработчик изменения значений слайдера.\n   */\n  onChange?: (value: [number, number], event: CustomTouchEvent | React.ChangeEvent) => void;\n}\n\n/**\n * @see https://vkui.io/components/slider\n */\nexport const Slider = ({\n  step = 1,\n  min = 0,\n  max = 100,\n  value: valueProp,\n  multiple: multipleProp,\n  defaultValue = multipleProp ? [min, max] : min,\n  disabled,\n  className,\n  getRootRef,\n  getAriaLabel,\n  getAriaValueText,\n  startThumbTestId,\n  endThumbTestId,\n  onChange,\n  withTooltip,\n  size = 'l',\n  style: styleProp,\n  ...restProps\n}: SliderProps | SliderMultipleProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n\n  const isControlled = valueProp !== undefined;\n  const [localValue, setValue] = React.useState(defaultValue);\n\n  const value = React.useMemo<InternalValueState>(() => {\n    const resolvedValue = isControlled ? valueProp : localValue;\n    return Array.isArray(resolvedValue)\n      ? [clamp(resolvedValue[0], min, max), clamp(resolvedValue[1], min, max)]\n      : [clamp(resolvedValue, min, max), null];\n  }, [isControlled, valueProp, localValue, min, max]);\n\n  const [startValue, endValue] = value;\n  const multiple = multipleProp && endValue !== null;\n  const startValueInPercent = toPercent(startValue, min, max);\n  const endReversedValueInPercent = multiple ? toPercent(endValue, min, max) : 0;\n  const [activeThumb, setActiveThumb] = React.useState<InternalDraggingType | null>(null);\n\n  const gesture = React.useRef<InternalGestureRef>({\n    dragging: null,\n    startX: 0,\n    containerWidth: 0,\n  }).current;\n  const thumbsContainerRef = useExternRef(getRootRef);\n  const thumbStartInputRef = React.useRef<HTMLInputElement>(null);\n  const thumbEndInputRef = React.useRef<HTMLInputElement>(null);\n\n  const { ariaLabel, ariaValueText, ariaLabelledBy, ...restPropsWithoutAriaAttributes } =\n    extractSliderAriaAttributesFromRestProps(restProps);\n\n  const changeValue = (\n    nextValue: InternalValueState,\n    event: CustomTouchEvent | React.ChangeEvent,\n  ) => {\n    if (disabled || (value[0] === nextValue[0] && value[1] === nextValue[1])) {\n      return;\n    }\n\n    if (multipleProp) {\n      if (isMultipleValues(nextValue)) {\n        !isControlled && setValue(nextValue);\n        onChange && onChange(nextValue, event);\n      }\n    } else {\n      !isControlled && setValue(nextValue[0]);\n      onChange && onChange(nextValue[0], event);\n    }\n  };\n\n  const handlePointerStart: CustomTouchEventHandler = (event: CustomTouchEvent) => {\n    if (!thumbsContainerRef.current) {\n      return;\n    }\n\n    const { left: nextContainerX, width: nextContainerWidth } =\n      thumbsContainerRef.current.getBoundingClientRect();\n\n    // @ts-expect-error: TS2345 в VKUITouchEvent плохо описаны типы. `target` это просто `EventTarget`.\n    const foundDraggingType = getDraggingTypeByTargetDataset(event.originalEvent.target);\n\n    let nextStartX = event.startX - nextContainerX;\n    if (isRtl) {\n      nextStartX = nextContainerWidth - nextStartX;\n    }\n    const nextValue = offsetToValue(nextStartX, nextContainerWidth, min, max, step);\n    const nextDragging = snapDirection(value, nextValue, foundDraggingType);\n\n    gesture.dragging = nextDragging;\n    gesture.containerWidth = nextContainerWidth;\n    gesture.startX = nextStartX;\n\n    const updatedInternalStateValue = updateInternalStateValue(\n      value,\n      nextValue,\n      min,\n      max,\n      nextDragging,\n    );\n\n    const [nextStartValue, nextEndValue] = updatedInternalStateValue;\n    if (\n      thumbStartInputRef.current &&\n      (foundDraggingType === 'start' ||\n        (nextStartValue !== startValue && nextEndValue === endValue))\n    ) {\n      thumbStartInputRef.current.focus();\n      event.originalEvent.preventDefault();\n    } else if (\n      thumbEndInputRef.current &&\n      (foundDraggingType === 'end' || (nextEndValue !== endValue && nextStartValue === startValue))\n    ) {\n      thumbEndInputRef.current.focus();\n      event.originalEvent.preventDefault();\n    }\n\n    changeValue(updatedInternalStateValue, event);\n\n    event.originalEvent.stopPropagation();\n    setActiveThumb(gesture.dragging);\n  };\n\n  const handlePointerMove: CustomTouchEventHandler = (event: CustomTouchEvent) => {\n    const { startX, containerWidth, dragging } = gesture;\n\n    const { shiftX = 0 } = event;\n    const nextStartX = startX + (isRtl ? -shiftX : shiftX);\n    const nextValue = offsetToValue(nextStartX, containerWidth, min, max, step);\n\n    changeValue(updateInternalStateValue(value, nextValue, min, max, dragging), event);\n\n    event.originalEvent.stopPropagation();\n    event.originalEvent.preventDefault();\n  };\n\n  const handlePointerEnd: CustomTouchEventHandler = (event) => {\n    gesture.dragging = null;\n    event.originalEvent.stopPropagation();\n    setActiveThumb(null);\n  };\n\n  const handleChangeByNativeInput = (event: React.ChangeEvent<HTMLInputElement>) => {\n    changeValue(\n      updateInternalStateValueByNativeChange(\n        value,\n        Number(event.target.value),\n        getDraggingTypeByTargetDataset(event.target),\n      ),\n      event,\n    );\n  };\n\n  const style: CSSCustomProperties = {\n    '--vkui_internal--Slider_start_value': String(startValueInPercent),\n    '--vkui_internal--Slider_end_value': String(endReversedValueInPercent),\n  };\n\n  return (\n    <Touch\n      data-value={multiple ? `${startValue},${endValue}` : startValue}\n      {...restPropsWithoutAriaAttributes}\n      className={classNames(\n        styles.host,\n        disabled && styles.disabled,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        sizeClassNames[size],\n        multiple && styles.multiple,\n        isRtl && styles.rtl,\n        className,\n      )}\n      style={mergeStyle(styleProp, style)}\n      getRootRef={getRootRef}\n      onStart={disabled ? undefined : handlePointerStart}\n      onMove={disabled ? undefined : handlePointerMove}\n      onEnd={disabled ? undefined : handlePointerEnd}\n    >\n      <div className={styles.track} />\n      <div className={styles.trackFill} />\n      <div ref={thumbsContainerRef} className={styles.thumbs}>\n        <SliderThumb\n          data-type=\"start\"\n          className={classNames(styles.thumb, styles.thumbStart)}\n          style={{\n            // Меняем местами порядок слоёв, иначе, при достижении `start` и `end` 100%, `end` будет перекрывать `start`.\n            zIndex: multiple && startValueInPercent >= 50 ? 2 : undefined,\n          }}\n          withTooltip={withTooltip}\n          inputProps={{\n            'data-type': 'start',\n            'data-testid': startThumbTestId,\n            'ref': thumbStartInputRef,\n            'step': step,\n            'min': min,\n            'value': startValue,\n            'max': multiple ? endValue : max,\n            'disabled': disabled,\n            'aria-label': getAriaLabel ? getAriaLabel(0) : ariaLabel,\n            'aria-valuetext': getAriaValueText ? getAriaValueText(startValue, 0) : ariaValueText,\n            'aria-labelledby': ariaLabelledBy,\n            'onChange': handleChangeByNativeInput,\n          }}\n          isActive={activeThumb === 'start'}\n        />\n        {multiple && (\n          <SliderThumb\n            data-type=\"end\"\n            className={classNames(styles.thumb, styles.thumbEnd)}\n            withTooltip={withTooltip}\n            inputProps={{\n              'data-type': 'end',\n              'data-testid': endThumbTestId,\n              'ref': thumbEndInputRef,\n              'step': step,\n              'min': startValue,\n              'value': endValue,\n              'max': max,\n              'disabled': disabled,\n              'aria-label': getAriaLabel ? getAriaLabel(1) : ariaLabel,\n              'aria-valuetext': getAriaValueText ? getAriaValueText(endValue, 1) : ariaValueText,\n              'aria-labelledby': ariaLabelledBy,\n              'onChange': handleChangeByNativeInput,\n            }}\n            isActive={activeThumb === 'end'}\n          />\n        )}\n      </div>\n    </Touch>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useBooleanState } from '../../../hooks/useBooleanState';\nimport { useExternRef } from '../../../hooks/useExternRef';\nimport { useFocusVisible } from '../../../hooks/useFocusVisible';\nimport { useFocusVisibleClassName } from '../../../hooks/useFocusVisibleClassName';\nimport {\n  arrowMiddleware,\n  convertFloatingDataToReactCSSProperties,\n  flipMiddleware,\n  offsetMiddleware,\n  shiftMiddleware,\n  useFloating,\n} from '../../../lib/floating';\nimport type { HasDataAttribute, HasRootRef } from '../../../types';\nimport { TooltipBase } from '../../TooltipBase/TooltipBase';\nimport styles from './SliderThumb.module.css';\n\ninterface SliderThumbProps extends HasRootRef<HTMLSpanElement>, HasDataAttribute {\n  className?: string;\n  style?: React.CSSProperties;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement> &\n    React.RefAttributes<HTMLInputElement> &\n    HasDataAttribute;\n  withTooltip?: boolean;\n  isActive?: boolean;\n}\n\nexport const SliderThumb = ({\n  className,\n  getRootRef,\n  inputProps,\n  withTooltip,\n  isActive,\n  ...restProps\n}: SliderThumbProps): React.ReactNode => {\n  const { focusVisible, onBlur, onFocus } = useFocusVisible();\n  const focusVisibleClassNames = useFocusVisibleClassName({\n    focusVisible,\n    mode: styles.focusVisible,\n  });\n  const [arrowRef, setArrowRef] = React.useState<HTMLDivElement | null>(null);\n\n  const memoizedMiddlewares = React.useMemo(() => {\n    return [\n      offsetMiddleware({\n        crossAxis: 0,\n        mainAxis: 15,\n      }),\n      flipMiddleware(),\n      shiftMiddleware({ padding: 8 }),\n      arrowMiddleware({\n        element: arrowRef,\n      }),\n    ];\n  }, [arrowRef]);\n\n  const {\n    x: floatingDataX,\n    y: floatingDataY,\n    placement: resolvedPlacement,\n    refs,\n    strategy: floatingPositionStrategy,\n    middlewareData: { arrow: arrowCoords },\n    update: updateTooltipPosition,\n  } = useFloating({\n    placement: 'top',\n    middleware: memoizedMiddlewares,\n  });\n\n  const {\n    value: isHovered,\n    setTrue: setHoveredTrue,\n    setFalse: setHoveredFalse,\n  } = useBooleanState(false);\n\n  const handleRootRef = useExternRef<HTMLSpanElement>(getRootRef, refs.setReference);\n\n  const shouldShowTooltip = withTooltip && (focusVisible || isHovered || isActive);\n\n  const inputValue = inputProps && inputProps.value;\n  React.useEffect(\n    function udpateTooltipPositionOnValueChange() {\n      if (shouldShowTooltip && inputValue !== 'undefined') {\n        updateTooltipPosition();\n      }\n    },\n    [inputValue, updateTooltipPosition, shouldShowTooltip],\n  );\n\n  return (\n    <React.Fragment>\n      <span\n        {...restProps}\n        ref={handleRootRef}\n        onMouseEnter={setHoveredTrue}\n        onMouseLeave={setHoveredFalse}\n        className={classNames(\n          styles.host,\n          focusVisibleClassNames,\n          isActive && styles.active,\n          isHovered && styles.hover,\n          className,\n        )}\n      >\n        <input\n          {...inputProps}\n          type=\"range\"\n          className={styles.nativeInput}\n          aria-orientation=\"horizontal\"\n          onBlur={onBlur}\n          onFocus={onFocus}\n        />\n      </span>\n      {shouldShowTooltip && (\n        <TooltipBase\n          appearance=\"neutral\"\n          getRootRef={refs.setFloating}\n          style={convertFloatingDataToReactCSSProperties({\n            strategy: floatingPositionStrategy,\n            x: floatingDataX,\n            y: floatingDataY,\n          })}\n          arrowProps={{\n            coords: arrowCoords,\n            placement: resolvedPlacement,\n            getRootRef: setArrowRef,\n          }}\n          description={inputValue}\n        />\n      )}\n    </React.Fragment>\n  );\n};\n", "import type * as React from 'react';\nimport { rescale } from '../../helpers/math';\nimport type { InternalDraggingType, InternalValueState } from './types';\n\nexport const toPercent = (v: number, min: number, max: number): number =>\n  ((v - min) / (max - min)) * 100;\n\nexport const offsetToValue = (\n  startX: number,\n  width: number,\n  min: number,\n  max: number,\n  step?: number,\n): number => {\n  return rescale(startX, [0, width], [min, max], { step });\n};\n\nconst restrictValueByMinMax = (value: number, min: number, max: number) => {\n  if (value < min) {\n    return min;\n  }\n  if (value > max) {\n    return max;\n  }\n  return value;\n};\n\nexport const updateInternalStateValue = (\n  prevValue: InternalValueState,\n  nextValue: number,\n  min: number,\n  max: number,\n  dragging: InternalDraggingType | null,\n): InternalValueState => {\n  const [prevStartValue, prevEndValue] = prevValue;\n\n  if (prevEndValue === null) {\n    return [restrictValueByMinMax(nextValue, min, max), null];\n  }\n\n  switch (dragging) {\n    case 'start':\n      return nextValue > prevEndValue\n        ? [prevEndValue, prevEndValue]\n        : [restrictValueByMinMax(nextValue, min, max), prevEndValue];\n    case 'end':\n      return nextValue < prevStartValue\n        ? [prevStartValue, prevStartValue]\n        : [prevStartValue, restrictValueByMinMax(nextValue, min, max)];\n    case null:\n    default:\n      return prevValue;\n  }\n};\n\nexport const updateInternalStateValueByNativeChange = (\n  prevValue: InternalValueState,\n  nextValue: number,\n  dragging: InternalDraggingType | null,\n): InternalValueState => {\n  const [prevStartValue, prevEndValue] = prevValue;\n  switch (dragging) {\n    case 'start':\n      return [nextValue, prevEndValue];\n    case 'end':\n      return [prevStartValue, nextValue];\n    case null:\n    default:\n      return prevValue;\n  }\n};\n\nexport function isMultipleValues(value: InternalValueState): value is [number, number] {\n  return value[1] !== null;\n}\n\nexport const snapDirection = (\n  prevValue: InternalValueState,\n  nextValue: number,\n  type: InternalDraggingType | null,\n): 'start' | 'end' => {\n  if (type === 'start') {\n    return 'start';\n  }\n  if (type === 'end') {\n    return 'end';\n  }\n\n  const [startRaw, endRaw] = prevValue;\n  /* startRaw и endRaw могут быть равны, поэтому насильно добавляем разницу. */\n  const FORCE_DIFF_VALUE = 0.1;\n  const start = endRaw !== null ? startRaw - FORCE_DIFF_VALUE : startRaw;\n  const end = endRaw !== null ? endRaw + FORCE_DIFF_VALUE : 0;\n  return Math.abs(start - nextValue) <= Math.abs(end - nextValue) ? 'start' : 'end';\n};\n\nexport const getDraggingTypeByTargetDataset = <T extends (EventTarget & HTMLElement) | null>(\n  target: T,\n): 'start' | 'end' | null => {\n  if (target) {\n    if (target.dataset.type === 'start') {\n      return 'start';\n    }\n    if (target.dataset.type === 'end') {\n      return 'end';\n    }\n  }\n  return null;\n};\n\nconst resetProps = {\n  'aria-label': undefined,\n  'aria-valuetext': undefined,\n  'aria-labelledby': undefined,\n};\n\nexport const extractSliderAriaAttributesFromRestProps = <T extends React.AriaAttributes>(\n  restProps: T,\n): T & {\n  ariaLabel: string | undefined;\n  ariaValueText: string | undefined;\n  ariaLabelledBy: string | undefined;\n} => {\n  const ariaLabel = restProps['aria-label'];\n  const ariaValueText = restProps['aria-valuetext'];\n  const ariaLabelledBy = restProps['aria-labelledby'];\n  return { ...restProps, ...resetProps, ariaLabel, ariaValueText, ariaLabelledBy };\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { useResizeObserver } from '../../hooks/useResizeObserver';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { useDOM } from '../../lib/dom';\nimport type { HasAlign, HasRef, HasRootRef } from '../../types';\nimport { FormField, type FormFieldProps } from '../FormField/FormField';\nimport { UnstyledTextField } from '../UnstyledTextField/UnstyledTextField';\nimport { useResizeTextarea } from './useResizeTextarea';\nimport styles from './Textarea.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface TextareaProps\n  extends Omit<React.TextareaHTMLAttributes<HTMLTextAreaElement>, 'onResize'>,\n    HasRef<HTMLTextAreaElement>,\n    HasRootRef<HTMLElement>,\n    HasAlign,\n    FormFieldProps {\n  /**\n   * Свойство управляющее автоматическим изменением высоты компонента.\n   */\n  grow?: boolean;\n  /**\n   * Обработчик, срабатывающий при изменении размера компонента.\n   */\n  onResize?: (el: HTMLTextAreaElement) => void;\n  /**\n   * Значение по умолчанию.\n   */\n  defaultValue?: string;\n}\n\n/**\n * @see https://vkui.io/components/textarea\n */\nexport const Textarea = ({\n  grow = true,\n  style,\n  onResize,\n  className,\n  getRootRef,\n  getRef,\n  rows = 2,\n  maxHeight,\n  status,\n  onChange,\n  align,\n  mode,\n  after,\n  before,\n  afterAlign,\n  beforeAlign,\n  value,\n  ...restProps\n}: TextareaProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const platform = usePlatform();\n  const { window } = useDOM();\n\n  const [refResizeTextarea, resize] = useResizeTextarea(onResize, grow);\n  const elementRef = useExternRef(getRef, refResizeTextarea);\n\n  React.useEffect(resize, [resize, sizeY, platform, value]);\n  useResizeObserver(window, resize);\n\n  return (\n    <FormField\n      className={classNames(\n        styles.host,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        align === 'right' && styles.alignRight,\n        align === 'center' && styles.alignCenter,\n        className,\n      )}\n      style={style}\n      getRootRef={getRootRef}\n      disabled={restProps.disabled}\n      status={status}\n      mode={mode}\n      after={after}\n      before={before}\n      afterAlign={afterAlign}\n      beforeAlign={beforeAlign}\n      maxHeight={maxHeight}\n    >\n      <UnstyledTextField\n        {...restProps}\n        value={value}\n        as=\"textarea\"\n        rows={rows}\n        className={styles.el}\n        onChange={callMultiple(onChange, resize)}\n        getRootRef={elementRef}\n      />\n    </FormField>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { HasRootRef } from '../../types';\nimport { DEFAULT_ACTIVE_EFFECT_DELAY } from '../Clickable/useState';\nimport { Tappable, type TappableOmitProps } from '../Tappable/Tappable';\nimport { SelectionControlContext } from './SelectionControlContext';\nimport { SelectionControlLabel } from './SelectionControlLabel/SelectionControlLabel';\nimport styles from './SelectionControl.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface SelectionControlProps\n  extends React.ComponentProps<'label'>,\n    HasRootRef<HTMLLabelElement>,\n    Pick<\n      TappableOmitProps,\n      'hoverMode' | 'activeMode' | 'hasHover' | 'hasActive' | 'focusVisibleMode' | 'disabled'\n    > {\n  /**\n   * Отключает отступы. При использовании этого свойства, значение по умолчанию для свойств `hoverMode` и `activeMode` становится `\"opacity\"`.\n   */\n  noPadding?: boolean;\n}\n\n/**\n * @see https://vkui.io/components/selection-control\n */\nexport const SelectionControl = ({\n  noPadding = false,\n  hoverMode: hoverModeProp,\n  activeMode: activeModeProp,\n  ...restProps\n}: SelectionControlProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n  const platform = usePlatform();\n\n  const hoverMode = hoverModeProp || (noPadding ? 'opacity' : 'background');\n  const activeMode = activeModeProp || (noPadding ? 'opacity' : 'background');\n\n  return (\n    <SelectionControlContext.Provider value={{ noPadding }}>\n      <Tappable\n        Component=\"label\"\n        baseClassName={classNames(\n          styles.host,\n          sizeY !== 'regular' && sizeYClassNames[sizeY],\n          !noPadding && styles.withPadding,\n        )}\n        activeEffectDelay={platform === 'ios' ? 100 : DEFAULT_ACTIVE_EFFECT_DELAY}\n        hoverMode={hoverMode}\n        activeMode={activeMode}\n        {...restProps}\n      />\n    </SelectionControlContext.Provider>\n  );\n};\n\nSelectionControl.Label = SelectionControlLabel;\n", "import { createContext, useContext } from 'react';\n\nexport const SelectionControlContext = createContext<{ noPadding: boolean }>({\n  noPadding: false,\n});\n\nexport const useSelectionControlContext = () => useContext(SelectionControlContext);\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport { classNames, hasReactNode } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport { Footnote } from '../../Typography/Footnote/Footnote';\nimport { Text } from '../../Typography/Text/Text';\nimport { useSelectionControlContext } from '../SelectionControlContext';\nimport styles from './SelectionControlLabel.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\ninterface SelectionControlLabelProps extends React.ComponentProps<'div'> {\n  description?: React.ReactNode;\n  titleAfter?: React.ReactNode;\n}\n\nexport function SelectionControlLabel({\n  children,\n  titleAfter,\n  description,\n  ...restProps\n}: SelectionControlLabelProps) {\n  const { noPadding } = useSelectionControlContext();\n  const { sizeY = 'none' } = useAdaptivity();\n\n  return (\n    <RootComponent\n      baseClassName={classNames(\n        styles.host,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        !noPadding && styles.withPadding,\n      )}\n      {...restProps}\n    >\n      <div className={styles.titleLayout}>\n        <Text className={styles.title}>{children}</Text>\n        <div className={styles.titleAfter}>{titleAfter}</div>\n      </div>\n      {hasReactNode(description) && (\n        <Footnote className={styles.description}>{description}</Footnote>\n      )}\n    </RootComponent>\n  );\n}\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HasDataAttribute, HasRef, HasRootRef } from '../../types';\nimport { SelectionControl } from '../SelectionControl/SelectionControl';\nimport { SelectionControlLabel } from '../SelectionControl/SelectionControlLabel/SelectionControlLabel';\nimport type { TappableOmitProps } from '../Tappable/Tappable';\nimport { RadioInput } from './RadioInput/RadioInput';\nimport styles from './Radio.module.css';\n\nexport interface RadioProps\n  extends React.InputHTMLAttributes<HTMLInputElement>,\n    HasRef<HTMLInputElement>,\n    HasRootRef<HTMLLabelElement>,\n    Pick<\n      TappableOmitProps,\n      'hoverMode' | 'activeMode' | 'hasHover' | 'hasActive' | 'focusVisibleMode'\n    > {\n  /**\n   * Дополнительное описание под основным текстом.\n   */\n  description?: React.ReactNode;\n  /**\n   * Элемент после основного текста.\n   */\n  titleAfter?: React.ReactNode;\n  /**\n   * Позволяет передавать data-* аттрибуты элементу label.\n   **/\n  labelProps?: HasDataAttribute;\n}\n\n/**\n * @see https://vkui.io/components/radio\n */\nexport const Radio = ({\n  children,\n  description,\n  style,\n  className,\n  getRootRef,\n  titleAfter,\n  getRef,\n  labelProps,\n  hoverMode,\n  activeMode,\n  hasHover,\n  hasActive,\n  focusVisibleMode,\n  ...restProps\n}: RadioProps): React.ReactNode => {\n  return (\n    <SelectionControl\n      style={style}\n      className={classNames(styles.host, className)}\n      disabled={restProps.disabled}\n      getRootRef={getRootRef}\n      hoverMode={hoverMode}\n      activeMode={activeMode}\n      hasHover={hasHover}\n      hasActive={hasActive}\n      focusVisibleMode={focusVisibleMode}\n      {...labelProps}\n    >\n      <RadioInput {...restProps} getRef={getRef} />\n      <SelectionControlLabel titleAfter={titleAfter} description={description}>\n        {children}\n      </SelectionControlLabel>\n    </SelectionControl>\n  );\n};\n\nRadio.Input = RadioInput;\n", "'use client';\n\nimport * as React from 'react';\nimport type { HasRef, HasRootRef } from '../../../types';\nimport { AdaptiveIconRenderer } from '../../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\nimport styles from './RadioInput.module.css';\n\nfunction RadioIcon24(props: React.ComponentProps<'svg'>) {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" aria-hidden {...props}>\n      <circle cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\n      <circle cx=\"12\" cy=\"12\" r=\"7\" className={styles.pin} fill=\"currentColor\" />\n    </svg>\n  );\n}\n\nfunction RadioIcon20(props: React.ComponentProps<'svg'>) {\n  return (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" aria-hidden {...props}>\n      <circle cx=\"10\" cy=\"10\" r=\"7.75\" stroke=\"currentColor\" strokeWidth=\"1.5\" fill=\"none\" />\n      <circle cx=\"10\" cy=\"10\" r=\"5.5\" className={styles.pin} fill=\"currentColor\" />\n    </svg>\n  );\n}\n\nfunction RadioIcon() {\n  return (\n    <div className={styles.icon}>\n      <AdaptiveIconRenderer IconCompact={RadioIcon20} IconRegular={RadioIcon24} />\n    </div>\n  );\n}\n\nexport interface RadioInputProps\n  extends Omit<React.ComponentProps<'input'>, 'type'>,\n    HasRootRef<HTMLLabelElement>,\n    HasRef<HTMLInputElement> {}\n\nexport function RadioInput({\n  className,\n  style,\n  getRootRef,\n  getRef,\n  ...restProps\n}: RadioInputProps) {\n  return (\n    <RootComponent className={className} style={style} getRootRef={getRootRef}>\n      <VisuallyHidden\n        {...restProps}\n        Component=\"input\"\n        type=\"radio\"\n        baseClassName={styles.input}\n        getRootRef={getRef}\n      />\n      <RadioIcon />\n    </RootComponent>\n  );\n}\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './RadioGroup.module.css';\n\nexport interface RadioGroupProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Режим расположения элементов.\n   */\n  mode?: 'vertical' | 'horizontal';\n}\n\n/**\n * @see https://vkui.io/components/radio-group\n */\nexport const RadioGroup = ({\n  mode = 'vertical',\n  ...restProps\n}: RadioGroupProps): React.ReactNode => (\n  <RootComponent\n    baseClassName={classNames(\n      styles.host,\n      'vkuiInternalRadioGroup',\n      mode === 'horizontal' && styles.modeHorizontal,\n    )}\n    role=\"radiogroup\"\n    {...restProps}\n  />\n);\n", "import * as React from 'react';\nimport { hasReactNode } from '@vkontakte/vkjs';\nimport type { HasRootRef } from '../../types';\nimport { SelectionControl } from '../SelectionControl/SelectionControl';\nimport { SelectionControlLabel } from '../SelectionControl/SelectionControlLabel/SelectionControlLabel';\nimport type { TappableOmitProps } from '../Tappable/Tappable';\nimport { CheckboxInput, type CheckboxInputProps } from './CheckboxInput/CheckboxInput';\nimport { CheckboxSimple } from './CheckboxSimple/CheckboxSimple';\n\nexport interface CheckboxProps\n  extends Omit<CheckboxInputProps, 'getRootRef'>,\n    HasRootRef<HTMLLabelElement>,\n    Pick<\n      TappableOmitProps,\n      'hoverMode' | 'activeMode' | 'hasHover' | 'hasActive' | 'focusVisibleMode'\n    > {\n  /**\n   * Подпись под основным текстом.\n   */\n  description?: React.ReactNode;\n  /**\n   * Контент, идущий за основным текстом.\n   */\n  titleAfter?: React.ReactNode;\n  /**\n   * Отключает отступы у чекбокса. При использовании этого свойства, значение по умолчанию для свойств `hoverMode` и `activeMode` становится `\"opacity\"`.\n   */\n  noPadding?: boolean;\n}\n\nconst CheckboxComponent = ({\n  children,\n  className,\n  style,\n  getRootRef,\n  description,\n  hoverMode,\n  activeMode,\n  hasHover,\n  hasActive,\n  focusVisibleMode,\n  titleAfter,\n  noPadding,\n  ...restProps\n}: CheckboxProps): React.ReactNode => {\n  return (\n    <SelectionControl\n      className={className}\n      style={style}\n      disabled={restProps.disabled}\n      getRootRef={getRootRef}\n      hoverMode={hoverMode}\n      activeMode={activeMode}\n      hasHover={hasHover}\n      hasActive={hasActive}\n      focusVisibleMode={focusVisibleMode}\n      noPadding={noPadding}\n    >\n      <CheckboxInput {...restProps} />\n      <SelectionControlLabel titleAfter={titleAfter} description={description}>\n        {children}\n      </SelectionControlLabel>\n    </SelectionControl>\n  );\n};\n\n/**\n * @see https://vkui.io/components/checkbox\n */\nexport const Checkbox = (props: CheckboxProps): React.ReactNode => {\n  const simple = !(hasReactNode(props.children) || hasReactNode(props.description));\n  if (simple) {\n    return <CheckboxSimple {...props} />;\n  }\n\n  return <CheckboxComponent {...props} />;\n};\n\nCheckbox.Input = CheckboxInput;\n", "'use client';\n\nimport * as React from 'react';\nimport {\n  Icon20CheckBoxIndetermanate,\n  Icon20CheckBoxOff,\n  Icon20CheckBoxOn,\n  Icon24CheckBoxOff,\n  Icon24CheckBoxOn,\n} from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivityConditionalRender } from '../../../hooks/useAdaptivityConditionalRender';\nimport { useExternRef } from '../../../hooks/useExternRef';\nimport { usePlatform } from '../../../hooks/usePlatform';\nimport { warnOnce } from '../../../lib/warnOnce';\nimport type { HasRef, HasRootRef } from '../../../types';\nimport { RootComponent } from '../../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\nimport styles from './CheckboxInput.module.css';\n\ntype VendorIconType = typeof Icon20CheckBoxOn;\n\nexport type CheckboxInputIconType =\n  | React.ComponentType<React.SVGProps<SVGSVGElement>>\n  | VendorIconType;\n\nfunction setIndeterminate(el: HTMLInputElement, indeterminate: boolean) {\n  el.indeterminate = indeterminate;\n}\n\nexport interface CheckboxInputProps\n  extends React.ComponentProps<'input'>,\n    HasRootRef<HTMLDivElement>,\n    HasRef<HTMLInputElement> {\n  /**\n   * Неопределенное состояние чекбокса.\n   */\n  indeterminate?: boolean;\n  /**\n   * Неопределенное состояние чекбокса по умолчанию.\n   */\n  defaultIndeterminate?: boolean;\n  /**\n   * Иконка для включенного состояния в компактном режиме.\n   */\n  IconOnCompact?: CheckboxInputIconType;\n  /**\n   * Иконка для включенного состояния в обычном режиме.\n   */\n  IconOnRegular?: CheckboxInputIconType;\n  /**\n   * Иконка для выключенного состояния в компактном режиме.\n   */\n  IconOffCompact?: CheckboxInputIconType;\n  /**\n   * Иконка для выключенного состояния в обычном режиме.\n   */\n  IconOffRegular?: CheckboxInputIconType;\n  /**\n   * Иконка для неопределенного состояния.\n   */\n  IconIndeterminate?: CheckboxInputIconType;\n}\n\nconst warn = warnOnce('Checkbox');\n\nexport function CheckboxInput({\n  className,\n  style,\n  getRootRef,\n  getRef,\n  indeterminate,\n  defaultIndeterminate,\n  onChange,\n  IconOnCompact = Icon20CheckBoxOn,\n  IconOnRegular = Icon24CheckBoxOn,\n  IconOffCompact = Icon20CheckBoxOff,\n  IconOffRegular = Icon24CheckBoxOff,\n  IconIndeterminate = Icon20CheckBoxIndetermanate,\n  ...restProps\n}: CheckboxInputProps) {\n  const inputRef = useExternRef(getRef);\n  const platform = usePlatform();\n  const { sizeY: adaptiveSizeY } = useAdaptivityConditionalRender();\n\n  React.useEffect(() => {\n    const indeterminateValue = indeterminate === undefined ? defaultIndeterminate : indeterminate;\n\n    if (inputRef.current) {\n      setIndeterminate(inputRef.current, Boolean(indeterminateValue));\n    }\n  }, [defaultIndeterminate, indeterminate, inputRef]);\n\n  const handleChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      if (\n        defaultIndeterminate !== undefined &&\n        indeterminate === undefined &&\n        restProps.checked === undefined &&\n        inputRef.current\n      ) {\n        setIndeterminate(inputRef.current, false);\n      }\n      if (indeterminate !== undefined && inputRef.current) {\n        setIndeterminate(inputRef.current, Boolean(indeterminate));\n      }\n      onChange && onChange(event);\n    },\n    [defaultIndeterminate, indeterminate, restProps.checked, onChange, inputRef],\n  );\n\n  if (process.env.NODE_ENV === 'development') {\n    if (defaultIndeterminate && restProps.defaultChecked) {\n      warn('defaultIndeterminate и defaultChecked не могут быть true одновременно', 'error');\n    }\n\n    if (indeterminate && restProps.checked) {\n      warn('indeterminate и checked не могут быть true одновременно', 'error');\n    }\n\n    if (restProps.defaultChecked && restProps.checked) {\n      warn('defaultChecked и checked не могут быть true одновременно', 'error');\n    }\n  }\n\n  return (\n    <RootComponent\n      baseClassName={styles.host}\n      className={className}\n      style={style}\n      getRootRef={getRootRef}\n    >\n      <VisuallyHidden\n        {...restProps}\n        Component=\"input\"\n        type=\"checkbox\"\n        onChange={handleChange}\n        className={styles.input}\n        getRootRef={inputRef}\n      />\n      {platform === 'vkcom' ? (\n        <IconOnCompact className={styles.iconOn} />\n      ) : (\n        <React.Fragment>\n          {adaptiveSizeY.compact && (\n            <IconOnCompact className={classNames(styles.iconOn, adaptiveSizeY.compact.className)} />\n          )}\n          {adaptiveSizeY.regular && (\n            <IconOnRegular className={classNames(styles.iconOn, adaptiveSizeY.regular.className)} />\n          )}\n        </React.Fragment>\n      )}\n      {platform === 'vkcom' ? (\n        <IconOffCompact className={styles.iconOff} />\n      ) : (\n        <React.Fragment>\n          {adaptiveSizeY.compact && (\n            <IconOffCompact\n              className={classNames(styles.iconOff, adaptiveSizeY.compact.className)}\n            />\n          )}\n          {adaptiveSizeY.regular && (\n            <IconOffRegular\n              className={classNames(styles.iconOff, adaptiveSizeY.regular.className)}\n            />\n          )}\n        </React.Fragment>\n      )}\n      {platform === 'vkcom' ? (\n        <IconIndeterminate width={20} height={20} className={styles.iconIndeterminate} />\n      ) : (\n        <React.Fragment>\n          {adaptiveSizeY.compact && (\n            <IconIndeterminate\n              className={classNames(styles.iconIndeterminate, adaptiveSizeY.compact.className)}\n              width={20}\n              height={20}\n            />\n          )}\n          {adaptiveSizeY.regular && (\n            <IconIndeterminate\n              className={classNames(styles.iconIndeterminate, adaptiveSizeY.regular.className)}\n              width={24}\n              height={24}\n            />\n          )}\n        </React.Fragment>\n      )}\n    </RootComponent>\n  );\n}\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { Tappable } from '../../Tappable/Tappable';\nimport type { CheckboxProps } from '../Checkbox';\nimport { CheckboxInput } from '../CheckboxInput/CheckboxInput';\nimport styles from './CheckboxSimple.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport function CheckboxSimple({\n  children,\n  className,\n  style,\n  getRootRef,\n  description,\n  hoverMode: hoverModeProp,\n  activeMode: activeModeProp,\n  hasHover,\n  hasActive,\n  focusVisibleMode,\n  titleAfter,\n  noPadding,\n  ...restProps\n}: CheckboxProps) {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  const hoverMode = hoverModeProp || (noPadding ? 'opacity' : 'background');\n  const activeMode = activeModeProp || (noPadding ? 'opacity' : 'background');\n\n  return (\n    <Tappable\n      className={classNames(\n        className,\n        styles.host,\n        !noPadding && styles.withPadding,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n      )}\n      style={style}\n      disabled={restProps.disabled}\n      getRootRef={getRootRef}\n      hoverMode={hoverMode}\n      activeMode={activeMode}\n      hasHover={hasHover}\n      hasActive={hasActive}\n      focusVisibleMode={focusVisibleMode}\n      Component=\"label\"\n    >\n      <CheckboxInput {...restProps} />\n    </Tappable>\n  );\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivityConditionalRender } from '../../hooks/useAdaptivityConditionalRender';\nimport type { HasOnlyExpectedProps } from '../../types';\nimport { CustomSelect, type SelectProps } from '../CustomSelect/CustomSelect';\nimport { type CustomSelectOptionInterface } from '../CustomSelect/types';\nimport { NativeSelect, type NativeSelectProps } from '../NativeSelect/NativeSelect';\nexport type SelectType = 'default' | 'plain' | 'accent';\n\n/**\n * @see https://vkui.io/components/select\n */\nexport const Select = <OptionT extends CustomSelectOptionInterface>({\n  children,\n  className,\n  ...props\n}: SelectProps<OptionT>): React.ReactNode => {\n  const {\n    options = [],\n    searchable,\n    emptyText,\n    onInputChange,\n    filterFn,\n    popupDirection,\n    renderOption,\n    renderDropdown,\n    fetching,\n    onClose,\n    onOpen,\n    icon,\n    ClearButton,\n    allowClearButton,\n    clearButtonTestId,\n    dropdownOffsetDistance,\n    dropdownAutoWidth,\n    forceDropdownPortal,\n    noMaxHeight,\n    labelTextTestId,\n    nativeSelectTestId,\n    after,\n    mode,\n    pattern,\n    minLength,\n    maxLength,\n    readOnly,\n    getSelectInputRef,\n    overscrollBehavior,\n    beforeAlign,\n    afterAlign,\n    onInputKeyDown,\n    accessible,\n    fetchingCompletedLabel,\n    fetchingInProgressLabel,\n    ...restProps\n  } = props;\n\n  const { deviceType } = useAdaptivityConditionalRender();\n\n  const nativeProps: HasOnlyExpectedProps<typeof restProps, NativeSelectProps> = restProps;\n\n  return (\n    <React.Fragment>\n      {deviceType.desktop && (\n        <CustomSelect className={classNames(className, deviceType.desktop.className)} {...props} />\n      )}\n      {deviceType.mobile && (\n        <NativeSelect\n          className={classNames(className, deviceType.mobile.className)}\n          {...nativeProps}\n        >\n          {options.map(({ label, value, disabled }) => (\n            <option value={value} key={`${value}`} disabled={disabled}>\n              {label}\n            </option>\n          ))}\n        </NativeSelect>\n      )}\n    </React.Fragment>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { getRequiredValueByKey } from '../../helpers/getValueByKey';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { useDOM } from '../../lib/dom';\nimport type { Placement } from '../../lib/floating';\nimport { defaultFilterFn, type FilterFn } from '../../lib/select';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { preventDefault } from '../../lib/utils';\nimport {\n  CustomSelectDropdown,\n  type CustomSelectDropdownProps,\n} from '../CustomSelectDropdown/CustomSelectDropdown';\nimport { CustomSelectOption } from '../CustomSelectOption/CustomSelectOption';\nimport type { FormFieldProps } from '../FormField/FormField';\nimport type { NativeSelectProps, SelectValue } from '../NativeSelect/NativeSelect';\nimport { NOT_SELECTED, remapFromNativeValueToSelectValue } from '../NativeSelect/NativeSelect';\nimport type { SelectType } from '../Select/Select';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport { type CustomSelectClearButtonProps } from './CustomSelectClearButton';\nimport {\n  CustomSelectInput,\n  type CustomSelectInputProps,\n} from './CustomSelectInput/CustomSelectInput';\nimport {\n  checkMixControlledAndUncontrolledState,\n  checkOptionsValueType,\n  filter,\n  findSelectedIndex,\n  getOptionByValue,\n} from './helpers';\nimport { useAfterItems } from './hooks/useAfterItems';\nimport { useDropdownOpenedController } from './hooks/useDropdownOpenedController';\nimport { useFocusedOptionController } from './hooks/useFocusedOptionController';\nimport { useInputKeyboardController } from './hooks/useInputKeyboardController';\nimport { useInputValueController } from './hooks/useInputValueController';\nimport { useScrollListController } from './hooks/useScrollListController';\nimport { useSelectedOptionController } from './hooks/useSelectedOptionController';\nimport type {\n  CustomSelectOptionInterface,\n  CustomSelectRenderOption,\n  MousePosition,\n  PopupDirection,\n} from './types';\nimport styles from './CustomSelect.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nfunction defaultRenderOptionFn<T extends CustomSelectOptionInterface>({\n  option,\n  ...props\n}: CustomSelectRenderOption<T>): React.ReactNode {\n  return <CustomSelectOption {...props} />;\n}\n\nfunction isMousePositionChanged(event: React.MouseEvent, prevPosition: MousePosition) {\n  return (\n    Math.abs(prevPosition.x - event.clientX) >= 1 || Math.abs(prevPosition.y - event.clientY) >= 1\n  );\n}\n\nconst FETCH_STATUS_RESET_DELAY = 2000;\n\nconst FetchingStatus = ({\n  fetching = false,\n  options,\n  fetchingInProgressLabel = 'Список опций загружается...',\n  fetchingCompletedLabel = `Загружено опций: ${options.length}`,\n}: Pick<\n  SelectProps,\n  'fetching' | 'fetchingInProgressLabel' | 'fetchingCompletedLabel' | 'options'\n>) => {\n  const [status, setStatus] = React.useState<'fetching' | 'loaded' | 'none'>('none');\n\n  const content = getRequiredValueByKey(status, {\n    fetching: fetchingInProgressLabel,\n    loaded:\n      typeof fetchingCompletedLabel === 'function'\n        ? fetchingCompletedLabel(options.length)\n        : fetchingCompletedLabel,\n    none: '',\n  });\n\n  useIsomorphicLayoutEffect(\n    function updateStatus() {\n      if (fetching) {\n        setStatus('fetching');\n      } else {\n        setStatus('loaded');\n        setTimeout(() => setStatus('none'), FETCH_STATUS_RESET_DELAY);\n      }\n    },\n    [fetching],\n  );\n\n  return <VisuallyHidden aria-live=\"polite\">{content}</VisuallyHidden>;\n};\n\nexport type { CustomSelectClearButtonProps };\n\nexport interface SelectProps<\n  OptionInterfaceT extends CustomSelectOptionInterface = CustomSelectOptionInterface,\n> extends NativeSelectProps,\n    Omit<FormFieldProps, 'maxHeight'>,\n    Pick<CustomSelectDropdownProps, 'overscrollBehavior'>,\n    Pick<CustomSelectInputProps, 'minLength' | 'maxLength' | 'pattern' | 'readOnly'> {\n  /**\n   * Ref на внутрений компонент input.\n   */\n  getSelectInputRef?: React.Ref<HTMLInputElement>;\n  /**\n   * Если `true`, то при нажатии на `CustomSelect` в нём появится текстовое поле для поиска по `options`. По умолчанию поиск\n   * производится по `option.label`.\n   */\n  searchable?: boolean;\n  /**\n   * Текст, который будет отображен, если приходит пустой `options`.\n   */\n  emptyText?: string;\n  /**\n   * Событие изменения текстового поля.\n   */\n  onInputChange?: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  /**\n   * Список опций в списке.\n   */\n  options: OptionInterfaceT[];\n  /**\n   * Функция для кастомной фильтрации. По умолчанию поиск производится по `option.label`.\n   */\n  filterFn?: false | FilterFn<OptionInterfaceT>;\n  /**\n   * Направление раскрытия выпадающего списка.\n   */\n  popupDirection?: PopupDirection;\n  /**\n   * Рендер-проп для кастомного рендера опции.\n   * В объекте аргумента приходят [свойства опции](https://vkui.io/components/custom-select#custom-select-option-api).\n   *\n   * > ⚠️  Важно: свойство опции `disabled` должно выставляться только через проп `options`.\n   * > Запрещается выставлять `disabled` проп опциям в обход `options`, иначе `CustomSelect` не будет знать об актуальном состоянии\n   * опции.\n   */\n  renderOption?: (props: CustomSelectRenderOption<OptionInterfaceT>) => React.ReactNode;\n  /**\n   * Рендер-проп для кастомного рендера содержимого дропдауна.\n   * В `defaultDropdownContent` содержится список опций в виде скроллящегося блока.\n   */\n  renderDropdown?: ({\n    defaultDropdownContent,\n  }: {\n    defaultDropdownContent: React.ReactNode;\n  }) => React.ReactNode;\n  /**\n   * Если `true`, то в дропдауне вместо списка опций рисуется спиннер. При переданных `renderDropdown` и `fetching: true`\n   * \"победит\" `renderDropdown`.\n   */\n  fetching?: boolean;\n  /**\n   * Обработчик закрытия выпадающего списка.\n   */\n  onClose?: VoidFunction;\n  /**\n   * Обработчик открытия выпадающего списка.\n   */\n  onOpen?: VoidFunction;\n  /**\n   * Иконка раскрывающегося списка.\n   */\n  icon?: React.ReactNode;\n  /**\n   * Кастомная кнопка для очистки значения.\n   * Должна принимать обязательное свойство `onClick`.\n   */\n  ClearButton?: React.ComponentType<CustomSelectClearButtonProps>;\n  /**\n   * Если `true`, то справа будет отображаться кнопка для очистки значения.\n   */\n  allowClearButton?: boolean;\n  /**\n   * Передает атрибут `data-testid` для кнопки очистки.\n   */\n  clearButtonTestId?: string;\n  /**\n   * Отступ от выпадающего списка.\n   */\n  dropdownOffsetDistance?: number;\n  /**\n   * Ширина раскрывающегося списка зависит от контента.\n   */\n  dropdownAutoWidth?: boolean;\n  /**\n   * Использовать Portal для рендеринга выпадающего списка.\n   */\n  forceDropdownPortal?: boolean;\n  /**\n   * Тип отображения компонента.\n   */\n  selectType?: SelectType;\n  /**\n   * Отключает максимальную высоту по умолчанию.\n   */\n  noMaxHeight?: boolean;\n  /**\n   * Передает атрибут `data-testid` для элемента, внутри которого отображается текст выбранной опции `CustomSelect` или плейсхолдер.\n   */\n  labelTextTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для нативного элемента `select`.\n   */\n  nativeSelectTestId?: string;\n  /**\n   * Обработчик события `keyDown` в поле ввода.\n   */\n  onInputKeyDown?: (e: React.KeyboardEvent, isOpen: boolean) => void;\n  /**\n   * Включает режим в котором выбранное значение `CustomSelect` читается скринридерами корректно.\n   * В данном режиме введенное в поле ввода значение не сбрасывается при потере фокуса.\n   */\n  accessible?: boolean /* TODO [>=v8] включить по умолчанию */;\n  /**\n   * Текстовая метка для индикации процесса загрузки данных для пользователей скринридерами. По умолчанию: `\"Список опций загружается...\"`.\n   */\n  fetchingInProgressLabel?: string;\n  /**\n   * Текстовая метка для индикации завершения процесса загрузки данных для пользователей скринридерами. По умолчанию: `\"Загружено опций: ${options.length}\"`.\n   */\n  fetchingCompletedLabel?: string | ((optionsCount: number) => string);\n}\n\n/**\n * @see https://vkui.io/components/custom-select\n */\nexport function CustomSelect<OptionInterfaceT extends CustomSelectOptionInterface>(\n  props: SelectProps<OptionInterfaceT>,\n): React.ReactNode {\n  const {\n    before,\n    name,\n    className,\n    getRef,\n    getRootRef,\n    popupDirection = 'bottom',\n    style,\n    onChange,\n    children,\n    'onInputChange': onInputChangeProp,\n    renderDropdown,\n    onOpen,\n    onClose,\n    fetching,\n    forceDropdownPortal,\n    selectType = 'default',\n    searchable = false,\n    'renderOption': renderOptionProp = defaultRenderOptionFn,\n    'options': options,\n    emptyText = 'Ничего не найдено',\n    filterFn = defaultFilterFn,\n    'icon': iconProp,\n    ClearButton,\n    allowClearButton = false,\n    dropdownOffsetDistance = 0,\n    dropdownAutoWidth = false,\n    noMaxHeight = false,\n    'aria-labelledby': ariaLabelledBy,\n    clearButtonTestId,\n    nativeSelectTestId,\n    defaultValue,\n    required,\n    getSelectInputRef,\n    overscrollBehavior,\n    'onInputKeyDown': onInputKeyDownProp,\n    readOnly,\n    accessible = false,\n    fetchingInProgressLabel,\n    fetchingCompletedLabel,\n    ...restProps\n  } = props;\n\n  if (process.env.NODE_ENV === 'development') {\n    checkOptionsValueType(options);\n  }\n\n  const { sizeY = 'none' } = useAdaptivity();\n\n  const containerRef = React.useRef<HTMLDivElement>(null);\n  const handleRootRef = useExternRef(containerRef, getRootRef);\n  const selectElRef = useExternRef(getRef);\n  const selectInputRef = useExternRef(getSelectInputRef);\n\n  const propsValue = React.useMemo<SelectValue | undefined>(() => {\n    if (props.value === undefined) {\n      return undefined;\n    }\n    return getOptionByValue(options, props.value)?.value ?? null;\n  }, [options, props.value]);\n\n  const [isControlledOutside, setIsControlledOutside] = React.useState(props.value !== undefined);\n  const [popperPlacement, setPopperPlacement] = React.useState<Placement>(popupDirection);\n\n  const {\n    nativeSelectValue,\n    setNativeSelectValue,\n    selectedOptionValue,\n    setSelectedOptionValue,\n    onNativeSelectChange,\n  } = useSelectedOptionController({\n    value: propsValue,\n    defaultValue,\n    isControlledOutside,\n    allowClearButton,\n    onChange,\n  });\n\n  const selected = React.useMemo(\n    () => options.find((option) => option.value === selectedOptionValue),\n    [options, selectedOptionValue],\n  );\n\n  const { inputValue, onInputChange, resetInputValue, resetInputValueBySelectedOption } =\n    useInputValueController({\n      options,\n      accessible,\n      selectedValue: selectedOptionValue,\n      onInputChange: onInputChangeProp,\n    });\n\n  const filteredOptions = React.useMemo(\n    () => filter(options, searchable ? inputValue : '', filterFn),\n    [filterFn, inputValue, options, searchable],\n  );\n\n  const { scrollToElement, optionsWrapperRef, scrollBoxRef } = useScrollListController();\n\n  const {\n    focusedOptionValue,\n    setFocusedOptionValue,\n    resetFocusedOption,\n    focusOptionByIndex,\n    focusOption,\n    selectFocusedValue,\n  } = useFocusedOptionController({\n    selectedOptionValue,\n    filteredOptions,\n    scrollToElement,\n  });\n\n  const scrollToSelectedOption = () => {\n    scrollToElement(findSelectedIndex(filteredOptions, selectedOptionValue), true);\n  };\n\n  const { opened, open, close, toggleOpened } = useDropdownOpenedController({\n    onOpen: callMultiple(selectFocusedValue, onOpen),\n    onOpened: scrollToSelectedOption,\n    onClose,\n    onClosed: accessible ? resetInputValueBySelectedOption : resetInputValue,\n  });\n\n  React.useEffect(\n    function updateOptionsValue() {\n      const value =\n        propsValue !== undefined\n          ? propsValue\n          : remapFromNativeValueToSelectValue(nativeSelectValue);\n      setSelectedOptionValue(value);\n      setFocusedOptionValue(value);\n    },\n    [propsValue, nativeSelectValue, setFocusedOptionValue, setSelectedOptionValue],\n  );\n\n  React.useEffect(\n    function syncIsControlledState() {\n      setIsControlledOutside((oldIsControlled) => {\n        const newIsControlled = propsValue !== undefined;\n        checkMixControlledAndUncontrolledState(oldIsControlled, newIsControlled);\n        return newIsControlled;\n      });\n    },\n    [propsValue],\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    if (\n      filteredOptions.some(({ value }) => nativeSelectValue === value) ||\n      (allowClearButton && nativeSelectValue === NOT_SELECTED.NATIVE)\n    ) {\n      const event = new Event('change', { bubbles: true });\n\n      selectElRef.current?.dispatchEvent(event);\n    }\n  }, [nativeSelectValue]);\n\n  const openedClassNames = React.useMemo(\n    () =>\n      (opened &&\n        dropdownOffsetDistance === 0 &&\n        (popperPlacement.includes('top') ? styles.popUp : styles.popDown)) ||\n      undefined,\n    [dropdownOffsetDistance, opened, popperPlacement],\n  );\n\n  const selectOption = React.useCallback(\n    (value: Exclude<SelectValue, null>) => {\n      setNativeSelectValue(value ?? NOT_SELECTED.NATIVE);\n      close();\n\n      const shouldTriggerOnChangeWhenControlledAndInnerValueIsOutOfSync =\n        isControlledOutside && propsValue !== nativeSelectValue && nativeSelectValue === value;\n\n      if (shouldTriggerOnChangeWhenControlledAndInnerValueIsOutOfSync) {\n        const event = new Event('change', { bubbles: true });\n        selectElRef.current?.dispatchEvent(event);\n      }\n    },\n    [close, setNativeSelectValue, isControlledOutside, propsValue, nativeSelectValue, selectElRef],\n  );\n\n  const selectFocused = React.useCallback(() => {\n    if (focusedOptionValue === null) {\n      return;\n    }\n\n    selectOption(focusedOptionValue);\n  }, [focusedOptionValue, selectOption]);\n\n  const onInputKeyDown = useInputKeyboardController({\n    opened,\n    open,\n    close,\n    resetFocusedOption,\n    selectFocused,\n    focusOption,\n    scrollBoxRef,\n    onInputKeyDown: onInputKeyDownProp,\n  });\n\n  const onBlur = React.useCallback(() => {\n    close();\n    const event = new Event('focusout', { bubbles: true });\n    selectElRef.current?.dispatchEvent(event);\n  }, [close, selectElRef]);\n\n  const onFocus = React.useCallback(() => {\n    const event = new Event('focusin', { bubbles: true });\n    selectElRef.current?.dispatchEvent(event);\n  }, [selectElRef]);\n\n  const handleOptionClick = React.useCallback(\n    (e: React.MouseEvent<HTMLElement>) => {\n      const index = Array.prototype.indexOf.call(\n        e.currentTarget.parentNode?.children,\n        e.currentTarget,\n      );\n      const option = filteredOptions[index];\n\n      if (option && !option.disabled) {\n        selectOption(option.value);\n      }\n    },\n    [filteredOptions, selectOption],\n  );\n\n  const lastMousePositionRef = React.useRef<MousePosition>({ x: 0, y: 0 });\n  const focusOptionOnMouseMove = React.useCallback(\n    (e: React.MouseEvent<HTMLElement>, index: number) => {\n      if (isMousePositionChanged(e, lastMousePositionRef.current)) {\n        focusOptionByIndex(index, false);\n      }\n    },\n    [focusOptionByIndex],\n  );\n\n  const popupAriaId = React.useId();\n  const renderOption = React.useCallback(\n    (option: OptionInterfaceT, index: number) => {\n      const hovered = option.value === focusedOptionValue;\n      const selected = option.value === selectedOptionValue;\n\n      return (\n        <React.Fragment key={`${typeof option.value}-${option.value}`}>\n          {renderOptionProp({\n            option,\n            hovered,\n            children: option.label,\n            selected,\n            disabled: option.disabled,\n            onClick: handleOptionClick,\n            onMouseDown: preventDefault,\n            // Используем `onMouseMove` вместо `onMouseEnter/onMouseOver`.\n            // Потому что если при навигации с клавиатуры курсор наведён на\n            // список, то при первом автоматическом скролле списка вызывается событие MouseOver/MouseEnter\n            // обработчик которого фокусирует опцию под курсором, хотя при навигация с клавиатуры пользователь мог уйти дальше по списку, это путает.\n            // Причём координаты события меняются на пару пикселей по сравнению с прошлым вызовом,\n            // а значит нельзя на них опираться, чтобы запретить обработку такого события.\n            // C mousemove такой проблемы нет, что позволяет реализовать поведение при наведении с клавиатуры и при наведении мышью идентично `<select>`.\n            onMouseMove: (e) => focusOptionOnMouseMove(e, index),\n            id: `${popupAriaId}-${option.value}`,\n            ...option,\n          })}\n        </React.Fragment>\n      );\n    },\n    [\n      focusedOptionValue,\n      selectedOptionValue,\n      renderOptionProp,\n      handleOptionClick,\n      popupAriaId,\n      focusOptionOnMouseMove,\n    ],\n  );\n\n  const resolvedContent = React.useMemo(() => {\n    const defaultDropdownContent =\n      filteredOptions.length > 0 ? (\n        <div ref={optionsWrapperRef}>{filteredOptions.map(renderOption)}</div>\n      ) : (\n        <Footnote className={styles.empty}>{emptyText}</Footnote>\n      );\n\n    if (typeof renderDropdown === 'function') {\n      return renderDropdown({ defaultDropdownContent });\n    } else {\n      return defaultDropdownContent;\n    }\n  }, [emptyText, filteredOptions, optionsWrapperRef, renderDropdown, renderOption]);\n\n  const afterItems = useAfterItems({\n    value: propsValue,\n    nativeSelectValue,\n    isControlledOutside,\n    opened,\n    allowClearButton,\n    ClearButton,\n    onClearButtonClick: () => {\n      setNativeSelectValue(NOT_SELECTED.NATIVE);\n      resetInputValue();\n      selectInputRef.current && selectInputRef.current.focus();\n    },\n    clearButtonTestId,\n    disabled: restProps.disabled,\n    readOnly,\n    icon: iconProp,\n  });\n\n  const { document } = useDOM();\n  const passClickAndFocusToInputOnClick = React.useCallback(\n    (e: React.MouseEvent<HTMLDivElement>) => {\n      // Раньше внешней оберткой CustomSelect был <label>, что позволяло по клику в любую область CustomSelect,\n      // даже где нету интерактивного элемента, фокусировать <input> и передавать на него событие клика.\n      // Так как мы больше не оборачиваем CustomSelect в <label>, то для обертки CustomSelect мы симулируем работу <label>.\n      // передаем фокус и клик по <input>, если пользователь кликнул в зоне обертки.\n      // В <label> мы не больше не оборачиваем, потому что это заставляет скринридер\n      // дважды произносить текст выбранной опции при фокусе, если CustomSelect связан с внешним <label>.\n      // Воспроизводится в некоторых версиях Chrome, при навигации по странице с помощью стрелок.\n      // Договорились со специалистом по доступности убрать <label>-обёртки из Select и CustomSelect\n\n      if (!selectInputRef.current || !document) {\n        return;\n      }\n\n      const clickTargetIsNotAnInput = e.target !== selectInputRef.current;\n      if (clickTargetIsNotAnInput) {\n        selectInputRef.current.click();\n\n        const inputIsNotFocused = document.activeElement !== selectInputRef.current;\n        if (inputIsNotFocused) {\n          selectInputRef.current.focus();\n        }\n      }\n    },\n    [document, selectInputRef],\n  );\n\n  const preventInputBlurWhenClickInsideFocusedSelectArea = (\n    e: React.MouseEvent<HTMLDivElement>,\n  ) => {\n    // Так как инпут больше не оборачивается пустым лэйблом, то клик внутри обертки,\n    // но вне инпута (например по иконке дропдауна), будет убирать фокус с инпута.\n    // Чтобы в такой ситуации отключить blur инпута мы превентим mousedown событие обёртки\n    const isInputFocused = document && document.activeElement === selectInputRef.current;\n    if (isInputFocused) {\n      e.preventDefault();\n    }\n  };\n\n  const ariaActiveDescendantId = focusedOptionValue !== null ? focusedOptionValue : undefined;\n\n  const selectInputAriaProps: React.HTMLAttributes<HTMLElement> = {\n    'role': 'combobox',\n    'aria-controls': popupAriaId,\n    'aria-expanded': opened,\n    'aria-activedescendant':\n      ariaActiveDescendantId && opened ? `${popupAriaId}-${ariaActiveDescendantId}` : undefined,\n    'aria-labelledby': ariaLabelledBy,\n    'aria-haspopup': 'listbox',\n    'aria-autocomplete': 'none',\n  };\n\n  const resetOptionFocusOnMouseLeave = React.useCallback(\n    (event: React.MouseEvent) => {\n      // В Хроме eсли мышка пользователя находится над инпутом селекта,\n      // и он с клавиатуры открывает опции, причём одна из опций\n      // уже выбрана, то видно, как выбранная опция получает фокус,\n      // но потом сразу же его теряет.\n      // Связано это с тем, что в этот момент вызывается onMouseLeave, на который у нас\n      // завязан сброс состония фокуса у опции. По хорошему фокус должен оставаться.\n      // Нам не интересен вызов onMouseLeave если мышка при этом не двигалась.\n      if (isMousePositionChanged(event, lastMousePositionRef.current)) {\n        resetFocusedOption();\n      }\n    },\n    [resetFocusedOption],\n  );\n\n  return (\n    <div\n      className={classNames(styles.host, sizeY !== 'regular' && sizeYClassNames[sizeY], className)}\n      style={style}\n      ref={handleRootRef}\n      onClick={passClickAndFocusToInputOnClick}\n      onMouseDown={preventInputBlurWhenClickInsideFocusedSelectArea}\n      onMouseMove={function updateLastMousePosition(e) {\n        lastMousePositionRef.current = { x: e.clientX, y: e.clientY };\n      }}\n    >\n      <CustomSelectInput\n        autoComplete=\"off\"\n        autoCapitalize=\"none\"\n        autoCorrect=\"off\"\n        spellCheck=\"false\"\n        {...restProps}\n        {...selectInputAriaProps}\n        getRef={selectInputRef}\n        onFocus={onFocus}\n        onBlur={onBlur}\n        className={openedClassNames}\n        readOnly={readOnly || !searchable}\n        fetching={fetching}\n        searchable={searchable}\n        accessible={accessible}\n        value={inputValue}\n        onKeyDown={!readOnly ? onInputKeyDown : undefined}\n        onChange={onInputChange}\n        onClick={!readOnly ? toggleOpened : undefined}\n        before={before}\n        after={afterItems}\n        selectType={selectType}\n      >\n        {selected?.label}\n      </CustomSelectInput>\n\n      <FetchingStatus\n        fetching={fetching}\n        options={filteredOptions}\n        fetchingInProgressLabel={fetchingInProgressLabel}\n        fetchingCompletedLabel={fetchingCompletedLabel}\n      />\n      <select\n        tabIndex={-1}\n        ref={selectElRef}\n        name={name}\n        onChange={onNativeSelectChange}\n        onBlur={props.onBlur}\n        onFocus={props.onFocus}\n        onClick={props.onClick}\n        value={nativeSelectValue}\n        aria-hidden\n        className={styles.control}\n        data-testid={nativeSelectTestId}\n        required={required}\n      >\n        {(allowClearButton || nativeSelectValue === NOT_SELECTED.NATIVE) && (\n          <option key={NOT_SELECTED.NATIVE} value={NOT_SELECTED.NATIVE} />\n        )}\n        {options.map((item) => (\n          <option key={`${item.value}`} value={item.value} />\n        ))}\n      </select>\n      {opened && (\n        <CustomSelectDropdown\n          targetRef={containerRef}\n          placement={popperPlacement}\n          scrollBoxRef={scrollBoxRef}\n          onPlacementChange={setPopperPlacement}\n          onMouseLeave={resetOptionFocusOnMouseLeave}\n          fetching={fetching}\n          overscrollBehavior={overscrollBehavior}\n          offsetDistance={dropdownOffsetDistance}\n          autoWidth={dropdownAutoWidth}\n          forcePortal={forceDropdownPortal}\n          noMaxHeight={noMaxHeight}\n          role=\"listbox\"\n          id={popupAriaId}\n          aria-labelledby={ariaLabelledBy}\n          tabIndex={-1}\n        >\n          {resolvedContent}\n        </CustomSelectDropdown>\n      )}\n    </div>\n  );\n}\n", "'use client';\n\nimport { type ChangeEvent, type ChangeEventHandler } from 'react';\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { getFormFieldModeFromSelectType } from '../../lib/select';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HasAlign, HasRef, HasRootRef } from '../../types';\nimport { DropdownIcon } from '../DropdownIcon/DropdownIcon';\nimport { FormField, type FormFieldProps } from '../FormField/FormField';\nimport type { SelectType } from '../Select/Select';\nimport { SelectTypography } from '../SelectTypography/SelectTypography';\nimport styles from '../Select/Select.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport type SelectValue = Exclude<\n  React.SelectHTMLAttributes<HTMLSelectElement>['value'],\n  undefined\n> | null;\n\nexport type NativeSelectValue = Exclude<SelectValue, null>;\n\nexport const NOT_SELECTED = {\n  NATIVE: '__vkui_internal_Select_not_selected__',\n  CUSTOM: null,\n};\n\n/**\n * @visibleName NativeSelect\n */\nexport const remapFromSelectValueToNativeValue = (value: SelectValue): NativeSelectValue =>\n  value === NOT_SELECTED.CUSTOM ? NOT_SELECTED.NATIVE : value;\n\nexport const remapFromNativeValueToSelectValue = (value: NativeSelectValue): SelectValue =>\n  value === NOT_SELECTED.NATIVE ? NOT_SELECTED.CUSTOM : value;\n\nexport interface NativeSelectProps\n  extends Omit<\n      React.SelectHTMLAttributes<HTMLSelectElement>,\n      'multiple' | 'value' | 'defaultValue' | 'onChange'\n    >,\n    HasRef<HTMLSelectElement>,\n    HasRootRef<HTMLDivElement>,\n    HasAlign,\n    Pick<FormFieldProps, 'before' | 'status'> {\n  /**\n   * Выбранное значение.\n   *\n   * > ⚠️  Важно: При прокидывании `undefined` компонент будет считаться `Uncontrolled`.\n   * >\n   * > Не используйте `undefined`, чтобы показать невыбранное состояние. Вместо этого используйте `null`.\n   */\n  value?: SelectValue;\n  /**\n   * См. `value`.\n   */\n  defaultValue?: SelectValue;\n  /**\n   * Обработчик, срабатывающий при изменении выбранного значения.\n   * Вторым параметром прокидывается новое значение.\n   *\n   * > ⚠️ Лучше использовать второй параметр при работе с компонентом.\n   */\n  onChange?: (e: ChangeEvent<HTMLSelectElement>, newValue: SelectValue) => void;\n  /**\n   * Текст-подсказка при отсутствии выбранного значения.\n   */\n  placeholder?: string;\n  /**\n   * Флаг для включения многострочного режима.\n   */\n  multiline?: boolean;\n  /**\n   * Тип селекта, влияющий на отображение.\n   */\n  selectType?: SelectType;\n  /**\n   * Иконка раскрывающегося списка.\n   */\n  icon?: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/native-select\n */\nexport const NativeSelect = ({\n  style,\n  align,\n  placeholder,\n  children,\n  className,\n  getRef,\n  getRootRef,\n  disabled,\n  multiline,\n  selectType = 'default',\n  status,\n  icon = <DropdownIcon />,\n  before,\n  onChange,\n  value,\n  defaultValue,\n  ...restProps\n}: NativeSelectProps): React.ReactNode => {\n  const [title, setTitle] = React.useState('');\n  const [empty, setEmpty] = React.useState(false);\n  const selectRef = useExternRef(getRef);\n  const { sizeY = 'none' } = useAdaptivity();\n\n  const checkSelectedOption = () => {\n    const selectedOption = selectRef.current?.options[selectRef.current.selectedIndex];\n    if (selectedOption) {\n      setTitle(selectedOption.text);\n      setEmpty(selectedOption.value === NOT_SELECTED.NATIVE && placeholder != null);\n    }\n  };\n\n  const _onChange: ChangeEventHandler<HTMLSelectElement> = (e) => {\n    const newValue = remapFromNativeValueToSelectValue(e.target.value);\n    if (e.target.value === NOT_SELECTED.NATIVE) {\n      e.target.value = '';\n    }\n    if (e.currentTarget.value === NOT_SELECTED.NATIVE) {\n      e.currentTarget.value = '';\n    }\n    onChange?.(e, newValue);\n  };\n  useIsomorphicLayoutEffect(checkSelectedOption, [children]);\n\n  return (\n    <FormField\n      Component=\"div\"\n      className={classNames(\n        styles.host,\n        'vkuiInternalNativeSelect',\n        before && styles.hasBefore,\n        empty && styles.empty,\n        multiline && styles.multiline,\n        align === 'center' && styles.alignCenter,\n        align === 'right' && styles.alignRight,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        className,\n      )}\n      style={style}\n      getRootRef={getRootRef}\n      disabled={disabled}\n      before={before}\n      after={icon}\n      status={status}\n      mode={getFormFieldModeFromSelectType(selectType)}\n    >\n      <select\n        {...restProps}\n        value={value !== undefined ? remapFromSelectValueToNativeValue(value) : value}\n        defaultValue={\n          defaultValue !== undefined\n            ? remapFromSelectValueToNativeValue(defaultValue)\n            : defaultValue\n        }\n        disabled={disabled}\n        className={styles.el}\n        onChange={callMultiple(_onChange, checkSelectedOption)}\n        ref={selectRef}\n      >\n        {placeholder && <option value={NOT_SELECTED.NATIVE}>{placeholder}</option>}\n        {children}\n      </select>\n      <div className={styles.container} aria-hidden>\n        <SelectTypography className={styles.title} selectType={selectType}>\n          {title}\n        </SelectTypography>\n      </div>\n    </FormField>\n  );\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport type { SelectType } from '../Select/Select';\nimport { Text, type TextProps } from '../Typography/Text/Text';\n\nexport interface SelectTypographyProps extends TextProps {\n  selectType?: SelectType;\n}\n\n/**\n * @private\n */\nexport const SelectTypography = ({\n  selectType = 'default',\n  children,\n  ...restProps\n}: SelectTypographyProps): React.ReactNode => {\n  return (\n    <Text weight={selectType === 'accent' ? '2' : '3'} {...restProps}>\n      {children}\n    </Text>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../../hooks/useAdaptivity';\nimport { useExternRef } from '../../../hooks/useExternRef';\nimport { useFocusWithin } from '../../../hooks/useFocusWithin';\nimport { usePlatform } from '../../../hooks/usePlatform';\nimport { getFormFieldModeFromSelectType } from '../../../lib/select';\nimport type { HasAlign, HasRef, HasRootRef } from '../../../types';\nimport { FormField, type FormFieldProps } from '../../FormField/FormField';\nimport type { SelectType } from '../../Select/Select';\nimport { SelectTypography } from '../../SelectTypography/SelectTypography';\nimport { Text } from '../../Typography/Text/Text';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\nimport styles from './CustomSelectInput.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface CustomSelectInputProps\n  extends React.InputHTMLAttributes<HTMLInputElement>,\n    HasRef<HTMLInputElement>,\n    HasRootRef<HTMLDivElement>,\n    HasAlign,\n    Omit<FormFieldProps, 'mode' | 'type' | 'maxHeight'> {\n  selectType?: SelectType;\n  multiline?: boolean;\n  labelTextTestId?: string;\n  fetching?: boolean;\n  searchable?: boolean;\n  accessible?: boolean;\n}\n\n/**\n * @since 5.10.0\n * @private\n */\nexport const CustomSelectInput = ({\n  align = 'left',\n  getRef,\n  className,\n  getRootRef,\n  style,\n  before,\n  after,\n  status,\n  children,\n  placeholder,\n  selectType = 'default',\n  multiline,\n  disabled,\n  fetching,\n  labelTextTestId,\n  searchable,\n  accessible,\n  ...restProps\n}: CustomSelectInputProps): React.ReactNode => {\n  const { sizeY = 'none' } = useAdaptivity();\n\n  const title = children || placeholder;\n  const showLabelOrPlaceholder = !Boolean(restProps.value);\n\n  const handleRootRef = useExternRef(getRootRef);\n  const focusWithin = useFocusWithin(handleRootRef);\n\n  const inputReadonly = restProps.readOnly || (disabled && fetching);\n\n  const input = (\n    <Text\n      type=\"text\"\n      {...restProps}\n      disabled={disabled && !fetching}\n      readOnly={inputReadonly}\n      Component=\"input\"\n      normalize={false}\n      className={classNames(\n        styles.el,\n        (restProps.readOnly || (showLabelOrPlaceholder && !focusWithin)) && styles.elCursorPointer,\n      )}\n      getRootRef={getRef}\n      placeholder={children ? '' : placeholder}\n    />\n  );\n\n  const inputHidden = React.useMemo(() => {\n    if (accessible) {\n      if (!searchable) {\n        return true;\n      }\n      return !focusWithin || (inputReadonly && !fetching);\n    } else {\n      return false;\n    }\n  }, [accessible, fetching, focusWithin, inputReadonly, searchable]);\n\n  const labelHidden = showLabelOrPlaceholder ? false : !inputHidden;\n\n  const platform = usePlatform();\n  return (\n    <FormField\n      Component=\"div\"\n      style={style}\n      className={classNames(\n        styles.host,\n        align === 'right' && styles.alignRight,\n        align === 'center' && styles.alignCenter,\n        !children && styles.empty,\n        multiline && styles.multiline,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        before && styles.hasBefore,\n        after && styles.hasAfter,\n        inputHidden && styles.inputHidden,\n        labelHidden && styles.labelHidden,\n        accessible && styles.accessible,\n        restProps.value && styles.hasInputValue,\n        className,\n      )}\n      getRootRef={handleRootRef}\n      before={before}\n      after={after}\n      disabled={disabled}\n      mode={getFormFieldModeFromSelectType(selectType)}\n      status={status}\n    >\n      <div className={styles.inputGroup}>\n        <div\n          className={classNames(styles.container, className)}\n          tabIndex={-1}\n          aria-hidden\n          data-testid={labelTextTestId}\n        >\n          <SelectTypography selectType={selectType} className={styles.title}>\n            {title}\n          </SelectTypography>\n        </div>\n        {/* Чтобы отключить autosuggestion в iOS, тултипы которого начинают всплывать даже когда input\n         * в режиме readonly, мы оборачиваем инпут в VisuallyHidden.\n         * Тултипы появляются при каждом клике на input.\n         * смотри: https://github.com/VKCOM/VKUI/issues/6205\n         *\n         * Достаточно не дать пользователю кликнуть по инпуту.\n         * Делаем это только для режима read-only. Потому что проблема именно в режиме read-only.\n         * Обертка вокруг инпута обрабатывает клики и передаёт фокус, так что на взаимодействии с инпутом это никак не скажется.\n         **/}\n        {restProps.readOnly && platform === 'ios' ? (\n          <VisuallyHidden>{input}</VisuallyHidden>\n        ) : (\n          input\n        )}\n      </div>\n    </FormField>\n  );\n};\n", "import { getTextFromChildren } from '../../lib/children';\nimport { warnOnce } from '../../lib/warnOnce';\nimport { NOT_SELECTED, type SelectValue } from '../NativeSelect/NativeSelect';\nimport { type SelectProps } from './CustomSelect';\nimport { type CustomSelectOptionInterface } from './types';\n\nexport const findIndexAfter = (options: CustomSelectOptionInterface[] = [], startIndex = -1) => {\n  if (startIndex >= options.length - 1) {\n    return -1;\n  }\n  return options.findIndex((option, i) => i > startIndex && !option.disabled);\n};\n\nexport const findIndexBefore = (\n  options: CustomSelectOptionInterface[] = [],\n  endIndex: number = options.length,\n) => {\n  let result = -1;\n  if (endIndex <= 0) {\n    return result;\n  }\n  for (let i = endIndex - 1; i >= 0; i--) {\n    let option = options[i];\n\n    if (!option.disabled) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n};\nconst warn = warnOnce('CustomSelect');\n\nexport const checkOptionsValueType = <T extends CustomSelectOptionInterface>(options: T[]) => {\n  if (new Set(options.map((item) => typeof item.value)).size > 1) {\n    warn(\n      'Некоторые значения ваших опций имеют разные типы. onChange всегда возвращает строковый тип.',\n      'error',\n    );\n  }\n};\n\nexport const checkMixControlledAndUncontrolledState = (\n  oldIsControlled: boolean,\n  newIsControlled: boolean,\n) => {\n  if (!oldIsControlled && newIsControlled) {\n    warn(\n      `Похоже, что компонент был переведен из состояния Uncontrolled в Controlled. Пожалуйста, не делайте так. Если вам нужно отобразить невыбранное состояние компонента, используйте value=null вместо undefined`,\n      'error',\n    );\n  }\n  if (oldIsControlled && !newIsControlled) {\n    warn(\n      `Похоже, что компонент был переведен из состояния Controlled в Uncontrolled. Пожалуйста, не делайте так. Если вам нужно отобразить невыбранное состояние компонента, используйте value=null вместо undefined`,\n      'error',\n    );\n  }\n};\n\nexport function findSelectedIndex<T extends CustomSelectOptionInterface>(\n  options: T[] = [],\n  value: SelectValue,\n) {\n  if (value === NOT_SELECTED.CUSTOM) {\n    return -1;\n  }\n  return (\n    options.findIndex((item) => {\n      value = typeof item.value === 'number' ? Number(value) : value;\n      return item.value === value;\n    }) ?? -1\n  );\n}\n\nexport function getOptionByValue<T extends CustomSelectOptionInterface>(\n  options: T[] = [],\n  value: SelectValue,\n): T | null {\n  const index = findSelectedIndex(options, value);\n  if (index === -1) {\n    return null;\n  }\n  return options[index];\n}\n\nexport const filter = <T extends CustomSelectOptionInterface>(\n  options: SelectProps<T>['options'],\n  inputValue: string,\n  filterFn: SelectProps<T>['filterFn'],\n) => {\n  return typeof filterFn === 'function'\n    ? options.filter((option) => filterFn(inputValue, option))\n    : options;\n};\n\nexport function calculateInputValueFromOptions<T extends CustomSelectOptionInterface>(\n  options: T[] = [],\n  selectValue: SelectValue,\n) {\n  const selectedOption = getOptionByValue(options, selectValue);\n  return selectedOption ? getTextFromChildren(selectedOption.label) : '';\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '../../../hooks/useStableCallback';\nimport { DropdownIcon } from '../../DropdownIcon/DropdownIcon';\nimport { type NativeSelectValue, NOT_SELECTED } from '../../NativeSelect/NativeSelect';\nimport { type SelectProps } from '../CustomSelect';\nimport { CustomSelectClearButton } from '../CustomSelectClearButton';\nimport styles from '../CustomSelect.module.css';\n\n/* eslint-disable jsdoc/require-jsdoc */\ninterface UseAfterItemsProps\n  extends Pick<\n    SelectProps,\n    | 'value'\n    | 'allowClearButton'\n    | 'icon'\n    | 'readOnly'\n    | 'disabled'\n    | 'ClearButton'\n    | 'clearButtonTestId'\n  > {\n  isControlledOutside: boolean;\n  nativeSelectValue: NativeSelectValue;\n  opened: boolean;\n  onClearButtonClick: () => void;\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nexport function useAfterItems({\n  value,\n  nativeSelectValue,\n  isControlledOutside,\n  opened,\n  allowClearButton,\n  ClearButton = CustomSelectClearButton,\n  onClearButtonClick,\n  clearButtonTestId,\n  disabled,\n  readOnly,\n  icon: iconProp,\n}: UseAfterItemsProps) {\n  const onClearButtonClickCb = useStableCallback(onClearButtonClick);\n\n  const controlledValueSet = isControlledOutside && value !== NOT_SELECTED.CUSTOM;\n  const uncontrolledValueSet = !isControlledOutside && nativeSelectValue !== NOT_SELECTED.NATIVE;\n  const clearButtonShown =\n    allowClearButton && !opened && (controlledValueSet || uncontrolledValueSet);\n\n  const clearButton = React.useMemo(() => {\n    if (!clearButtonShown) {\n      return null;\n    }\n\n    return (\n      <ClearButton\n        className={iconProp === undefined ? styles.clearIcon : undefined}\n        onClick={onClearButtonClickCb}\n        disabled={disabled}\n        data-testid={clearButtonTestId}\n      />\n    );\n  }, [clearButtonShown, ClearButton, iconProp, onClearButtonClickCb, disabled, clearButtonTestId]);\n\n  const icon = React.useMemo(() => {\n    if (iconProp !== undefined) {\n      return iconProp;\n    }\n\n    return (\n      <DropdownIcon\n        className={clearButtonShown ? styles.dropdownIcon : undefined}\n        opened={opened}\n      />\n    );\n  }, [clearButtonShown, iconProp, opened]);\n\n  return React.useMemo(\n    () =>\n      !readOnly &&\n      (icon || clearButtonShown) && (\n        <React.Fragment>\n          {clearButton}\n          {icon}\n        </React.Fragment>\n      ),\n    [clearButton, clearButtonShown, icon, readOnly],\n  );\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Cancel } from '@vkontakte/icons';\nimport { stopPropagation } from '../../lib/utils';\nimport type { HasDataAttribute } from '../../types';\nimport { IconButton } from '../IconButton/IconButton';\n\nexport interface CustomSelectClearButtonProps extends HasDataAttribute {\n  /**\n   * `className` для компонента.\n   */\n  className?: string;\n  /**\n   * Обработчик нажатия на кнопку.\n   */\n  onClick: () => void;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n}\n\nexport const CustomSelectClearButton = ({\n  className,\n  onClick,\n  ...restProps\n}: CustomSelectClearButtonProps): React.ReactNode => {\n  return (\n    <IconButton\n      Component=\"button\"\n      label=\"Очистить поле\"\n      onKeyDown={stopPropagation}\n      type=\"button\"\n      activeMode=\"opacity\"\n      hoverMode=\"opacity\"\n      {...restProps}\n      className={className}\n      onClick={(e) => {\n        stopPropagation(e);\n        e.preventDefault();\n        onClick();\n      }}\n    >\n      <Icon16Cancel />\n    </IconButton>\n  );\n};\n", "import * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { useStableCallback } from '../../../hooks/useStableCallback';\nimport { type SelectProps } from '../CustomSelect';\n/* eslint-disable jsdoc/require-jsdoc */\ntype UseDropdownOpenedControllerProps = Pick<SelectProps, 'onOpen' | 'onClose'> & {\n  onOpened?: () => void;\n  onClosed?: () => void;\n};\n/* eslint-enable jsdoc/require-jsdoc */\nexport function useDropdownOpenedController({\n  onClose,\n  onOpen,\n  onOpened,\n  onClosed,\n}: UseDropdownOpenedControllerProps) {\n  const [opened, setOpened] = React.useState(false);\n  const onCloseCb = useStableCallback(onClose || noop);\n  const onOpenCb = useStableCallback(onOpen || noop);\n  const onOpenedCb = useStableCallback(onOpened || noop);\n  const onClosedCb = useStableCallback(onClosed || noop);\n\n  const close = React.useCallback(() => {\n    if (!opened) {\n      return;\n    }\n    setOpened(false);\n    onCloseCb?.();\n  }, [onCloseCb, opened]);\n\n  const open = React.useCallback(() => {\n    if (opened) {\n      return;\n    }\n    setOpened(true);\n    onOpenCb?.();\n  }, [onOpenCb, opened]);\n\n  const toggleOpened = React.useCallback(() => {\n    if (opened) {\n      close();\n    } else {\n      open();\n    }\n  }, [close, open, opened]);\n\n  React.useEffect(() => {\n    if (opened) {\n      onOpenedCb();\n    } else {\n      onClosedCb();\n    }\n  }, [onClosedCb, onOpenedCb, opened]);\n\n  return {\n    opened,\n    open,\n    close,\n    toggleOpened,\n  };\n}\n", "import { type Dispatch, type SetStateAction } from 'react';\nimport * as React from 'react';\nimport { type SelectValue } from '../../NativeSelect/NativeSelect';\nimport { type SelectProps } from '../CustomSelect';\nimport { findIndexAfter, findIndexBefore, findSelectedIndex } from '../helpers';\nimport { type CustomSelectOptionInterface } from '../types';\n\n/* eslint-disable jsdoc/require-jsdoc */\ninterface UseFocusedOptionControllerProps<OptionInterfaceT extends CustomSelectOptionInterface> {\n  filteredOptions: SelectProps<OptionInterfaceT>['options'];\n  scrollToElement: (index: number, center?: boolean) => void;\n  selectedOptionValue: SelectValue;\n}\n\nexport interface UseFocusedOptionControllerReturn {\n  focusedOptionValue: SelectValue;\n  setFocusedOptionValue: Dispatch<SetStateAction<SelectValue>>;\n  focusOptionByIndex: (index: number | undefined, scrollTo: boolean) => void;\n  resetFocusedOption: () => void;\n  focusOption: (type: 'next' | 'prev') => void;\n  selectFocusedValue: () => void;\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nexport function useFocusedOptionController<OptionInterfaceT extends CustomSelectOptionInterface>({\n  selectedOptionValue,\n  filteredOptions,\n  scrollToElement,\n}: UseFocusedOptionControllerProps<OptionInterfaceT>): UseFocusedOptionControllerReturn {\n  const [focusedOptionValue, setFocusedOptionValue] = React.useState<SelectValue>(null);\n\n  const focusOptionByIndex = React.useCallback(\n    (index: number | undefined, scrollTo = true) => {\n      if (index === undefined || index < 0 || index > filteredOptions.length - 1) {\n        return;\n      }\n      const option = filteredOptions[index];\n\n      if (!option || option.disabled) {\n        return;\n      }\n\n      if (scrollTo) {\n        scrollToElement(index);\n      }\n\n      setFocusedOptionValue(option.value);\n    },\n    [filteredOptions, scrollToElement],\n  );\n\n  const resetFocusedOption = React.useCallback(() => {\n    setFocusedOptionValue(null);\n  }, []);\n\n  const focusOption = React.useCallback(\n    (type: 'next' | 'prev') => {\n      let index = findSelectedIndex(filteredOptions, focusedOptionValue);\n\n      if (type === 'next') {\n        const nextIndex = findIndexAfter(filteredOptions, index);\n        index = nextIndex === -1 ? findIndexAfter(filteredOptions) : nextIndex; // Следующий за index или первый валидный до index\n      } else if (type === 'prev') {\n        const beforeIndex = findIndexBefore(filteredOptions, index);\n        index = beforeIndex === -1 ? findIndexBefore(filteredOptions) : beforeIndex; // Предшествующий index или последний валидный после index\n      }\n\n      focusOptionByIndex(index);\n    },\n    [filteredOptions, focusedOptionValue, focusOptionByIndex],\n  );\n\n  const selectFocusedValue = React.useCallback(\n    () => setFocusedOptionValue(selectedOptionValue),\n    [selectedOptionValue],\n  );\n\n  return {\n    focusedOptionValue,\n    setFocusedOptionValue,\n    focusOptionByIndex,\n    resetFocusedOption,\n    focusOption,\n    selectFocusedValue,\n  };\n}\n", "import * as React from 'react';\nimport { Keys, pressedKey } from '../../../lib/accessibility';\nimport { callMultiple } from '../../../lib/callMultiple';\nimport { type SelectProps } from '../CustomSelect';\nimport { type UseFocusedOptionControllerReturn } from './useFocusedOptionController';\n\nconst KEYS_TO_PREVENT_DEFAULT: string[] = [Keys.ARROW_UP, Keys.ARROW_DOWN, Keys.ESCAPE, Keys.ENTER];\n\n/* eslint-disable jsdoc/require-jsdoc */\ninterface UseInputKeyboardController\n  extends Pick<UseFocusedOptionControllerReturn, 'resetFocusedOption' | 'focusOption'>,\n    Pick<SelectProps, 'onInputKeyDown'> {\n  opened: boolean;\n  scrollBoxRef: React.RefObject<HTMLDivElement | null>;\n  selectFocused: () => void;\n  open: () => void;\n  close: () => void;\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nexport function useInputKeyboardController({\n  opened,\n  resetFocusedOption,\n  focusOption,\n  scrollBoxRef,\n  selectFocused,\n  onInputKeyDown,\n  open,\n  close,\n}: UseInputKeyboardController) {\n  const handleKeyDownSelect = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      const key = pressedKey(event);\n      if (event.key.length === 1 && key !== Keys.SPACE) {\n        open();\n        resetFocusedOption();\n        return;\n      }\n      if (!key) {\n        return;\n      }\n      const areOptionsShown = () => scrollBoxRef.current !== null;\n\n      if (KEYS_TO_PREVENT_DEFAULT.includes(key)) {\n        event.preventDefault();\n      }\n      switch (key) {\n        case Keys.ARROW_UP:\n          if (opened) {\n            areOptionsShown() && focusOption('prev');\n          } else {\n            open();\n          }\n          break;\n        case Keys.ARROW_DOWN:\n          if (opened) {\n            areOptionsShown() && focusOption('next');\n          } else {\n            open();\n          }\n          break;\n        case Keys.ESCAPE:\n          close();\n          break;\n        case Keys.BACKSPACE:\n        case Keys.DELETE: {\n          open();\n          resetFocusedOption();\n          break;\n        }\n        case Keys.ENTER:\n        case Keys.SPACE:\n          if (opened) {\n            areOptionsShown() && selectFocused();\n          } else {\n            open();\n          }\n          break;\n      }\n    },\n    [scrollBoxRef, opened, close, focusOption, open, resetFocusedOption, selectFocused],\n  );\n\n  const handleInputKeydown = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      onInputKeyDown?.(event, opened);\n    },\n    [opened, onInputKeyDown],\n  );\n  const _onInputKeyDown: (e: React.KeyboardEvent<HTMLInputElement>) => void = callMultiple(\n    handleKeyDownSelect,\n    handleInputKeydown,\n  );\n\n  return _onInputKeyDown;\n}\n", "import * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../../../lib/useIsomorphicLayoutEffect';\nimport { type SelectValue } from '../../NativeSelect/NativeSelect';\nimport { type SelectProps } from '../CustomSelect';\nimport { calculateInputValueFromOptions } from '../helpers';\nimport { type CustomSelectOptionInterface } from '../types';\n\n/* eslint-disable jsdoc/require-jsdoc */\ntype UseInputValueControllerProps<OptionInterfaceT extends CustomSelectOptionInterface> = Pick<\n  SelectProps<OptionInterfaceT>,\n  'options' | 'onInputChange' | 'accessible'\n> & {\n  selectedValue: SelectValue;\n};\n/* eslint-enable jsdoc/require-jsdoc */\n\nexport function useInputValueController<OptionInterfaceT extends CustomSelectOptionInterface>({\n  options,\n  accessible,\n  selectedValue,\n  onInputChange: onInputChangeProp,\n}: UseInputValueControllerProps<OptionInterfaceT>) {\n  const [inputValue, setInputValue] = React.useState('');\n  const optionsRef = React.useRef(options);\n\n  useIsomorphicLayoutEffect(() => {\n    optionsRef.current = options;\n  }, [options]);\n\n  const resetInputValueBySelectedOption = React.useCallback(() => {\n    setInputValue(calculateInputValueFromOptions(optionsRef.current, selectedValue));\n  }, [selectedValue]);\n\n  useIsomorphicLayoutEffect(() => {\n    if (accessible) {\n      resetInputValueBySelectedOption();\n    }\n  }, [accessible, resetInputValueBySelectedOption]);\n\n  const resetInputValue = React.useCallback(() => {\n    setInputValue('');\n  }, []);\n\n  const onInputChange: React.ChangeEventHandler<HTMLInputElement> = React.useCallback(\n    (e) => {\n      onInputChangeProp && onInputChangeProp(e);\n      setInputValue(e.target.value);\n    },\n    [onInputChangeProp, setInputValue],\n  );\n\n  return {\n    inputValue,\n    resetInputValue,\n    resetInputValueBySelectedOption,\n    onInputChange,\n  };\n}\n", "import * as React from 'react';\n\n/* eslint-disable jsdoc/require-jsdoc */\ninterface UseScrollListControllerReturn {\n  scrollBoxRef: React.RefObject<HTMLDivElement | null>;\n  optionsWrapperRef: React.RefObject<HTMLDivElement | null>;\n  scrollToElement: (index: number, center?: boolean) => void;\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nexport function useScrollListController(): UseScrollListControllerReturn {\n  const scrollBoxRef = React.useRef<HTMLDivElement | null>(null);\n  const optionsWrapperRef = React.useRef<HTMLDivElement>(null);\n\n  const scrollToElement = React.useCallback(\n    (index: number, center = false) => {\n      const dropdown = scrollBoxRef.current;\n      const optionsWrapper = optionsWrapperRef.current;\n\n      if (!dropdown || !optionsWrapper || index < 0 || index > optionsWrapper.children.length) {\n        return;\n      }\n      const item = optionsWrapper.children[index] as HTMLElement | null;\n      /* istanbul ignore if: проверка для TS (ситуация, когда среди children нет элемента с index, маловероятна) */\n      if (!item) {\n        return;\n      }\n\n      const dropdownHeight = dropdown.offsetHeight;\n      const scrollTop = dropdown.scrollTop;\n      const itemTop = item.offsetTop;\n      const itemHeight = item.offsetHeight;\n\n      if (center) {\n        dropdown.scrollTop = itemTop - dropdownHeight / 2 + itemHeight / 2;\n      } else if (itemTop + itemHeight > dropdownHeight + scrollTop) {\n        dropdown.scrollTop = itemTop - dropdownHeight + itemHeight;\n      } else if (itemTop < scrollTop) {\n        dropdown.scrollTop = itemTop;\n      }\n    },\n    [optionsWrapperRef, scrollBoxRef],\n  );\n\n  return { scrollToElement, scrollBoxRef, optionsWrapperRef };\n}\n", "import { type ChangeEvent } from 'react';\nimport * as React from 'react';\nimport { useStateWithPrev } from '../../../hooks/useStateWithPrev';\nimport {\n  type NativeSelectValue,\n  NOT_SELECTED,\n  remapFromNativeValueToSelectValue,\n  remapFromSelectValueToNativeValue,\n  type SelectValue,\n} from '../../NativeSelect/NativeSelect';\nimport { type SelectProps } from '../CustomSelect';\n\n/* eslint-disable jsdoc/require-jsdoc */\ntype UseSelectedOptionControllerProps = Pick<SelectProps, 'value' | 'defaultValue'> & {\n  isControlledOutside: boolean;\n  allowClearButton: boolean;\n  onChange?: (e: ChangeEvent<HTMLSelectElement>, newValue: SelectValue) => void;\n};\n/* eslint-enable jsdoc/require-jsdoc */\n\nexport function useSelectedOptionController({\n  value,\n  defaultValue,\n  isControlledOutside,\n  allowClearButton,\n  onChange,\n}: UseSelectedOptionControllerProps) {\n  const [[nativeSelectValue, prevNativeSelectValue], setNativeSelectValue] =\n    useStateWithPrev<NativeSelectValue>(() => {\n      if (value !== undefined) {\n        return remapFromSelectValueToNativeValue(value);\n      }\n      if (defaultValue !== undefined) {\n        return remapFromSelectValueToNativeValue(defaultValue);\n      }\n      return NOT_SELECTED.NATIVE;\n    });\n  const nativeSelectValueRef = React.useRef<NativeSelectValue>(nativeSelectValue);\n\n  const [selectedOptionValue, setSelectedOptionValue] = React.useState<SelectValue>(() =>\n    remapFromNativeValueToSelectValue(nativeSelectValue),\n  );\n\n  const _setNativeSelectValue = React.useCallback(\n    (newValue: NativeSelectValue) => {\n      setNativeSelectValue(newValue);\n      nativeSelectValueRef.current = newValue;\n    },\n    [setNativeSelectValue],\n  );\n\n  React.useEffect(\n    function syncNativeSelectValueWithPropValue() {\n      if (value !== undefined) {\n        _setNativeSelectValue(remapFromSelectValueToNativeValue(value));\n      }\n    },\n    [value, _setNativeSelectValue],\n  );\n\n  React.useEffect(\n    function syncNativeSelectValueWithSelectedOptionValue() {\n      const remappedSelectedValue = remapFromSelectValueToNativeValue(selectedOptionValue);\n      if (nativeSelectValueRef.current !== remappedSelectedValue) {\n        setNativeSelectValue(remappedSelectedValue);\n      }\n    },\n    [selectedOptionValue, setNativeSelectValue],\n  );\n\n  const onNativeSelectChange: React.ChangeEventHandler<HTMLSelectElement> = (e) => {\n    // для ситуаций, когда в опциях value это string а value/defaultValue это number\n    // и наоборот, приводим значение nativeSelectValue из стейта к строке.\n    // ведь nativeSelect всегда возвращает string в onChange, а пользователь\n    // может использовать number для опций\n    //\n    // native select всегда возвращает string в качестве value в onChange\n    // Когда селект контролируемый, то пользователь, в onChange может сохранить в свой стейт строку (например '3'), хотя\n    // в качестве value опции может использовать число (3),\n    // тогда строчное значение value ('3') из стейта пользователя\n    // будет передано в CustomSelect, и после синхронизации nativeSelectValue (3) и props.value ('3') и после клика на уже выбранную опцию (3),\n    // когда nativeSelectValue обновится на значение опции (число 3),\n    // сравнение nativeSelectValue (3) и prevNativeSelectValue ('3') может не сработать лишь из-за того, что они в разных типах.\n    const convertedNativeSelectValue =\n      typeof nativeSelectValue === 'number' &&\n      (typeof value === 'string' || typeof prevNativeSelectValue === 'string')\n        ? String(nativeSelectValue)\n        : nativeSelectValue;\n\n    const isCalledWithSameControlledOptionValue =\n      isControlledOutside &&\n      value === remapFromNativeValueToSelectValue(convertedNativeSelectValue);\n\n    const isNativeValueChanged =\n      convertedNativeSelectValue !== prevNativeSelectValue && prevNativeSelectValue !== undefined;\n\n    const isTriggeredByClearButton =\n      allowClearButton &&\n      // Проверяем, что новое значение NOT_SELECTED.NATIVE\n      nativeSelectValue === NOT_SELECTED.NATIVE &&\n      // Проверяем, что предыдущее значение не undefined(кейс с первой отрисовкой, когда предыдущего значения не было)\n      prevNativeSelectValue !== undefined &&\n      // Проверяем, что предыдущее значение не NOT_SELECTED.NATIVE(если до этого было уже сброшенное значение)\n      prevNativeSelectValue !== NOT_SELECTED.NATIVE;\n\n    const shouldCallOnChange =\n      !isCalledWithSameControlledOptionValue && (isNativeValueChanged || isTriggeredByClearButton);\n\n    if (!shouldCallOnChange) {\n      return;\n    }\n\n    const remappedNativeValue = remapFromNativeValueToSelectValue(e.currentTarget.value);\n\n    if (e.target.value === NOT_SELECTED.NATIVE) {\n      e.target.value = '';\n    }\n    if (e.currentTarget.value === NOT_SELECTED.NATIVE) {\n      e.currentTarget.value = '';\n    }\n\n    onChange?.(e, remappedNativeValue);\n  };\n\n  return {\n    selectedOptionValue,\n    setSelectedOptionValue,\n    nativeSelectValue,\n    setNativeSelectValue: _setNativeSelectValue,\n    onNativeSelectChange,\n  };\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useAutoFocus } from '../../hooks/useAutoFocus';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { getFormFieldModeFromSelectType } from '../../lib/select';\nimport type { HasAlign, HasRootRef } from '../../types';\nimport { DropdownIcon } from '../DropdownIcon/DropdownIcon';\nimport { FormField, type FormFieldProps } from '../FormField/FormField';\nimport type { SelectType } from '../Select/Select';\nimport { SelectTypography } from '../SelectTypography/SelectTypography';\nimport styles from '../Select/Select.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport interface SelectMimicryProps\n  extends React.AllHTMLAttributes<HTMLElement>,\n    HasRootRef<HTMLElement>,\n    HasAlign,\n    Pick<FormFieldProps, 'before' | 'after' | 'status'> {\n  /**\n   * Включает многострочный режим отображения.\n   */\n  multiline?: boolean;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n  /**\n   * Тип селекта, влияющий на внешний вид компонента.\n   */\n  selectType?: SelectType;\n}\n\n/**\n * @see https://vkui.io/components/select-mimicry\n */\nexport const SelectMimicry = ({\n  tabIndex = 0,\n  placeholder,\n  children,\n  align,\n  getRootRef,\n  multiline,\n  disabled,\n  onClick,\n  before,\n  after = <DropdownIcon />,\n  selectType = 'default',\n  status,\n  className,\n  autoFocus,\n  ...restProps\n}: SelectMimicryProps): React.ReactNode => {\n  const rootRef = useExternRef(getRootRef);\n\n  const { sizeY = 'none' } = useAdaptivity();\n  const title = children || placeholder;\n\n  useAutoFocus(rootRef, autoFocus);\n\n  return (\n    <FormField\n      {...restProps}\n      tabIndex={disabled ? undefined : tabIndex}\n      className={classNames(\n        styles.host,\n        sizeY !== 'regular' && sizeYClassNames[sizeY],\n        !children && styles.empty,\n        multiline && styles.multiline,\n        align === 'center' && styles.alignCenter,\n        align === 'right' && styles.alignRight,\n        before && styles.hasBefore,\n        className,\n      )}\n      getRootRef={rootRef}\n      onClick={disabled ? undefined : onClick}\n      disabled={disabled}\n      before={before}\n      after={after}\n      mode={getFormFieldModeFromSelectType(selectType)}\n      status={status}\n    >\n      <div className={styles.container}>\n        <SelectTypography selectType={selectType} className={styles.title}>\n          {title}\n        </SelectTypography>\n      </div>\n    </FormField>\n  );\n};\n", "import type * as React from 'react';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\nexport function useAutoFocus(\n  ref: React.RefObject<HTMLElement | null>,\n  autoFocus: boolean | undefined,\n): void {\n  useIsomorphicLayoutEffect(() => {\n    if (!autoFocus || !ref.current) {\n      return;\n    }\n\n    ref.current.focus();\n  }, []);\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { useCustomEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { useTabsNavigation } from '../../hooks/useTabsNavigation';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { CSSCustomProperties, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport {\n  SegmentedControlOption,\n  type SegmentedControlOptionProps,\n} from './SegmentedControlOption/SegmentedControlOption';\nimport styles from './SegmentedControl.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  regular: styles.sizeYRegular,\n};\n\nexport type SegmentedControlValue = string | number | undefined;\n\nexport interface SegmentedControlOptionInterface\n  extends Omit<React.HTMLAttributes<HTMLElement>, 'label'> {\n  /**\n   * Вставляет элемент перед основным контентом.\n   * Рекомендуется использовать только иконки с размером 20.\n   */\n  before?: React.ReactNode;\n  /**\n   * Текст или React-элемент, отображаемый в качестве метки опции.\n   */\n  label: React.ReactNode;\n  /**\n   * Значение опции, которое будет передано в обработчик onChange при выборе.\n   */\n  value: SegmentedControlValue;\n}\n\nexport interface SegmentedControlProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'onChange'> {\n  /**\n   * Массив опций для отображения в компоненте.\n   */\n  options: SegmentedControlOptionInterface[];\n  /**\n   * Размер компонента.\n   */\n  size?: 'm' | 'l';\n  /**\n   * Имя для input-элементов внутри компонента.\n   */\n  name?: string;\n  /**\n   * Обработчик изменения выбранного значения.\n   */\n  onChange?: (value: SegmentedControlValue) => void;\n  /**\n   * Текущее выбранное значение (для контролируемого компонента).\n   */\n  value?: SegmentedControlValue;\n  /**\n   * Значение по умолчанию (для неконтролируемого компонента).\n   */\n  defaultValue?: SegmentedControlValue;\n}\n\nconst warn = warnOnce('SegmentedControl');\n\n/**\n * @see https://vkui.io/components/segmented-control\n */\nexport const SegmentedControl = ({\n  size = 'l',\n  name,\n  options,\n  defaultValue = options[0]?.value,\n  children,\n  onChange: onChangeProp,\n  value: valueProp,\n  role = 'radiogroup',\n  ...restProps\n}: SegmentedControlProps): React.ReactNode => {\n  const id = React.useId();\n  const direction = useConfigDirection();\n  const isRtl = direction === 'rtl';\n\n  const [value, onChange] = useCustomEnsuredControl({\n    onChange: onChangeProp,\n    value: valueProp,\n    defaultValue,\n  });\n\n  const { sizeY = 'none' } = useAdaptivity();\n\n  const { tabsRef } = useTabsNavigation(role === 'tablist', isRtl);\n\n  const actualIndex = options.findIndex((option) => option.value === value);\n\n  useIsomorphicLayoutEffect(() => {\n    if (actualIndex === -1 && process.env.NODE_ENV === 'development') {\n      warn('defaultValue: такого значения нет среди опций!', 'error');\n    }\n  }, [actualIndex]);\n\n  const sliderStyle: CSSCustomProperties = {\n    '--vkui_internal--SegmentedControl_actual_index': String(actualIndex),\n    '--vkui_internal--SegmentedControl_options': String(options.length),\n  };\n\n  return (\n    <RootComponent\n      {...restProps}\n      baseClassName={classNames(\n        styles.host,\n        sizeY !== 'compact' && sizeYClassNames[sizeY],\n        size === 'l' && styles.sizeL,\n        isRtl && styles.rtl,\n      )}\n    >\n      <div role={role} ref={tabsRef} className={styles.in}>\n        {actualIndex > -1 && <div aria-hidden className={styles.slider} style={sliderStyle} />}\n        {options.map(({ label, before, ...optionProps }) => {\n          const selected = value === optionProps.value;\n          const onSelect = () => onChange(optionProps.value);\n          const optionRootProps: SegmentedControlOptionProps['rootProps'] =\n            role === 'tablist'\n              ? {\n                  'role': 'tab',\n                  'aria-selected': selected,\n                  'onClick': onSelect,\n                  'tabIndex': optionProps.tabIndex ?? (selected ? 0 : -1),\n                  ...optionProps,\n                }\n              : undefined;\n\n          const optionInputProps: SegmentedControlOptionProps['inputProps'] =\n            role !== 'tablist'\n              ? {\n                  role: optionProps.role || (role === 'radiogroup' ? 'radio' : undefined),\n                  checked: selected,\n                  onChange: onSelect,\n                  name: name ?? id,\n                  ...optionProps,\n                }\n              : undefined;\n\n          return (\n            <SegmentedControlOption\n              key={`${optionProps.value}`}\n              before={before}\n              rootProps={optionRootProps}\n              inputProps={optionInputProps}\n            >\n              {label}\n            </SegmentedControlOption>\n          );\n        })}\n      </div>\n    </RootComponent>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { hasReactNode } from '@vkontakte/vkjs';\nimport type { HasChildren, HasRef, HasRootRef } from '../../../types';\nimport { Clickable } from '../../Clickable/Clickable';\nimport { Headline } from '../../Typography/Headline/Headline';\nimport { VisuallyHidden } from '../../VisuallyHidden/VisuallyHidden';\nimport styles from './SegmentedControlOption.module.css';\n\nexport interface SegmentedControlOptionProps\n  extends HasRootRef<HTMLLabelElement>,\n    HasRef<HTMLInputElement>,\n    HasChildren {\n  rootProps?: React.LabelHTMLAttributes<HTMLLabelElement>;\n  inputProps?: React.InputHTMLAttributes<HTMLInputElement>;\n  before?: React.ReactNode;\n}\n\nexport const SegmentedControlOption = ({\n  getRef,\n  children,\n  getRootRef,\n  before,\n  rootProps,\n  inputProps,\n}: SegmentedControlOptionProps): React.ReactNode => (\n  <Clickable\n    Component=\"label\"\n    baseClassName={styles.host}\n    hoverClassName={styles.hover}\n    activeClassName={styles.hover}\n    getRootRef={getRootRef}\n    {...rootProps}\n  >\n    {inputProps && (\n      <VisuallyHidden {...inputProps} Component=\"input\" getRootRef={getRef} type=\"radio\" />\n    )}\n    {hasReactNode(before) && <div className={styles.before}>{before}</div>}\n    <Headline level=\"2\" weight=\"2\">\n      {children}\n    </Headline>\n  </Clickable>\n);\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, isSameDate } from '@vkontakte/vkjs';\nimport { startOfMonth } from 'date-fns';\nimport { useCalendar } from '../../hooks/useCalendar';\nimport { useCustomEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { Keys, pressedKey } from '../../lib/accessibility';\nimport {\n  clamp,\n  isFirstDay,\n  isLastDay,\n  navigateDate,\n  NAVIGATION_KEYS,\n  setTimeEqual,\n} from '../../lib/calendar';\nimport { convertDateFromTimeZone, convertDateToTimeZone, isSameMonth } from '../../lib/date';\nimport { isHTMLElement } from '../../lib/dom';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport {\n  CalendarDays,\n  type CalendarDaysProps,\n  type CalendarDaysTestsProps,\n} from '../CalendarDays/CalendarDays';\nimport {\n  CalendarHeader,\n  type CalendarHeaderProps,\n  type CalendarHeaderTestsProps,\n} from '../CalendarHeader/CalendarHeader';\nimport {\n  type CalendarDoneButtonProps,\n  CalendarTime,\n  type CalendarTimeProps,\n  type CalendarTimeTestsProps,\n} from '../CalendarTime/CalendarTime';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Calendar.module.css';\n\nexport type CalendarTestsProps = CalendarDaysTestsProps &\n  CalendarHeaderTestsProps &\n  CalendarTimeTestsProps;\n\nexport interface CalendarProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'onChange' | 'defaultValue'>,\n    Pick<CalendarTimeProps, 'changeHoursLabel' | 'changeMinutesLabel'>,\n    Pick<\n      CalendarHeaderProps,\n      | 'prevMonthLabel'\n      | 'nextMonthLabel'\n      | 'changeMonthLabel'\n      | 'changeYearLabel'\n      | 'onNextMonth'\n      | 'onPrevMonth'\n      | 'prevMonthIcon'\n      | 'nextMonthIcon'\n      | 'prevMonthProps'\n      | 'nextMonthProps'\n    >,\n    Pick<CalendarDaysProps, 'dayProps' | 'listenDayChangesForUpdate' | 'renderDayContent'>,\n    CalendarDoneButtonProps,\n    CalendarTestsProps {\n  /**\n   * Текущая выбранная дата.\n   */\n  value?: Date | null;\n  /**\n   * Начальная дата при монтировании.\n   */\n  defaultValue?: Date | null;\n  /**\n   * Запрещает выбор даты в прошлом.\n   * Применяется, если не заданы `shouldDisableDate` и `disableFuture`.\n   */\n  disablePast?: boolean;\n  /**\n   * Запрещает выбор даты в будущем.\n   * Применяется, если не задано `shouldDisableDate`.\n   */\n  disableFuture?: boolean;\n  /**\n   * Включает выбор времени.\n   */\n  enableTime?: boolean;\n  /**\n   * Отключает селекторы выбора месяца/года.\n   */\n  disablePickers?: boolean;\n  /**\n   * `aria-label` для изменения дня.\n   *\n   * @deprecated Будет удалeно в **VKUI v8**.\n   * Использовалось для задания aria-label для контейнера дней в календаре.\n   * Теперь этот контейнер является таблицей (с помощью role=\"grid\") и\n   * в aria-label рендерится текущий открытый в календаре месяц и год.\n   */\n  changeDayLabel?: string;\n  /**\n   * День недели, с которого начинается неделя.\n   */\n  weekStartsOn?: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n  /**\n   * Показывать дни соседних месяцев.\n   */\n  showNeighboringMonth?: boolean;\n  /**\n   * Размер календаря.\n   */\n  size?: 's' | 'm';\n  /**\n   * Обработчик изменения выбранной даты.\n   */\n  onChange?: (value?: Date) => void; // TODO [>=8]: поменять тип на `(value?: Date | null) => void`\n  /**\n   * Функция для проверки запрета выбора даты.\n   */\n  shouldDisableDate?: (value: Date) => boolean;\n  /**\n   * Дата отображаемого месяца.\n   * При использовании обновление даты должно происходить вне компонента.\n   */\n  viewDate?: Date;\n  /**\n   * Обработчик изменения даты в шапке календаря.\n   */\n  onHeaderChange?: (value: Date) => void;\n  /**\n   * Минимальные дата и время, которые можно выбрать.\n   * Применяется, если не заданы `shouldDisableDate` и `disablePast`/`disableFuture`.\n   */\n  minDateTime?: Date;\n  /**\n   * Максимальные дата и время, которые можно выбрать.\n   * Применяется, если не заданы `shouldDisableDate` и `disablePast`/`disableFuture`.\n   */\n  maxDateTime?: Date;\n  /**\n   * Часовой пояс для отображения даты.\n   */\n  timezone?: string;\n}\n\nconst warn = warnOnce('Calendar');\n\n/**\n * @see https://vkui.io/components/calendar\n */\nexport const Calendar = ({\n  getRootRef,\n  'value': valueProp,\n  defaultValue,\n  onChange,\n  disablePast,\n  disableFuture,\n  shouldDisableDate,\n  onDoneButtonClick,\n  enableTime = false,\n  doneButtonText,\n  doneButtonDisabled,\n  doneButtonShow,\n  DoneButton,\n  weekStartsOn = 1,\n  disablePickers,\n  'aria-label': ariaLabel = 'Календарь',\n  changeHoursLabel = 'Изменить час',\n  changeMinutesLabel = 'Изменить минуту',\n  prevMonthLabel = 'Предыдущий месяц',\n  nextMonthLabel = 'Следующий месяц',\n  changeMonthLabel = 'Изменить месяц',\n  changeYearLabel = 'Изменить год',\n  showNeighboringMonth,\n  size = 'm',\n  'viewDate': externalViewDate,\n  onHeaderChange,\n  onNextMonth,\n  onPrevMonth,\n  prevMonthIcon,\n  nextMonthIcon,\n  prevMonthProps,\n  nextMonthProps,\n  dayProps,\n  listenDayChangesForUpdate,\n  renderDayContent,\n  minDateTime,\n  maxDateTime,\n  timezone,\n  minutesTestId,\n  hoursTestId,\n  doneButtonTestId,\n  prevMonthButtonTestId,\n  nextMonthButtonTestId,\n  monthDropdownTestId,\n  yearDropdownTestId,\n  dayTestId,\n  ...props\n}: CalendarProps): React.ReactNode => {\n  const _onChange = React.useCallback(\n    (date: Date | null | undefined) => {\n      onChange?.(convertDateFromTimeZone(date, timezone) || undefined);\n    },\n    [onChange, timezone],\n  );\n\n  const [value, updateValue] = useCustomEnsuredControl<Date | null | undefined>({\n    value: valueProp,\n    defaultValue,\n    onChange: _onChange,\n  });\n\n  const timeZonedValue: Date | null | undefined = React.useMemo(\n    () => convertDateToTimeZone(value, timezone),\n    [timezone, value],\n  );\n\n  const {\n    viewDate,\n    setViewDate,\n    setPrevMonth,\n    setNextMonth,\n    focusedDay,\n    setFocusedDay,\n    isDayFocused,\n    isDayDisabled,\n    isMonthDisabled,\n    isYearDisabled,\n  } = useCalendar({\n    value: timeZonedValue,\n    disableFuture,\n    disablePast,\n    shouldDisableDate,\n    onHeaderChange,\n    onNextMonth,\n    onPrevMonth,\n    minDateTime,\n    maxDateTime,\n  });\n  // соотвествует дню, на котором можно сфокусироваться с помощью Tab\n  const [focusableDay, setFocusableDay] = React.useState<Date>();\n\n  useIsomorphicLayoutEffect(() => {\n    if (timeZonedValue) {\n      setViewDate(timeZonedValue);\n    }\n  }, [timeZonedValue]);\n\n  if (process.env.NODE_ENV === 'development' && !disablePickers && size === 's') {\n    warn(\"Нельзя включить селекты выбора месяца/года, если размер календаря 's'\", 'error');\n  }\n\n  if (process.env.NODE_ENV === 'development' && enableTime && size === 's') {\n    warn(\"Нельзя включить выбор времени, если размер календаря 's'\", 'error');\n  }\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      const key = pressedKey(event);\n      if (key && NAVIGATION_KEYS.includes(key)) {\n        event.preventDefault();\n\n        const newFocusedDay = navigateDate(focusedDay ?? timeZonedValue, key);\n\n        if (newFocusedDay && !isSameMonth(newFocusedDay, viewDate)) {\n          setViewDate(newFocusedDay);\n        }\n        setFocusedDay(newFocusedDay);\n        setFocusableDay(newFocusedDay);\n\n        return;\n      }\n\n      if (key === Keys.TAB) {\n        setFocusedDay(undefined);\n        setFocusableDay(focusedDay);\n\n        return;\n      }\n\n      if ((key === Keys.ENTER || key === Keys.SPACE) && isHTMLElement(event.target)) {\n        event.preventDefault();\n        event.target.click?.();\n      }\n    },\n    [focusedDay, setFocusedDay, setFocusableDay, setViewDate, timeZonedValue, viewDate],\n  );\n\n  const onDayChange = React.useCallback(\n    (date: Date) => {\n      let actualDate = setTimeEqual(date, timeZonedValue);\n      if (minDateTime || maxDateTime) {\n        actualDate = clamp(actualDate, { min: minDateTime, max: maxDateTime });\n      }\n      updateValue(actualDate);\n    },\n    [timeZonedValue, updateValue, maxDateTime, minDateTime],\n  );\n\n  const onDayFocus = React.useCallback(\n    (date: Date) => {\n      if (focusedDay && isSameDate(focusedDay, date)) {\n        return;\n      }\n\n      setFocusedDay(date);\n      if (!focusableDay || !isSameDate(date, focusableDay)) {\n        setFocusableDay(date);\n      }\n    },\n    [focusableDay, focusedDay, setFocusedDay],\n  );\n\n  // activeDay это день в календаре соответствующий значению в инпуте\n  const isDayActive = React.useCallback(\n    (day: Date) => Boolean(timeZonedValue && isSameDate(day, timeZonedValue)),\n    [timeZonedValue],\n  );\n\n  const isFocusableDayInViewDateMonth = focusableDay && isSameMonth(focusableDay, viewDate);\n  const isInputValueDateInViewDateMonth = timeZonedValue && isSameMonth(timeZonedValue, viewDate);\n  /**\n   * Функция позволяет проверить является ли день в календаре днём на который\n   * можно попасть с помощью Tab.\n   * Единственный день в таблице календаря у которого есть tabIndex=\"0\"\n   * Чтобы на него можно было попасть из заголовка календаря.\n   */\n  const isDayFocusable = React.useCallback(\n    (day: Date) => {\n      // если focusableDay день находится среди дней открытого сейчас месяца, то такой день получит tabIndex=\"0\",\n      if (isFocusableDayInViewDateMonth) {\n        return isSameDate(focusableDay, day);\n      }\n\n      // при открытии календаря focusableDay не определён,\n      // поэтому tabIndex=\"0\" будет у дня, соответствующего дню в инпуте\n      if (isInputValueDateInViewDateMonth) {\n        return isDayActive(day);\n      }\n\n      // при переключении месяца любая навигация с помощью Tab начинается\n      // с первого дня месяца.\n      return isSameDate(startOfMonth(viewDate), day);\n    },\n    [\n      focusableDay,\n      viewDate,\n      isDayActive,\n      isFocusableDayInViewDateMonth,\n      isInputValueDateInViewDateMonth,\n    ],\n  );\n\n  return (\n    <RootComponent\n      aria-label={ariaLabel}\n      {...props}\n      baseClassName={classNames(styles.host, size === 's' && styles.sizeS)}\n      getRootRef={getRootRef}\n    >\n      <CalendarHeader\n        viewDate={externalViewDate || viewDate}\n        onChange={setViewDate}\n        onNextMonth={setNextMonth}\n        onPrevMonth={setPrevMonth}\n        disablePickers={disablePickers || size === 's'}\n        className={styles.header}\n        prevMonthLabel={prevMonthLabel}\n        nextMonthLabel={nextMonthLabel}\n        changeMonthLabel={changeMonthLabel}\n        changeYearLabel={changeYearLabel}\n        prevMonthIcon={prevMonthIcon}\n        nextMonthIcon={nextMonthIcon}\n        prevMonthProps={prevMonthProps}\n        nextMonthProps={nextMonthProps}\n        isMonthDisabled={isMonthDisabled}\n        isYearDisabled={isYearDisabled}\n        nextMonthButtonTestId={nextMonthButtonTestId}\n        prevMonthButtonTestId={prevMonthButtonTestId}\n        monthDropdownTestId={monthDropdownTestId}\n        yearDropdownTestId={yearDropdownTestId}\n      />\n      <CalendarDays\n        viewDate={externalViewDate || viewDate}\n        value={timeZonedValue}\n        weekStartsOn={weekStartsOn}\n        onKeyDown={handleKeyDown}\n        onDayChange={onDayChange}\n        isDayActive={isDayActive}\n        onDayFocus={onDayFocus}\n        isDayFocused={isDayFocused}\n        isDayFocusable={isDayFocusable}\n        isDaySelectionStart={isFirstDay}\n        isDaySelectionEnd={isLastDay}\n        isDayDisabled={isDayDisabled}\n        showNeighboringMonth={showNeighboringMonth}\n        size={size}\n        dayProps={dayProps}\n        listenDayChangesForUpdate={listenDayChangesForUpdate}\n        renderDayContent={renderDayContent}\n        dayTestId={dayTestId}\n      />\n      {enableTime && timeZonedValue && size !== 's' && (\n        <div className={styles.time}>\n          <CalendarTime\n            value={timeZonedValue}\n            onChange={updateValue}\n            onDoneButtonClick={onDoneButtonClick}\n            doneButtonText={doneButtonText}\n            doneButtonDisabled={doneButtonDisabled}\n            doneButtonShow={doneButtonShow}\n            DoneButton={DoneButton}\n            changeHoursLabel={changeHoursLabel}\n            changeMinutesLabel={changeMinutesLabel}\n            isDayDisabled={minDateTime || maxDateTime ? isDayDisabled : undefined}\n            minutesTestId={minutesTestId}\n            hoursTestId={hoursTestId}\n            doneButtonTestId={doneButtonTestId}\n          />\n        </div>\n      )}\n    </RootComponent>\n  );\n};\n", "/**\r\n * @module constants\r\n * @summary Useful constants\r\n * @description\r\n * Collection of useful date constants.\r\n *\r\n * The constants could be imported from `date-fns/constants`:\r\n *\r\n * ```ts\r\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\r\n *\r\n * function isAllowedTime(time) {\r\n *   return time <= maxTime && time >= minTime;\r\n * }\r\n * ```\r\n */\r\n\r\n/**\r\n * @constant\r\n * @name daysInWeek\r\n * @summary Days in 1 week.\r\n */\r\nexport const daysInWeek = 7;\r\n\r\n/**\r\n * @constant\r\n * @name daysInYear\r\n * @summary Days in 1 year.\r\n *\r\n * @description\r\n * How many days in a year.\r\n *\r\n * One years equals 365.2425 days according to the formula:\r\n *\r\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\r\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\r\n */\r\nexport const daysInYear = 365.2425;\r\n\r\n/**\r\n * @constant\r\n * @name maxTime\r\n * @summary Maximum allowed time.\r\n *\r\n * @example\r\n * import { maxTime } from \"./constants/date-fns/constants\";\r\n *\r\n * const isValid = 8640000000000001 <= maxTime;\r\n * //=> false\r\n *\r\n * new Date(8640000000000001);\r\n * //=> Invalid Date\r\n */\r\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\r\n\r\n/**\r\n * @constant\r\n * @name minTime\r\n * @summary Minimum allowed time.\r\n *\r\n * @example\r\n * import { minTime } from \"./constants/date-fns/constants\";\r\n *\r\n * const isValid = -8640000000000001 >= minTime;\r\n * //=> false\r\n *\r\n * new Date(-8640000000000001)\r\n * //=> Invalid Date\r\n */\r\nexport const minTime = -maxTime;\r\n\r\n/**\r\n * @constant\r\n * @name millisecondsInWeek\r\n * @summary Milliseconds in 1 week.\r\n */\r\nexport const millisecondsInWeek = 604800000;\r\n\r\n/**\r\n * @constant\r\n * @name millisecondsInDay\r\n * @summary Milliseconds in 1 day.\r\n */\r\nexport const millisecondsInDay = 86400000;\r\n\r\n/**\r\n * @constant\r\n * @name millisecondsInMinute\r\n * @summary Milliseconds in 1 minute\r\n */\r\nexport const millisecondsInMinute = 60000;\r\n\r\n/**\r\n * @constant\r\n * @name millisecondsInHour\r\n * @summary Milliseconds in 1 hour\r\n */\r\nexport const millisecondsInHour = 3600000;\r\n\r\n/**\r\n * @constant\r\n * @name millisecondsInSecond\r\n * @summary Milliseconds in 1 second\r\n */\r\nexport const millisecondsInSecond = 1000;\r\n\r\n/**\r\n * @constant\r\n * @name minutesInYear\r\n * @summary Minutes in 1 year.\r\n */\r\nexport const minutesInYear = 525600;\r\n\r\n/**\r\n * @constant\r\n * @name minutesInMonth\r\n * @summary Minutes in 1 month.\r\n */\r\nexport const minutesInMonth = 43200;\r\n\r\n/**\r\n * @constant\r\n * @name minutesInDay\r\n * @summary Minutes in 1 day.\r\n */\r\nexport const minutesInDay = 1440;\r\n\r\n/**\r\n * @constant\r\n * @name minutesInHour\r\n * @summary Minutes in 1 hour.\r\n */\r\nexport const minutesInHour = 60;\r\n\r\n/**\r\n * @constant\r\n * @name monthsInQuarter\r\n * @summary Months in 1 quarter.\r\n */\r\nexport const monthsInQuarter = 3;\r\n\r\n/**\r\n * @constant\r\n * @name monthsInYear\r\n * @summary Months in 1 year.\r\n */\r\nexport const monthsInYear = 12;\r\n\r\n/**\r\n * @constant\r\n * @name quartersInYear\r\n * @summary Quarters in 1 year\r\n */\r\nexport const quartersInYear = 4;\r\n\r\n/**\r\n * @constant\r\n * @name secondsInHour\r\n * @summary Seconds in 1 hour.\r\n */\r\nexport const secondsInHour = 3600;\r\n\r\n/**\r\n * @constant\r\n * @name secondsInMinute\r\n * @summary Seconds in 1 minute.\r\n */\r\nexport const secondsInMinute = 60;\r\n\r\n/**\r\n * @constant\r\n * @name secondsInDay\r\n * @summary Seconds in 1 day.\r\n */\r\nexport const secondsInDay = secondsInHour * 24;\r\n\r\n/**\r\n * @constant\r\n * @name secondsInWeek\r\n * @summary Seconds in 1 week.\r\n */\r\nexport const secondsInWeek = secondsInDay * 7;\r\n\r\n/**\r\n * @constant\r\n * @name secondsInYear\r\n * @summary Seconds in 1 year.\r\n */\r\nexport const secondsInYear = secondsInDay * daysInYear;\r\n\r\n/**\r\n * @constant\r\n * @name secondsInMonth\r\n * @summary Seconds in 1 month\r\n */\r\nexport const secondsInMonth = secondsInYear / 12;\r\n\r\n/**\r\n * @constant\r\n * @name secondsInQuarter\r\n * @summary Seconds in 1 quarter.\r\n */\r\nexport const secondsInQuarter = secondsInMonth * 3;\r\n\r\n/**\r\n * @constant\r\n * @name constructFromSymbol\r\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\r\n *\r\n * The symbol is used to enable the `constructFrom` function to construct a date\r\n * using a reference date and a value. It allows to transfer extra properties\r\n * from the reference date to the new date. It's useful for extensions like\r\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\r\n * a constructor argument.\r\n */\r\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\r\n", "import { constructFromSymbol } from \"./constants.js\";\r\n\r\n/**\r\n * @name constructFrom\r\n * @category Generic Helpers\r\n * @summary Constructs a date using the reference date and the value\r\n *\r\n * @description\r\n * The function constructs a new date using the constructor from the reference\r\n * date and the given value. It helps to build generic functions that accept\r\n * date extensions.\r\n *\r\n * It defaults to `Date` if the passed reference date is a number or a string.\r\n *\r\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\r\n * enabling to transfer extra properties from the reference date to the new date.\r\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\r\n * that accept a time zone as a constructor argument.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n *\r\n * @param date - The reference date to take constructor from\r\n * @param value - The value to create the date\r\n *\r\n * @returns Date initialized using the given date and value\r\n *\r\n * @example\r\n * import { constructFrom } from \"./constructFrom/date-fns\";\r\n *\r\n * // A function that clones a date preserving the original type\r\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\r\n *   return constructFrom(\r\n *     date, // Use constructor from the given date\r\n *     date.getTime() // Use the date value to create a new date\r\n *   );\r\n * }\r\n */\r\nexport function constructFrom(date, value) {\r\n  if (typeof date === \"function\") return date(value);\r\n\r\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\r\n    return date[constructFromSymbol](value);\r\n\r\n  if (date instanceof Date) return new date.constructor(value);\r\n\r\n  return new Date(value);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default constructFrom;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\n\r\n/**\r\n * @name toDate\r\n * @category Common Helpers\r\n * @summary Convert the given argument to an instance of Date.\r\n *\r\n * @description\r\n * Convert the given argument to an instance of Date.\r\n *\r\n * If the argument is an instance of Date, the function returns its clone.\r\n *\r\n * If the argument is a number, it is treated as a timestamp.\r\n *\r\n * If the argument is none of the above, the function returns Invalid Date.\r\n *\r\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\r\n * enabling to transfer extra properties from the reference date to the new date.\r\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\r\n * that accept a time zone as a constructor argument.\r\n *\r\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param argument - The value to convert\r\n *\r\n * @returns The parsed date in the local time zone\r\n *\r\n * @example\r\n * // Clone the date:\r\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\r\n * //=> Tue Feb 11 2014 11:30:30\r\n *\r\n * @example\r\n * // Convert the timestamp to date:\r\n * const result = toDate(1392098430000)\r\n * //=> Tue Feb 11 2014 11:30:30\r\n */\r\nexport function toDate(argument, context) {\r\n  // [TODO] Get rid of `toDate` or `constructFrom`?\r\n  return constructFrom(context || argument, argument);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default toDate;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link addDays} function options.\r\n */\r\n\r\n/**\r\n * @name addDays\r\n * @category Day Helpers\r\n * @summary Add the specified number of days to the given date.\r\n *\r\n * @description\r\n * Add the specified number of days to the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param amount - The amount of days to be added.\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the days added\r\n *\r\n * @example\r\n * // Add 10 days to 1 September 2014:\r\n * const result = addDays(new Date(2014, 8, 1), 10)\r\n * //=> Thu Sep 11 2014 00:00:00\r\n */\r\nexport function addDays(date, amount, options) {\r\n  const _date = toDate(date, options?.in);\r\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\r\n\r\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\r\n  if (!amount) return _date;\r\n\r\n  _date.setDate(_date.getDate() + amount);\r\n  return _date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default addDays;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link addMonths} function options.\r\n */\r\n\r\n/**\r\n * @name addMonths\r\n * @category Month Helpers\r\n * @summary Add the specified number of months to the given date.\r\n *\r\n * @description\r\n * Add the specified number of months to the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param amount - The amount of months to be added.\r\n * @param options - The options object\r\n *\r\n * @returns The new date with the months added\r\n *\r\n * @example\r\n * // Add 5 months to 1 September 2014:\r\n * const result = addMonths(new Date(2014, 8, 1), 5)\r\n * //=> Sun Feb 01 2015 00:00:00\r\n *\r\n * // Add one month to 30 January 2023:\r\n * const result = addMonths(new Date(2023, 0, 30), 1)\r\n * //=> Tue Feb 28 2023 00:00:00\r\n */\r\nexport function addMonths(date, amount, options) {\r\n  const _date = toDate(date, options?.in);\r\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\r\n  if (!amount) {\r\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\r\n    return _date;\r\n  }\r\n  const dayOfMonth = _date.getDate();\r\n\r\n  // The JS Date object supports date math by accepting out-of-bounds values for\r\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\r\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\r\n  // want except that dates will wrap around the end of a month, meaning that\r\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\r\n  // we'll default to the end of the desired month by adding 1 to the desired\r\n  // month and using a date of 0 to back up one day to the end of the desired\r\n  // month.\r\n  const endOfDesiredMonth = constructFrom(options?.in || date, _date.getTime());\r\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\r\n  const daysInMonth = endOfDesiredMonth.getDate();\r\n  if (dayOfMonth >= daysInMonth) {\r\n    // If we're already at the end of the month, then this is the correct date\r\n    // and we're done.\r\n    return endOfDesiredMonth;\r\n  } else {\r\n    // Otherwise, we now know that setting the original day-of-month value won't\r\n    // cause an overflow, so set the desired day-of-month. Note that we can't\r\n    // just set the date of `endOfDesiredMonth` because that object may have had\r\n    // its time changed in the unusual case where where a DST transition was on\r\n    // the last day of the month and its local time was in the hour skipped or\r\n    // repeated next to a DST transition.  So we use `date` instead which is\r\n    // guaranteed to still have the original time.\r\n    _date.setFullYear(\r\n      endOfDesiredMonth.getFullYear(),\r\n      endOfDesiredMonth.getMonth(),\r\n      dayOfMonth,\r\n    );\r\n    return _date;\r\n  }\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default addMonths;\r\n", "let defaultOptions = {};\r\n\r\nexport function getDefaultOptions() {\r\n  return defaultOptions;\r\n}\r\n\r\nexport function setDefaultOptions(newOptions) {\r\n  defaultOptions = newOptions;\r\n}\r\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link startOfWeek} function options.\r\n */\r\n\r\n/**\r\n * @name startOfWeek\r\n * @category Week Helpers\r\n * @summary Return the start of a week for the given date.\r\n *\r\n * @description\r\n * Return the start of a week for the given date.\r\n * The result will be in the local timezone.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The original date\r\n * @param options - An object with options\r\n *\r\n * @returns The start of a week\r\n *\r\n * @example\r\n * // The start of a week for 2 September 2014 11:55:00:\r\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\r\n * //=> Sun Aug 31 2014 00:00:00\r\n *\r\n * @example\r\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\r\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\r\n * //=> Mon Sep 01 2014 00:00:00\r\n */\r\nexport function startOfWeek(date, options) {\r\n  const defaultOptions = getDefaultOptions();\r\n  const weekStartsOn =\r\n    options?.weekStartsOn ??\r\n    options?.locale?.options?.weekStartsOn ??\r\n    defaultOptions.weekStartsOn ??\r\n    defaultOptions.locale?.options?.weekStartsOn ??\r\n    0;\r\n\r\n  const _date = toDate(date, options?.in);\r\n  const day = _date.getDay();\r\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\r\n\r\n  _date.setDate(_date.getDate() - diff);\r\n  _date.setHours(0, 0, 0, 0);\r\n  return _date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default startOfWeek;\r\n", "import { startOfWeek } from \"./startOfWeek.js\";\r\n\r\n/**\r\n * The {@link startOfISOWeek} function options.\r\n */\r\n\r\n/**\r\n * @name startOfISOWeek\r\n * @category ISO Week Helpers\r\n * @summary Return the start of an ISO week for the given date.\r\n *\r\n * @description\r\n * Return the start of an ISO week for the given date.\r\n * The result will be in the local timezone.\r\n *\r\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The original date\r\n * @param options - An object with options\r\n *\r\n * @returns The start of an ISO week\r\n *\r\n * @example\r\n * // The start of an ISO week for 2 September 2014 11:55:00:\r\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\r\n * //=> Mon Sep 01 2014 00:00:00\r\n */\r\nexport function startOfISOWeek(date, options) {\r\n  return startOfWeek(date, { ...options, weekStartsOn: 1 });\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default startOfISOWeek;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link getISOWeekYear} function options.\r\n */\r\n\r\n/**\r\n * @name getISOWeekYear\r\n * @category ISO Week-Numbering Year Helpers\r\n * @summary Get the ISO week-numbering year of the given date.\r\n *\r\n * @description\r\n * Get the ISO week-numbering year of the given date,\r\n * which always starts 3 days before the year's first Thursday.\r\n *\r\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\r\n *\r\n * @param date - The given date\r\n *\r\n * @returns The ISO week-numbering year\r\n *\r\n * @example\r\n * // Which ISO-week numbering year is 2 January 2005?\r\n * const result = getISOWeekYear(new Date(2005, 0, 2))\r\n * //=> 2004\r\n */\r\nexport function getISOWeekYear(date, options) {\r\n  const _date = toDate(date, options?.in);\r\n  const year = _date.getFullYear();\r\n\r\n  const fourthOfJanuaryOfNextYear = constructFrom(_date, 0);\r\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\r\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\r\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\r\n\r\n  const fourthOfJanuaryOfThisYear = constructFrom(_date, 0);\r\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\r\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\r\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\r\n\r\n  if (_date.getTime() >= startOfNextYear.getTime()) {\r\n    return year + 1;\r\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\r\n    return year;\r\n  } else {\r\n    return year - 1;\r\n  }\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default getISOWeekYear;\r\n", "import { toDate } from \"../toDate.js\";\r\n\r\n/**\r\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\r\n * They usually appear for dates that denote time before the timezones were introduced\r\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\r\n * and GMT+01:00:00 after that date)\r\n *\r\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\r\n * which would lead to incorrect calculations.\r\n *\r\n * This function returns the timezone offset in milliseconds that takes seconds in account.\r\n */\r\nexport function getTimezoneOffsetInMilliseconds(date) {\r\n  const _date = toDate(date);\r\n  const utcDate = new Date(\r\n    Date.UTC(\r\n      _date.getFullYear(),\r\n      _date.getMonth(),\r\n      _date.getDate(),\r\n      _date.getHours(),\r\n      _date.getMinutes(),\r\n      _date.getSeconds(),\r\n      _date.getMilliseconds(),\r\n    ),\r\n  );\r\n  utcDate.setUTCFullYear(_date.getFullYear());\r\n  return +date - +utcDate;\r\n}\r\n", "import { constructFrom } from \"../constructFrom.js\";\r\n\r\nexport function normalizeDates(context, ...dates) {\r\n  const normalize = constructFrom.bind(\r\n    null,\r\n    context || dates.find((date) => typeof date === \"object\"),\r\n  );\r\n  return dates.map(normalize);\r\n}\r\n", "import { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link startOfDay} function options.\r\n */\r\n\r\n/**\r\n * @name startOfDay\r\n * @category Day Helpers\r\n * @summary Return the start of a day for the given date.\r\n *\r\n * @description\r\n * Return the start of a day for the given date.\r\n * The result will be in the local timezone.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The original date\r\n * @param options - The options\r\n *\r\n * @returns The start of a day\r\n *\r\n * @example\r\n * // The start of a day for 2 September 2014 11:55:00:\r\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\r\n * //=> Tue Sep 02 2014 00:00:00\r\n */\r\nexport function startOfDay(date, options) {\r\n  const _date = toDate(date, options?.in);\r\n  _date.setHours(0, 0, 0, 0);\r\n  return _date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default startOfDay;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\nimport { getISOWeekYear } from \"./getISOWeekYear.js\";\r\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\r\n\r\n/**\r\n * The {@link startOfISOWeekYear} function options.\r\n */\r\n\r\n/**\r\n * @name startOfISOWeekYear\r\n * @category ISO Week-Numbering Year Helpers\r\n * @summary Return the start of an ISO week-numbering year for the given date.\r\n *\r\n * @description\r\n * Return the start of an ISO week-numbering year,\r\n * which always starts 3 days before the year's first Thursday.\r\n * The result will be in the local timezone.\r\n *\r\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The original date\r\n * @param options - An object with options\r\n *\r\n * @returns The start of an ISO week-numbering year\r\n *\r\n * @example\r\n * // The start of an ISO week-numbering year for 2 July 2005:\r\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\r\n * //=> Mon Jan 03 2005 00:00:00\r\n */\r\nexport function startOfISOWeekYear(date, options) {\r\n  const year = getISOWeekYear(date, options);\r\n  const fourthOfJanuary = constructFrom(options?.in || date, 0);\r\n  fourthOfJanuary.setFullYear(year, 0, 4);\r\n  fourthOfJanuary.setHours(0, 0, 0, 0);\r\n  return startOfISOWeek(fourthOfJanuary);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default startOfISOWeekYear;\r\n", "import { addDays } from \"./addDays.js\";\r\n\r\n/**\r\n * The {@link addWeeks} function options.\r\n */\r\n\r\n/**\r\n * @name addWeeks\r\n * @category Week Helpers\r\n * @summary Add the specified number of weeks to the given date.\r\n *\r\n * @description\r\n * Add the specified number of weeks to the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param amount - The amount of weeks to be added.\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the weeks added\r\n *\r\n * @example\r\n * // Add 4 weeks to 1 September 2014:\r\n * const result = addWeeks(new Date(2014, 8, 1), 4)\r\n * //=> Mon Sep 29 2014 00:00:00\r\n */\r\nexport function addWeeks(date, amount, options) {\r\n  return addDays(date, amount * 7, options);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default addWeeks;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\n\r\n/**\r\n * @name constructNow\r\n * @category Generic Helpers\r\n * @summary Constructs a new current date using the passed value constructor.\r\n * @pure false\r\n *\r\n * @description\r\n * The function constructs a new current date using the constructor from\r\n * the reference date. It helps to build generic functions that accept date\r\n * extensions and use the current date.\r\n *\r\n * It defaults to `Date` if the passed reference date is a number or a string.\r\n *\r\n * @param date - The reference date to take constructor from\r\n *\r\n * @returns Current date initialized using the given date constructor\r\n *\r\n * @example\r\n * import { constructNow, isSameDay } from 'date-fns'\r\n *\r\n * function isToday<DateType extends Date>(\r\n *   date: DateArg<DateType>,\r\n * ): boolean {\r\n *   // If we were to use `new Date()` directly, the function would  behave\r\n *   // differently in different timezones and return false for the same date.\r\n *   return isSameDay(date, constructNow(date));\r\n * }\r\n */\r\nexport function constructNow(date) {\r\n  return constructFrom(date, Date.now());\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default constructNow;\r\n", "import { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * @name differenceInMilliseconds\r\n * @category Millisecond Helpers\r\n * @summary Get the number of milliseconds between the given dates.\r\n *\r\n * @description\r\n * Get the number of milliseconds between the given dates.\r\n *\r\n * @param laterDate - The later date\r\n * @param earlierDate - The earlier date\r\n *\r\n * @returns The number of milliseconds\r\n *\r\n * @example\r\n * // How many milliseconds are between\r\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\r\n * const result = differenceInMilliseconds(\r\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\r\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\r\n * )\r\n * //=> 1100\r\n */\r\nexport function differenceInMilliseconds(laterDate, earlierDate) {\r\n  return +toDate(laterDate) - +toDate(earlierDate);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default differenceInMilliseconds;\r\n", "import { normalizeDates } from \"./normalizeDates.js\";\r\n\r\nexport function normalizeInterval(context, interval) {\r\n  const [start, end] = normalizeDates(context, interval.start, interval.end);\r\n  return { start, end };\r\n}\r\n", "import { normalizeInterval } from \"./_lib/normalizeInterval.js\";\r\nimport { constructFrom } from \"./constructFrom.js\";\r\n\r\n/**\r\n * The {@link eachDayOfInterval} function options.\r\n */\r\n\r\n/**\r\n * The {@link eachDayOfInterval} function result type. It resolves the proper data type.\r\n * It uses the first argument date object type, starting from the date argument,\r\n * then the start interval date, and finally the end interval date. If\r\n * a context function is passed, it uses the context function return type.\r\n */\r\n\r\n/**\r\n * @name eachDayOfInterval\r\n * @category Interval Helpers\r\n * @summary Return the array of dates within the specified time interval.\r\n *\r\n * @description\r\n * Return the array of dates within the specified time interval.\r\n *\r\n * @typeParam IntervalType - Interval type.\r\n * @typeParam Options - Options type.\r\n *\r\n * @param interval - The interval.\r\n * @param options - An object with options.\r\n *\r\n * @returns The array with starts of days from the day of the interval start to the day of the interval end\r\n *\r\n * @example\r\n * // Each day between 6 October 2014 and 10 October 2014:\r\n * const result = eachDayOfInterval({\r\n *   start: new Date(2014, 9, 6),\r\n *   end: new Date(2014, 9, 10)\r\n * })\r\n * //=> [\r\n * //   Mon Oct 06 2014 00:00:00,\r\n * //   Tue Oct 07 2014 00:00:00,\r\n * //   Wed Oct 08 2014 00:00:00,\r\n * //   Thu Oct 09 2014 00:00:00,\r\n * //   Fri Oct 10 2014 00:00:00\r\n * // ]\r\n */\r\nexport function eachDayOfInterval(interval, options) {\r\n  const { start, end } = normalizeInterval(options?.in, interval);\r\n\r\n  let reversed = +start > +end;\r\n  const endTime = reversed ? +start : +end;\r\n  const date = reversed ? end : start;\r\n  date.setHours(0, 0, 0, 0);\r\n\r\n  let step = options?.step ?? 1;\r\n  if (!step) return [];\r\n  if (step < 0) {\r\n    step = -step;\r\n    reversed = !reversed;\r\n  }\r\n\r\n  const dates = [];\r\n\r\n  while (+date <= endTime) {\r\n    dates.push(constructFrom(start, date));\r\n    date.setDate(date.getDate() + step);\r\n    date.setHours(0, 0, 0, 0);\r\n  }\r\n\r\n  return reversed ? dates.reverse() : dates;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default eachDayOfInterval;\r\n", "import { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link startOfMonth} function options.\r\n */\r\n\r\n/**\r\n * @name startOfMonth\r\n * @category Month Helpers\r\n * @summary Return the start of a month for the given date.\r\n *\r\n * @description\r\n * Return the start of a month for the given date. The result will be in the local timezone.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments.\r\n * Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed,\r\n * or inferred from the arguments.\r\n *\r\n * @param date - The original date\r\n * @param options - An object with options\r\n *\r\n * @returns The start of a month\r\n *\r\n * @example\r\n * // The start of a month for 2 September 2014 11:55:00:\r\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\r\n * //=> Mon Sep 01 2014 00:00:00\r\n */\r\nexport function startOfMonth(date, options) {\r\n  const _date = toDate(date, options?.in);\r\n  _date.setDate(1);\r\n  _date.setHours(0, 0, 0, 0);\r\n  return _date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default startOfMonth;\r\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link endOfWeek} function options.\r\n */\r\n\r\n/**\r\n * @name endOfWeek\r\n * @category Week Helpers\r\n * @summary Return the end of a week for the given date.\r\n *\r\n * @description\r\n * Return the end of a week for the given date.\r\n * The result will be in the local timezone.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The original date\r\n * @param options - An object with options\r\n *\r\n * @returns The end of a week\r\n *\r\n * @example\r\n * // The end of a week for 2 September 2014 11:55:00:\r\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\r\n * //=> Sat Sep 06 2014 23:59:59.999\r\n *\r\n * @example\r\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\r\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\r\n * //=> Sun Sep 07 2014 23:59:59.999\r\n */\r\nexport function endOfWeek(date, options) {\r\n  const defaultOptions = getDefaultOptions();\r\n  const weekStartsOn =\r\n    options?.weekStartsOn ??\r\n    options?.locale?.options?.weekStartsOn ??\r\n    defaultOptions.weekStartsOn ??\r\n    defaultOptions.locale?.options?.weekStartsOn ??\r\n    0;\r\n\r\n  const _date = toDate(date, options?.in);\r\n  const day = _date.getDay();\r\n  const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\r\n\r\n  _date.setDate(_date.getDate() + diff);\r\n  _date.setHours(23, 59, 59, 999);\r\n  return _date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default endOfWeek;\r\n", "export function buildFormatLongFn(args) {\r\n  return (options = {}) => {\r\n    // TODO: Remove String()\r\n    const width = options.width ? String(options.width) : args.defaultWidth;\r\n    const format = args.formats[width] || args.formats[args.defaultWidth];\r\n    return format;\r\n  };\r\n}\r\n", "import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\r\n\r\nconst dateFormats = {\r\n  full: \"EEEE, MMMM do, y\",\r\n  long: \"MMMM do, y\",\r\n  medium: \"MMM d, y\",\r\n  short: \"MM/dd/yyyy\",\r\n};\r\n\r\nconst timeFormats = {\r\n  full: \"h:mm:ss a zzzz\",\r\n  long: \"h:mm:ss a z\",\r\n  medium: \"h:mm:ss a\",\r\n  short: \"h:mm a\",\r\n};\r\n\r\nconst dateTimeFormats = {\r\n  full: \"{{date}} 'at' {{time}}\",\r\n  long: \"{{date}} 'at' {{time}}\",\r\n  medium: \"{{date}}, {{time}}\",\r\n  short: \"{{date}}, {{time}}\",\r\n};\r\n\r\nexport const formatLong = {\r\n  date: buildFormatLongFn({\r\n    formats: dateFormats,\r\n    defaultWidth: \"full\",\r\n  }),\r\n\r\n  time: buildFormatLongFn({\r\n    formats: timeFormats,\r\n    defaultWidth: \"full\",\r\n  }),\r\n\r\n  dateTime: buildFormatLongFn({\r\n    formats: dateTimeFormats,\r\n    defaultWidth: \"full\",\r\n  }),\r\n};\r\n", "/**\r\n * The localize function argument callback which allows to convert raw value to\r\n * the actual type.\r\n *\r\n * @param value - The value to convert\r\n *\r\n * @returns The converted value\r\n */\r\n\r\n/**\r\n * The map of localized values for each width.\r\n */\r\n\r\n/**\r\n * The index type of the locale unit value. It types conversion of units of\r\n * values that don't start at 0 (i.e. quarters).\r\n */\r\n\r\n/**\r\n * Converts the unit value to the tuple of values.\r\n */\r\n\r\n/**\r\n * The tuple of localized era values. The first element represents BC,\r\n * the second element represents AD.\r\n */\r\n\r\n/**\r\n * The tuple of localized quarter values. The first element represents Q1.\r\n */\r\n\r\n/**\r\n * The tuple of localized day values. The first element represents Sunday.\r\n */\r\n\r\n/**\r\n * The tuple of localized month values. The first element represents January.\r\n */\r\n\r\nexport function buildLocalizeFn(args) {\r\n  return (value, options) => {\r\n    const context = options?.context ? String(options.context) : \"standalone\";\r\n\r\n    let valuesArray;\r\n    if (context === \"formatting\" && args.formattingValues) {\r\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\r\n      const width = options?.width ? String(options.width) : defaultWidth;\r\n\r\n      valuesArray =\r\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\r\n    } else {\r\n      const defaultWidth = args.defaultWidth;\r\n      const width = options?.width ? String(options.width) : args.defaultWidth;\r\n\r\n      valuesArray = args.values[width] || args.values[defaultWidth];\r\n    }\r\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\r\n\r\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\r\n    return valuesArray[index];\r\n  };\r\n}\r\n", "import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\r\n\r\nconst eraValues = {\r\n  narrow: [\"B\", \"A\"],\r\n  abbreviated: [\"BC\", \"AD\"],\r\n  wide: [\"Before Christ\", \"Anno Domini\"],\r\n};\r\n\r\nconst quarterValues = {\r\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\r\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\r\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\r\n};\r\n\r\n// Note: in English, the names of days of the week and months are capitalized.\r\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\r\n// Generally, formatted dates should look like they are in the middle of a sentence,\r\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\r\nconst monthValues = {\r\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\r\n  abbreviated: [\r\n    \"Jan\",\r\n    \"Feb\",\r\n    \"Mar\",\r\n    \"Apr\",\r\n    \"May\",\r\n    \"Jun\",\r\n    \"Jul\",\r\n    \"Aug\",\r\n    \"Sep\",\r\n    \"Oct\",\r\n    \"Nov\",\r\n    \"Dec\",\r\n  ],\r\n\r\n  wide: [\r\n    \"January\",\r\n    \"February\",\r\n    \"March\",\r\n    \"April\",\r\n    \"May\",\r\n    \"June\",\r\n    \"July\",\r\n    \"August\",\r\n    \"September\",\r\n    \"October\",\r\n    \"November\",\r\n    \"December\",\r\n  ],\r\n};\r\n\r\nconst dayValues = {\r\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\r\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\r\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\r\n  wide: [\r\n    \"Sunday\",\r\n    \"Monday\",\r\n    \"Tuesday\",\r\n    \"Wednesday\",\r\n    \"Thursday\",\r\n    \"Friday\",\r\n    \"Saturday\",\r\n  ],\r\n};\r\n\r\nconst dayPeriodValues = {\r\n  narrow: {\r\n    am: \"a\",\r\n    pm: \"p\",\r\n    midnight: \"mi\",\r\n    noon: \"n\",\r\n    morning: \"morning\",\r\n    afternoon: \"afternoon\",\r\n    evening: \"evening\",\r\n    night: \"night\",\r\n  },\r\n  abbreviated: {\r\n    am: \"AM\",\r\n    pm: \"PM\",\r\n    midnight: \"midnight\",\r\n    noon: \"noon\",\r\n    morning: \"morning\",\r\n    afternoon: \"afternoon\",\r\n    evening: \"evening\",\r\n    night: \"night\",\r\n  },\r\n  wide: {\r\n    am: \"a.m.\",\r\n    pm: \"p.m.\",\r\n    midnight: \"midnight\",\r\n    noon: \"noon\",\r\n    morning: \"morning\",\r\n    afternoon: \"afternoon\",\r\n    evening: \"evening\",\r\n    night: \"night\",\r\n  },\r\n};\r\n\r\nconst formattingDayPeriodValues = {\r\n  narrow: {\r\n    am: \"a\",\r\n    pm: \"p\",\r\n    midnight: \"mi\",\r\n    noon: \"n\",\r\n    morning: \"in the morning\",\r\n    afternoon: \"in the afternoon\",\r\n    evening: \"in the evening\",\r\n    night: \"at night\",\r\n  },\r\n  abbreviated: {\r\n    am: \"AM\",\r\n    pm: \"PM\",\r\n    midnight: \"midnight\",\r\n    noon: \"noon\",\r\n    morning: \"in the morning\",\r\n    afternoon: \"in the afternoon\",\r\n    evening: \"in the evening\",\r\n    night: \"at night\",\r\n  },\r\n  wide: {\r\n    am: \"a.m.\",\r\n    pm: \"p.m.\",\r\n    midnight: \"midnight\",\r\n    noon: \"noon\",\r\n    morning: \"in the morning\",\r\n    afternoon: \"in the afternoon\",\r\n    evening: \"in the evening\",\r\n    night: \"at night\",\r\n  },\r\n};\r\n\r\nconst ordinalNumber = (dirtyNumber, _options) => {\r\n  const number = Number(dirtyNumber);\r\n\r\n  // If ordinal numbers depend on context, for example,\r\n  // if they are different for different grammatical genders,\r\n  // use `options.unit`.\r\n  //\r\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\r\n  // 'day', 'hour', 'minute', 'second'.\r\n\r\n  const rem100 = number % 100;\r\n  if (rem100 > 20 || rem100 < 10) {\r\n    switch (rem100 % 10) {\r\n      case 1:\r\n        return number + \"st\";\r\n      case 2:\r\n        return number + \"nd\";\r\n      case 3:\r\n        return number + \"rd\";\r\n    }\r\n  }\r\n  return number + \"th\";\r\n};\r\n\r\nexport const localize = {\r\n  ordinalNumber,\r\n\r\n  era: buildLocalizeFn({\r\n    values: eraValues,\r\n    defaultWidth: \"wide\",\r\n  }),\r\n\r\n  quarter: buildLocalizeFn({\r\n    values: quarterValues,\r\n    defaultWidth: \"wide\",\r\n    argumentCallback: (quarter) => quarter - 1,\r\n  }),\r\n\r\n  month: buildLocalizeFn({\r\n    values: monthValues,\r\n    defaultWidth: \"wide\",\r\n  }),\r\n\r\n  day: buildLocalizeFn({\r\n    values: dayValues,\r\n    defaultWidth: \"wide\",\r\n  }),\r\n\r\n  dayPeriod: buildLocalizeFn({\r\n    values: dayPeriodValues,\r\n    defaultWidth: \"wide\",\r\n    formattingValues: formattingDayPeriodValues,\r\n    defaultFormattingWidth: \"wide\",\r\n  }),\r\n};\r\n", "export function buildMatchFn(args) {\r\n  return (string, options = {}) => {\r\n    const width = options.width;\r\n\r\n    const matchPattern =\r\n      (width && args.matchPatterns[width]) ||\r\n      args.matchPatterns[args.defaultMatchWidth];\r\n    const matchResult = string.match(matchPattern);\r\n\r\n    if (!matchResult) {\r\n      return null;\r\n    }\r\n    const matchedString = matchResult[0];\r\n\r\n    const parsePatterns =\r\n      (width && args.parsePatterns[width]) ||\r\n      args.parsePatterns[args.defaultParseWidth];\r\n\r\n    const key = Array.isArray(parsePatterns)\r\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\r\n      : // [TODO] -- I challenge you to fix the type\r\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\r\n\r\n    let value;\r\n\r\n    value = args.valueCallback ? args.valueCallback(key) : key;\r\n    value = options.valueCallback\r\n      ? // [TODO] -- I challenge you to fix the type\r\n        options.valueCallback(value)\r\n      : value;\r\n\r\n    const rest = string.slice(matchedString.length);\r\n\r\n    return { value, rest };\r\n  };\r\n}\r\n\r\nfunction findKey(object, predicate) {\r\n  for (const key in object) {\r\n    if (\r\n      Object.prototype.hasOwnProperty.call(object, key) &&\r\n      predicate(object[key])\r\n    ) {\r\n      return key;\r\n    }\r\n  }\r\n  return undefined;\r\n}\r\n\r\nfunction findIndex(array, predicate) {\r\n  for (let key = 0; key < array.length; key++) {\r\n    if (predicate(array[key])) {\r\n      return key;\r\n    }\r\n  }\r\n  return undefined;\r\n}\r\n", "export function buildMatchPatternFn(args) {\r\n  return (string, options = {}) => {\r\n    const matchResult = string.match(args.matchPattern);\r\n    if (!matchResult) return null;\r\n    const matchedString = matchResult[0];\r\n\r\n    const parseResult = string.match(args.parsePattern);\r\n    if (!parseResult) return null;\r\n    let value = args.valueCallback\r\n      ? args.valueCallback(parseResult[0])\r\n      : parseResult[0];\r\n\r\n    // [TODO] I challenge you to fix the type\r\n    value = options.valueCallback ? options.valueCallback(value) : value;\r\n\r\n    const rest = string.slice(matchedString.length);\r\n\r\n    return { value, rest };\r\n  };\r\n}\r\n", "import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\r\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\r\n\r\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\r\nconst parseOrdinalNumberPattern = /\\d+/i;\r\n\r\nconst matchEraPatterns = {\r\n  narrow: /^(b|a)/i,\r\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\r\n  wide: /^(before christ|before common era|anno domini|common era)/i,\r\n};\r\nconst parseEraPatterns = {\r\n  any: [/^b/i, /^(a|c)/i],\r\n};\r\n\r\nconst matchQuarterPatterns = {\r\n  narrow: /^[1234]/i,\r\n  abbreviated: /^q[1234]/i,\r\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\r\n};\r\nconst parseQuarterPatterns = {\r\n  any: [/1/i, /2/i, /3/i, /4/i],\r\n};\r\n\r\nconst matchMonthPatterns = {\r\n  narrow: /^[jfmasond]/i,\r\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\r\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\r\n};\r\nconst parseMonthPatterns = {\r\n  narrow: [\r\n    /^j/i,\r\n    /^f/i,\r\n    /^m/i,\r\n    /^a/i,\r\n    /^m/i,\r\n    /^j/i,\r\n    /^j/i,\r\n    /^a/i,\r\n    /^s/i,\r\n    /^o/i,\r\n    /^n/i,\r\n    /^d/i,\r\n  ],\r\n\r\n  any: [\r\n    /^ja/i,\r\n    /^f/i,\r\n    /^mar/i,\r\n    /^ap/i,\r\n    /^may/i,\r\n    /^jun/i,\r\n    /^jul/i,\r\n    /^au/i,\r\n    /^s/i,\r\n    /^o/i,\r\n    /^n/i,\r\n    /^d/i,\r\n  ],\r\n};\r\n\r\nconst matchDayPatterns = {\r\n  narrow: /^[smtwf]/i,\r\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\r\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\r\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\r\n};\r\nconst parseDayPatterns = {\r\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\r\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\r\n};\r\n\r\nconst matchDayPeriodPatterns = {\r\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\r\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\r\n};\r\nconst parseDayPeriodPatterns = {\r\n  any: {\r\n    am: /^a/i,\r\n    pm: /^p/i,\r\n    midnight: /^mi/i,\r\n    noon: /^no/i,\r\n    morning: /morning/i,\r\n    afternoon: /afternoon/i,\r\n    evening: /evening/i,\r\n    night: /night/i,\r\n  },\r\n};\r\n\r\nexport const match = {\r\n  ordinalNumber: buildMatchPatternFn({\r\n    matchPattern: matchOrdinalNumberPattern,\r\n    parsePattern: parseOrdinalNumberPattern,\r\n    valueCallback: (value) => parseInt(value, 10),\r\n  }),\r\n\r\n  era: buildMatchFn({\r\n    matchPatterns: matchEraPatterns,\r\n    defaultMatchWidth: \"wide\",\r\n    parsePatterns: parseEraPatterns,\r\n    defaultParseWidth: \"any\",\r\n  }),\r\n\r\n  quarter: buildMatchFn({\r\n    matchPatterns: matchQuarterPatterns,\r\n    defaultMatchWidth: \"wide\",\r\n    parsePatterns: parseQuarterPatterns,\r\n    defaultParseWidth: \"any\",\r\n    valueCallback: (index) => index + 1,\r\n  }),\r\n\r\n  month: buildMatchFn({\r\n    matchPatterns: matchMonthPatterns,\r\n    defaultMatchWidth: \"wide\",\r\n    parsePatterns: parseMonthPatterns,\r\n    defaultParseWidth: \"any\",\r\n  }),\r\n\r\n  day: buildMatchFn({\r\n    matchPatterns: matchDayPatterns,\r\n    defaultMatchWidth: \"wide\",\r\n    parsePatterns: parseDayPatterns,\r\n    defaultParseWidth: \"any\",\r\n  }),\r\n\r\n  dayPeriod: buildMatchFn({\r\n    matchPatterns: matchDayPeriodPatterns,\r\n    defaultMatchWidth: \"any\",\r\n    parsePatterns: parseDayPeriodPatterns,\r\n    defaultParseWidth: \"any\",\r\n  }),\r\n};\r\n", "import { millisecondsInWeek } from \"./constants.js\";\r\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\r\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link getISOWeek} function options.\r\n */\r\n\r\n/**\r\n * @name getISOWeek\r\n * @category ISO Week Helpers\r\n * @summary Get the ISO week of the given date.\r\n *\r\n * @description\r\n * Get the ISO week of the given date.\r\n *\r\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\r\n *\r\n * @param date - The given date\r\n * @param options - The options\r\n *\r\n * @returns The ISO week\r\n *\r\n * @example\r\n * // Which week of the ISO-week numbering year is 2 January 2005?\r\n * const result = getISOWeek(new Date(2005, 0, 2))\r\n * //=> 53\r\n */\r\nexport function getISOWeek(date, options) {\r\n  const _date = toDate(date, options?.in);\r\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\r\n\r\n  // Round the number of weeks to the nearest integer because the number of\r\n  // milliseconds in a week is not constant (e.g. it's different in the week of\r\n  // the daylight saving time clock shift).\r\n  return Math.round(diff / millisecondsInWeek) + 1;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default getISOWeek;\r\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\r\nimport { constructFrom } from \"./constructFrom.js\";\r\nimport { startOfWeek } from \"./startOfWeek.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link getWeekYear} function options.\r\n */\r\n\r\n/**\r\n * @name getWeekYear\r\n * @category Week-Numbering Year Helpers\r\n * @summary Get the local week-numbering year of the given date.\r\n *\r\n * @description\r\n * Get the local week-numbering year of the given date.\r\n * The exact calculation depends on the values of\r\n * `options.weekStartsOn` (which is the index of the first day of the week)\r\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\r\n * the first week of the week-numbering year)\r\n *\r\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\r\n *\r\n * @param date - The given date\r\n * @param options - An object with options.\r\n *\r\n * @returns The local week-numbering year\r\n *\r\n * @example\r\n * // Which week numbering year is 26 December 2004 with the default settings?\r\n * const result = getWeekYear(new Date(2004, 11, 26))\r\n * //=> 2005\r\n *\r\n * @example\r\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\r\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\r\n * //=> 2004\r\n *\r\n * @example\r\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\r\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\r\n * //=> 2004\r\n */\r\nexport function getWeekYear(date, options) {\r\n  const _date = toDate(date, options?.in);\r\n  const year = _date.getFullYear();\r\n\r\n  const defaultOptions = getDefaultOptions();\r\n  const firstWeekContainsDate =\r\n    options?.firstWeekContainsDate ??\r\n    options?.locale?.options?.firstWeekContainsDate ??\r\n    defaultOptions.firstWeekContainsDate ??\r\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\r\n    1;\r\n\r\n  const firstWeekOfNextYear = constructFrom(options?.in || date, 0);\r\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\r\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\r\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\r\n\r\n  const firstWeekOfThisYear = constructFrom(options?.in || date, 0);\r\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\r\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\r\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\r\n\r\n  if (+_date >= +startOfNextYear) {\r\n    return year + 1;\r\n  } else if (+_date >= +startOfThisYear) {\r\n    return year;\r\n  } else {\r\n    return year - 1;\r\n  }\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default getWeekYear;\r\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\r\nimport { constructFrom } from \"./constructFrom.js\";\r\nimport { getWeekYear } from \"./getWeekYear.js\";\r\nimport { startOfWeek } from \"./startOfWeek.js\";\r\n\r\n/**\r\n * The {@link startOfWeekYear} function options.\r\n */\r\n\r\n/**\r\n * @name startOfWeekYear\r\n * @category Week-Numbering Year Helpers\r\n * @summary Return the start of a local week-numbering year for the given date.\r\n *\r\n * @description\r\n * Return the start of a local week-numbering year.\r\n * The exact calculation depends on the values of\r\n * `options.weekStartsOn` (which is the index of the first day of the week)\r\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\r\n * the first week of the week-numbering year)\r\n *\r\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type.\r\n *\r\n * @param date - The original date\r\n * @param options - An object with options\r\n *\r\n * @returns The start of a week-numbering year\r\n *\r\n * @example\r\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\r\n * const result = startOfWeekYear(new Date(2005, 6, 2))\r\n * //=> Sun Dec 26 2004 00:00:00\r\n *\r\n * @example\r\n * // The start of a week-numbering year for 2 July 2005\r\n * // if Monday is the first day of week\r\n * // and 4 January is always in the first week of the year:\r\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\r\n *   weekStartsOn: 1,\r\n *   firstWeekContainsDate: 4\r\n * })\r\n * //=> Mon Jan 03 2005 00:00:00\r\n */\r\nexport function startOfWeekYear(date, options) {\r\n  const defaultOptions = getDefaultOptions();\r\n  const firstWeekContainsDate =\r\n    options?.firstWeekContainsDate ??\r\n    options?.locale?.options?.firstWeekContainsDate ??\r\n    defaultOptions.firstWeekContainsDate ??\r\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\r\n    1;\r\n\r\n  const year = getWeekYear(date, options);\r\n  const firstWeek = constructFrom(options?.in || date, 0);\r\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\r\n  firstWeek.setHours(0, 0, 0, 0);\r\n  const _date = startOfWeek(firstWeek, options);\r\n  return _date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default startOfWeekYear;\r\n", "import { millisecondsInWeek } from \"./constants.js\";\r\nimport { startOfWeek } from \"./startOfWeek.js\";\r\nimport { startOfWeekYear } from \"./startOfWeekYear.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link getWeek} function options.\r\n */\r\n\r\n/**\r\n * @name getWeek\r\n * @category Week Helpers\r\n * @summary Get the local week index of the given date.\r\n *\r\n * @description\r\n * Get the local week index of the given date.\r\n * The exact calculation depends on the values of\r\n * `options.weekStartsOn` (which is the index of the first day of the week)\r\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\r\n * the first week of the week-numbering year)\r\n *\r\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\r\n *\r\n * @param date - The given date\r\n * @param options - An object with options\r\n *\r\n * @returns The week\r\n *\r\n * @example\r\n * // Which week of the local week numbering year is 2 January 2005 with default options?\r\n * const result = getWeek(new Date(2005, 0, 2))\r\n * //=> 2\r\n *\r\n * @example\r\n * // Which week of the local week numbering year is 2 January 2005,\r\n * // if Monday is the first day of the week,\r\n * // and the first week of the year always contains 4 January?\r\n * const result = getWeek(new Date(2005, 0, 2), {\r\n *   weekStartsOn: 1,\r\n *   firstWeekContainsDate: 4\r\n * })\r\n * //=> 53\r\n */\r\nexport function getWeek(date, options) {\r\n  const _date = toDate(date, options?.in);\r\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\r\n\r\n  // Round the number of weeks to the nearest integer because the number of\r\n  // milliseconds in a week is not constant (e.g. it's different in the week of\r\n  // the daylight saving time clock shift).\r\n  return Math.round(diff / millisecondsInWeek) + 1;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default getWeek;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link getDaysInMonth} function options.\r\n */\r\n\r\n/**\r\n * @name getDaysInMonth\r\n * @category Month Helpers\r\n * @summary Get the number of days in a month of the given date.\r\n *\r\n * @description\r\n * Get the number of days in a month of the given date, considering the context if provided.\r\n *\r\n * @param date - The given date\r\n * @param options - An object with options\r\n *\r\n * @returns The number of days in a month\r\n *\r\n * @example\r\n * // How many days are in February 2000?\r\n * const result = getDaysInMonth(new Date(2000, 1))\r\n * //=> 29\r\n */\r\nexport function getDaysInMonth(date, options) {\r\n  const _date = toDate(date, options?.in);\r\n  const year = _date.getFullYear();\r\n  const monthIndex = _date.getMonth();\r\n  const lastDayOfMonth = constructFrom(_date, 0);\r\n  lastDayOfMonth.setFullYear(year, monthIndex + 1, 0);\r\n  lastDayOfMonth.setHours(0, 0, 0, 0);\r\n  return lastDayOfMonth.getDate();\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default getDaysInMonth;\r\n", "import { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link getISODay} function options.\r\n */\r\n\r\n/**\r\n * @name getISODay\r\n * @category Weekday Helpers\r\n * @summary Get the day of the ISO week of the given date.\r\n *\r\n * @description\r\n * Get the day of the ISO week of the given date,\r\n * which is 7 for Sunday, 1 for Monday etc.\r\n *\r\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\r\n *\r\n * @param date - The given date\r\n * @param options - An object with options\r\n *\r\n * @returns The day of ISO week\r\n *\r\n * @example\r\n * // Which day of the ISO week is 26 February 2012?\r\n * const result = getISODay(new Date(2012, 1, 26))\r\n * //=> 7\r\n */\r\nexport function getISODay(date, options) {\r\n  const day = toDate(date, options?.in).getDay();\r\n  return day === 0 ? 7 : day;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default getISODay;\r\n", "import { constructFrom } from \"../../constructFrom.js\";\r\nimport { transpose } from \"../../transpose.js\";\r\n\r\nconst TIMEZONE_UNIT_PRIORITY = 10;\r\n\r\nexport class Setter {\r\n  subPriority = 0;\r\n\r\n  validate(_utcDate, _options) {\r\n    return true;\r\n  }\r\n}\r\n\r\nexport class ValueSetter extends Setter {\r\n  constructor(\r\n    value,\r\n\r\n    validateValue,\r\n\r\n    setValue,\r\n\r\n    priority,\r\n    subPriority,\r\n  ) {\r\n    super();\r\n    this.value = value;\r\n    this.validateValue = validateValue;\r\n    this.setValue = setValue;\r\n    this.priority = priority;\r\n    if (subPriority) {\r\n      this.subPriority = subPriority;\r\n    }\r\n  }\r\n\r\n  validate(date, options) {\r\n    return this.validateValue(date, this.value, options);\r\n  }\r\n\r\n  set(date, flags, options) {\r\n    return this.setValue(date, flags, this.value, options);\r\n  }\r\n}\r\n\r\nexport class DateTimezoneSetter extends Setter {\r\n  priority = TIMEZONE_UNIT_PRIORITY;\r\n  subPriority = -1;\r\n\r\n  constructor(context, reference) {\r\n    super();\r\n    this.context = context || ((date) => constructFrom(reference, date));\r\n  }\r\n\r\n  set(date, flags) {\r\n    if (flags.timestampIsSet) return date;\r\n    return constructFrom(date, transpose(date, this.context));\r\n  }\r\n}\r\n", "import { ValueSetter } from \"./Setter.js\";\r\n\r\nexport class Parser {\r\n  run(dateString, token, match, options) {\r\n    const result = this.parse(dateString, token, match, options);\r\n    if (!result) {\r\n      return null;\r\n    }\r\n\r\n    return {\r\n      setter: new ValueSetter(\r\n        result.value,\r\n        this.validate,\r\n        this.set,\r\n        this.priority,\r\n        this.subPriority,\r\n      ),\r\n      rest: result.rest,\r\n    };\r\n  }\r\n\r\n  validate(_utcDate, _value, _options) {\r\n    return true;\r\n  }\r\n}\r\n", "import { Parser } from \"../Parser.js\";\r\n\r\nexport class EraParser extends Parser {\r\n  priority = 140;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      // AD, BC\r\n      case \"G\":\r\n      case \"GG\":\r\n      case \"GGG\":\r\n        return (\r\n          match.era(dateString, { width: \"abbreviated\" }) ||\r\n          match.era(dateString, { width: \"narrow\" })\r\n        );\r\n\r\n      // A, B\r\n      case \"GGGGG\":\r\n        return match.era(dateString, { width: \"narrow\" });\r\n      // Anno Domini, Before Christ\r\n      case \"GGGG\":\r\n      default:\r\n        return (\r\n          match.era(dateString, { width: \"wide\" }) ||\r\n          match.era(dateString, { width: \"abbreviated\" }) ||\r\n          match.era(dateString, { width: \"narrow\" })\r\n        );\r\n    }\r\n  }\r\n\r\n  set(date, flags, value) {\r\n    flags.era = value;\r\n    date.setFullYear(value, 0, 1);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"R\", \"u\", \"t\", \"T\"];\r\n}\r\n", "export const numericPatterns = {\r\n  month: /^(1[0-2]|0?\\d)/, // 0 to 12\r\n  date: /^(3[0-1]|[0-2]?\\d)/, // 0 to 31\r\n  dayOfYear: /^(36[0-6]|3[0-5]\\d|[0-2]?\\d?\\d)/, // 0 to 366\r\n  week: /^(5[0-3]|[0-4]?\\d)/, // 0 to 53\r\n  hour23h: /^(2[0-3]|[0-1]?\\d)/, // 0 to 23\r\n  hour24h: /^(2[0-4]|[0-1]?\\d)/, // 0 to 24\r\n  hour11h: /^(1[0-1]|0?\\d)/, // 0 to 11\r\n  hour12h: /^(1[0-2]|0?\\d)/, // 0 to 12\r\n  minute: /^[0-5]?\\d/, // 0 to 59\r\n  second: /^[0-5]?\\d/, // 0 to 59\r\n\r\n  singleDigit: /^\\d/, // 0 to 9\r\n  twoDigits: /^\\d{1,2}/, // 0 to 99\r\n  threeDigits: /^\\d{1,3}/, // 0 to 999\r\n  fourDigits: /^\\d{1,4}/, // 0 to 9999\r\n\r\n  anyDigitsSigned: /^-?\\d+/,\r\n  singleDigitSigned: /^-?\\d/, // 0 to 9, -0 to -9\r\n  twoDigitsSigned: /^-?\\d{1,2}/, // 0 to 99, -0 to -99\r\n  threeDigitsSigned: /^-?\\d{1,3}/, // 0 to 999, -0 to -999\r\n  fourDigitsSigned: /^-?\\d{1,4}/, // 0 to 9999, -0 to -9999\r\n};\r\n\r\nexport const timezonePatterns = {\r\n  basicOptionalMinutes: /^([+-])(\\d{2})(\\d{2})?|Z/,\r\n  basic: /^([+-])(\\d{2})(\\d{2})|Z/,\r\n  basicOptionalSeconds: /^([+-])(\\d{2})(\\d{2})((\\d{2}))?|Z/,\r\n  extended: /^([+-])(\\d{2}):(\\d{2})|Z/,\r\n  extendedOptionalSeconds: /^([+-])(\\d{2}):(\\d{2})(:(\\d{2}))?|Z/,\r\n};\r\n", "import {\r\n  millisecondsInHour,\r\n  millisecondsInMinute,\r\n  millisecondsInSecond,\r\n} from \"../../constants.js\";\r\n\r\nimport { numericPatterns } from \"./constants.js\";\r\n\r\nexport function mapValue(parseFnResult, mapFn) {\r\n  if (!parseFnResult) {\r\n    return parseFnResult;\r\n  }\r\n\r\n  return {\r\n    value: mapFn(parseFnResult.value),\r\n    rest: parseFnResult.rest,\r\n  };\r\n}\r\n\r\nexport function parseNumericPattern(pattern, dateString) {\r\n  const matchResult = dateString.match(pattern);\r\n\r\n  if (!matchResult) {\r\n    return null;\r\n  }\r\n\r\n  return {\r\n    value: parseInt(matchResult[0], 10),\r\n    rest: dateString.slice(matchResult[0].length),\r\n  };\r\n}\r\n\r\nexport function parseTimezonePattern(pattern, dateString) {\r\n  const matchResult = dateString.match(pattern);\r\n\r\n  if (!matchResult) {\r\n    return null;\r\n  }\r\n\r\n  // Input is 'Z'\r\n  if (matchResult[0] === \"Z\") {\r\n    return {\r\n      value: 0,\r\n      rest: dateString.slice(1),\r\n    };\r\n  }\r\n\r\n  const sign = matchResult[1] === \"+\" ? 1 : -1;\r\n  const hours = matchResult[2] ? parseInt(matchResult[2], 10) : 0;\r\n  const minutes = matchResult[3] ? parseInt(matchResult[3], 10) : 0;\r\n  const seconds = matchResult[5] ? parseInt(matchResult[5], 10) : 0;\r\n\r\n  return {\r\n    value:\r\n      sign *\r\n      (hours * millisecondsInHour +\r\n        minutes * millisecondsInMinute +\r\n        seconds * millisecondsInSecond),\r\n    rest: dateString.slice(matchResult[0].length),\r\n  };\r\n}\r\n\r\nexport function parseAnyDigitsSigned(dateString) {\r\n  return parseNumericPattern(numericPatterns.anyDigitsSigned, dateString);\r\n}\r\n\r\nexport function parseNDigits(n, dateString) {\r\n  switch (n) {\r\n    case 1:\r\n      return parseNumericPattern(numericPatterns.singleDigit, dateString);\r\n    case 2:\r\n      return parseNumericPattern(numericPatterns.twoDigits, dateString);\r\n    case 3:\r\n      return parseNumericPattern(numericPatterns.threeDigits, dateString);\r\n    case 4:\r\n      return parseNumericPattern(numericPatterns.fourDigits, dateString);\r\n    default:\r\n      return parseNumericPattern(new RegExp(\"^\\\\d{1,\" + n + \"}\"), dateString);\r\n  }\r\n}\r\n\r\nexport function parseNDigitsSigned(n, dateString) {\r\n  switch (n) {\r\n    case 1:\r\n      return parseNumericPattern(numericPatterns.singleDigitSigned, dateString);\r\n    case 2:\r\n      return parseNumericPattern(numericPatterns.twoDigitsSigned, dateString);\r\n    case 3:\r\n      return parseNumericPattern(numericPatterns.threeDigitsSigned, dateString);\r\n    case 4:\r\n      return parseNumericPattern(numericPatterns.fourDigitsSigned, dateString);\r\n    default:\r\n      return parseNumericPattern(new RegExp(\"^-?\\\\d{1,\" + n + \"}\"), dateString);\r\n  }\r\n}\r\n\r\nexport function dayPeriodEnumToHours(dayPeriod) {\r\n  switch (dayPeriod) {\r\n    case \"morning\":\r\n      return 4;\r\n    case \"evening\":\r\n      return 17;\r\n    case \"pm\":\r\n    case \"noon\":\r\n    case \"afternoon\":\r\n      return 12;\r\n    case \"am\":\r\n    case \"midnight\":\r\n    case \"night\":\r\n    default:\r\n      return 0;\r\n  }\r\n}\r\n\r\nexport function normalizeTwoDigitYear(twoDigitYear, currentYear) {\r\n  const isCommonEra = currentYear > 0;\r\n  // Absolute number of the current year:\r\n  // 1 -> 1 AC\r\n  // 0 -> 1 BC\r\n  // -1 -> 2 BC\r\n  const absCurrentYear = isCommonEra ? currentYear : 1 - currentYear;\r\n\r\n  let result;\r\n  if (absCurrentYear <= 50) {\r\n    result = twoDigitYear || 100;\r\n  } else {\r\n    const rangeEnd = absCurrentYear + 50;\r\n    const rangeEndCentury = Math.trunc(rangeEnd / 100) * 100;\r\n    const isPreviousCentury = twoDigitYear >= rangeEnd % 100;\r\n    result = twoDigitYear + rangeEndCentury - (isPreviousCentury ? 100 : 0);\r\n  }\r\n\r\n  return isCommonEra ? result : 1 - result;\r\n}\r\n\r\nexport function isLeapYearIndex(year) {\r\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\r\n}\r\n", "import { Parser } from \"../Parser.js\";\r\n\r\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\r\n\r\n// From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_Patterns\r\n// | Year     |     y | yy |   yyy |  yyyy | yyyyy |\r\n// |----------|-------|----|-------|-------|-------|\r\n// | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\r\n// | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\r\n// | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\r\n// | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\r\n// | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\r\nexport class YearParser extends Parser {\r\n  priority = 130;\r\n  incompatibleTokens = [\"Y\", \"R\", \"u\", \"w\", \"I\", \"i\", \"e\", \"c\", \"t\", \"T\"];\r\n\r\n  parse(dateString, token, match) {\r\n    const valueCallback = (year) => ({\r\n      year,\r\n      isTwoDigitYear: token === \"yy\",\r\n    });\r\n\r\n    switch (token) {\r\n      case \"y\":\r\n        return mapValue(parseNDigits(4, dateString), valueCallback);\r\n      case \"yo\":\r\n        return mapValue(\r\n          match.ordinalNumber(dateString, {\r\n            unit: \"year\",\r\n          }),\r\n          valueCallback,\r\n        );\r\n      default:\r\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value.isTwoDigitYear || value.year > 0;\r\n  }\r\n\r\n  set(date, flags, value) {\r\n    const currentYear = date.getFullYear();\r\n\r\n    if (value.isTwoDigitYear) {\r\n      const normalizedTwoDigitYear = normalizeTwoDigitYear(\r\n        value.year,\r\n        currentYear,\r\n      );\r\n      date.setFullYear(normalizedTwoDigitYear, 0, 1);\r\n      date.setHours(0, 0, 0, 0);\r\n      return date;\r\n    }\r\n\r\n    const year =\r\n      !(\"era\" in flags) || flags.era === 1 ? value.year : 1 - value.year;\r\n    date.setFullYear(year, 0, 1);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n}\r\n", "import { getWeekYear } from \"../../../getWeekYear.js\";\r\n\r\nimport { startOfWeek } from \"../../../startOfWeek.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { mapValue, normalizeTwoDigitYear, parseNDigits } from \"../utils.js\";\r\n\r\n// Local week-numbering year\r\nexport class LocalWeekYearParser extends Parser {\r\n  priority = 130;\r\n\r\n  parse(dateString, token, match) {\r\n    const valueCallback = (year) => ({\r\n      year,\r\n      isTwoDigitYear: token === \"YY\",\r\n    });\r\n\r\n    switch (token) {\r\n      case \"Y\":\r\n        return mapValue(parseNDigits(4, dateString), valueCallback);\r\n      case \"Yo\":\r\n        return mapValue(\r\n          match.ordinalNumber(dateString, {\r\n            unit: \"year\",\r\n          }),\r\n          valueCallback,\r\n        );\r\n      default:\r\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value.isTwoDigitYear || value.year > 0;\r\n  }\r\n\r\n  set(date, flags, value, options) {\r\n    const currentYear = getWeekYear(date, options);\r\n\r\n    if (value.isTwoDigitYear) {\r\n      const normalizedTwoDigitYear = normalizeTwoDigitYear(\r\n        value.year,\r\n        currentYear,\r\n      );\r\n      date.setFullYear(\r\n        normalizedTwoDigitYear,\r\n        0,\r\n        options.firstWeekContainsDate,\r\n      );\r\n      date.setHours(0, 0, 0, 0);\r\n      return startOfWeek(date, options);\r\n    }\r\n\r\n    const year =\r\n      !(\"era\" in flags) || flags.era === 1 ? value.year : 1 - value.year;\r\n    date.setFullYear(year, 0, options.firstWeekContainsDate);\r\n    date.setHours(0, 0, 0, 0);\r\n    return startOfWeek(date, options);\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"y\",\r\n    \"R\",\r\n    \"u\",\r\n    \"Q\",\r\n    \"q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"I\",\r\n    \"d\",\r\n    \"D\",\r\n    \"i\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { startOfISOWeek } from \"../../../startOfISOWeek.js\";\r\nimport { constructFrom } from \"../../../constructFrom.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigitsSigned } from \"../utils.js\";\r\n\r\n// ISO week-numbering year\r\nexport class ISOWeekYearParser extends Parser {\r\n  priority = 130;\r\n\r\n  parse(dateString, token) {\r\n    if (token === \"R\") {\r\n      return parseNDigitsSigned(4, dateString);\r\n    }\r\n\r\n    return parseNDigitsSigned(token.length, dateString);\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    const firstWeekOfYear = constructFrom(date, 0);\r\n    firstWeekOfYear.setFullYear(value, 0, 4);\r\n    firstWeekOfYear.setHours(0, 0, 0, 0);\r\n    return startOfISOWeek(firstWeekOfYear);\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"G\",\r\n    \"y\",\r\n    \"Y\",\r\n    \"u\",\r\n    \"Q\",\r\n    \"q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"w\",\r\n    \"d\",\r\n    \"D\",\r\n    \"e\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigitsSigned } from \"../utils.js\";\r\n\r\nexport class ExtendedYearParser extends Parser {\r\n  priority = 130;\r\n\r\n  parse(dateString, token) {\r\n    if (token === \"u\") {\r\n      return parseNDigitsSigned(4, dateString);\r\n    }\r\n\r\n    return parseNDigitsSigned(token.length, dateString);\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setFullYear(value, 0, 1);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"G\", \"y\", \"Y\", \"R\", \"w\", \"I\", \"i\", \"e\", \"c\", \"t\", \"T\"];\r\n}\r\n", "import { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits } from \"../utils.js\";\r\n\r\nexport class QuarterParser extends Parser {\r\n  priority = 120;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      // 1, 2, 3, 4\r\n      case \"Q\":\r\n      case \"QQ\": // 01, 02, 03, 04\r\n        return parseNDigits(token.length, dateString);\r\n      // 1st, 2nd, 3rd, 4th\r\n      case \"Qo\":\r\n        return match.ordinalNumber(dateString, { unit: \"quarter\" });\r\n      // Q1, Q2, Q3, Q4\r\n      case \"QQQ\":\r\n        return (\r\n          match.quarter(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.quarter(dateString, {\r\n            width: \"narrow\",\r\n            context: \"formatting\",\r\n          })\r\n        );\r\n\r\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\r\n      case \"QQQQQ\":\r\n        return match.quarter(dateString, {\r\n          width: \"narrow\",\r\n          context: \"formatting\",\r\n        });\r\n      // 1st quarter, 2nd quarter, ...\r\n      case \"QQQQ\":\r\n      default:\r\n        return (\r\n          match.quarter(dateString, {\r\n            width: \"wide\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.quarter(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.quarter(dateString, {\r\n            width: \"narrow\",\r\n            context: \"formatting\",\r\n          })\r\n        );\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 1 && value <= 4;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setMonth((value - 1) * 3, 1);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"Y\",\r\n    \"R\",\r\n    \"q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"w\",\r\n    \"I\",\r\n    \"d\",\r\n    \"D\",\r\n    \"i\",\r\n    \"e\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits } from \"../utils.js\";\r\n\r\nexport class StandAloneQuarterParser extends Parser {\r\n  priority = 120;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      // 1, 2, 3, 4\r\n      case \"q\":\r\n      case \"qq\": // 01, 02, 03, 04\r\n        return parseNDigits(token.length, dateString);\r\n      // 1st, 2nd, 3rd, 4th\r\n      case \"qo\":\r\n        return match.ordinalNumber(dateString, { unit: \"quarter\" });\r\n      // Q1, Q2, Q3, Q4\r\n      case \"qqq\":\r\n        return (\r\n          match.quarter(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"standalone\",\r\n          }) ||\r\n          match.quarter(dateString, {\r\n            width: \"narrow\",\r\n            context: \"standalone\",\r\n          })\r\n        );\r\n\r\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\r\n      case \"qqqqq\":\r\n        return match.quarter(dateString, {\r\n          width: \"narrow\",\r\n          context: \"standalone\",\r\n        });\r\n      // 1st quarter, 2nd quarter, ...\r\n      case \"qqqq\":\r\n      default:\r\n        return (\r\n          match.quarter(dateString, {\r\n            width: \"wide\",\r\n            context: \"standalone\",\r\n          }) ||\r\n          match.quarter(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"standalone\",\r\n          }) ||\r\n          match.quarter(dateString, {\r\n            width: \"narrow\",\r\n            context: \"standalone\",\r\n          })\r\n        );\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 1 && value <= 4;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setMonth((value - 1) * 3, 1);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"Y\",\r\n    \"R\",\r\n    \"Q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"w\",\r\n    \"I\",\r\n    \"d\",\r\n    \"D\",\r\n    \"i\",\r\n    \"e\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\nexport class MonthParser extends Parser {\r\n  incompatibleTokens = [\r\n    \"Y\",\r\n    \"R\",\r\n    \"q\",\r\n    \"Q\",\r\n    \"L\",\r\n    \"w\",\r\n    \"I\",\r\n    \"D\",\r\n    \"i\",\r\n    \"e\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n\r\n  priority = 110;\r\n\r\n  parse(dateString, token, match) {\r\n    const valueCallback = (value) => value - 1;\r\n\r\n    switch (token) {\r\n      // 1, 2, ..., 12\r\n      case \"M\":\r\n        return mapValue(\r\n          parseNumericPattern(numericPatterns.month, dateString),\r\n          valueCallback,\r\n        );\r\n      // 01, 02, ..., 12\r\n      case \"MM\":\r\n        return mapValue(parseNDigits(2, dateString), valueCallback);\r\n      // 1st, 2nd, ..., 12th\r\n      case \"Mo\":\r\n        return mapValue(\r\n          match.ordinalNumber(dateString, {\r\n            unit: \"month\",\r\n          }),\r\n          valueCallback,\r\n        );\r\n      // Jan, Feb, ..., Dec\r\n      case \"MMM\":\r\n        return (\r\n          match.month(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.month(dateString, { width: \"narrow\", context: \"formatting\" })\r\n        );\r\n\r\n      // J, F, ..., D\r\n      case \"MMMMM\":\r\n        return match.month(dateString, {\r\n          width: \"narrow\",\r\n          context: \"formatting\",\r\n        });\r\n      // January, February, ..., December\r\n      case \"MMMM\":\r\n      default:\r\n        return (\r\n          match.month(dateString, { width: \"wide\", context: \"formatting\" }) ||\r\n          match.month(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.month(dateString, { width: \"narrow\", context: \"formatting\" })\r\n        );\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 0 && value <= 11;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setMonth(value, 1);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { mapValue, parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\nexport class StandAloneMonthParser extends Parser {\r\n  priority = 110;\r\n\r\n  parse(dateString, token, match) {\r\n    const valueCallback = (value) => value - 1;\r\n\r\n    switch (token) {\r\n      // 1, 2, ..., 12\r\n      case \"L\":\r\n        return mapValue(\r\n          parseNumericPattern(numericPatterns.month, dateString),\r\n          valueCallback,\r\n        );\r\n      // 01, 02, ..., 12\r\n      case \"LL\":\r\n        return mapValue(parseNDigits(2, dateString), valueCallback);\r\n      // 1st, 2nd, ..., 12th\r\n      case \"Lo\":\r\n        return mapValue(\r\n          match.ordinalNumber(dateString, {\r\n            unit: \"month\",\r\n          }),\r\n          valueCallback,\r\n        );\r\n      // Jan, Feb, ..., Dec\r\n      case \"LLL\":\r\n        return (\r\n          match.month(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"standalone\",\r\n          }) ||\r\n          match.month(dateString, { width: \"narrow\", context: \"standalone\" })\r\n        );\r\n\r\n      // J, F, ..., D\r\n      case \"LLLLL\":\r\n        return match.month(dateString, {\r\n          width: \"narrow\",\r\n          context: \"standalone\",\r\n        });\r\n      // January, February, ..., December\r\n      case \"LLLL\":\r\n      default:\r\n        return (\r\n          match.month(dateString, { width: \"wide\", context: \"standalone\" }) ||\r\n          match.month(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"standalone\",\r\n          }) ||\r\n          match.month(dateString, { width: \"narrow\", context: \"standalone\" })\r\n        );\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 0 && value <= 11;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setMonth(value, 1);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"Y\",\r\n    \"R\",\r\n    \"q\",\r\n    \"Q\",\r\n    \"M\",\r\n    \"w\",\r\n    \"I\",\r\n    \"D\",\r\n    \"i\",\r\n    \"e\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { getWeek } from \"./getWeek.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link setWeek} function options.\r\n */\r\n\r\n/**\r\n * @name setWeek\r\n * @category Week Helpers\r\n * @summary Set the local week to the given date.\r\n *\r\n * @description\r\n * Set the local week to the given date, saving the weekday number.\r\n * The exact calculation depends on the values of\r\n * `options.weekStartsOn` (which is the index of the first day of the week)\r\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\r\n * the first week of the week-numbering year)\r\n *\r\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param week - The week of the new date\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the local week set\r\n *\r\n * @example\r\n * // Set the 1st week to 2 January 2005 with default options:\r\n * const result = setWeek(new Date(2005, 0, 2), 1)\r\n * //=> Sun Dec 26 2004 00:00:00\r\n *\r\n * @example\r\n * // Set the 1st week to 2 January 2005,\r\n * // if Monday is the first day of the week,\r\n * // and the first week of the year always contains 4 January:\r\n * const result = setWeek(new Date(2005, 0, 2), 1, {\r\n *   weekStartsOn: 1,\r\n *   firstWeekContainsDate: 4\r\n * })\r\n * //=> Sun Jan 4 2004 00:00:00\r\n */\r\nexport function setWeek(date, week, options) {\r\n  const date_ = toDate(date, options?.in);\r\n  const diff = getWeek(date_, options) - week;\r\n  date_.setDate(date_.getDate() - diff * 7);\r\n  return toDate(date_, options?.in);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default setWeek;\r\n", "import { setWeek } from \"../../../setWeek.js\";\r\nimport { startOfWeek } from \"../../../startOfWeek.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\n// Local week of year\r\nexport class LocalWeekParser extends Parser {\r\n  priority = 100;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"w\":\r\n        return parseNumericPattern(numericPatterns.week, dateString);\r\n      case \"wo\":\r\n        return match.ordinalNumber(dateString, { unit: \"week\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 1 && value <= 53;\r\n  }\r\n\r\n  set(date, _flags, value, options) {\r\n    return startOfWeek(setWeek(date, value, options), options);\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"y\",\r\n    \"R\",\r\n    \"u\",\r\n    \"q\",\r\n    \"Q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"I\",\r\n    \"d\",\r\n    \"D\",\r\n    \"i\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { getISOWeek } from \"./getISOWeek.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link setISOWeek} function options.\r\n */\r\n\r\n/**\r\n * @name setISOWeek\r\n * @category ISO Week Helpers\r\n * @summary Set the ISO week to the given date.\r\n *\r\n * @description\r\n * Set the ISO week to the given date, saving the weekday number.\r\n *\r\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The `Date` type of the context function.\r\n *\r\n * @param date - The date to be changed\r\n * @param week - The ISO week of the new date\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the ISO week set\r\n *\r\n * @example\r\n * // Set the 53rd ISO week to 7 August 2004:\r\n * const result = setISOWeek(new Date(2004, 7, 7), 53)\r\n * //=> Sat Jan 01 2005 00:00:00\r\n */\r\nexport function setISOWeek(date, week, options) {\r\n  const _date = toDate(date, options?.in);\r\n  const diff = getISOWeek(_date, options) - week;\r\n  _date.setDate(_date.getDate() - diff * 7);\r\n  return _date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default setISOWeek;\r\n", "import { setISOWeek } from \"../../../setISOWeek.js\";\r\nimport { startOfISOWeek } from \"../../../startOfISOWeek.js\";\r\nimport { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\n// ISO week of year\r\nexport class ISOWeekParser extends Parser {\r\n  priority = 100;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"I\":\r\n        return parseNumericPattern(numericPatterns.week, dateString);\r\n      case \"Io\":\r\n        return match.ordinalNumber(dateString, { unit: \"week\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 1 && value <= 53;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    return startOfISOWeek(setISOWeek(date, value));\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"y\",\r\n    \"Y\",\r\n    \"u\",\r\n    \"q\",\r\n    \"Q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"w\",\r\n    \"d\",\r\n    \"D\",\r\n    \"e\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport {\r\n  isLeapYearIndex,\r\n  parseNDigits,\r\n  parseNumericPattern,\r\n} from \"../utils.js\";\r\n\r\nconst DAYS_IN_MONTH = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nconst DAYS_IN_MONTH_LEAP_YEAR = [\r\n  31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31,\r\n];\r\n\r\n// Day of the month\r\nexport class DateParser extends Parser {\r\n  priority = 90;\r\n  subPriority = 1;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"d\":\r\n        return parseNumericPattern(numericPatterns.date, dateString);\r\n      case \"do\":\r\n        return match.ordinalNumber(dateString, { unit: \"date\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(date, value) {\r\n    const year = date.getFullYear();\r\n    const isLeapYear = isLeapYearIndex(year);\r\n    const month = date.getMonth();\r\n    if (isLeapYear) {\r\n      return value >= 1 && value <= DAYS_IN_MONTH_LEAP_YEAR[month];\r\n    } else {\r\n      return value >= 1 && value <= DAYS_IN_MONTH[month];\r\n    }\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setDate(value);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"Y\",\r\n    \"R\",\r\n    \"q\",\r\n    \"Q\",\r\n    \"w\",\r\n    \"I\",\r\n    \"D\",\r\n    \"i\",\r\n    \"e\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport {\r\n  isLeapYearIndex,\r\n  parseNDigits,\r\n  parseNumericPattern,\r\n} from \"../utils.js\";\r\n\r\nexport class DayOfYearParser extends Parser {\r\n  priority = 90;\r\n\r\n  subpriority = 1;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"D\":\r\n      case \"DD\":\r\n        return parseNumericPattern(numericPatterns.dayOfYear, dateString);\r\n      case \"Do\":\r\n        return match.ordinalNumber(dateString, { unit: \"date\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(date, value) {\r\n    const year = date.getFullYear();\r\n    const isLeapYear = isLeapYearIndex(year);\r\n    if (isLeapYear) {\r\n      return value >= 1 && value <= 366;\r\n    } else {\r\n      return value >= 1 && value <= 365;\r\n    }\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setMonth(0, value);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"Y\",\r\n    \"R\",\r\n    \"q\",\r\n    \"Q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"w\",\r\n    \"I\",\r\n    \"d\",\r\n    \"E\",\r\n    \"i\",\r\n    \"e\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\r\nimport { addDays } from \"./addDays.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link setDay} function options.\r\n */\r\n\r\n/**\r\n * @name setDay\r\n * @category Weekday Helpers\r\n * @summary Set the day of the week to the given date.\r\n *\r\n * @description\r\n * Set the day of the week to the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param day - The day of the week of the new date\r\n * @param options - An object with options.\r\n *\r\n * @returns The new date with the day of the week set\r\n *\r\n * @example\r\n * // Set week day to Sunday, with the default weekStartsOn of Sunday:\r\n * const result = setDay(new Date(2014, 8, 1), 0)\r\n * //=> Sun Aug 31 2014 00:00:00\r\n *\r\n * @example\r\n * // Set week day to Sunday, with a weekStartsOn of Monday:\r\n * const result = setDay(new Date(2014, 8, 1), 0, { weekStartsOn: 1 })\r\n * //=> Sun Sep 07 2014 00:00:00\r\n */\r\nexport function setDay(date, day, options) {\r\n  const defaultOptions = getDefaultOptions();\r\n  const weekStartsOn =\r\n    options?.weekStartsOn ??\r\n    options?.locale?.options?.weekStartsOn ??\r\n    defaultOptions.weekStartsOn ??\r\n    defaultOptions.locale?.options?.weekStartsOn ??\r\n    0;\r\n\r\n  const date_ = toDate(date, options?.in);\r\n  const currentDay = date_.getDay();\r\n\r\n  const remainder = day % 7;\r\n  const dayIndex = (remainder + 7) % 7;\r\n\r\n  const delta = 7 - weekStartsOn;\r\n  const diff =\r\n    day < 0 || day > 6\r\n      ? day - ((currentDay + delta) % 7)\r\n      : ((dayIndex + delta) % 7) - ((currentDay + delta) % 7);\r\n  return addDays(date_, diff, options);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default setDay;\r\n", "import { setDay } from \"../../../setDay.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\n// Day of week\r\nexport class DayParser extends Parser {\r\n  priority = 90;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      // Tue\r\n      case \"E\":\r\n      case \"EE\":\r\n      case \"EEE\":\r\n        return (\r\n          match.day(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\r\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\r\n        );\r\n\r\n      // T\r\n      case \"EEEEE\":\r\n        return match.day(dateString, {\r\n          width: \"narrow\",\r\n          context: \"formatting\",\r\n        });\r\n      // Tu\r\n      case \"EEEEEE\":\r\n        return (\r\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\r\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\r\n        );\r\n\r\n      // Tuesday\r\n      case \"EEEE\":\r\n      default:\r\n        return (\r\n          match.day(dateString, { width: \"wide\", context: \"formatting\" }) ||\r\n          match.day(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\r\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\r\n        );\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 0 && value <= 6;\r\n  }\r\n\r\n  set(date, _flags, value, options) {\r\n    date = setDay(date, value, options);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"D\", \"i\", \"e\", \"c\", \"t\", \"T\"];\r\n}\r\n", "import { setDay } from \"../../../setDay.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { mapValue, parseNDigits } from \"../utils.js\";\r\n\r\n// Local day of week\r\nexport class LocalDayParser extends Parser {\r\n  priority = 90;\r\n  parse(dateString, token, match, options) {\r\n    const valueCallback = (value) => {\r\n      // We want here floor instead of trunc, so we get -7 for value 0 instead of 0\r\n      const wholeWeekDays = Math.floor((value - 1) / 7) * 7;\r\n      return ((value + options.weekStartsOn + 6) % 7) + wholeWeekDays;\r\n    };\r\n\r\n    switch (token) {\r\n      // 3\r\n      case \"e\":\r\n      case \"ee\": // 03\r\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n      // 3rd\r\n      case \"eo\":\r\n        return mapValue(\r\n          match.ordinalNumber(dateString, {\r\n            unit: \"day\",\r\n          }),\r\n          valueCallback,\r\n        );\r\n      // Tue\r\n      case \"eee\":\r\n        return (\r\n          match.day(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\r\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\r\n        );\r\n\r\n      // T\r\n      case \"eeeee\":\r\n        return match.day(dateString, {\r\n          width: \"narrow\",\r\n          context: \"formatting\",\r\n        });\r\n      // Tu\r\n      case \"eeeeee\":\r\n        return (\r\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\r\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\r\n        );\r\n\r\n      // Tuesday\r\n      case \"eeee\":\r\n      default:\r\n        return (\r\n          match.day(dateString, { width: \"wide\", context: \"formatting\" }) ||\r\n          match.day(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.day(dateString, { width: \"short\", context: \"formatting\" }) ||\r\n          match.day(dateString, { width: \"narrow\", context: \"formatting\" })\r\n        );\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 0 && value <= 6;\r\n  }\r\n\r\n  set(date, _flags, value, options) {\r\n    date = setDay(date, value, options);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"y\",\r\n    \"R\",\r\n    \"u\",\r\n    \"q\",\r\n    \"Q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"I\",\r\n    \"d\",\r\n    \"D\",\r\n    \"E\",\r\n    \"i\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { setDay } from \"../../../setDay.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { mapValue, parseNDigits } from \"../utils.js\";\r\n\r\n// Stand-alone local day of week\r\nexport class StandAloneLocalDayParser extends Parser {\r\n  priority = 90;\r\n\r\n  parse(dateString, token, match, options) {\r\n    const valueCallback = (value) => {\r\n      // We want here floor instead of trunc, so we get -7 for value 0 instead of 0\r\n      const wholeWeekDays = Math.floor((value - 1) / 7) * 7;\r\n      return ((value + options.weekStartsOn + 6) % 7) + wholeWeekDays;\r\n    };\r\n\r\n    switch (token) {\r\n      // 3\r\n      case \"c\":\r\n      case \"cc\": // 03\r\n        return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n      // 3rd\r\n      case \"co\":\r\n        return mapValue(\r\n          match.ordinalNumber(dateString, {\r\n            unit: \"day\",\r\n          }),\r\n          valueCallback,\r\n        );\r\n      // Tue\r\n      case \"ccc\":\r\n        return (\r\n          match.day(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"standalone\",\r\n          }) ||\r\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\r\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\r\n        );\r\n\r\n      // T\r\n      case \"ccccc\":\r\n        return match.day(dateString, {\r\n          width: \"narrow\",\r\n          context: \"standalone\",\r\n        });\r\n      // Tu\r\n      case \"cccccc\":\r\n        return (\r\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\r\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\r\n        );\r\n\r\n      // Tuesday\r\n      case \"cccc\":\r\n      default:\r\n        return (\r\n          match.day(dateString, { width: \"wide\", context: \"standalone\" }) ||\r\n          match.day(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"standalone\",\r\n          }) ||\r\n          match.day(dateString, { width: \"short\", context: \"standalone\" }) ||\r\n          match.day(dateString, { width: \"narrow\", context: \"standalone\" })\r\n        );\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 0 && value <= 6;\r\n  }\r\n\r\n  set(date, _flags, value, options) {\r\n    date = setDay(date, value, options);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"y\",\r\n    \"R\",\r\n    \"u\",\r\n    \"q\",\r\n    \"Q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"I\",\r\n    \"d\",\r\n    \"D\",\r\n    \"E\",\r\n    \"i\",\r\n    \"e\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { addDays } from \"./addDays.js\";\r\nimport { getISODay } from \"./getISODay.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link setISODay} function options.\r\n */\r\n\r\n/**\r\n * @name setISODay\r\n * @category Weekday Helpers\r\n * @summary Set the day of the ISO week to the given date.\r\n *\r\n * @description\r\n * Set the day of the ISO week to the given date.\r\n * ISO week starts with Monday.\r\n * 7 is the index of Sunday, 1 is the index of Monday, etc.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param day - The day of the ISO week of the new date\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the day of the ISO week set\r\n *\r\n * @example\r\n * // Set Sunday to 1 September 2014:\r\n * const result = setISODay(new Date(2014, 8, 1), 7)\r\n * //=> Sun Sep 07 2014 00:00:00\r\n */\r\nexport function setISODay(date, day, options) {\r\n  const date_ = toDate(date, options?.in);\r\n  const currentDay = getISODay(date_, options);\r\n  const diff = day - currentDay;\r\n  return addDays(date_, diff, options);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default setISODay;\r\n", "import { setISODay } from \"../../../setISODay.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { mapValue, parseNDigits } from \"../utils.js\";\r\n\r\n// ISO day of week\r\nexport class ISODayParser extends Parser {\r\n  priority = 90;\r\n\r\n  parse(dateString, token, match) {\r\n    const valueCallback = (value) => {\r\n      if (value === 0) {\r\n        return 7;\r\n      }\r\n      return value;\r\n    };\r\n\r\n    switch (token) {\r\n      // 2\r\n      case \"i\":\r\n      case \"ii\": // 02\r\n        return parseNDigits(token.length, dateString);\r\n      // 2nd\r\n      case \"io\":\r\n        return match.ordinalNumber(dateString, { unit: \"day\" });\r\n      // Tue\r\n      case \"iii\":\r\n        return mapValue(\r\n          match.day(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n            match.day(dateString, {\r\n              width: \"short\",\r\n              context: \"formatting\",\r\n            }) ||\r\n            match.day(dateString, {\r\n              width: \"narrow\",\r\n              context: \"formatting\",\r\n            }),\r\n          valueCallback,\r\n        );\r\n      // T\r\n      case \"iiiii\":\r\n        return mapValue(\r\n          match.day(dateString, {\r\n            width: \"narrow\",\r\n            context: \"formatting\",\r\n          }),\r\n          valueCallback,\r\n        );\r\n      // Tu\r\n      case \"iiiiii\":\r\n        return mapValue(\r\n          match.day(dateString, {\r\n            width: \"short\",\r\n            context: \"formatting\",\r\n          }) ||\r\n            match.day(dateString, {\r\n              width: \"narrow\",\r\n              context: \"formatting\",\r\n            }),\r\n          valueCallback,\r\n        );\r\n      // Tuesday\r\n      case \"iiii\":\r\n      default:\r\n        return mapValue(\r\n          match.day(dateString, {\r\n            width: \"wide\",\r\n            context: \"formatting\",\r\n          }) ||\r\n            match.day(dateString, {\r\n              width: \"abbreviated\",\r\n              context: \"formatting\",\r\n            }) ||\r\n            match.day(dateString, {\r\n              width: \"short\",\r\n              context: \"formatting\",\r\n            }) ||\r\n            match.day(dateString, {\r\n              width: \"narrow\",\r\n              context: \"formatting\",\r\n            }),\r\n          valueCallback,\r\n        );\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 1 && value <= 7;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date = setISODay(date, value);\r\n    date.setHours(0, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\r\n    \"y\",\r\n    \"Y\",\r\n    \"u\",\r\n    \"q\",\r\n    \"Q\",\r\n    \"M\",\r\n    \"L\",\r\n    \"w\",\r\n    \"d\",\r\n    \"D\",\r\n    \"E\",\r\n    \"e\",\r\n    \"c\",\r\n    \"t\",\r\n    \"T\",\r\n  ];\r\n}\r\n", "import { Parser } from \"../Parser.js\";\r\n\r\nimport { dayPeriodEnumToHours } from \"../utils.js\";\r\n\r\nexport class AMPMParser extends Parser {\r\n  priority = 80;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"a\":\r\n      case \"aa\":\r\n      case \"aaa\":\r\n        return (\r\n          match.dayPeriod(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.dayPeriod(dateString, {\r\n            width: \"narrow\",\r\n            context: \"formatting\",\r\n          })\r\n        );\r\n\r\n      case \"aaaaa\":\r\n        return match.dayPeriod(dateString, {\r\n          width: \"narrow\",\r\n          context: \"formatting\",\r\n        });\r\n      case \"aaaa\":\r\n      default:\r\n        return (\r\n          match.dayPeriod(dateString, {\r\n            width: \"wide\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.dayPeriod(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.dayPeriod(dateString, {\r\n            width: \"narrow\",\r\n            context: \"formatting\",\r\n          })\r\n        );\r\n    }\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"b\", \"B\", \"H\", \"k\", \"t\", \"T\"];\r\n}\r\n", "import { Parser } from \"../Parser.js\";\r\n\r\nimport { dayPeriodEnumToHours } from \"../utils.js\";\r\n\r\nexport class AMPMMidnightParser extends Parser {\r\n  priority = 80;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"b\":\r\n      case \"bb\":\r\n      case \"bbb\":\r\n        return (\r\n          match.dayPeriod(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.dayPeriod(dateString, {\r\n            width: \"narrow\",\r\n            context: \"formatting\",\r\n          })\r\n        );\r\n\r\n      case \"bbbbb\":\r\n        return match.dayPeriod(dateString, {\r\n          width: \"narrow\",\r\n          context: \"formatting\",\r\n        });\r\n      case \"bbbb\":\r\n      default:\r\n        return (\r\n          match.dayPeriod(dateString, {\r\n            width: \"wide\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.dayPeriod(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.dayPeriod(dateString, {\r\n            width: \"narrow\",\r\n            context: \"formatting\",\r\n          })\r\n        );\r\n    }\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"a\", \"B\", \"H\", \"k\", \"t\", \"T\"];\r\n}\r\n", "import { Parser } from \"../Parser.js\";\r\n\r\nimport { dayPeriodEnumToHours } from \"../utils.js\";\r\n\r\n// in the morning, in the afternoon, in the evening, at night\r\nexport class DayPeriodParser extends Parser {\r\n  priority = 80;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"B\":\r\n      case \"BB\":\r\n      case \"BBB\":\r\n        return (\r\n          match.dayPeriod(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.dayPeriod(dateString, {\r\n            width: \"narrow\",\r\n            context: \"formatting\",\r\n          })\r\n        );\r\n\r\n      case \"BBBBB\":\r\n        return match.dayPeriod(dateString, {\r\n          width: \"narrow\",\r\n          context: \"formatting\",\r\n        });\r\n      case \"BBBB\":\r\n      default:\r\n        return (\r\n          match.dayPeriod(dateString, {\r\n            width: \"wide\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.dayPeriod(dateString, {\r\n            width: \"abbreviated\",\r\n            context: \"formatting\",\r\n          }) ||\r\n          match.dayPeriod(dateString, {\r\n            width: \"narrow\",\r\n            context: \"formatting\",\r\n          })\r\n        );\r\n    }\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setHours(dayPeriodEnumToHours(value), 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"a\", \"b\", \"t\", \"T\"];\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\nexport class Hour1to12Parser extends Parser {\r\n  priority = 70;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"h\":\r\n        return parseNumericPattern(numericPatterns.hour12h, dateString);\r\n      case \"ho\":\r\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 1 && value <= 12;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    const isPM = date.getHours() >= 12;\r\n    if (isPM && value < 12) {\r\n      date.setHours(value + 12, 0, 0, 0);\r\n    } else if (!isPM && value === 12) {\r\n      date.setHours(0, 0, 0, 0);\r\n    } else {\r\n      date.setHours(value, 0, 0, 0);\r\n    }\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"H\", \"K\", \"k\", \"t\", \"T\"];\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\nexport class Hour0to23Parser extends Parser {\r\n  priority = 70;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"H\":\r\n        return parseNumericPattern(numericPatterns.hour23h, dateString);\r\n      case \"Ho\":\r\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 0 && value <= 23;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setHours(value, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"a\", \"b\", \"h\", \"K\", \"k\", \"t\", \"T\"];\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\nexport class Hour0To11Parser extends Parser {\r\n  priority = 70;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"K\":\r\n        return parseNumericPattern(numericPatterns.hour11h, dateString);\r\n      case \"Ko\":\r\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 0 && value <= 11;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    const isPM = date.getHours() >= 12;\r\n    if (isPM && value < 12) {\r\n      date.setHours(value + 12, 0, 0, 0);\r\n    } else {\r\n      date.setHours(value, 0, 0, 0);\r\n    }\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"h\", \"H\", \"k\", \"t\", \"T\"];\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\nexport class Hour1To24Parser extends Parser {\r\n  priority = 70;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"k\":\r\n        return parseNumericPattern(numericPatterns.hour24h, dateString);\r\n      case \"ko\":\r\n        return match.ordinalNumber(dateString, { unit: \"hour\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 1 && value <= 24;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    const hours = value <= 24 ? value % 24 : value;\r\n    date.setHours(hours, 0, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"a\", \"b\", \"h\", \"H\", \"K\", \"t\", \"T\"];\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\nexport class MinuteParser extends Parser {\r\n  priority = 60;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"m\":\r\n        return parseNumericPattern(numericPatterns.minute, dateString);\r\n      case \"mo\":\r\n        return match.ordinalNumber(dateString, { unit: \"minute\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 0 && value <= 59;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setMinutes(value, 0, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"t\", \"T\"];\r\n}\r\n", "import { numericPatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseNDigits, parseNumericPattern } from \"../utils.js\";\r\n\r\nexport class SecondParser extends Parser {\r\n  priority = 50;\r\n\r\n  parse(dateString, token, match) {\r\n    switch (token) {\r\n      case \"s\":\r\n        return parseNumericPattern(numericPatterns.second, dateString);\r\n      case \"so\":\r\n        return match.ordinalNumber(dateString, { unit: \"second\" });\r\n      default:\r\n        return parseNDigits(token.length, dateString);\r\n    }\r\n  }\r\n\r\n  validate(_date, value) {\r\n    return value >= 0 && value <= 59;\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setSeconds(value, 0);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"t\", \"T\"];\r\n}\r\n", "import { Parser } from \"../Parser.js\";\r\n\r\nimport { mapValue, parseNDigits } from \"../utils.js\";\r\n\r\nexport class FractionOfSecondParser extends Parser {\r\n  priority = 30;\r\n\r\n  parse(dateString, token) {\r\n    const valueCallback = (value) =>\r\n      Math.trunc(value * Math.pow(10, -token.length + 3));\r\n    return mapValue(parseNDigits(token.length, dateString), valueCallback);\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    date.setMilliseconds(value);\r\n    return date;\r\n  }\r\n\r\n  incompatibleTokens = [\"t\", \"T\"];\r\n}\r\n", "import { constructFrom } from \"../../../constructFrom.js\";\r\nimport { getTimezoneOffsetInMilliseconds } from \"../../../_lib/getTimezoneOffsetInMilliseconds.js\";\r\nimport { timezonePatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseTimezonePattern } from \"../utils.js\";\r\n\r\n// Timezone (ISO-8601. +00:00 is `'Z'`)\r\nexport class ISOTimezoneWithZParser extends Parser {\r\n  priority = 10;\r\n\r\n  parse(dateString, token) {\r\n    switch (token) {\r\n      case \"X\":\r\n        return parseTimezonePattern(\r\n          timezonePatterns.basicOptionalMinutes,\r\n          dateString,\r\n        );\r\n      case \"XX\":\r\n        return parseTimezonePattern(timezonePatterns.basic, dateString);\r\n      case \"XXXX\":\r\n        return parseTimezonePattern(\r\n          timezonePatterns.basicOptionalSeconds,\r\n          dateString,\r\n        );\r\n      case \"XXXXX\":\r\n        return parseTimezonePattern(\r\n          timezonePatterns.extendedOptionalSeconds,\r\n          dateString,\r\n        );\r\n      case \"XXX\":\r\n      default:\r\n        return parseTimezonePattern(timezonePatterns.extended, dateString);\r\n    }\r\n  }\r\n\r\n  set(date, flags, value) {\r\n    if (flags.timestampIsSet) return date;\r\n    return constructFrom(\r\n      date,\r\n      date.getTime() - getTimezoneOffsetInMilliseconds(date) - value,\r\n    );\r\n  }\r\n\r\n  incompatibleTokens = [\"t\", \"T\", \"x\"];\r\n}\r\n", "import { constructFrom } from \"../../../constructFrom.js\";\r\nimport { getTimezoneOffsetInMilliseconds } from \"../../../_lib/getTimezoneOffsetInMilliseconds.js\";\r\nimport { timezonePatterns } from \"../constants.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseTimezonePattern } from \"../utils.js\";\r\n\r\n// Timezone (ISO-8601)\r\nexport class ISOTimezoneParser extends Parser {\r\n  priority = 10;\r\n\r\n  parse(dateString, token) {\r\n    switch (token) {\r\n      case \"x\":\r\n        return parseTimezonePattern(\r\n          timezonePatterns.basicOptionalMinutes,\r\n          dateString,\r\n        );\r\n      case \"xx\":\r\n        return parseTimezonePattern(timezonePatterns.basic, dateString);\r\n      case \"xxxx\":\r\n        return parseTimezonePattern(\r\n          timezonePatterns.basicOptionalSeconds,\r\n          dateString,\r\n        );\r\n      case \"xxxxx\":\r\n        return parseTimezonePattern(\r\n          timezonePatterns.extendedOptionalSeconds,\r\n          dateString,\r\n        );\r\n      case \"xxx\":\r\n      default:\r\n        return parseTimezonePattern(timezonePatterns.extended, dateString);\r\n    }\r\n  }\r\n\r\n  set(date, flags, value) {\r\n    if (flags.timestampIsSet) return date;\r\n    return constructFrom(\r\n      date,\r\n      date.getTime() - getTimezoneOffsetInMilliseconds(date) - value,\r\n    );\r\n  }\r\n\r\n  incompatibleTokens = [\"t\", \"T\", \"X\"];\r\n}\r\n", "import { constructFrom } from \"../../../constructFrom.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseAnyDigitsSigned } from \"../utils.js\";\r\n\r\nexport class TimestampSecondsParser extends Parser {\r\n  priority = 40;\r\n\r\n  parse(dateString) {\r\n    return parseAnyDigitsSigned(dateString);\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    return [constructFrom(date, value * 1000), { timestampIsSet: true }];\r\n  }\r\n\r\n  incompatibleTokens = \"*\";\r\n}\r\n", "import { constructFrom } from \"../../../constructFrom.js\";\r\nimport { Parser } from \"../Parser.js\";\r\n\r\nimport { parseAnyDigitsSigned } from \"../utils.js\";\r\n\r\nexport class TimestampMillisecondsParser extends Parser {\r\n  priority = 20;\r\n\r\n  parse(dateString) {\r\n    return parseAnyDigitsSigned(dateString);\r\n  }\r\n\r\n  set(date, _flags, value) {\r\n    return [constructFrom(date, value), { timestampIsSet: true }];\r\n  }\r\n\r\n  incompatibleTokens = \"*\";\r\n}\r\n", "import { EraParser } from \"./parsers/EraParser.js\";\r\nimport { YearParser } from \"./parsers/YearParser.js\";\r\nimport { LocalWeekYearParser } from \"./parsers/LocalWeekYearParser.js\";\r\nimport { ISOWeekYearParser } from \"./parsers/ISOWeekYearParser.js\";\r\nimport { ExtendedYearParser } from \"./parsers/ExtendedYearParser.js\";\r\nimport { QuarterParser } from \"./parsers/QuarterParser.js\";\r\nimport { StandAloneQuarterParser } from \"./parsers/StandAloneQuarterParser.js\";\r\nimport { MonthParser } from \"./parsers/MonthParser.js\";\r\nimport { StandAloneMonthParser } from \"./parsers/StandAloneMonthParser.js\";\r\nimport { LocalWeekParser } from \"./parsers/LocalWeekParser.js\";\r\nimport { ISOWeekParser } from \"./parsers/ISOWeekParser.js\";\r\nimport { DateParser } from \"./parsers/DateParser.js\";\r\nimport { DayOfYearParser } from \"./parsers/DayOfYearParser.js\";\r\nimport { DayParser } from \"./parsers/DayParser.js\";\r\nimport { LocalDayParser } from \"./parsers/LocalDayParser.js\";\r\nimport { StandAloneLocalDayParser } from \"./parsers/StandAloneLocalDayParser.js\";\r\nimport { ISODayParser } from \"./parsers/ISODayParser.js\";\r\nimport { AMPMParser } from \"./parsers/AMPMParser.js\";\r\nimport { AMPMMidnightParser } from \"./parsers/AMPMMidnightParser.js\";\r\nimport { DayPeriodParser } from \"./parsers/DayPeriodParser.js\";\r\nimport { Hour1to12Parser } from \"./parsers/Hour1to12Parser.js\";\r\nimport { Hour0to23Parser } from \"./parsers/Hour0to23Parser.js\";\r\nimport { Hour0To11Parser } from \"./parsers/Hour0To11Parser.js\";\r\nimport { Hour1To24Parser } from \"./parsers/Hour1To24Parser.js\";\r\nimport { MinuteParser } from \"./parsers/MinuteParser.js\";\r\nimport { SecondParser } from \"./parsers/SecondParser.js\";\r\nimport { FractionOfSecondParser } from \"./parsers/FractionOfSecondParser.js\";\r\nimport { ISOTimezoneWithZParser } from \"./parsers/ISOTimezoneWithZParser.js\";\r\nimport { ISOTimezoneParser } from \"./parsers/ISOTimezoneParser.js\";\r\nimport { TimestampSecondsParser } from \"./parsers/TimestampSecondsParser.js\";\r\nimport { TimestampMillisecondsParser } from \"./parsers/TimestampMillisecondsParser.js\";\r\n\r\n/*\r\n * |     | Unit                           |     | Unit                           |\r\n * |-----|--------------------------------|-----|--------------------------------|\r\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\r\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\r\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\r\n * |  d  | Day of month                   |  D  | Day of year                    |\r\n * |  e  | Local day of week              |  E  | Day of week                    |\r\n * |  f  |                                |  F* | Day of week in month           |\r\n * |  g* | Modified Julian day            |  G  | Era                            |\r\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\r\n * |  i! | ISO day of week                |  I! | ISO week of year               |\r\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\r\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\r\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\r\n * |  m  | Minute                         |  M  | Month                          |\r\n * |  n  |                                |  N  |                                |\r\n * |  o! | Ordinal number modifier        |  O* | Timezone (GMT)                 |\r\n * |  p  |                                |  P  |                                |\r\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\r\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\r\n * |  s  | Second                         |  S  | Fraction of second             |\r\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\r\n * |  u  | Extended year                  |  U* | Cyclic year                    |\r\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\r\n * |  w  | Local week of year             |  W* | Week of month                  |\r\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\r\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\r\n * |  z* | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\r\n *\r\n * Letters marked by * are not implemented but reserved by Unicode standard.\r\n *\r\n * Letters marked by ! are non-standard, but implemented by date-fns:\r\n * - `o` modifies the previous token to turn it into an ordinal (see `parse` docs)\r\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\r\n *   i.e. 7 for Sunday, 1 for Monday, etc.\r\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\r\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\r\n *   `R` is supposed to be used in conjunction with `I` and `i`\r\n *   for universal ISO week-numbering date, whereas\r\n *   `Y` is supposed to be used in conjunction with `w` and `e`\r\n *   for week-numbering date specific to the locale.\r\n */\r\nexport const parsers = {\r\n  G: new EraParser(),\r\n  y: new YearParser(),\r\n  Y: new LocalWeekYearParser(),\r\n  R: new ISOWeekYearParser(),\r\n  u: new ExtendedYearParser(),\r\n  Q: new QuarterParser(),\r\n  q: new StandAloneQuarterParser(),\r\n  M: new MonthParser(),\r\n  L: new StandAloneMonthParser(),\r\n  w: new LocalWeekParser(),\r\n  I: new ISOWeekParser(),\r\n  d: new DateParser(),\r\n  D: new DayOfYearParser(),\r\n  E: new DayParser(),\r\n  e: new LocalDayParser(),\r\n  c: new StandAloneLocalDayParser(),\r\n  i: new ISODayParser(),\r\n  a: new AMPMParser(),\r\n  b: new AMPMMidnightParser(),\r\n  B: new DayPeriodParser(),\r\n  h: new Hour1to12Parser(),\r\n  H: new Hour0to23Parser(),\r\n  K: new Hour0To11Parser(),\r\n  k: new Hour1To24Parser(),\r\n  m: new MinuteParser(),\r\n  s: new SecondParser(),\r\n  S: new FractionOfSecondParser(),\r\n  X: new ISOTimezoneWithZParser(),\r\n  x: new ISOTimezoneParser(),\r\n  t: new TimestampSecondsParser(),\r\n  T: new TimestampMillisecondsParser(),\r\n};\r\n", "import { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link startOfMinute} function options.\r\n */\r\n\r\n/**\r\n * @name startOfMinute\r\n * @category Minute Helpers\r\n * @summary Return the start of a minute for the given date.\r\n *\r\n * @description\r\n * Return the start of a minute for the given date.\r\n * The result will be in the local timezone.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The original date\r\n * @param options - An object with options\r\n *\r\n * @returns The start of a minute\r\n *\r\n * @example\r\n * // The start of a minute for 1 December 2014 22:15:45.400:\r\n * const result = startOfMinute(new Date(2014, 11, 1, 22, 15, 45, 400))\r\n * //=> Mon Dec 01 2014 22:15:00\r\n */\r\nexport function startOfMinute(date, options) {\r\n  const date_ = toDate(date, options?.in);\r\n  date_.setSeconds(0, 0);\r\n  return date_;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default startOfMinute;\r\n", "import { addDays } from \"./addDays.js\";\r\n\r\n/**\r\n * The {@link subDays} function options.\r\n */\r\n\r\n/**\r\n * @name subDays\r\n * @category Day Helpers\r\n * @summary Subtract the specified number of days from the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param amount - The amount of days to be subtracted.\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the days subtracted\r\n *\r\n * @example\r\n * // Subtract 10 days from 1 September 2014:\r\n * const result = subDays(new Date(2014, 8, 1), 10)\r\n * //=> Fri Aug 22 2014 00:00:00\r\n */\r\nexport function subDays(date, amount, options) {\r\n  return addDays(date, -amount, options);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default subDays;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\nimport { getDaysInMonth } from \"./getDaysInMonth.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link setMonth} function options.\r\n */\r\n\r\n/**\r\n * @name setMonth\r\n * @category Month Helpers\r\n * @summary Set the month to the given date.\r\n *\r\n * @description\r\n * Set the month to the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param month - The month index to set (0-11)\r\n * @param options - The options\r\n *\r\n * @returns The new date with the month set\r\n *\r\n * @example\r\n * // Set February to 1 September 2014:\r\n * const result = setMonth(new Date(2014, 8, 1), 1)\r\n * //=> Sat Feb 01 2014 00:00:00\r\n */\r\nexport function setMonth(date, month, options) {\r\n  const _date = toDate(date, options?.in);\r\n  const year = _date.getFullYear();\r\n  const day = _date.getDate();\r\n\r\n  const midMonth = constructFrom(options?.in || date, 0);\r\n  midMonth.setFullYear(year, month, 15);\r\n  midMonth.setHours(0, 0, 0, 0);\r\n  const daysInMonth = getDaysInMonth(midMonth);\r\n\r\n  // Set the earlier date, allows to wrap Jan 31 to Feb 28\r\n  _date.setMonth(month, Math.min(day, daysInMonth));\r\n  return _date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default setMonth;\r\n", "import { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link setHours} function options.\r\n */\r\n\r\n/**\r\n * @name setHours\r\n * @category Hour Helpers\r\n * @summary Set the hours to the given date.\r\n *\r\n * @description\r\n * Set the hours to the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param hours - The hours of the new date\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the hours set\r\n *\r\n * @example\r\n * // Set 4 hours to 1 September 2014 11:30:00:\r\n * const result = setHours(new Date(2014, 8, 1, 11, 30), 4)\r\n * //=> Mon Sep 01 2014 04:30:00\r\n */\r\nexport function setHours(date, hours, options) {\r\n  const _date = toDate(date, options?.in);\r\n  _date.setHours(hours);\r\n  return _date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default setHours;\r\n", "import { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link setMinutes} function options.\r\n */\r\n\r\n/**\r\n * @name setMinutes\r\n * @category Minute Helpers\r\n * @summary Set the minutes to the given date.\r\n *\r\n * @description\r\n * Set the minutes to the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows using extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, returned from the context function, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param minutes - The minutes of the new date\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the minutes set\r\n *\r\n * @example\r\n * // Set 45 minutes to 1 September 2014 11:30:40:\r\n * const result = setMinutes(new Date(2014, 8, 1, 11, 30, 40), 45)\r\n * //=> Mon Sep 01 2014 11:45:40\r\n */\r\nexport function setMinutes(date, minutes, options) {\r\n  const date_ = toDate(date, options?.in);\r\n  date_.setMinutes(minutes);\r\n  return date_;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default setMinutes;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\nimport { toDate } from \"./toDate.js\";\r\n\r\n/**\r\n * The {@link setYear} function options.\r\n */\r\n\r\n/**\r\n * @name setYear\r\n * @category Year Helpers\r\n * @summary Set the year to the given date.\r\n *\r\n * @description\r\n * Set the year to the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param year - The year of the new date\r\n * @param options - An object with options.\r\n *\r\n * @returns The new date with the year set\r\n *\r\n * @example\r\n * // Set year 2013 to 1 September 2014:\r\n * const result = setYear(new Date(2014, 8, 1), 2013)\r\n * //=> Sun Sep 01 2013 00:00:00\r\n */\r\nexport function setYear(date, year, options) {\r\n  const date_ = toDate(date, options?.in);\r\n\r\n  // Check if date is Invalid Date because Date.prototype.setFullYear ignores the value of Invalid Date\r\n  if (isNaN(+date_)) return constructFrom(options?.in || date, NaN);\r\n\r\n  date_.setFullYear(year);\r\n  return date_;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default setYear;\r\n", "import { constructFrom } from \"./constructFrom.js\";\r\nimport { constructNow } from \"./constructNow.js\";\r\n\r\n/**\r\n * The {@link startOfTomorrow} function options.\r\n */\r\n\r\n/**\r\n * @name startOfTomorrow\r\n * @category Day Helpers\r\n * @summary Return the start of tomorrow.\r\n * @pure false\r\n *\r\n * @typeParam ContextDate - The `Date` type of the context function.\r\n *\r\n * @param options - An object with options\r\n *\r\n * @returns The start of tomorrow\r\n *\r\n * @description\r\n * Return the start of tomorrow.\r\n *\r\n * @example\r\n * // If today is 6 October 2014:\r\n * const result = startOfTomorrow()\r\n * //=> Tue Oct 7 2014 00:00:00\r\n */\r\nexport function startOfTomorrow(options) {\r\n  const now = constructNow(options?.in);\r\n  const year = now.getFullYear();\r\n  const month = now.getMonth();\r\n  const day = now.getDate();\r\n\r\n  const date = constructFrom(options?.in, 0);\r\n  date.setFullYear(year, month, day + 1);\r\n  date.setHours(0, 0, 0, 0);\r\n  return date;\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default startOfTomorrow;\r\n", "import { addMonths } from \"./addMonths.js\";\r\n\r\n/**\r\n * The subMonths function options.\r\n */\r\n\r\n/**\r\n * @name subMonths\r\n * @category Month Helpers\r\n * @summary Subtract the specified number of months from the given date.\r\n *\r\n * @description\r\n * Subtract the specified number of months from the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param amount - The amount of months to be subtracted.\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the months subtracted\r\n *\r\n * @example\r\n * // Subtract 5 months from 1 February 2015:\r\n * const result = subMonths(new Date(2015, 1, 1), 5)\r\n * //=> Mon Sep 01 2014 00:00:00\r\n */\r\nexport function subMonths(date, amount, options) {\r\n  return addMonths(date, -amount, options);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default subMonths;\r\n", "import { addWeeks } from \"./addWeeks.js\";\r\n\r\n/**\r\n * The {@link subWeeks} function options.\r\n */\r\n\r\n/**\r\n * @name subWeeks\r\n * @category Week Helpers\r\n * @summary Subtract the specified number of weeks from the given date.\r\n *\r\n * @description\r\n * Subtract the specified number of weeks from the given date.\r\n *\r\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\r\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\r\n *\r\n * @param date - The date to be changed\r\n * @param amount - The amount of weeks to be subtracted.\r\n * @param options - An object with options\r\n *\r\n * @returns The new date with the weeks subtracted\r\n *\r\n * @example\r\n * // Subtract 4 weeks from 1 September 2014:\r\n * const result = subWeeks(new Date(2014, 8, 1), 4)\r\n * //=> Mon Aug 04 2014 00:00:00\r\n */\r\nexport function subWeeks(date, amount, options) {\r\n  return addWeeks(date, -amount, options);\r\n}\r\n\r\n// Fallback for modularized imports:\r\nexport default subWeeks;\r\n", "import * as React from 'react';\nimport { isSameDate } from '@vkontakte/vkjs';\nimport { addMonths, startOfDay, subMonths } from 'date-fns';\nimport type { CalendarProps } from '../components/Calendar/Calendar';\nimport { DEFAULT_MAX_YEAR, DEFAULT_MIN_YEAR, isDayMinMaxRestricted } from '../lib/calendar';\nimport { endOfDay } from '../lib/date';\n\nexport interface UseCalendarDependencies\n  extends Pick<\n    CalendarProps,\n    | 'onHeaderChange'\n    | 'onNextMonth'\n    | 'onPrevMonth'\n    | 'minDateTime'\n    | 'maxDateTime'\n    | 'shouldDisableDate'\n    | 'disableFuture'\n    | 'disablePast'\n  > {\n  value?: Array<Date | null> | Date | null;\n}\n\nexport function useCalendar({\n  value,\n  disablePast,\n  disableFuture,\n  shouldDisableDate,\n  onHeaderChange,\n  onNextMonth,\n  onPrevMonth,\n  minDateTime,\n  maxDateTime,\n}: UseCalendarDependencies): {\n  viewDate: Date;\n  setViewDate: (value: Date) => void;\n  setPrevMonth: () => void;\n  setNextMonth: () => void;\n  focusedDay: Date | undefined;\n  setFocusedDay: React.Dispatch<React.SetStateAction<Date | undefined>>;\n  isDayFocused: (day: Date) => boolean;\n  isDayDisabled: (day: Date, withTime?: boolean) => boolean;\n  isMonthDisabled: (month: number, year?: number) => boolean;\n  isYearDisabled: (year: number) => boolean;\n} {\n  const [viewDate, setViewDate] = React.useState(\n    (Array.isArray(value) ? value[0] : value) ?? new Date(),\n  );\n  // соответствует дню, на котором сейчас есть фокус\n  // меняется при переключении дней с помощью стрелок\n  const [focusedDay, setFocusedDay] = React.useState<Date>();\n\n  const setPrevMonth = React.useCallback(() => {\n    onPrevMonth?.();\n    setViewDate(subMonths(viewDate, 1));\n  }, [viewDate, onPrevMonth]);\n  const setNextMonth = React.useCallback(() => {\n    onNextMonth?.();\n    setViewDate(addMonths(viewDate, 1));\n  }, [viewDate, onNextMonth]);\n\n  const handleSetViewDate = React.useCallback(\n    (value: Date) => {\n      onHeaderChange?.(value);\n      setViewDate(value);\n    },\n    [onHeaderChange],\n  );\n\n  const isDayFocused = React.useCallback(\n    (day: Date) => Boolean(focusedDay && isSameDate(day, focusedDay)),\n    [focusedDay],\n  );\n\n  const isDayDisabled = React.useCallback(\n    (day: Date, withTime?: boolean) => {\n      const now = new Date();\n      if (shouldDisableDate) {\n        return shouldDisableDate(day);\n      }\n      if (disableFuture) {\n        return startOfDay(day) > now;\n      }\n      if (disablePast) {\n        return endOfDay(day) < now;\n      }\n      if (minDateTime || maxDateTime) {\n        return isDayMinMaxRestricted(day, { min: minDateTime, max: maxDateTime, withTime });\n      }\n\n      return false;\n    },\n    [disableFuture, disablePast, shouldDisableDate, minDateTime, maxDateTime],\n  );\n\n  const isMonthDisabled = React.useCallback(\n    (month: number, year?: number): boolean => {\n      const now = new Date();\n      year = year || viewDate.getFullYear();\n      const minMonth = minDateTime ? minDateTime.getMonth() : 0;\n      const maxMonth = maxDateTime ? maxDateTime.getMonth() : 11;\n      const minYear = minDateTime?.getFullYear() || DEFAULT_MIN_YEAR;\n      const maxYear = maxDateTime?.getFullYear() || DEFAULT_MAX_YEAR;\n\n      let isDisabled =\n        year >= minYear && year <= maxYear\n          ? (year === minYear && minMonth > month) || (year === maxYear && month > maxMonth)\n          : true;\n\n      if (disableFuture) {\n        isDisabled =\n          isDisabled ||\n          (year === now.getFullYear() ? month > now.getMonth() : year > now.getFullYear());\n      }\n      if (disablePast) {\n        isDisabled =\n          isDisabled ||\n          (year === now.getFullYear() ? month < now.getMonth() : year < now.getFullYear());\n      }\n\n      return isDisabled;\n    },\n    [disableFuture, disablePast, viewDate, minDateTime, maxDateTime],\n  );\n\n  const isYearDisabled = React.useCallback(\n    (year: number): boolean => {\n      const now = new Date();\n      const minYear = minDateTime?.getFullYear() || DEFAULT_MIN_YEAR;\n      const maxYear = maxDateTime?.getFullYear() || DEFAULT_MAX_YEAR;\n\n      let isDisabled = minYear > year || year > maxYear;\n      if (disableFuture) {\n        isDisabled = isDisabled || year > now.getFullYear();\n      }\n      if (disablePast) {\n        isDisabled = isDisabled || year < now.getFullYear();\n      }\n\n      return isDisabled;\n    },\n    [disableFuture, disablePast, minDateTime, maxDateTime],\n  );\n\n  return {\n    viewDate,\n    setViewDate: handleSetViewDate,\n    setPrevMonth,\n    setNextMonth,\n    focusedDay,\n    setFocusedDay,\n    isDayFocused,\n    isDayDisabled,\n    isMonthDisabled,\n    isYearDisabled,\n  };\n}\n", "import { isSameDate } from '@vkontakte/vkjs';\nimport {\n  addDays,\n  addMonths,\n  addWeeks,\n  eachDayOfInterval,\n  endOfWeek,\n  startOfMonth,\n  startOfWeek,\n  subDays,\n  subMonths,\n  subWeeks,\n} from 'date-fns';\nimport { clamp as clampNumber } from '../helpers/math';\nimport { Keys, type KeysValues } from './accessibility';\nimport { endOfMonth, isLastDayOfMonth } from './date';\n\nexport const DEFAULT_MAX_YEAR = 9999;\n// 100 - из-за ограничений dayjs https://github.com/iamkun/dayjs/issues/2591\nexport const DEFAULT_MIN_YEAR = 100;\n\nexport const getYears = (\n  currentYear: number,\n  range: number,\n): Array<{\n  value: number;\n  label: string;\n}> => {\n  const years: Array<{\n    value: number;\n    label: string;\n  }> = [];\n\n  const minYear = clampNumber(currentYear - range, DEFAULT_MIN_YEAR, DEFAULT_MAX_YEAR);\n  const maxYear = clampNumber(currentYear + range, DEFAULT_MIN_YEAR, DEFAULT_MAX_YEAR);\n\n  for (let i = minYear; i <= maxYear; i++) {\n    years.push({ label: String(i).padStart(4, '0'), value: i });\n  }\n\n  return years;\n};\n\nexport const getMonths = (\n  locale?: string,\n): Array<{\n  value: number;\n  label: string;\n}> => {\n  const months: Array<{\n    value: number;\n    label: string;\n  }> = [];\n  const formatter = new Intl.DateTimeFormat(locale, {\n    month: 'long',\n  });\n\n  for (let i = 0; i < 12; i++) {\n    months.push({\n      label: formatter.format(new Date(2023, i, 15)),\n      value: i,\n    });\n  }\n\n  return months;\n};\n\nexport const getDaysNames = (\n  now: Date,\n  weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6,\n  locale?: string,\n): Array<{ short: string; long: string }> => {\n  const shortFormatter = new Intl.DateTimeFormat(locale, {\n    weekday: 'short',\n  });\n  const longFormatter = new Intl.DateTimeFormat(locale, {\n    weekday: 'long',\n  });\n  return eachDayOfInterval({\n    start: startOfWeek(now, { weekStartsOn }),\n    end: endOfWeek(now, { weekStartsOn }),\n  }).map((day) => ({ short: shortFormatter.format(day), long: longFormatter.format(day) }));\n};\n\nexport const NAVIGATION_KEYS: KeysValues[] = [\n  Keys.ARROW_UP,\n  Keys.ARROW_DOWN,\n  Keys.ARROW_LEFT,\n  Keys.ARROW_RIGHT,\n  Keys.HOME,\n  Keys.END,\n  Keys.PAGE_UP,\n  Keys.PAGE_DOWN,\n];\n\nexport const navigateDate = (date?: Date | null, key?: (typeof NAVIGATION_KEYS)[number]): Date => {\n  let newDate = date ?? new Date();\n\n  switch (key) {\n    case Keys.ARROW_RIGHT:\n      newDate = addDays(newDate, 1);\n      break;\n    case Keys.ARROW_LEFT:\n      newDate = subDays(newDate, 1);\n      break;\n    case Keys.ARROW_UP:\n      newDate = subWeeks(newDate, 1);\n      break;\n    case Keys.ARROW_DOWN:\n      newDate = addWeeks(newDate, 1);\n      break;\n    case Keys.HOME:\n      newDate = startOfWeek(newDate, { weekStartsOn: 1 });\n      break;\n    case Keys.END:\n      newDate = endOfWeek(newDate, { weekStartsOn: 1 });\n      break;\n    case Keys.PAGE_UP:\n      newDate = subMonths(newDate, 1);\n      break;\n    case Keys.PAGE_DOWN:\n      newDate = addMonths(newDate, 1);\n      break;\n  }\n\n  return newDate;\n};\n\nexport const getWeeks = (viewDate: Date, weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6): Date[][] => {\n  const start = startOfWeek(startOfMonth(viewDate), { weekStartsOn });\n  const end = endOfWeek(endOfMonth(viewDate), { weekStartsOn });\n\n  let count = 0;\n  let current = start;\n  const nestedWeeks: Date[][] = [];\n  let lastDay = null;\n  while (current < end) {\n    const weekNumber = Math.floor(count / 7);\n    nestedWeeks[weekNumber] = nestedWeeks[weekNumber] || [];\n    const day = current.getDay();\n    if (lastDay !== day) {\n      lastDay = day;\n      nestedWeeks[weekNumber].push(current);\n      count += 1;\n    }\n    current = addDays(current, 1);\n  }\n  return nestedWeeks;\n};\n\nexport const setTimeEqual = (to: Date, from?: Date | null): Date => {\n  if (from) {\n    to.setHours(from.getHours());\n    to.setMinutes(from.getMinutes());\n    to.setSeconds(from.getSeconds());\n    to.setMilliseconds(from.getMilliseconds());\n  }\n\n  return to;\n};\n\nexport const isFirstDay = (day: Date, dayOfWeek: number): boolean =>\n  dayOfWeek === 0 || day.getDate() === 1;\n\nexport const isLastDay = (day: Date, dayOfWeek: number): boolean =>\n  dayOfWeek === 6 || isLastDayOfMonth(day);\n\n/**\n * Возвращает дату, ограниченную `min` и/или `max` значениями\n */\nexport function clamp(day: Date, options: { min?: Date; max?: Date } = {}): Date {\n  const { min, max } = options;\n  if (min && day < min) {\n    return min;\n  }\n  if (max && day > max) {\n    return max;\n  }\n  return day;\n}\n\n/**\n * Позволяет определить удовлетворяет ли исходная дата заданным ограничения `min` и/или `max`\n */\nexport function isDayMinMaxRestricted(\n  day: Date,\n  options: { min?: Date; max?: Date; withTime?: boolean } = {},\n): boolean {\n  const { min, max, withTime = false } = options;\n  if (!withTime && ((min && isSameDate(day, min)) || (max && isSameDate(day, max)))) {\n    return false;\n  }\n  return Boolean((min && day < min) || (max && day > max));\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, isSameDate } from '@vkontakte/vkjs';\nimport { useTodayDate } from '../../hooks/useTodayDate';\nimport { getDaysNames, getWeeks } from '../../lib/calendar';\nimport { isSameMonth } from '../../lib/date';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport {\n  CalendarDay,\n  type CalendarDayElementProps,\n  type CalendarDayProps,\n  type CalendarDayTestsProps,\n} from '../CalendarDay/CalendarDay';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Footnote } from '../Typography/Footnote/Footnote';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './CalendarDays.module.css';\n\nexport type CalendarDaysTestsProps = {\n  /**\n   * Передает атрибут `data-testid` для дня в календаре.\n   */\n  dayTestId?: CalendarDayTestsProps['testId'];\n};\n\nexport interface CalendarDaysProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'onChange'>,\n    Pick<CalendarDayProps, 'renderDayContent'>,\n    CalendarDaysTestsProps {\n  /**\n   * Выбранная дата или диапазон дат.\n   */\n  value?: Date | Array<Date | null> | null;\n  /**\n   * Дата, определяющая отображаемый месяц.\n   */\n  viewDate: Date;\n  /**\n   * День недели, с которого начинается неделя (0 - воскресенье, 6 - суббота).\n   */\n  weekStartsOn: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n  /**\n   * Показывать дни соседних месяцев.\n   */\n  showNeighboringMonth?: boolean;\n  /**\n   * Размер календаря.\n   */\n  size?: 's' | 'm';\n  /**\n   * Дополнительные свойства для элементов дней.\n   */\n  dayProps?: CalendarDayElementProps;\n  /**\n   * Следить за изменениями дней для обновления UI.\n   */\n  listenDayChangesForUpdate?: boolean;\n  /**\n   * Обработчик изменения выбранного дня.\n   */\n  onDayChange: (value: Date) => void;\n  /**\n   * Проверяет, заблокирован ли день для выбора.\n   */\n  isDayDisabled: (value: Date) => boolean;\n  /**\n   * Определяет, является ли день началом выделенного диапазона.\n   */\n  isDaySelectionStart: (value: Date, dayOfWeek: number) => boolean;\n  /**\n   * Определяет, является ли день концом выделенного диапазона.\n   */\n  isDaySelectionEnd: (value: Date, dayOfWeek: number) => boolean;\n  /**\n   * Определяет начало диапазона при наведении (подсветка).\n   */\n  isHintedDaySelectionStart?: (value: Date, dayOfWeek: number) => boolean;\n  /**\n   * Определяет конец диапазона при наведении (подсветка).\n   */\n  isHintedDaySelectionEnd?: (value: Date, dayOfWeek: number) => boolean;\n  /**\n   * Проверяет, является ли день активным (текущая дата).\n   */\n  isDayActive: (value: Date) => boolean;\n  /**\n   * Проверяет, подсвечен ли день (при наведении).\n   */\n  isDayHinted?: (value: Date) => boolean;\n  /**\n   * Проверяет, возможно ли сфокусироваться на дне с клавиатуры.\n   */\n  isDayFocusable?: (value: Date) => boolean;\n  /**\n   * Проверяет, выбран ли день.\n   */\n  isDaySelected?: (value: Date) => boolean;\n  /**\n   * Проверяет, находится ли день в фокусе.\n   */\n  isDayFocused: (value: Date) => boolean;\n  /**\n   * Обработчик события 'pointerenter' на элементе дня.\n   */\n  onDayEnter?: (value: Date) => void;\n  /**\n   * Обработчик события 'pointerleave' на элементе дня.\n   */\n  onDayLeave?: (value: Date) => void;\n  /**\n   * Обработчик события `focus` на элементе дня.\n   */\n  onDayFocus?: (value: Date) => void;\n}\n\nexport const CalendarDays = ({\n  viewDate,\n  value,\n  weekStartsOn,\n  onDayChange,\n  isDaySelected,\n  isDayActive,\n  isDaySelectionEnd,\n  isDaySelectionStart,\n  onDayEnter,\n  onDayLeave,\n  onDayFocus,\n  isDayHinted,\n  isHintedDaySelectionStart,\n  isHintedDaySelectionEnd,\n  isDayFocused,\n  isDayFocusable,\n  isDayDisabled,\n  size,\n  showNeighboringMonth = false,\n  dayProps,\n  listenDayChangesForUpdate = false,\n  getRootRef,\n  renderDayContent,\n  dayTestId,\n  ...props\n}: CalendarDaysProps): React.ReactNode => {\n  const { locale } = useConfigProvider();\n  const now = useTodayDate(listenDayChangesForUpdate);\n\n  const weeks = React.useMemo(() => getWeeks(viewDate, weekStartsOn), [weekStartsOn, viewDate]);\n\n  const daysNames = React.useMemo(\n    () => getDaysNames(now, weekStartsOn, locale),\n    [locale, now, weekStartsOn],\n  );\n\n  const handleDayChange = React.useCallback(\n    (date: Date) => {\n      onDayChange(date);\n    },\n    [onDayChange],\n  );\n\n  const viewDateLabelId = React.useId();\n  const currentMonthLabel = value\n    ? new Intl.DateTimeFormat(locale, {\n        year: 'numeric',\n        month: 'long',\n      }).format(viewDate)\n    : null;\n\n  return (\n    <React.Fragment>\n      {/*\n       * Нельзя помещать текст currentMonthLabel внутрь role=\"grid\" или с помощью aria-label,\n       * иначе пользователи NVDA не смогут ходить по таблице\n       * с помощью горячих клавиш <Ctrl+Alt+стрелочки>.\n       * Имеется ввиду связка (применение которой визуально не видно):\n       * - из заголовка календаря прыжок в таблицу с помощью клавиши <T>\n       * - переход по ячейкам с помощью <Ctrl+Alrt+стрелочки>\n       * NVDA будет говорить, что пользователь вне ячейки таблицы.\n       * Также важно оставить aria-live=\"polite\". Так NVDA зачитывает текущий\n       * месяц и год при переключении месяца и года в заголовке календаря.\n       */}\n      <VisuallyHidden aria-live=\"polite\" id={viewDateLabelId}>\n        {currentMonthLabel}\n      </VisuallyHidden>\n      <RootComponent\n        role=\"grid\"\n        {...props}\n        baseClassName={styles.host}\n        aria-labelledby={viewDateLabelId}\n      >\n        <div\n          role=\"row\"\n          aria-rowindex={1}\n          className={classNames(styles.row, size === 's' && styles.rowSizeS)}\n        >\n          {daysNames.map(({ short: shortDayName, long: longDayName }) => (\n            <Footnote\n              role=\"columnheader\"\n              aria-label={longDayName}\n              key={shortDayName}\n              className={styles.weekday}\n            >\n              {shortDayName}\n            </Footnote>\n          ))}\n        </div>\n\n        {weeks.map((week, i) => (\n          <div\n            role=\"row\"\n            aria-rowindex={i + 2}\n            className={classNames(styles.row, size === 's' && styles.rowSizeS)}\n            key={i}\n          >\n            {week.map((day, i) => {\n              const sameMonth = isSameMonth(day, viewDate);\n              const isHidden = !showNeighboringMonth && !sameMonth;\n              const isToday = isSameDate(day, now);\n              const isActive = isDayActive(day);\n              const isFocused = isDayFocused(day);\n              return (\n                <CalendarDay\n                  role=\"gridcell\"\n                  aria-current={isToday ? 'date' : undefined}\n                  aria-selected={isActive ? 'true' : 'false'}\n                  aria-colindex={i + 1}\n                  tabIndex={isDayFocusable?.(day) ? 0 : -1}\n                  key={day.toISOString()}\n                  day={day}\n                  today={isToday}\n                  active={isActive}\n                  onChange={handleDayChange}\n                  hidden={isHidden}\n                  disabled={isDayDisabled(day)}\n                  selectionStart={isDaySelectionStart(day, i)}\n                  selectionEnd={isDaySelectionEnd(day, i)}\n                  hintedSelectionStart={isHintedDaySelectionStart?.(day, i)}\n                  hintedSelectionEnd={isHintedDaySelectionEnd?.(day, i)}\n                  selected={isDaySelected?.(day)}\n                  focused={isFocused}\n                  onEnter={onDayEnter}\n                  onLeave={onDayLeave}\n                  onFocus={onDayFocus}\n                  hinted={isDayHinted?.(day)}\n                  sameMonth={sameMonth}\n                  size={size}\n                  renderDayContent={renderDayContent}\n                  testId={dayTestId}\n                  {...dayProps}\n                  className={classNames(dayProps?.className, styles.rowDay)}\n                />\n              );\n            })}\n          </div>\n        ))}\n      </RootComponent>\n    </React.Fragment>\n  );\n};\n", "import * as React from 'react';\nimport { isSameDate } from '@vkontakte/vkjs';\nimport { differenceInMilliseconds, startOfTomorrow } from 'date-fns';\nimport { useDOM } from '../lib/dom';\n\n/**\n * Опционально обновляемая дата сегодняшнего дня\n *\n * Дата - сегодня (в соответствии с системным временем)\n *\n * Часы, минуты, секунды, миллисекунды - произвольные\n *\n * @param listenDayChangesForUpdate - флаг по которому определяется, будет ли создаваться подписка на смену календарного дня\n */\nexport function useTodayDate(listenDayChangesForUpdate = false): Date {\n  const { document, window } = useDOM();\n  const [todayDate, setTodayDate] = React.useState(() => new Date());\n\n  React.useEffect(\n    function setupTodaysDateRecalculationListener() {\n      if (!listenDayChangesForUpdate || !document || !window) {\n        return;\n      }\n\n      let timeout: number | undefined = undefined;\n\n      const recalcTimeout = () => {\n        if (document.visibilityState === 'visible') {\n          const now = new Date();\n\n          const timeToDayChange = differenceInMilliseconds(startOfTomorrow(), now);\n\n          // Удаляем старый таймаут\n          window.clearTimeout(timeout);\n\n          // Создаем новый таймаут\n          timeout = window.setTimeout(() => {\n            setTodayDate(new Date());\n          }, timeToDayChange);\n\n          // Если todayDate не обновился в таймаут - обновить при заходе на вкладку\n          if (!isSameDate(todayDate, now)) {\n            setTodayDate(now);\n          }\n        }\n      };\n\n      recalcTimeout();\n\n      // Создаем слушатель visibilitychange, чтобы предотвратить пропуск обновления стейта после заморозки вкладки\n      // Если человек ее долго не трогал или закрывал крышку ноута и тп\n      // https://developer.chrome.com/blog/page-lifecycle-api/\n      document.addEventListener('visibilitychange', recalcTimeout);\n\n      return () => {\n        window.clearTimeout(timeout);\n        document.removeEventListener('visibilitychange', recalcTimeout);\n      };\n    },\n    [document, listenDayChangesForUpdate, todayDate, window],\n  );\n\n  return todayDate;\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useFocusVisible } from '../../hooks/useFocusVisible';\nimport { useFocusVisibleClassName } from '../../hooks/useFocusVisibleClassName';\nimport { mergeCalls } from '../../lib/mergeCalls';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { Tappable } from '../Tappable/Tappable';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './CalendarDay.module.css';\n\nexport type CalendarDayElementProps = Omit<\n  React.AllHTMLAttributes<HTMLElement>,\n  'onChange' | 'size' | 'disabled' | 'selected' | 'onFocus'\n>;\n\nexport type CalendarDayTestsProps = {\n  /**\n   * Передает атрибут `data-testid` для дня в календаре.\n   */\n  testId?: string | ((day: Date) => string);\n};\n\nexport interface CalendarDayProps extends CalendarDayElementProps, CalendarDayTestsProps {\n  /**\n   * Дата, которую представляет этот день.\n   */\n  day: Date;\n  /**\n   * Является ли день сегодняшним.\n   */\n  today?: boolean;\n  /**\n   * Выбран ли день (в режиме одиночного выбора или как часть диапазона).\n   */\n  selected?: boolean;\n  /**\n   * Является ли день началом выделенного диапазона.\n   */\n  selectionStart?: boolean;\n  /**\n   * Является ли день концом выделенного диапазона.\n   */\n  selectionEnd?: boolean;\n  /**\n   * Подсветить день как начало предполагаемого диапазона (при наведении).\n   */\n  hintedSelectionStart?: boolean;\n  /**\n   * Подсветить день как конец предполагаемого диапазона (при наведении).\n   */\n  hintedSelectionEnd?: boolean;\n  /**\n   * Активен ли день (текущая дата в календаре).\n   */\n  active?: boolean;\n  /**\n   * Скрыть день (например, дни соседних месяцев).\n   */\n  hidden?: boolean;\n  /**\n   * Блокировка взаимодействия с компонентом.\n   */\n  disabled?: boolean;\n  /**\n   * Находится ли день в фокусе (клавиатурная навигация).\n   */\n  focused?: boolean;\n  /**\n   * Подсвечен ли день (ховер).\n   */\n  hinted?: boolean;\n  /**\n   * Принадлежит ли день текущему отображаемому месяцу.\n   */\n  sameMonth?: boolean;\n  /**\n   * Размер компонента.\n   */\n  size?: 's' | 'm';\n  /**\n   * Обработчик выбора/изменения дня.\n   */\n  onChange: (value: Date) => void;\n  /**\n   * Обработчик наведения на день.\n   */\n  onEnter?: (value: Date) => void;\n  /**\n   * Обработчик снятия ховера с дня.\n   */\n  onLeave?: (value: Date) => void;\n  /**\n   * Обработчик фокуса на дне.\n   */\n  onFocus?: (value: Date) => void;\n  /**\n   * Кастомизация отображения содержимого дня.\n   */\n  renderDayContent?: (day: Date) => React.ReactNode;\n}\n\n// eslint-disable-next-line react/display-name -- используется defineComponentDisplayNames\nexport const CalendarDay = React.memo(\n  ({\n    day,\n    today,\n    selected,\n    onChange,\n    hidden,\n    disabled,\n    active,\n    selectionStart,\n    selectionEnd,\n    focused,\n    onEnter,\n    onLeave,\n    onFocus,\n    onBlur,\n    hinted,\n    hintedSelectionStart,\n    hintedSelectionEnd,\n    sameMonth,\n    size,\n    children,\n    renderDayContent,\n    testId,\n    role,\n    'aria-colindex': colIndex,\n    ...restProps\n  }: CalendarDayProps) => {\n    const { locale, direction } = useConfigProvider();\n    const ref = React.useRef<HTMLElement>(null);\n    const onClick = React.useCallback(() => onChange(day), [day, onChange]);\n    const handleEnter = React.useCallback(() => onEnter?.(day), [day, onEnter]);\n    const handleLeave = React.useCallback(() => onLeave?.(day), [day, onLeave]);\n    const handleFocus = React.useCallback(() => onFocus?.(day), [day, onFocus]);\n\n    const focusVisibleMode = active ? 'outside' : 'inside';\n    const { focusVisible, ...focusEvents } = useFocusVisible();\n    const focusVisibleClassNames = useFocusVisibleClassName({\n      focusVisible,\n      mode: focusVisibleMode,\n    });\n    const focusHandlers = mergeCalls(focusEvents, { onFocus: handleFocus, onBlur });\n\n    const label = new Intl.DateTimeFormat(locale, {\n      weekday: 'long',\n      month: 'long',\n      day: 'numeric',\n    }).format(day);\n\n    React.useEffect(() => {\n      if (focused && ref.current) {\n        ref.current.focus();\n      }\n    }, [focused]);\n\n    const content = React.useMemo(() => {\n      if (renderDayContent) {\n        return renderDayContent(day);\n      }\n      return (\n        <div className={styles.dayNumber}>\n          <VisuallyHidden>{children ?? label}</VisuallyHidden>\n          <span aria-hidden>{day.getDate()}</span>\n        </div>\n      );\n    }, [renderDayContent, day, children, label]);\n\n    if (hidden) {\n      return (\n        <div\n          role={role}\n          aria-colindex={colIndex}\n          className={classNames(styles.hidden, size === 's' && styles.sizeS)}\n        />\n      );\n    }\n\n    return (\n      <Tappable\n        baseClassName={classNames(\n          styles.host,\n          size === 's' && styles.sizeS,\n          direction === 'rtl' && styles.rtl,\n          focusVisibleClassNames,\n        )}\n        role={role}\n        aria-colindex={colIndex}\n        hoverMode={styles.hostHovered}\n        activeMode={styles.hostActivated}\n        hasActive={false}\n        onClick={onClick}\n        disabled={disabled}\n        getRootRef={ref}\n        onPointerEnter={handleEnter}\n        onPointerLeave={handleLeave}\n        data-testid={typeof testId === 'string' ? testId : testId?.(day)}\n        {...restProps}\n        {...focusHandlers}\n      >\n        <div\n          className={classNames(\n            styles.content,\n            size === 's' && styles.sizeS,\n            today && styles.today,\n            selected && !disabled && styles.selected,\n            selectionStart && styles.selectionStart,\n            selectionEnd && styles.selectionEnd,\n            disabled && styles.disabled,\n            !sameMonth && styles.notSameMonth,\n          )}\n        >\n          <div\n            className={classNames(\n              styles.hinted,\n              hinted && styles.hintedActive,\n              hintedSelectionStart && styles.hintedSelectionStart,\n              hintedSelectionEnd && styles.hintedSelectionEnd,\n            )}\n          >\n            <div className={classNames(styles.inner, active && !disabled && styles.innerActive)}>\n              {content}\n            </div>\n          </div>\n        </div>\n      </Tappable>\n    );\n  },\n);\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(CalendarDay, 'CalendarDay');\n}\n", "'use client';\n\nimport { type ChangeEvent } from 'react';\nimport * as React from 'react';\nimport {\n  Icon12Dropdown,\n  Icon20ChevronLeftOutline,\n  Icon20ChevronRightOutline,\n} from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { addMonths, setMonth, setYear, subMonths } from 'date-fns';\nimport { DEFAULT_MAX_YEAR, DEFAULT_MIN_YEAR, getMonths, getYears } from '../../lib/calendar';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { AdaptivityProvider } from '../AdaptivityProvider/AdaptivityProvider';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { CustomSelect, type SelectProps } from '../CustomSelect/CustomSelect';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Tappable } from '../Tappable/Tappable';\nimport { Paragraph } from '../Typography/Paragraph/Paragraph';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './CalendarHeader.module.css';\n\ntype ArrowMonthProps = Omit<React.AllHTMLAttributes<HTMLElement>, 'onClick' | 'aria-label'>;\n\nexport type CalendarHeaderTestsProps = {\n  /**\n   * Передает атрибут `data-testid` для дропдауна выбора месяца в заголовке календаря.\n   */\n  monthDropdownTestId?: string | ((monthIndex: number) => string);\n  /**\n   * Передает атрибут `data-testid` для дропдауна выбора года в заголовке календаря.\n   */\n  yearDropdownTestId?: string | ((year: number) => string);\n  /**\n   * Передает атрибут `data-testid` для кнопки перехода к следующему месяцу в заголовке календаря.\n   */\n  nextMonthButtonTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки перехода к предыдущему месяцу в заголовке календаря.\n   */\n  prevMonthButtonTestId?: string;\n};\n\nexport interface CalendarHeaderProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'onChange'>,\n    CalendarHeaderTestsProps {\n  /**\n   * Отображаемая дата.\n   */\n  viewDate: Date;\n  /**\n   * Скрывает иконку для переключения на предыдущий месяц.\n   */\n  prevMonthHidden?: boolean;\n  /**\n   * Скрывает иконку для переключения на следующий месяц.\n   */\n  nextMonthHidden?: boolean;\n  /**\n   * Отключает селекторы выбора месяца/года.\n   */\n  disablePickers?: boolean;\n  /**\n   * `aria-label` для кнопки предыдущего месяца.\n   */\n  prevMonthLabel?: string;\n  /**\n   * `aria-label` для кнопки следующего месяца.\n   */\n  nextMonthLabel?: string;\n  /**\n   * `aria-label` для селектора месяца.\n   */\n  changeMonthLabel?: string;\n  /**\n   * `aria-label` для селектора года.\n   */\n  changeYearLabel?: string;\n  /**\n   * Кастомная иконка для кнопки предыдущего месяца.\n   */\n  prevMonthIcon?: React.ReactNode;\n  /**\n   * Кастомная иконка для кнопки следующего месяца.\n   */\n  nextMonthIcon?: React.ReactNode;\n  /**\n   * Дополнительные свойства для кнопки предыдущего месяца.\n   */\n  prevMonthProps?: ArrowMonthProps;\n  /**\n   * Дополнительные свойства для кнопки следующего месяца.\n   */\n  nextMonthProps?: ArrowMonthProps;\n  /**\n   * Функция для проверки блокировки месяца.\n   */\n  isMonthDisabled?: (monthNumber: number, year?: number) => boolean;\n  /**\n   * Функция для проверки блокировки года.\n   */\n  isYearDisabled?: (yearNumber: number) => boolean;\n  /**\n   * Обработчик изменения отображаемой даты.\n   */\n  onChange: (viewDate: Date) => void;\n  /**\n   * Нажатие на кнопку переключения на следующий месяц.\n   */\n  onNextMonth?: () => void;\n  /**\n   * Нажатие на кнопку переключения на предыдущий месяц.\n   */\n  onPrevMonth?: () => void;\n}\n\nexport const CalendarHeader = ({\n  viewDate,\n  onChange,\n  prevMonthHidden: prevMonthHiddenProp = false,\n  nextMonthHidden: nextMonthHiddenProp = false,\n  disablePickers = false,\n  onNextMonth,\n  onPrevMonth,\n  prevMonthProps = {},\n  nextMonthProps = {},\n  prevMonthLabel = 'Предыдущий месяц',\n  nextMonthLabel = 'Следующий месяц',\n  changeMonthLabel = 'Изменить месяц',\n  changeYearLabel = 'Изменить год',\n  prevMonthIcon = (\n    <Icon20ChevronLeftOutline className={styles.navIconAccent} width={30} height={30} />\n  ),\n  nextMonthIcon = (\n    <Icon20ChevronRightOutline className={styles.navIconAccent} width={30} height={30} />\n  ),\n  isMonthDisabled,\n  isYearDisabled,\n  monthDropdownTestId,\n  yearDropdownTestId,\n  prevMonthButtonTestId,\n  nextMonthButtonTestId,\n  ...restProps\n}: CalendarHeaderProps): React.ReactNode => {\n  const { locale, direction } = useConfigProvider();\n\n  const onMonthsChange = React.useCallback(\n    (_: ChangeEvent<HTMLSelectElement>, newValue: SelectProps['value']) =>\n      onChange(setMonth(viewDate, Number(newValue))),\n    [onChange, viewDate],\n  );\n  const onYearChange = React.useCallback(\n    (_: ChangeEvent<HTMLSelectElement>, newValue: SelectProps['value']) =>\n      onChange(setYear(viewDate, Number(newValue))),\n    [onChange, viewDate],\n  );\n\n  const currentYear = viewDate.getFullYear();\n  const currentMonth = viewDate.getMonth();\n\n  const months = React.useMemo(\n    () =>\n      getMonths(locale).map(({ value, label }) => ({\n        value,\n        label: <span className={styles.month}>{label}</span>,\n        disabled: isMonthDisabled && isMonthDisabled(value),\n      })),\n    [locale, isMonthDisabled],\n  );\n\n  const years = React.useMemo(\n    () =>\n      getYears(currentYear, 100).map((year) => ({\n        ...year,\n        disabled: isYearDisabled && isYearDisabled(year.value),\n      })),\n    [currentYear, isYearDisabled],\n  );\n\n  const formatter = new Intl.DateTimeFormat(locale, {\n    year: 'numeric',\n    month: 'long',\n  });\n\n  const { className: prevMonthClassName, ...restPrevMonthProps } = prevMonthProps;\n  const { className: nextMonthClassName, ...restNextMonthProps } = nextMonthProps;\n\n  let nextMonthHidden =\n    nextMonthHiddenProp || (currentMonth === 11 && currentYear === DEFAULT_MAX_YEAR);\n  if (isMonthDisabled && !nextMonthHidden) {\n    nextMonthHidden = isMonthDisabled(\n      currentMonth === 11 ? 0 : currentMonth + 1,\n      currentMonth === 11 ? Math.min(currentYear + 1, DEFAULT_MAX_YEAR) : currentYear,\n    );\n  }\n\n  let prevMonthHidden =\n    prevMonthHiddenProp || (currentMonth === 0 && currentYear === DEFAULT_MIN_YEAR);\n  if (isMonthDisabled && !prevMonthHidden) {\n    prevMonthHidden = isMonthDisabled(\n      currentMonth === 0 ? 11 : currentMonth - 1,\n      currentMonth === 0 ? Math.max(currentYear - 1, DEFAULT_MIN_YEAR) : currentYear,\n    );\n  }\n\n  const stopPropogationOfEscapeKeyboardEventWhenSelectIsOpen = React.useCallback(\n    (event: React.KeyboardEvent, isOpen: boolean) => {\n      if (isOpen && event.key === 'Escape') {\n        event.stopPropagation();\n      }\n    },\n    [],\n  );\n\n  return (\n    <RootComponent baseClassName={styles.host} {...restProps}>\n      {!prevMonthHidden && (\n        <AdaptivityProvider sizeX=\"regular\">\n          <Tappable\n            baseClassName={classNames(styles.navIcon, styles.navIconPrev, prevMonthClassName)}\n            onClick={onPrevMonth}\n            data-testid={prevMonthButtonTestId}\n            {...restPrevMonthProps}\n          >\n            <VisuallyHidden>\n              {prevMonthLabel}, {formatter.format(subMonths(viewDate, 1))}\n            </VisuallyHidden>\n            {direction === 'ltr' ? prevMonthIcon : nextMonthIcon}\n          </Tappable>\n        </AdaptivityProvider>\n      )}\n      {disablePickers ? (\n        <Paragraph\n          className={classNames(styles.pickers, 'vkuiInternalCalendarHeader__pickers')}\n          weight=\"2\"\n        >\n          <span className={styles.month}>\n            {new Intl.DateTimeFormat(locale, {\n              month: 'long',\n            }).format(viewDate)}\n          </span>\n          &nbsp;\n          {new Intl.DateTimeFormat(locale, {\n            year: 'numeric',\n          }).format(viewDate)}\n        </Paragraph>\n      ) : (\n        <AdaptivityProvider sizeY=\"compact\">\n          <div className={classNames(styles.pickers, 'vkuiInternalCalendarHeader__pickers')}>\n            <CustomSelect\n              className={classNames(styles.picker, 'vkuiInternalCalendarHeader__picker')}\n              value={currentMonth}\n              options={months}\n              dropdownOffsetDistance={4}\n              dropdownAutoWidth\n              icon={<Icon12Dropdown />}\n              onChange={onMonthsChange}\n              forceDropdownPortal={false}\n              selectType=\"accent\"\n              aria-label={changeMonthLabel}\n              data-testid={\n                typeof monthDropdownTestId === 'string'\n                  ? monthDropdownTestId\n                  : monthDropdownTestId?.(currentMonth)\n              }\n              onInputKeyDown={stopPropogationOfEscapeKeyboardEventWhenSelectIsOpen}\n            />\n            <CustomSelect\n              className={classNames(styles.picker, 'vkuiInternalCalendarHeader__picker')}\n              value={currentYear}\n              options={years}\n              dropdownOffsetDistance={4}\n              dropdownAutoWidth\n              icon={<Icon12Dropdown />}\n              onChange={onYearChange}\n              forceDropdownPortal={false}\n              selectType=\"accent\"\n              aria-label={changeYearLabel}\n              data-testid={yearDropdownTestId}\n              onInputKeyDown={stopPropogationOfEscapeKeyboardEventWhenSelectIsOpen}\n            />\n          </div>\n        </AdaptivityProvider>\n      )}\n      {!nextMonthHidden && (\n        <AdaptivityProvider sizeX=\"regular\">\n          <Tappable\n            baseClassName={classNames(styles.navIcon, styles.navIconNext, nextMonthClassName)}\n            onClick={onNextMonth}\n            data-testid={nextMonthButtonTestId}\n            {...restNextMonthProps}\n          >\n            <VisuallyHidden>\n              {nextMonthLabel}, {formatter.format(addMonths(viewDate, 1))}\n            </VisuallyHidden>\n            {direction === 'ltr' ? nextMonthIcon : prevMonthIcon}\n          </Tappable>\n        </AdaptivityProvider>\n      )}\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { getSizeX, isCompactByViewHeight, isCompactByViewWidth } from '../../lib/adaptivity';\nimport type { HasChildren } from '../../types';\nimport { AdaptivityContext, type AdaptivityProps } from './AdaptivityContext';\n\nexport interface AdaptivityProviderProps extends AdaptivityProps, HasChildren {}\n\n/**\n * @see https://vkui.io/components/adaptivity-provider\n */\nexport const AdaptivityProvider = ({\n  viewWidth,\n  viewHeight,\n  sizeX: sizeXProp,\n  sizeY: sizeYProp,\n  hasPointer,\n  hasHover,\n  children,\n}: AdaptivityProviderProps): React.ReactNode => {\n  const adaptivity = React.useMemo(() => {\n    const nextProps: AdaptivityProps = {\n      viewWidth,\n      viewHeight,\n      sizeX: sizeXProp,\n      sizeY: sizeYProp,\n      hasPointer,\n      hasHover,\n    };\n    if (sizeXProp === undefined && viewWidth !== undefined) {\n      nextProps.sizeX = getSizeX(viewWidth);\n    }\n\n    if (sizeYProp === undefined) {\n      if (isCompactByViewWidth(viewWidth, hasPointer) || isCompactByViewHeight(viewHeight)) {\n        nextProps.sizeY = 'compact';\n      } else if (viewWidth !== undefined || viewHeight !== undefined) {\n        nextProps.sizeY = 'regular';\n      }\n    }\n\n    return nextProps;\n  }, [viewWidth, viewHeight, sizeXProp, sizeYProp, hasPointer, hasHover]);\n\n  return <AdaptivityContext.Provider value={adaptivity}>{children}</AdaptivityContext.Provider>;\n};\n", "'use client';\n\nimport { type ChangeEvent, useRef } from 'react';\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { setHours, setMinutes } from 'date-fns';\nimport { Keys, pressedKey } from '../../lib/accessibility';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { AdaptivityProvider } from '../AdaptivityProvider/AdaptivityProvider';\nimport { Button, type ButtonProps } from '../Button/Button';\nimport { CustomSelect, type SelectProps } from '../CustomSelect/CustomSelect';\nimport styles from './CalendarTime.module.css';\n\nconst selectFilterFn = () => true;\n\nexport type CalendarTimeTestsProps = {\n  /**\n   * Передает атрибут `data-testid` для дропдауна выбора часа в календаре.\n   */\n  hoursTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для дропдауна выбора минут в календаре.\n   */\n  minutesTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки \"Готово\" в календаре.\n   */\n  doneButtonTestId?: string;\n};\n\nexport type CalendarDoneButtonProps = {\n  /**\n   * Кастомное отображение кнопки `\"Done\"`.\n   */\n  DoneButton?: React.ComponentType<ButtonProps>;\n  /**\n   * Текст отображаемый в кнопке `\"Done\"`.\n   */\n  doneButtonText?: string;\n  /**\n   * Управление отображением кнопки `\"Done\"`.\n   */\n  doneButtonShow?: boolean;\n  /**\n   * Блокировка взаимодействия с кнопкой \"Done\".\n   */\n  doneButtonDisabled?: boolean;\n  /**\n   * Обработки нажатия на кнопку `\"Done\"`.\n   */\n  onDoneButtonClick?: () => void;\n};\n\nexport interface CalendarTimeProps extends CalendarTimeTestsProps, CalendarDoneButtonProps {\n  /**\n   * Отображаемая дата.\n   */\n  value: Date;\n  /**\n   * Текст выпадающего списка с выбором часов. Делает его доступным для ассистивных технологий.\n   */\n  changeHoursLabel?: string;\n  /**\n   * Текст выпадающего списка с выбором минут. Делает его доступным для ассистивных технологий.\n   */\n  changeMinutesLabel?: string;\n  /**\n   * Обработчик изменения времени.\n   */\n  onChange?: (value: Date) => void;\n  /**\n   * Функция для проверки блокировки выбора даты и времени.\n   */\n  isDayDisabled?: (day: Date, withTime?: boolean) => boolean;\n}\n\nconst hours: Array<{\n  value: number;\n  label: string;\n}> = [];\nfor (let i = 0; i < 24; i += 1) {\n  hours.push({ value: i, label: String(i).padStart(2, '0') });\n}\n\nconst minutes: Array<{\n  value: number;\n  label: string;\n}> = [];\nfor (let i = 0; i < 60; i += 1) {\n  minutes.push({ value: i, label: String(i).padStart(2, '0') });\n}\n\nconst validateValue = (\n  value: string,\n  validValues: Array<{\n    value: number;\n    label: string;\n  }>,\n): boolean => {\n  const numValue = Number(value);\n  return !isNaN(numValue) && validValues.some((v) => v.value === numValue);\n};\n\nexport const CalendarTime = ({\n  value,\n  onChange,\n  onDoneButtonClick,\n  changeHoursLabel,\n  changeMinutesLabel,\n  isDayDisabled,\n  doneButtonText = 'Готово',\n  doneButtonDisabled = false,\n  doneButtonShow = true,\n  minutesTestId,\n  hoursTestId,\n  doneButtonTestId,\n  DoneButton,\n}: CalendarTimeProps): React.ReactNode => {\n  const hoursInputRef = useRef<HTMLInputElement | null>(null);\n  const minutesInputRef = useRef<HTMLInputElement | null>(null);\n  const doneButtonRef = useRef<HTMLButtonElement | null>(null);\n\n  const localHours = isDayDisabled\n    ? hours.map((hour) => {\n        return { ...hour, disabled: isDayDisabled(setHours(value, hour.value), true) };\n      })\n    : hours;\n\n  const localMinutes = isDayDisabled\n    ? minutes.map((minute) => {\n        return { ...minute, disabled: isDayDisabled(setMinutes(value, minute.value), true) };\n      })\n    : minutes;\n\n  const onPickerValueChange = (\n    e: ChangeEvent<HTMLInputElement>,\n    validate: (numericValue: string) => boolean,\n    setter: (value: Date, numericValue: number) => Date,\n  ) => {\n    const numericValue = e.target.value.replace(/\\D/g, '');\n    e.target.value = numericValue;\n    if (validate(numericValue)) {\n      onChange?.(setter(value, Number(numericValue)));\n    }\n  };\n\n  const onHoursInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    onPickerValueChange(e, (numValue) => validateValue(numValue, localHours), setHours);\n  };\n\n  const onMinutesInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n    onPickerValueChange(e, (numValue) => validateValue(numValue, localMinutes), setMinutes);\n  };\n\n  const onHoursChange = React.useCallback(\n    (_: ChangeEvent<HTMLSelectElement>, newValue: SelectProps['value']) =>\n      onChange?.(setHours(value, Number(newValue))),\n    [onChange, value],\n  );\n  const onMinutesChange = React.useCallback(\n    (_: ChangeEvent<HTMLSelectElement>, newValue: SelectProps['value']) =>\n      onChange?.(setMinutes(value, Number(newValue))),\n    [onChange, value],\n  );\n\n  const onPickerKeyDown = (e: React.KeyboardEvent) => {\n    const key = pressedKey(e);\n    /* Мы хотим иметь возможность быстро, по Enter перемещаться между\n     * селектами с часами и минутами, также как мы это делаем по нажатию на Tab */\n    if (key !== Keys.ENTER) {\n      return;\n    }\n\n    const steps = [hoursInputRef, minutesInputRef, doneButtonRef].filter((ref) =>\n      Boolean(ref.current),\n    );\n    const currentStepIndex = steps.findIndex((step) => step.current === e.target);\n    const nextStepIndex = currentStepIndex + 1;\n    if (nextStepIndex >= steps.length) {\n      return;\n    }\n    const nextStep = steps[nextStepIndex];\n\n    if (nextStep.current) {\n      e.preventDefault();\n      nextStep.current?.focus();\n    }\n  };\n\n  const stopPropogationOfEscapeKeyboardEventWhenSelectIsOpen = React.useCallback(\n    (event: React.KeyboardEvent, isOpen: boolean) => {\n      if (isOpen && event.key === 'Escape') {\n        event.stopPropagation();\n      }\n    },\n    [],\n  );\n\n  const onSelectInputKeyDown = callMultiple(\n    onPickerKeyDown,\n    stopPropogationOfEscapeKeyboardEventWhenSelectIsOpen,\n  );\n\n  const renderDoneButton = () => {\n    const ButtonComponent = DoneButton ?? Button;\n    return (\n      <ButtonComponent\n        mode=\"secondary\"\n        onClick={onDoneButtonClick}\n        size=\"l\"\n        getRootRef={doneButtonRef}\n        onKeyDown={onPickerKeyDown}\n        disabled={doneButtonDisabled}\n        data-testid={doneButtonTestId}\n      >\n        {doneButtonText}\n      </ButtonComponent>\n    );\n  };\n\n  return (\n    <div className={classNames(styles.host, !doneButtonShow && styles.host__withoutDone)}>\n      <div className={styles.picker}>\n        <AdaptivityProvider sizeY=\"compact\">\n          <CustomSelect\n            value={value.getHours()}\n            options={localHours}\n            onChange={onHoursChange}\n            forceDropdownPortal={false}\n            searchable\n            filterFn={selectFilterFn}\n            onInputChange={onHoursInputChange}\n            onInputKeyDown={onSelectInputKeyDown}\n            getSelectInputRef={hoursInputRef}\n            aria-label={changeHoursLabel}\n            data-testid={hoursTestId}\n          />\n        </AdaptivityProvider>\n      </div>\n      <div className={styles.divider}>:</div>\n      <div className={styles.picker}>\n        <AdaptivityProvider sizeY=\"compact\">\n          <CustomSelect\n            value={value.getMinutes()}\n            options={localMinutes}\n            onChange={onMinutesChange}\n            forceDropdownPortal={false}\n            searchable\n            filterFn={selectFilterFn}\n            onInputChange={onMinutesInputChange}\n            getSelectInputRef={minutesInputRef}\n            onInputKeyDown={onSelectInputKeyDown}\n            aria-label={changeMinutesLabel}\n            data-testid={minutesTestId}\n          />\n        </AdaptivityProvider>\n      </div>\n      {doneButtonShow && (\n        <div className={styles.button}>\n          <AdaptivityProvider sizeY=\"compact\">{renderDoneButton()}</AdaptivityProvider>\n        </div>\n      )}\n    </div>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { isSameDate } from '@vkontakte/vkjs';\nimport { addMonths, startOfDay, subMonths } from 'date-fns';\nimport { useCalendar } from '../../hooks/useCalendar';\nimport { useCustomEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { isFirstDay, isLastDay } from '../../lib/calendar';\nimport { endOfDay, isWithinInterval } from '../../lib/date';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport {\n  CalendarDays,\n  type CalendarDaysProps,\n  type CalendarDaysTestsProps,\n} from '../CalendarDays/CalendarDays';\nimport {\n  CalendarHeader,\n  type CalendarHeaderProps,\n  type CalendarHeaderTestsProps,\n} from '../CalendarHeader/CalendarHeader';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport type { DateRangeType } from './types';\nimport { useCalendarKeyboardNavigation, useIsDayFocusable } from './utils';\nimport styles from './CalendarRange.module.css';\n\nexport type { DateRangeType };\n\nexport type CalendarRangeTestsProps = CalendarDaysTestsProps & {\n  /**\n   * Передает атрибуты `data-testid` для интерактивных элементов в заголовке календаря в левой части.\n   */\n  leftPartHeaderTestsData?: CalendarHeaderTestsProps;\n  /**\n   * Передает атрибуты `data-testid` для интерактивных элементов в заголовке календаря в правой части.\n   */\n  rightPartHeaderTestsData?: CalendarHeaderTestsProps;\n};\n\nexport interface CalendarRangeProps\n  extends Omit<HTMLAttributesWithRootRef<HTMLDivElement>, 'onChange' | 'defaultValue'>,\n    Pick<\n      CalendarHeaderProps,\n      | 'prevMonthLabel'\n      | 'nextMonthLabel'\n      | 'changeMonthLabel'\n      | 'changeYearLabel'\n      | 'prevMonthIcon'\n      | 'nextMonthIcon'\n    >,\n    Pick<CalendarDaysProps, 'listenDayChangesForUpdate' | 'renderDayContent'>,\n    CalendarRangeTestsProps {\n  /**\n   * Текущий выбранный промежуток.\n   */\n  value?: DateRangeType | null;\n  /**\n   * Начальный промежуток при монтировании.\n   */\n  defaultValue?: DateRangeType | null;\n  /**\n   * Запрещает выбор даты в прошлом.\n   * Применяется, если не заданы `shouldDisableDate` и `disableFuture`.\n   */\n  disablePast?: boolean;\n  /**\n   * Запрещает выбор даты в будущем.\n   * Применяется, если не задано `shouldDisableDate`.\n   */\n  disableFuture?: boolean;\n  /**\n   * Отключает селекторы выбора месяца/года.\n   */\n  disablePickers?: boolean;\n  /**\n   * `aria-label` для изменения дня.\n   *\n   * @deprecated Since 7.4.0.\n   *\n   * Будет удалeно в **VKUI v8**. Использовалось для задания aria-label для контейнера дней в календаре.\n   * Теперь этот контейнер является таблицей (с помощью role=\"grid\") и\n   * в aria-label рендерится текущий открытый в календаре месяц и год.\n   */\n  changeDayLabel?: string;\n  /**\n   * День недели, с которого начинается неделя.\n   */\n  weekStartsOn?: 0 | 1 | 2 | 3 | 4 | 5 | 6;\n  /**\n   * Обработчик изменения выбранного промежутка.\n   */\n  onChange?: (value: DateRangeType | undefined) => void; // TODO [>=8]: поменять тип на `(value?: DateRangeType | null) => void`\n  /**\n   * Функция для проверки запрета выбора даты.\n   */\n  shouldDisableDate?: (value: Date) => boolean;\n  /**\n   * @deprecated Свойство не используется.\n   */\n  onClose?: () => void;\n}\n\nconst getIsDaySelected = (day: Date, value?: DateRangeType | null) => {\n  if (!value?.[0] || !value[1]) {\n    return false;\n  }\n\n  return isWithinInterval(day, [startOfDay(value[0]), endOfDay(value[1])]);\n};\n\n/**\n * @see https://vkui.io/components/calendar-range\n */\nexport const CalendarRange = ({\n  'value': valueProp,\n  defaultValue,\n  onChange,\n  disablePast,\n  disableFuture,\n  shouldDisableDate,\n  weekStartsOn = 1,\n  disablePickers,\n  prevMonthLabel = 'Предыдущий месяц',\n  nextMonthLabel = 'Следующий месяц',\n  changeMonthLabel = 'Изменить месяц',\n  changeYearLabel = 'Изменить год',\n  'aria-label': ariaLabel = 'Календарь',\n  prevMonthIcon,\n  nextMonthIcon,\n  listenDayChangesForUpdate,\n  renderDayContent,\n  dayTestId,\n  leftPartHeaderTestsData,\n  rightPartHeaderTestsData,\n  getRootRef,\n  ...props\n}: CalendarRangeProps): React.ReactNode => {\n  const _onChange = React.useCallback(\n    (newValue: DateRangeType | null | undefined) => onChange?.(newValue || undefined),\n    [onChange],\n  );\n\n  const [value, updateValue] = useCustomEnsuredControl<DateRangeType | null | undefined>({\n    value: valueProp,\n    defaultValue,\n    onChange: _onChange,\n  });\n\n  const {\n    viewDate,\n    setViewDate,\n    setPrevMonth,\n    setNextMonth,\n    focusedDay,\n    setFocusedDay,\n    isDayFocused,\n    isDayDisabled,\n    isMonthDisabled,\n    isYearDisabled,\n  } = useCalendar({ value, disableFuture, disablePast, shouldDisableDate });\n\n  const [hintedDate, setHintedDate] = React.useState<DateRangeType>();\n  const secondViewDate = addMonths(viewDate, 1);\n\n  const {\n    focusableDayOnFirstCalendar,\n    focusableDayOnSecondCalendar,\n    handleFirstCalendarKeyDown,\n    handleSecondCalendarKeyDown,\n    handleDayFocus,\n  } = useCalendarKeyboardNavigation({\n    focusedDay,\n    setFocusedDay,\n    value,\n    viewDates: [viewDate, secondViewDate],\n    setViewDate,\n  });\n\n  const getNewValue = React.useCallback(\n    (date: Date): DateRangeType => {\n      const isValueEmpty = !value || (value[0] === null && value[1] === null);\n      const isRangeSelected = value && !!value[0] && !!value[1];\n      if (isValueEmpty || isRangeSelected) {\n        return [date, null];\n      }\n\n      const [start] = value;\n      if (start && isSameDate(date, start)) {\n        return [startOfDay(start), endOfDay(start)];\n      } else if (start && date < start) {\n        return [startOfDay(date), endOfDay(start)];\n      } else if (start && date > start) {\n        return [start, endOfDay(date)];\n      }\n      return value;\n    },\n    [value],\n  );\n\n  const onDayChange = React.useCallback(\n    (date: Date) => {\n      updateValue(getNewValue(date));\n      setHintedDate(undefined);\n    },\n    [updateValue, getNewValue],\n  );\n\n  const isDaySelected = React.useCallback((day: Date) => getIsDaySelected(day, value), [value]);\n\n  const isDayActive = React.useCallback(\n    (day: Date) =>\n      Boolean(\n        (value?.[0] && isSameDate(day, value[0])) || (value?.[1] && isSameDate(day, value[1])),\n      ),\n    [value],\n  );\n\n  const isDaySelectionEnd = React.useCallback(\n    (day: Date, dayOfWeek: number) =>\n      Boolean(isLastDay(day, dayOfWeek) || (value?.[1] && isSameDate(day, value[1]))),\n    [value],\n  );\n\n  const isHintedDaySelectionEnd = React.useCallback(\n    (day: Date, dayOfWeek: number) =>\n      Boolean(isLastDay(day, dayOfWeek) || (hintedDate?.[1] && isSameDate(day, hintedDate[1]))),\n    [hintedDate],\n  );\n\n  const isDaySelectionStart = React.useCallback(\n    (day: Date, dayOfWeek: number) =>\n      Boolean(isFirstDay(day, dayOfWeek) || (value?.[0] && isSameDate(day, value[0]))),\n    [value],\n  );\n\n  const isHintedDaySelectionStart = React.useCallback(\n    (day: Date, dayOfWeek: number) =>\n      Boolean(isFirstDay(day, dayOfWeek) || (hintedDate?.[0] && isSameDate(day, hintedDate[0]))),\n    [hintedDate],\n  );\n\n  const onDayEnter = React.useCallback(\n    (date: Date) => setHintedDate(getNewValue(date)),\n    [setHintedDate, getNewValue],\n  );\n\n  const onDayLeave = React.useCallback(() => setHintedDate(undefined), [setHintedDate]);\n\n  const isDayHinted = React.useCallback(\n    (day: Date) => getIsDaySelected(day, hintedDate),\n    [hintedDate],\n  );\n\n  const onRightPartViewDateChange = React.useCallback(\n    (newDate: Date) => setViewDate(subMonths(newDate, 1)),\n    [setViewDate],\n  );\n\n  const isDayFocusableInFirstCalendar = useIsDayFocusable({\n    value,\n    focusableDayOnFirstCalendar,\n    focusableDayOnSecondCalendar,\n    viewDate,\n    isDayActive,\n  });\n\n  const isDayFocusableInSecondCalendar = useIsDayFocusable({\n    value,\n    focusableDayOnFirstCalendar,\n    focusableDayOnSecondCalendar,\n    viewDate: secondViewDate,\n    isDayActive,\n  });\n\n  const onDayFocus = React.useCallback(\n    (date: Date) => {\n      if (focusedDay && isSameDate(focusedDay, date)) {\n        return;\n      }\n\n      setFocusedDay(date);\n      handleDayFocus(date);\n    },\n    [focusedDay, handleDayFocus, setFocusedDay],\n  );\n\n  return (\n    <RootComponent\n      aria-label={ariaLabel}\n      {...props}\n      baseClassName={styles.host}\n      getRootRef={getRootRef}\n    >\n      <div className={styles.inner}>\n        <CalendarHeader\n          viewDate={viewDate}\n          onChange={setViewDate}\n          nextMonthHidden\n          onPrevMonth={setPrevMonth}\n          disablePickers={disablePickers}\n          className={styles.header}\n          prevMonthLabel={prevMonthLabel}\n          nextMonthLabel={nextMonthLabel}\n          changeMonthLabel={changeMonthLabel}\n          changeYearLabel={changeYearLabel}\n          prevMonthIcon={prevMonthIcon}\n          isMonthDisabled={isMonthDisabled}\n          isYearDisabled={isYearDisabled}\n          {...leftPartHeaderTestsData}\n        />\n        <CalendarDays\n          viewDate={viewDate}\n          value={value}\n          weekStartsOn={weekStartsOn}\n          onKeyDown={handleFirstCalendarKeyDown}\n          onDayFocus={onDayFocus}\n          isDayFocused={isDayFocused}\n          isDayFocusable={isDayFocusableInFirstCalendar}\n          onDayChange={onDayChange}\n          isDaySelected={isDaySelected}\n          isDayActive={isDayActive}\n          isDaySelectionEnd={isDaySelectionEnd}\n          isDaySelectionStart={isDaySelectionStart}\n          isDayHinted={isDayHinted}\n          onDayEnter={onDayEnter}\n          onDayLeave={onDayLeave}\n          isHintedDaySelectionEnd={isHintedDaySelectionEnd}\n          isHintedDaySelectionStart={isHintedDaySelectionStart}\n          isDayDisabled={isDayDisabled}\n          listenDayChangesForUpdate={listenDayChangesForUpdate}\n          renderDayContent={renderDayContent}\n          dayTestId={dayTestId}\n        />\n      </div>\n      <div className={styles.inner}>\n        <CalendarHeader\n          viewDate={secondViewDate}\n          onChange={onRightPartViewDateChange}\n          prevMonthHidden\n          onNextMonth={setNextMonth}\n          disablePickers={disablePickers}\n          className={styles.header}\n          prevMonthLabel={prevMonthLabel}\n          nextMonthLabel={nextMonthLabel}\n          changeMonthLabel={changeMonthLabel}\n          changeYearLabel={changeYearLabel}\n          nextMonthIcon={nextMonthIcon}\n          isMonthDisabled={isMonthDisabled}\n          isYearDisabled={isYearDisabled}\n          {...rightPartHeaderTestsData}\n        />\n        <CalendarDays\n          viewDate={secondViewDate}\n          value={value}\n          weekStartsOn={weekStartsOn}\n          onKeyDown={handleSecondCalendarKeyDown}\n          onDayFocus={onDayFocus}\n          isDayFocused={isDayFocused}\n          isDayFocusable={isDayFocusableInSecondCalendar}\n          onDayChange={onDayChange}\n          isDaySelected={isDaySelected}\n          isDayActive={isDayActive}\n          isDaySelectionEnd={isDaySelectionEnd}\n          isDaySelectionStart={isDaySelectionStart}\n          isDayHinted={isDayHinted}\n          onDayEnter={onDayEnter}\n          onDayLeave={onDayLeave}\n          isHintedDaySelectionEnd={isHintedDaySelectionEnd}\n          isHintedDaySelectionStart={isHintedDaySelectionStart}\n          isDayDisabled={isDayDisabled}\n          listenDayChangesForUpdate={listenDayChangesForUpdate}\n          renderDayContent={renderDayContent}\n          dayTestId={dayTestId}\n        />\n      </div>\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport { isSameDate } from '@vkontakte/vkjs';\nimport { startOfMonth } from 'date-fns';\nimport { Keys, pressedKey } from '../../lib/accessibility';\nimport { navigateDate, NAVIGATION_KEYS } from '../../lib/calendar';\nimport { isSameMonth } from '../../lib/date';\nimport { isHTMLElement } from '../../lib/dom';\nimport type { DateRangeType } from './types';\n\nexport function useCalendarKeyboardNavigation({\n  focusedDay,\n  value,\n  setFocusedDay,\n  viewDates: [firstCalendarViewDate, secondCalendarViewDate],\n  setViewDate,\n}: {\n  focusedDay: Date | undefined;\n  setViewDate: (date: Date) => void;\n  setFocusedDay: React.Dispatch<React.SetStateAction<Date | undefined>>;\n  viewDates: [Date, Date];\n  value: DateRangeType | null | undefined;\n}) {\n  // соотвествует дню, на котором можно сфокусироваться с помощью Tab\n  const [focusableDayOnFirstCalendar, setFocusableDayOnFirstCalendar] = React.useState<Date>();\n  const [focusableDayOnSecondCalendar, setFocusableDayOnSecondCalendar] = React.useState<Date>();\n\n  const handleCalendarKeyDown = React.useCallback(\n    (event: React.KeyboardEvent, isFirst: boolean) => {\n      const key = pressedKey(event);\n      if (!key) {\n        return;\n      }\n\n      if (NAVIGATION_KEYS.includes(key)) {\n        event.preventDefault();\n\n        const newFocusedDay = navigateDate(focusedDay ?? value?.[0], key);\n\n        if (\n          newFocusedDay &&\n          !isSameMonth(newFocusedDay, firstCalendarViewDate) &&\n          !isSameMonth(newFocusedDay, secondCalendarViewDate)\n        ) {\n          setViewDate(newFocusedDay);\n        }\n\n        if (isFirst) {\n          if (isSameMonth(newFocusedDay, firstCalendarViewDate)) {\n            setFocusableDayOnFirstCalendar(newFocusedDay);\n          } else if (newFocusedDay > firstCalendarViewDate) {\n            setFocusableDayOnSecondCalendar(newFocusedDay);\n          }\n        } else {\n          if (isSameMonth(newFocusedDay, secondCalendarViewDate)) {\n            setFocusableDayOnSecondCalendar(newFocusedDay);\n          } else if (newFocusedDay < secondCalendarViewDate) {\n            setFocusableDayOnFirstCalendar(newFocusedDay);\n          }\n        }\n\n        setFocusedDay(newFocusedDay);\n\n        return;\n      }\n\n      if (key === Keys.TAB) {\n        setFocusedDay(undefined);\n        if (isFirst) {\n          setFocusableDayOnFirstCalendar(focusedDay);\n        } else {\n          setFocusableDayOnSecondCalendar(focusedDay);\n        }\n\n        return;\n      }\n\n      if ((key === Keys.ENTER || key === Keys.SPACE) && isHTMLElement(event.target)) {\n        event.preventDefault();\n        event.target.click?.();\n      }\n    },\n    [focusedDay, value, firstCalendarViewDate, secondCalendarViewDate, setFocusedDay, setViewDate],\n  );\n\n  const handleFirstCalendarKeyDown = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      handleCalendarKeyDown(event, true);\n    },\n    [handleCalendarKeyDown],\n  );\n\n  const handleSecondCalendarKeyDown = React.useCallback(\n    (event: React.KeyboardEvent) => {\n      handleCalendarKeyDown(event, false);\n    },\n    [handleCalendarKeyDown],\n  );\n\n  const handleDayFocus = React.useCallback(\n    (value: Date) => {\n      if (\n        isSameMonth(firstCalendarViewDate, value) &&\n        (!focusableDayOnFirstCalendar || !isSameDate(focusableDayOnFirstCalendar, value))\n      ) {\n        setFocusableDayOnFirstCalendar(value);\n      }\n      if (\n        isSameMonth(secondCalendarViewDate, value) &&\n        (!focusableDayOnSecondCalendar || !isSameDate(focusableDayOnSecondCalendar, value))\n      ) {\n        setFocusableDayOnSecondCalendar(value);\n      }\n    },\n    [\n      firstCalendarViewDate,\n      focusableDayOnFirstCalendar,\n      focusableDayOnSecondCalendar,\n      secondCalendarViewDate,\n    ],\n  );\n\n  return {\n    focusableDayOnFirstCalendar,\n    focusableDayOnSecondCalendar,\n    handleFirstCalendarKeyDown,\n    handleSecondCalendarKeyDown,\n    handleDayFocus,\n  };\n}\n\n/**\n * Возвращает функцию, которая позволяет проверить является ли день в календаре днём на который\n * можно попасть с помощью Tab.\n * Единственный день в таблице календаря у которого есть tabIndex=\"0\"\n * Чтобы на него можно было попасть из заголовка календаря.\n */\nexport function useIsDayFocusable({\n  value,\n  focusableDayOnFirstCalendar,\n  focusableDayOnSecondCalendar,\n  viewDate,\n  isDayActive,\n}: {\n  value: DateRangeType | null | undefined;\n  focusableDayOnFirstCalendar: Date | undefined;\n  focusableDayOnSecondCalendar: Date | undefined;\n  viewDate: Date;\n  isDayActive: (date: Date) => boolean;\n}) {\n  const isValueVisibleOnCalendar = Boolean(\n    value &&\n      ((value[0] && isSameMonth(value[0], viewDate)) ||\n        (value[1] && isSameMonth(value[1], viewDate))),\n  );\n\n  const isCalendarHasFocusableDay = Boolean(\n    (focusableDayOnFirstCalendar && isSameMonth(focusableDayOnFirstCalendar, viewDate)) ||\n      (focusableDayOnSecondCalendar && isSameMonth(focusableDayOnSecondCalendar, viewDate)),\n  );\n\n  const isDayFocusable = React.useCallback(\n    (day: Date) => {\n      // если focusableDay день находится среди дней открытого сейчас месяца, то такой день получит tabIndex=\"0\",\n      if (isCalendarHasFocusableDay) {\n        return Boolean(\n          (focusableDayOnFirstCalendar && isSameDate(focusableDayOnFirstCalendar, day)) ||\n            (focusableDayOnSecondCalendar && isSameDate(focusableDayOnSecondCalendar, day)),\n        );\n      }\n\n      // при открытии календаря focusableDay не определён,\n      // поэтому tabIndex=\"0\" будет у дня, соответствующего дню в инпуте\n      if (isValueVisibleOnCalendar) {\n        return isDayActive(day);\n      }\n\n      // при переключении месяца любая навигация с помощью Tab начинается\n      // с первого дня месяца.\n      return isSameDate(startOfMonth(viewDate), day);\n    },\n    [\n      isCalendarHasFocusableDay,\n      isValueVisibleOnCalendar,\n      viewDate,\n      isDayActive,\n      focusableDayOnFirstCalendar,\n      focusableDayOnSecondCalendar,\n    ],\n  );\n  return isDayFocusable;\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Clear, Icon20CalendarOutline } from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { startOfDay, startOfMinute } from 'date-fns';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useDateInput } from '../../hooks/useDateInput';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { type UseFocusTrapProps } from '../../hooks/useFocusTrap';\nimport { dateFormatter, dateTimeFormatter, isMatch, parse } from '../../lib/date';\nimport type { PlacementWithAuto } from '../../lib/floating';\nimport { useIsomorphicLayoutEffect } from '../../lib/useIsomorphicLayoutEffect';\nimport type { HasRootRef } from '../../types';\nimport { Calendar, type CalendarProps, type CalendarTestsProps } from '../Calendar/Calendar';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { FocusTrap } from '../FocusTrap/FocusTrap';\nimport { FormField, type FormFieldProps } from '../FormField/FormField';\nimport { IconButton } from '../IconButton/IconButton';\nimport { InputLikeDivider } from '../InputLike/InputLikeDivider';\nimport { NumberInputLike } from '../NumberInputLike/NumberInputLike';\nimport { Popper } from '../Popper/Popper';\nimport { Text } from '../Typography/Text/Text';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport { useDateInputValue } from './hooks';\nimport '../InputLike/InputLike.module.css'; // Reorder css\nimport styles from './DateInput.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\nexport type DateInputPropsTestsProps = {\n  /**\n   * Передает атрибут `data-testid` для поля ввода дня.\n   */\n  dayFieldTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для поля ввода месяца.\n   */\n  monthFieldTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для поля ввода года.\n   */\n  yearFieldTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для поля ввода часа.\n   */\n  hourFieldTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для поля ввода минут.\n   */\n  minuteFieldTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки показа календаря.\n   */\n  showCalendarButtonTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки очистки даты.\n   */\n  clearButtonTestId?: string;\n};\n\nexport interface DateInputProps\n  extends Omit<\n      React.InputHTMLAttributes<HTMLDivElement>,\n      'value' | 'defaultValue' | 'onChange' | 'size'\n    >,\n    Pick<\n      CalendarProps,\n      | 'disablePast'\n      | 'disableFuture'\n      | 'enableTime'\n      | 'shouldDisableDate'\n      | 'onChange'\n      | 'value'\n      | 'defaultValue'\n      | 'doneButtonText'\n      | 'DoneButton'\n      | 'weekStartsOn'\n      | 'disablePickers'\n      | 'changeHoursLabel'\n      | 'changeMinutesLabel'\n      | 'prevMonthLabel'\n      | 'nextMonthLabel'\n      | 'changeMonthLabel'\n      | 'changeYearLabel'\n      | 'showNeighboringMonth'\n      | 'size'\n      | 'viewDate'\n      | 'onHeaderChange'\n      | 'onNextMonth'\n      | 'onPrevMonth'\n      | 'prevMonthIcon'\n      | 'nextMonthIcon'\n      | 'minDateTime'\n      | 'maxDateTime'\n      | 'renderDayContent'\n    >,\n    Pick<UseFocusTrapProps, 'restoreFocus'>,\n    HasRootRef<HTMLDivElement>,\n    Omit<FormFieldProps, 'maxHeight'>,\n    DateInputPropsTestsProps {\n  /**\n   * Передает атрибуты `data-testid` для интерактивных элементов в календаре.\n   */\n  calendarTestsProps?: CalendarTestsProps;\n  /**\n   * Расположение календаря относительно поля ввода.\n   */\n  calendarPlacement?: PlacementWithAuto;\n  /**\n   * Автоматически закрывать календарь при изменениях.\n   */\n  closeOnChange?: boolean;\n  /**\n   * `aria-label` для календаря.\n   */\n  calendarLabel?: string;\n  /**\n   * Label для кнопки очистки. Делает доступным для ассистивных технологий.\n   */\n  clearFieldLabel?: string;\n  /**\n   * Label для кнопки открытия календаря. Делает доступным для ассистивных технологий.\n   */\n  showCalendarLabel?: string;\n  /**\n   * Отключение открытия календаря.\n   */\n  disableCalendar?: boolean;\n  /**\n   * Обработчик изменения состояния открытия календаря.\n   */\n  onCalendarOpenChanged?: (opened: boolean) => void;\n  /**\n   * `aria-label` для поля изменения дня.\n   */\n  changeDayLabel?: string;\n  /**\n   * Обработчик нажатия на кнопку `\"Done\"`. Используется совместно с флагом `enableTime`.\n   */\n  onApply?: (value?: Date) => void;\n  /**\n   * Функция для кастомного форматирования отображаемого значения даты.\n   * Позволяет переопределить стандартное отображение даты и вернуть собственное представление.\n   */\n  renderCustomValue?: (date: Date | undefined) => React.ReactNode;\n  /**\n   * Часовой пояс для отображения даты.\n   */\n  timezone?: string;\n  /**\n   * Включает режим в котором DateInput доступен\n   * для ассистивных технологий.\n   * В этом режиме:\n   * - календарь больше не открывает при фокусе на DateInput;\n   * - иконка календаря видна всегда, чтобы пользователи\n   * ассистивных технологий могли открыть календарь по клику на иконку;\n   * - календарь при открытии получает фокус, клавиатурный\n   * фокус зациклен и не выходит за пределы календаря пока календарь не закрыт.\n   */\n  accessible?: boolean /* TODO [>=v8] включить по умолчанию */;\n  /**\n   * Позволяет отключить захват фокуса при появлении календаря.\n   */\n  disableFocusTrap?: UseFocusTrapProps['disabled'];\n}\n\nconst elementsConfig = (index: number) => {\n  let length = 2;\n  let min = 1;\n  let max = 0;\n\n  switch (index) {\n    case 0:\n      max = 31;\n      break;\n    case 1:\n      max = 12;\n      break;\n    case 2:\n      max = 2100;\n      min = 1900;\n      length = 4;\n      break;\n    case 3:\n      max = 23;\n      break;\n    case 4:\n      max = 59;\n      break;\n  }\n\n  return { length, min, max };\n};\n\nconst getInternalValue = (value: CalendarProps['value']) => {\n  const newValue = ['', '', '', '', ''];\n  if (value) {\n    newValue[0] = String(value.getDate()).padStart(2, '0');\n    newValue[1] = String(value.getMonth() + 1).padStart(2, '0');\n    newValue[2] = String(value.getFullYear()).padStart(4, '0');\n    newValue[3] = String(value.getHours()).padStart(2, '0');\n    newValue[4] = String(value.getMinutes()).padStart(2, '0');\n  }\n  return newValue;\n};\n\nconst CALENDAR_MUTATION_OBSERVER_OPTIONS: MutationObserverInit = {\n  childList: true,\n  subtree: true,\n  attributes: true,\n  attributeFilter: ['tabindex'],\n};\n\n/**\n * @see https://vkui.io/components/date-input\n */\nexport const DateInput = ({\n  enableTime,\n  shouldDisableDate,\n  disableFuture,\n  disablePast,\n  minDateTime,\n  maxDateTime,\n  'value': valueProp,\n  defaultValue,\n  onChange,\n  'calendarPlacement': calendarPlacementProp = 'bottom-start',\n  style,\n  className,\n  doneButtonText,\n  DoneButton,\n  closeOnChange = true,\n  disablePickers,\n  getRootRef,\n  name,\n  autoFocus,\n  disabled,\n  accessible,\n  calendarLabel = 'Календарь',\n  prevMonthLabel = 'Предыдущий месяц',\n  nextMonthLabel = 'Следующий месяц',\n  changeDayLabel = 'День',\n  changeMonthLabel = 'Месяц',\n  changeYearLabel = 'Год',\n  changeHoursLabel = 'Час',\n  changeMinutesLabel = 'Минута',\n  clearFieldLabel = 'Очистить поле',\n  showCalendarLabel = 'Показать календарь',\n  showNeighboringMonth,\n  size,\n  viewDate,\n  onHeaderChange,\n  onNextMonth,\n  onPrevMonth,\n  prevMonthIcon,\n  nextMonthIcon,\n  renderDayContent,\n  onCalendarOpenChanged,\n  calendarTestsProps,\n  dayFieldTestId,\n  monthFieldTestId,\n  yearFieldTestId,\n  hourFieldTestId,\n  minuteFieldTestId,\n  showCalendarButtonTestId,\n  clearButtonTestId,\n  id,\n  onApply,\n  renderCustomValue,\n  timezone,\n  restoreFocus,\n  disableFocusTrap,\n  readOnly,\n  'disableCalendar': disableCalendarProp = false,\n  'aria-label': ariaLabel = '',\n  ...props\n}: DateInputProps): React.ReactNode => {\n  const daysRef = React.useRef<HTMLSpanElement>(null);\n  const monthsRef = React.useRef<HTMLSpanElement>(null);\n  const yearsRef = React.useRef<HTMLSpanElement>(null);\n  const hoursRef = React.useRef<HTMLSpanElement>(null);\n  const minutesRef = React.useRef<HTMLSpanElement>(null);\n\n  const disableCalendar = readOnly ? true : disableCalendarProp;\n\n  const { value, updateValue, setInternalValue, getLastUpdatedValue, clearValue } =\n    useDateInputValue({\n      value: valueProp,\n      defaultValue,\n      onChange,\n      timezone,\n    });\n\n  const maxElement = enableTime ? 4 : 2;\n\n  const onInternalValueChange = React.useCallback(\n    (internalValue: string[]) => {\n      for (let i = 0; i <= maxElement; i += 1) {\n        if (internalValue[i].length < elementsConfig(i).length) {\n          return;\n        }\n      }\n\n      let formattedValue = `${internalValue[0]}.${internalValue[1]}.${internalValue[2]}`;\n      let mask = 'dd.MM.yyyy';\n      if (enableTime) {\n        formattedValue += ` ${internalValue[3]}:${internalValue[4]}`;\n        mask += ' HH:mm';\n      }\n\n      if (isMatch(formattedValue, mask)) {\n        const now = new Date();\n        updateValue(\n          parse(formattedValue, mask, value ?? (enableTime ? startOfMinute(now) : startOfDay(now))),\n        );\n      }\n    },\n    [enableTime, maxElement, updateValue, value],\n  );\n\n  const refs = React.useMemo(\n    () => [daysRef, monthsRef, yearsRef, hoursRef, minutesRef],\n    [daysRef, monthsRef, yearsRef, hoursRef, minutesRef],\n  );\n\n  const {\n    rootRef,\n    calendarRef,\n    open,\n    internalValue,\n    handleKeyDown,\n    setFocusedElement,\n    handleFieldEnter,\n    clear,\n    removeFocusFromField,\n    closeCalendar,\n    toggleCalendar,\n    openCalendar,\n    handleRestoreFocus,\n  } = useDateInput({\n    maxElement,\n    refs,\n    autoFocus,\n    disabled: disabled || readOnly,\n    elementsConfig,\n    onClear: clearValue,\n    onInternalValueChange,\n    getInternalValue,\n    value,\n    onCalendarOpenChanged,\n    accessible,\n  });\n\n  const { sizeY = 'none' } = useAdaptivity();\n\n  const handleRootRef = useExternRef(rootRef, getRootRef);\n\n  useIsomorphicLayoutEffect(\n    function resetValueOnCloseCalendar() {\n      if (!open) {\n        setInternalValue(getLastUpdatedValue());\n      }\n    },\n    [open, getLastUpdatedValue],\n  );\n\n  const onCalendarChange = React.useCallback(\n    (value?: Date | undefined) => {\n      if (!value) {\n        return;\n      }\n      if (enableTime) {\n        setInternalValue(value);\n        return;\n      }\n      updateValue(value);\n      if (closeOnChange) {\n        removeFocusFromField();\n      }\n    },\n    [enableTime, updateValue, closeOnChange, setInternalValue, removeFocusFromField],\n  );\n\n  const onDoneButtonClick = React.useCallback(() => {\n    if (!value) {\n      return;\n    }\n    const newValue = updateValue(value);\n    onApply?.(newValue);\n    removeFocusFromField();\n  }, [onApply, removeFocusFromField, updateValue, value]);\n\n  const customValue = React.useMemo(\n    () => !open && renderCustomValue?.(value || undefined),\n    [open, renderCustomValue, value],\n  );\n\n  // при переключении месяцев высота календаря может меняться,\n  // чтобы календарь не прыгал при переключении месяцев каждый раз на\n  // лучшую позицию мы запоминаем последнюю удачную, чтобы календарь оставался\n  // на ней, пока помещается.\n  const [calendarPlacement, setCalendarPlacement] =\n    React.useState<PlacementWithAuto>(calendarPlacementProp);\n\n  const { locale } = useConfigProvider();\n  const currentDateLabel = value\n    ? new Intl.DateTimeFormat(locale, {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n      }).format(value)\n    : null;\n  const currentDateLabelId = React.useId();\n  const ariaLabelId = React.useId();\n\n  const showCalendarOnInputAreaClick = React.useCallback(() => {\n    handleFieldEnter();\n    if (accessible) {\n      openCalendar();\n    }\n  }, [handleFieldEnter, openCalendar, accessible]);\n\n  return (\n    <FormField\n      style={style}\n      className={classNames(sizeY !== 'regular' && sizeYClassNames[sizeY], className)}\n      getRootRef={handleRootRef}\n      role=\"group\"\n      aria-labelledby={`${ariaLabelId} ${currentDateLabelId}`}\n      after={\n        <React.Fragment>\n          {!disableCalendar && (accessible || (!accessible && !value)) ? (\n            <IconButton\n              hoverMode=\"opacity\"\n              label={showCalendarLabel}\n              onClick={toggleCalendar}\n              data-testid={showCalendarButtonTestId}\n            >\n              <Icon20CalendarOutline />\n            </IconButton>\n          ) : null}\n          {value && !readOnly ? (\n            <IconButton\n              hoverMode=\"opacity\"\n              label={clearFieldLabel}\n              onClick={clear}\n              data-testid={clearButtonTestId}\n            >\n              <Icon16Clear />\n            </IconButton>\n          ) : null}\n        </React.Fragment>\n      }\n      disabled={disabled}\n      {...props}\n    >\n      <div className={styles.wrapper}>\n        {ariaLabel && <VisuallyHidden id={ariaLabelId}>{ariaLabel}</VisuallyHidden>}\n        {currentDateLabel && (\n          <VisuallyHidden id={currentDateLabelId}>{currentDateLabel}</VisuallyHidden>\n        )}\n        <VisuallyHidden\n          id={id}\n          Component=\"input\"\n          readOnly\n          aria-hidden\n          tabIndex={readOnly ? 0 : -1}\n          name={name}\n          value={\n            value\n              ? enableTime\n                ? dateTimeFormatter.format(value)\n                : dateFormatter.format(value)\n              : ''\n          }\n          onFocus={handleFieldEnter}\n        />\n        <Text\n          className={classNames(styles.input, customValue && styles.hidden)}\n          // Инцидент: в PR https://github.com/VKCOM/VKUI/pull/6649 стабильно ломается порядок стилей\n          // из-за чего `.Typography--normalize` перебивает стили.\n          normalize={false}\n          Component=\"span\" // для <span> нормализация не нужна\n          onClick={showCalendarOnInputAreaClick}\n        >\n          <NumberInputLike\n            value={internalValue[0]}\n            minValue={1}\n            maxValue={31}\n            length={2}\n            getRootRef={daysRef}\n            index={0}\n            onKeyDown={handleKeyDown}\n            onElementSelect={setFocusedElement}\n            label={changeDayLabel}\n            readOnly={readOnly}\n            data-testid={dayFieldTestId}\n          />\n          <InputLikeDivider>.</InputLikeDivider>\n          <NumberInputLike\n            value={internalValue[1]}\n            minValue={1}\n            maxValue={12}\n            length={2}\n            getRootRef={monthsRef}\n            index={1}\n            onElementSelect={setFocusedElement}\n            onKeyDown={handleKeyDown}\n            readOnly={readOnly}\n            label={changeMonthLabel}\n            data-testid={monthFieldTestId}\n          />\n          <InputLikeDivider>.</InputLikeDivider>\n          <NumberInputLike\n            value={internalValue[2]}\n            minValue={1}\n            maxValue={275750}\n            length={4}\n            getRootRef={yearsRef}\n            index={2}\n            onElementSelect={setFocusedElement}\n            readOnly={readOnly}\n            label={changeYearLabel}\n            onKeyDown={handleKeyDown}\n            data-testid={yearFieldTestId}\n          />\n          {enableTime && (\n            <React.Fragment>\n              <InputLikeDivider className={styles.inputTimeDivider}> </InputLikeDivider>\n              <NumberInputLike\n                value={internalValue[3]}\n                minValue={1}\n                maxValue={24}\n                length={2}\n                getRootRef={hoursRef}\n                index={3}\n                onElementSelect={setFocusedElement}\n                readOnly={readOnly}\n                label={changeHoursLabel}\n                onKeyDown={handleKeyDown}\n                data-testid={hourFieldTestId}\n              />\n              <InputLikeDivider>:</InputLikeDivider>\n              <NumberInputLike\n                value={internalValue[4]}\n                minValue={1}\n                maxValue={59}\n                length={2}\n                getRootRef={minutesRef}\n                index={4}\n                onElementSelect={setFocusedElement}\n                readOnly={readOnly}\n                label={changeMinutesLabel}\n                onKeyDown={handleKeyDown}\n                data-testid={minuteFieldTestId}\n              />\n            </React.Fragment>\n          )}\n        </Text>\n        {customValue && (\n          <Text className={styles.customValue} aria-hidden normalize={false}>\n            {customValue}\n          </Text>\n        )}\n      </div>\n      {open && !disableCalendar && (\n        <Popper\n          targetRef={rootRef}\n          offsetByMainAxis={8}\n          placement={calendarPlacement}\n          onPlacementChange={setCalendarPlacement}\n          autoUpdateOnTargetResize\n        >\n          <FocusTrap\n            onClose={closeCalendar}\n            disabled={disableFocusTrap ?? !accessible}\n            restoreFocus={restoreFocus ?? (Boolean(accessible) && handleRestoreFocus)}\n            captureEscapeKeyboardEvent={false}\n            mutationObserverOptions={CALENDAR_MUTATION_OBSERVER_OPTIONS}\n          >\n            <Calendar\n              aria-label={calendarLabel}\n              role=\"dialog\"\n              value={value}\n              onChange={onCalendarChange}\n              enableTime={enableTime}\n              disablePast={disablePast}\n              disableFuture={disableFuture}\n              shouldDisableDate={shouldDisableDate}\n              onDoneButtonClick={onDoneButtonClick}\n              getRootRef={calendarRef}\n              doneButtonText={doneButtonText}\n              DoneButton={DoneButton}\n              disablePickers={disablePickers}\n              changeHoursLabel={changeHoursLabel}\n              changeMinutesLabel={changeMinutesLabel}\n              prevMonthLabel={prevMonthLabel}\n              nextMonthLabel={nextMonthLabel}\n              changeMonthLabel={changeMonthLabel}\n              changeYearLabel={changeYearLabel}\n              showNeighboringMonth={showNeighboringMonth}\n              renderDayContent={renderDayContent}\n              size={size}\n              viewDate={viewDate}\n              onHeaderChange={onHeaderChange}\n              onNextMonth={onNextMonth}\n              onPrevMonth={onPrevMonth}\n              prevMonthIcon={prevMonthIcon}\n              nextMonthIcon={nextMonthIcon}\n              minDateTime={minDateTime}\n              maxDateTime={maxDateTime}\n              {...calendarTestsProps}\n            />\n          </FocusTrap>\n        </Popper>\n      )}\n    </FormField>\n  );\n};\n", "import { useCallback } from 'react';\nimport * as React from 'react';\nimport { useDOM } from '../lib/dom';\nimport { useBooleanState } from './useBooleanState';\nimport { useGlobalEventListener } from './useGlobalEventListener';\n\nexport interface UseDateInputDependencies<T, D> {\n  maxElement: number;\n  refs: Array<React.RefObject<T | null>>;\n  autoFocus?: boolean;\n  disabled?: boolean;\n  value?: D | null;\n  elementsConfig: (index: number) => {\n    length: number;\n    min: number;\n    max: number;\n  };\n  onInternalValueChange: (value: string[]) => void;\n  getInternalValue: (value?: D | null | undefined) => string[];\n  onClear: () => void;\n  onCalendarOpenChanged?: (opened: boolean) => void;\n  accessible?: boolean;\n}\n\nexport function useDateInput<T extends HTMLElement, D>({\n  maxElement,\n  refs,\n  autoFocus,\n  disabled,\n  elementsConfig,\n  onClear,\n  onInternalValueChange,\n  getInternalValue,\n  value,\n  onCalendarOpenChanged,\n  accessible,\n}: UseDateInputDependencies<T, D>): {\n  rootRef: React.RefObject<HTMLDivElement | null>;\n  calendarRef: React.RefObject<HTMLDivElement | null>;\n  open: boolean;\n  openCalendar: () => void;\n  closeCalendar: () => void;\n  toggleCalendar: () => void;\n  internalValue: string[];\n  focusedElement: number | null;\n  setFocusedElement: React.Dispatch<React.SetStateAction<number | null>>;\n  handleKeyDown: (e: React.KeyboardEvent<HTMLSpanElement>) => void;\n  clear: () => void;\n  handleFieldEnter: () => void;\n  removeFocusFromField: () => void;\n  handleRestoreFocus: () => boolean;\n} {\n  const { document } = useDOM();\n  const { value: open, setTrue: openCalendar, setFalse: closeCalendar } = useBooleanState(false);\n  const rootRef = React.useRef<HTMLDivElement | null>(null);\n  const calendarRef = React.useRef<HTMLDivElement | null>(null);\n  const [internalValue, setInternalValue] = React.useState<string[]>([]);\n  const [focusedElement, setFocusedElement] = React.useState<number | null>(null);\n  const isClickedOutsideRef = React.useRef(false);\n  const { window } = useDOM();\n\n  const handleRestoreFocus = React.useCallback(() => {\n    // если календарь был закрыт кликом вне календаря\n    // то FocusTrap возвращать фокус не должен\n    return !isClickedOutsideRef.current;\n  }, []);\n\n  const _onCalendarClose = useCallback(() => {\n    if (open) {\n      closeCalendar();\n      onCalendarOpenChanged?.(false);\n    }\n  }, [closeCalendar, onCalendarOpenChanged, open]);\n\n  const _onCalendarOpen = useCallback(() => {\n    if (!open) {\n      openCalendar();\n      onCalendarOpenChanged?.(true);\n      if (accessible) {\n        setFocusedElement(null);\n      }\n      isClickedOutsideRef.current = false;\n    }\n  }, [onCalendarOpenChanged, open, openCalendar, accessible]);\n\n  const resetFocusedElement = React.useCallback(() => {\n    if (focusedElement !== null) {\n      setFocusedElement(null);\n      window!.getSelection()?.removeAllRanges();\n      setInternalValue(getInternalValue(value));\n    }\n  }, [focusedElement, getInternalValue, value, window]);\n\n  const removeFocusFromField = React.useCallback(() => {\n    resetFocusedElement();\n    _onCalendarClose();\n  }, [resetFocusedElement, _onCalendarClose]);\n\n  const toggleCalendar = useCallback(() => {\n    resetFocusedElement();\n    if (open) {\n      _onCalendarClose();\n    } else {\n      _onCalendarOpen();\n    }\n  }, [resetFocusedElement, open, _onCalendarClose, _onCalendarOpen]);\n\n  const handleClickOutside = React.useCallback(\n    (e: MouseEvent) => {\n      if (\n        !rootRef.current?.contains(e.target as Node | null) &&\n        !calendarRef.current?.contains(e.target as Node | null)\n      ) {\n        isClickedOutsideRef.current = true;\n        removeFocusFromField();\n      }\n    },\n    [removeFocusFromField],\n  );\n\n  const selectFirst = React.useCallback(() => {\n    if (focusedElement !== null) {\n      return;\n    }\n\n    setFocusedElement(0);\n  }, [focusedElement]);\n\n  useGlobalEventListener(document, 'click', handleClickOutside, {\n    capture: true,\n  });\n\n  React.useEffect(() => {\n    setInternalValue(getInternalValue(value));\n  }, [getInternalValue, value]);\n\n  React.useEffect(() => {\n    if (autoFocus) {\n      selectFirst();\n    }\n  }, [autoFocus, selectFirst]);\n\n  React.useEffect(() => {\n    if (disabled || focusedElement === null) {\n      return;\n    }\n\n    const range = window!.document.createRange();\n\n    let element = refs[focusedElement].current;\n\n    let timerId: ReturnType<typeof setTimeout>;\n    if (element) {\n      element.focus();\n      if (!accessible) {\n        _onCalendarOpen();\n      }\n      range.selectNodeContents(element as Node);\n\n      // Fix для Firefox: setTimeout нужен чтобы отложить range selection на\n      // какое-то время, иначе, при фокусе на InputLike\n      // извне, контент визуально не будет выбран\n      timerId = setTimeout(() => {\n        const selection = window!.getSelection();\n        selection?.removeAllRanges();\n        selection?.addRange(range);\n      }, 0);\n    }\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, [disabled, focusedElement, refs, window, _onCalendarOpen, accessible]);\n\n  const clear = React.useCallback(() => {\n    onClear?.();\n    selectFirst();\n  }, [onClear, selectFirst]);\n\n  const handleFieldEnter = React.useCallback(() => {\n    selectFirst();\n  }, [selectFirst]);\n\n  const handleKeyDown = React.useCallback(\n    (e: React.KeyboardEvent<HTMLSpanElement>) => {\n      if (focusedElement === null) {\n        return;\n      }\n\n      const _value = [...internalValue];\n      const config = elementsConfig(focusedElement);\n\n      if (/^\\d+$/.test(e.key)) {\n        if (_value[focusedElement].length >= config.length) {\n          _value[focusedElement] = e.key;\n        } else {\n          _value[focusedElement] += e.key;\n          if (_value[focusedElement].length >= config.length && focusedElement < maxElement) {\n            setFocusedElement(focusedElement + 1);\n          }\n        }\n      } else if (e.key === 'Backspace') {\n        if (!_value[focusedElement]) {\n          setFocusedElement(focusedElement <= 0 ? maxElement : focusedElement - 1);\n        } else {\n          _value[focusedElement] = _value[focusedElement].slice(0, -1);\n        }\n      } else if (e.key === 'ArrowDown' || e.key === 'Down') {\n        let currentValue = Number(_value[focusedElement]);\n        _value[focusedElement] = String(\n          currentValue <= config.min ? config.max : currentValue - 1,\n        ).padStart(config.length, '0');\n      } else if (e.key === 'ArrowUp' || e.key === 'Up') {\n        let currentValue = Number(_value[focusedElement]);\n        _value[focusedElement] = String(\n          currentValue >= config.max ? config.min : currentValue + 1,\n        ).padStart(config.length, '0');\n      } else if (e.key === 'ArrowLeft' || e.key === 'Left' || (e.key === 'Tab' && e.shiftKey)) {\n        if (focusedElement <= 0) {\n          if (e.key === 'Tab') {\n            removeFocusFromField();\n          }\n          return;\n        }\n        setFocusedElement(focusedElement - 1);\n      } else if (e.key === 'ArrowRight' || e.key === 'Right' || e.key === 'Tab') {\n        if (focusedElement >= maxElement) {\n          if (e.key === 'Tab') {\n            removeFocusFromField();\n          }\n          return;\n        }\n\n        setFocusedElement(focusedElement + 1);\n      } else if (e.key === 'Delete' || e.key === 'Del') {\n        _value[focusedElement] = '';\n      } else if (e.key === ' ') {\n        e.preventDefault();\n        _onCalendarOpen();\n        return;\n      } else {\n        return;\n      }\n\n      e.preventDefault();\n      setInternalValue(_value);\n      onInternalValueChange(_value);\n    },\n    [\n      _onCalendarOpen,\n      removeFocusFromField,\n      elementsConfig,\n      focusedElement,\n      internalValue,\n      maxElement,\n      onInternalValueChange,\n    ],\n  );\n\n  return {\n    rootRef,\n    calendarRef,\n    open,\n    openCalendar: _onCalendarOpen,\n    closeCalendar: _onCalendarClose,\n    toggleCalendar,\n    internalValue,\n    focusedElement,\n    setFocusedElement,\n    handleKeyDown,\n    clear,\n    handleFieldEnter,\n    removeFocusFromField,\n    handleRestoreFocus,\n  };\n}\n", "import * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport styles from './InputLike.module.css';\n\nexport const InputLikeDivider = ({\n  children,\n  className,\n  ...props\n}: React.InputHTMLAttributes<HTMLSpanElement>): React.ReactNode => {\n  return (\n    <span className={classNames(styles.divider, className)} {...props}>\n      {children}\n    </span>\n  );\n};\n", "'use client';\n/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { callMultiple } from '../../lib/callMultiple';\nimport { stopPropagation } from '../../lib/utils';\nimport { RootComponent, type RootComponentProps } from '../RootComponent/RootComponent';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './InputLike.module.css';\n\nexport interface InputLikeProps extends RootComponentProps<HTMLSpanElement> {\n  length: number;\n  index: number;\n  value?: string;\n  label?: string;\n  onElementSelect?: (index: number) => void;\n}\n\nconst MASK_SYMBOL = String.fromCharCode(0x2007);\n\nfunction getMaskElements(length: number) {\n  const result = [];\n  for (let index = 0; index < length; index += 1) {\n    result.push(\n      <span key={index} className={styles.mask}>\n        {MASK_SYMBOL}\n      </span>,\n    );\n  }\n  return result;\n}\n\nexport const InputLike = ({\n  value,\n  length,\n  index,\n  onElementSelect,\n  onFocus,\n  label,\n  readOnly,\n  onKeyDown,\n  ...restProps\n}: InputLikeProps) => {\n  const handleElementSelect = React.useCallback(\n    (event: React.MouseEvent<HTMLSpanElement>) => {\n      stopPropagation(event);\n      onElementSelect?.(index);\n    },\n    [index, onElementSelect],\n  );\n\n  return (\n    <RootComponent\n      Component=\"span\"\n      baseClassName={value?.length === length ? styles.host : undefined}\n      tabIndex={readOnly ? -1 : 0}\n      onFocus={callMultiple(onFocus, handleElementSelect)}\n      onKeyDown={readOnly ? undefined : onKeyDown}\n      {...restProps}\n    >\n      {label && <VisuallyHidden>{label}</VisuallyHidden>}\n      {value?.slice(0, length - 1)}\n      {value?.slice(length - 1) && (\n        <span key={index} className={styles.lastCharacter}>\n          {value.slice(length - 1)}\n        </span>\n      )}\n      {getMaskElements(length - (value?.length ?? 0))}\n    </RootComponent>\n  );\n};\n", "'use client';\n\nimport { InputLike, type InputLikeProps } from '../InputLike/InputLike';\n/* eslint-disable jsdoc/require-jsdoc */\n\nexport interface NumberInputLikeProps extends Omit<InputLikeProps, 'value'> {\n  value?: number | string;\n  maxValue?: number;\n  minValue?: number;\n}\n\nconst stringifyValue = (\n  value: NumberInputLikeProps['value'],\n  length: number,\n): string | undefined => {\n  if (value === undefined) {\n    return undefined;\n  }\n  if (typeof value === 'string') {\n    return value;\n  }\n  return String(value).padStart(length, '0');\n};\n\nexport const NumberInputLike: React.FC<NumberInputLikeProps> = ({\n  value,\n  length,\n  minValue,\n  maxValue,\n  readOnly,\n  disabled,\n  label,\n  onKeyDown,\n  'aria-label': ariaLabel,\n  ...restProps\n}) => {\n  const stringValue = stringifyValue(value, length);\n  return (\n    <InputLike\n      role=\"spinbutton\"\n      value={stringValue}\n      length={length}\n      aria-valuemin={minValue}\n      aria-valuemax={maxValue}\n      aria-valuenow={value !== undefined ? Number(value) : undefined}\n      aria-valuetext={stringValue}\n      aria-readonly={readOnly}\n      aria-disabled={disabled}\n      aria-label={label}\n      label={label}\n      tabIndex={readOnly ? -1 : 0}\n      onKeyDown={readOnly ? undefined : onKeyDown}\n      {...restProps}\n    />\n  );\n};\n", "/* eslint-disable jsdoc/require-jsdoc */\n\nimport * as React from 'react';\nimport { convertDateFromTimeZone, convertDateToTimeZone } from '../../lib/date';\n\ninterface UseDateInputValueOptions {\n  value?: Date | null;\n  defaultValue?: Date | null;\n  onChange?: (value?: Date) => void;\n  timezone?: string;\n}\n\nexport interface UseDateInputValueReturn {\n  value?: Date | null;\n  updateValue: (v: Date) => Date;\n  setInternalValue: (v?: Date | null) => void;\n  getLastUpdatedValue: () => Date | null | undefined;\n  clearValue: () => void;\n}\n\nconst _convertDateToTimeZone = (date: Date | null, timezone?: string): Date | null => {\n  return convertDateToTimeZone(date, timezone) || null;\n};\n\nconst _convertDateFromTimeZone = (date: Date, timezone?: string): Date => {\n  return convertDateFromTimeZone(date, timezone) as Date;\n};\n\nconst getStateValue = (\n  defaultStateValue: Date | null,\n  value?: Date | null,\n  defaultValue?: Date | null,\n  timezone?: string,\n): Date | null => {\n  if (value !== undefined) {\n    return _convertDateToTimeZone(value, timezone);\n  }\n  if (defaultValue !== undefined) {\n    return _convertDateToTimeZone(defaultValue, timezone);\n  }\n  return _convertDateToTimeZone(defaultStateValue, timezone);\n};\n\nexport const useDateInputValue = ({\n  value,\n  defaultValue,\n  onChange,\n  timezone,\n}: UseDateInputValueOptions): UseDateInputValueReturn => {\n  const [internalValue, setInternalValue] = React.useState<Date | null | undefined>(\n    getStateValue(null, value, defaultValue, timezone),\n  );\n  const lastUpdatedValueRef = React.useRef<Date | null | undefined>(\n    getStateValue(null, value, defaultValue, timezone),\n  );\n\n  const isControlled = value !== undefined;\n\n  React.useEffect(() => {\n    if (isControlled) {\n      const newInternalValue = _convertDateToTimeZone(value, timezone);\n      setInternalValue(newInternalValue);\n      lastUpdatedValueRef.current = newInternalValue;\n    }\n  }, [isControlled, timezone, value]);\n\n  const getLastUpdatedValue = React.useCallback(() => lastUpdatedValueRef.current, []);\n\n  const updateValue = React.useCallback(\n    (newValue: Date) => {\n      if (!isControlled) {\n        setInternalValue(newValue);\n        lastUpdatedValueRef.current = newValue;\n      }\n      const originalTimezoneValue = _convertDateFromTimeZone(newValue, timezone);\n      onChange?.(originalTimezoneValue);\n      return originalTimezoneValue;\n    },\n    [isControlled, onChange, timezone],\n  );\n\n  const clearValue = () => {\n    setInternalValue(null);\n    lastUpdatedValueRef.current = null;\n    onChange?.(undefined);\n  };\n\n  return {\n    value: internalValue,\n    updateValue,\n    setInternalValue,\n    getLastUpdatedValue,\n    clearValue,\n  };\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { Icon16Clear, Icon20CalendarOutline } from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useDateInput } from '../../hooks/useDateInput';\nimport { useCustomEnsuredControl } from '../../hooks/useEnsuredControl';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { type UseFocusTrapProps } from '../../hooks/useFocusTrap';\nimport { dateFormatter, isMatch, parse } from '../../lib/date';\nimport type { PlacementWithAuto } from '../../lib/floating';\nimport type { HasRootRef } from '../../types';\nimport {\n  CalendarRange,\n  type CalendarRangeProps,\n  type CalendarRangeTestsProps,\n  type DateRangeType,\n} from '../CalendarRange/CalendarRange';\nimport { useConfigProvider } from '../ConfigProvider/ConfigProviderContext';\nimport { FocusTrap } from '../FocusTrap/FocusTrap';\nimport { FormField, type FormFieldProps } from '../FormField/FormField';\nimport { IconButton } from '../IconButton/IconButton';\nimport { InputLikeDivider } from '../InputLike/InputLikeDivider';\nimport { NumberInputLike } from '../NumberInputLike/NumberInputLike';\nimport { Popper } from '../Popper/Popper';\nimport { Text } from '../Typography/Text/Text';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from './DateRangeInput.module.css';\nimport dateInputStyles from '../DateInput/DateInput.module.css';\n\nconst sizeYClassNames = {\n  none: styles.sizeYNone,\n  compact: styles.sizeYCompact,\n};\n\ntype DateTestsProps = {\n  /**\n   * Передает атрибут `data-testid` для поля ввода дня.\n   */\n  day?: string;\n  /**\n   * Передает атрибут `data-testid` для поля ввода месяца.\n   */\n  month?: string;\n  /**\n   * Передает атрибут `data-testid` для поля ввода года.\n   */\n  year?: string;\n};\n\nexport type DateRangeInputTestsProps = {\n  /**\n   * Передает атрибуты `data-testid` для полей ввода начальной даты.\n   */\n  startDateTestsProps?: DateTestsProps;\n  /**\n   * Передает атрибуты `data-testid` для полей ввода конечной даты.\n   */\n  endDateTestsProps?: DateTestsProps;\n  /**\n   * Передает атрибут `data-testid` для кнопки показа календаря.\n   */\n  showCalendarButtonTestId?: string;\n  /**\n   * Передает атрибут `data-testid` для кнопки очистки даты.\n   */\n  clearButtonTestId?: string;\n};\n\nexport interface DateRangeInputProps\n  extends Omit<React.InputHTMLAttributes<HTMLDivElement>, 'value' | 'defaultValue' | 'onChange'>,\n    Pick<\n      CalendarRangeProps,\n      | 'disablePast'\n      | 'disableFuture'\n      | 'shouldDisableDate'\n      | 'onChange'\n      | 'value'\n      | 'defaultValue'\n      | 'weekStartsOn'\n      | 'disablePickers'\n      | 'prevMonthLabel'\n      | 'nextMonthLabel'\n      | 'changeMonthLabel'\n      | 'changeYearLabel'\n      | 'changeDayLabel'\n      | 'prevMonthIcon'\n      | 'nextMonthIcon'\n      | 'renderDayContent'\n    >,\n    Pick<UseFocusTrapProps, 'restoreFocus'>,\n    HasRootRef<HTMLDivElement>,\n    Omit<FormFieldProps, 'maxHeight'>,\n    DateRangeInputTestsProps {\n  /**\n   * Передает атрибуты `data-testid` для интерактивных элементов в календаре.\n   */\n  calendarTestsProps?: CalendarRangeTestsProps;\n  /**\n   * Расположение календаря относительно поля ввода.\n   */\n  calendarPlacement?: PlacementWithAuto;\n  /**\n   * Автоматически закрывать календарь при изменениях.\n   */\n  closeOnChange?: boolean;\n  /**\n   * Обработчик изменения состояния открытия календаря.\n   */\n  onCalendarOpenChanged?: (opened: boolean) => void;\n  /**\n   * Label для календаря.\n   */\n  calendarLabel?: string;\n  /**\n   * Label для кнопки очистки. Делает доступным для ассистивных технологий.\n   */\n  clearFieldLabel?: string;\n  /**\n   * Label для кнопки открытия календаря. Делает доступным для ассистивных технологий.\n   */\n  showCalendarLabel?: string;\n  /**\n   * Label для ввода дня начальной даты. Делает доступным для ассистивных технологий.\n   */\n  changeStartDayLabel?: string;\n  /**\n   * Label для ввода месяца начальной даты. Делает доступным для ассистивных технологий.\n   */\n  changeStartMonthLabel?: string;\n  /**\n   * Label для ввода года начальной даты. Делает доступным для ассистивных технологий.\n   */\n  changeStartYearLabel?: string;\n  /**\n   * Label для ввода дня конечной даты. Делает доступным для ассистивных технологий.\n   */\n  changeEndDayLabel?: string;\n  /**\n   * Label для ввода месяца конечной даты. Делает доступным для ассистивных технологий.\n   */\n  changeEndMonthLabel?: string;\n  /**\n   * Label для ввода года конечной даты. Делает доступным для ассистивных технологий.\n   */\n  changeEndYearLabel?: string;\n  /**\n   * Отключение открытия календаря.\n   */\n  disableCalendar?: boolean;\n  /**\n   * Позволяет отключить захват фокуса при появлении календаря.\n   */\n  disableFocusTrap?: UseFocusTrapProps['disabled'];\n  /**\n   * Включает режим в котором DateRangeInput доступен\n   * для ассистивных технологий.\n   * В этом режиме:\n   * - календарь больше не открывает при фокусе на DateRangeInput;\n   * - иконка календаря видна всегда, чтобы пользователи\n   * ассистивных технологий могли открыть календарь по клику на иконку;\n   * - календарь при открытии получает фокус, клавиатурный\n   * фокус зациклен и не выходит за пределы календаря пока календарь не закрыт.\n   */\n  accessible?: boolean; // TODO [>=8]: включить по умолчанию.\n}\n\nconst elementsConfig = (index: number) => {\n  let length = 2;\n  let min = 1;\n  let max = 0;\n\n  switch (index) {\n    case 0:\n    case 3:\n      max = 31;\n      break;\n    case 1:\n    case 4:\n      max = 12;\n      break;\n    case 2:\n    case 5:\n      max = 2100;\n      min = 1900;\n      length = 4;\n      break;\n  }\n\n  return { length, min, max };\n};\n\nconst getInternalValue = (value: CalendarRangeProps['value']) => {\n  const newValue = ['', '', '', '', '', ''];\n  if (value?.[0]) {\n    newValue[0] = String(value[0].getDate()).padStart(2, '0');\n    newValue[1] = String(value[0].getMonth() + 1).padStart(2, '0');\n    newValue[2] = String(value[0].getFullYear()).padStart(4, '0');\n  }\n  if (value?.[1]) {\n    newValue[3] = String(value[1].getDate()).padStart(2, '0');\n    newValue[4] = String(value[1].getMonth() + 1).padStart(2, '0');\n    newValue[5] = String(value[1].getFullYear()).padStart(4, '0');\n  }\n  return newValue;\n};\n\nconst CALENDAR_MUTATION_OBSERVER_OPTIONS: MutationObserverInit = {\n  childList: true,\n  subtree: true,\n  attributes: true,\n  attributeFilter: ['tabindex'],\n};\n\n/**\n * @see https://vkui.io/components/date-range-input\n */\nexport const DateRangeInput = ({\n  shouldDisableDate,\n  disableFuture,\n  disablePast,\n  'value': valueProp,\n  defaultValue,\n  onChange,\n  'calendarPlacement': calendarPlacementProp = 'bottom-start',\n  style,\n  className,\n  closeOnChange = true,\n  disablePickers,\n  getRootRef,\n  name,\n  autoFocus,\n  disabled,\n  disableFocusTrap,\n  restoreFocus,\n  calendarLabel = 'Календарь',\n  prevMonthLabel = 'Предыдущий месяц',\n  nextMonthLabel = 'Следующий месяц',\n  changeMonthLabel = 'Месяц',\n  changeYearLabel = 'Год',\n  changeStartDayLabel = 'День начала',\n  changeStartMonthLabel = 'Месяц начала',\n  changeStartYearLabel = 'Год начала',\n  changeEndDayLabel = 'День окончания',\n  changeEndMonthLabel = 'Месяц окончания',\n  changeEndYearLabel = 'Год окончания',\n  clearFieldLabel = 'Очистить поле',\n  showCalendarLabel = 'Показать календарь',\n  'aria-label': ariaLabel = '',\n  prevMonthIcon,\n  nextMonthIcon,\n  onCalendarOpenChanged,\n  renderDayContent,\n  calendarTestsProps,\n  startDateTestsProps,\n  endDateTestsProps,\n  clearButtonTestId,\n  showCalendarButtonTestId,\n  id,\n  accessible,\n  readOnly,\n  'disableCalendar': disableCalendarProp = false,\n  ...props\n}: DateRangeInputProps): React.ReactNode => {\n  const daysStartRef = React.useRef<HTMLSpanElement>(null);\n  const monthsStartRef = React.useRef<HTMLSpanElement>(null);\n  const yearsStartRef = React.useRef<HTMLSpanElement>(null);\n  const daysEndRef = React.useRef<HTMLSpanElement>(null);\n  const monthsEndRef = React.useRef<HTMLSpanElement>(null);\n  const yearsEndRef = React.useRef<HTMLSpanElement>(null);\n\n  const disableCalendar = readOnly ? true : disableCalendarProp;\n\n  const _onChange = React.useCallback(\n    (newValue: DateRangeType | null | undefined) => onChange?.(newValue || undefined),\n    [onChange],\n  );\n\n  const [value, updateValue] = useCustomEnsuredControl<DateRangeType | null | undefined>({\n    value: valueProp,\n    defaultValue,\n    onChange: _onChange,\n  });\n\n  const onInternalValueChange = React.useCallback(\n    (internalValue: string[]) => {\n      let isStartValid = true;\n      let isEndValid = true;\n      for (let i = 0; i <= 2; i += 1) {\n        if (internalValue[i].length < elementsConfig(i).length) {\n          isStartValid = false;\n        }\n      }\n      for (let i = 3; i <= 5; i += 1) {\n        if (internalValue[i].length < elementsConfig(i).length) {\n          isEndValid = false;\n        }\n      }\n      const formattedStartValue = `${internalValue[0]}.${internalValue[1]}.${internalValue[2]}`;\n      const formattedEndValue = `${internalValue[3]}.${internalValue[4]}.${internalValue[5]}`;\n      const mask = 'dd.MM.yyyy';\n\n      if (!isMatch(formattedStartValue, mask)) {\n        isStartValid = false;\n      }\n      if (!isMatch(formattedEndValue, mask)) {\n        isEndValid = false;\n      }\n\n      if (!isStartValid && !isEndValid) {\n        return;\n      }\n\n      const valueExists = Array.isArray(value);\n      const now = new Date();\n      const start = isStartValid\n        ? parse(formattedStartValue, mask, (valueExists && value?.[0]) || now)\n        : null;\n      const end = isEndValid\n        ? parse(formattedEndValue, mask, (valueExists && value?.[1]) || now)\n        : null;\n      if (start && end && end > start) {\n        updateValue([start, end]);\n      }\n    },\n    [updateValue, value],\n  );\n\n  const refs = React.useMemo(\n    () => [daysStartRef, monthsStartRef, yearsStartRef, daysEndRef, monthsEndRef, yearsEndRef],\n    [daysStartRef, monthsStartRef, yearsStartRef, daysEndRef, monthsEndRef, yearsEndRef],\n  );\n\n  const onClear = React.useCallback(() => updateValue(undefined), [updateValue]);\n\n  const {\n    rootRef,\n    calendarRef,\n    open,\n    openCalendar,\n    closeCalendar,\n    toggleCalendar,\n    internalValue,\n    handleKeyDown,\n    setFocusedElement,\n    handleFieldEnter,\n    clear,\n    removeFocusFromField,\n  } = useDateInput({\n    maxElement: 5,\n    refs,\n    autoFocus,\n    disabled: disabled || readOnly,\n    elementsConfig,\n    onClear,\n    onInternalValueChange,\n    getInternalValue,\n    value,\n    onCalendarOpenChanged,\n    accessible,\n  });\n\n  const { sizeY = 'none' } = useAdaptivity();\n\n  const handleRootRef = useExternRef(rootRef, getRootRef);\n\n  const onCalendarChange = React.useCallback(\n    (newValue: DateRangeType | undefined) => {\n      updateValue(newValue);\n      if (closeOnChange && newValue?.[1] && newValue[1] !== value?.[1]) {\n        removeFocusFromField();\n      }\n    },\n    [updateValue, closeOnChange, value, removeFocusFromField],\n  );\n\n  // при переключении месяцев высота календаря может меняться,\n  // чтобы календарь не прыгал при переключении месяцев каждый раз на\n  // лучшую позицию мы запоминаем последнюю удачную, чтобы календарь оставался\n  // на ней, пока помещается.\n  const [calendarPlacement, setCalendarPlacement] =\n    React.useState<PlacementWithAuto>(calendarPlacementProp);\n\n  const { locale } = useConfigProvider();\n  const currentDateLabel = React.useMemo(() => {\n    if (!value) {\n      return null;\n    }\n    const [startDate, endDate] = value;\n    if (!startDate || !endDate) {\n      return null;\n    }\n    return [\n      new Intl.DateTimeFormat(locale, {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n      }).format(startDate),\n      new Intl.DateTimeFormat(locale, {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n      }).format(endDate),\n    ].join(' - ');\n  }, [locale, value]);\n\n  const currentDateLabelId = React.useId();\n  const ariaLabelId = React.useId();\n\n  const showCalendarOnInputAreaClick = React.useCallback(() => {\n    handleFieldEnter();\n    if (accessible) {\n      openCalendar();\n    }\n  }, [handleFieldEnter, openCalendar, accessible]);\n\n  return (\n    <FormField\n      style={style}\n      className={classNames(sizeY !== 'regular' && sizeYClassNames[sizeY], className)}\n      getRootRef={handleRootRef}\n      role=\"group\"\n      aria-labelledby={`${ariaLabelId} ${currentDateLabelId}`}\n      after={\n        <>\n          {!disableCalendar && (accessible || (!accessible && !value)) ? (\n            <IconButton\n              hoverMode=\"opacity\"\n              label={showCalendarLabel}\n              onClick={toggleCalendar}\n              data-testid={showCalendarButtonTestId}\n            >\n              <Icon20CalendarOutline />\n            </IconButton>\n          ) : null}\n          {value && !readOnly ? (\n            <IconButton\n              hoverMode=\"opacity\"\n              label={clearFieldLabel}\n              onClick={clear}\n              data-testid={clearButtonTestId}\n            >\n              <Icon16Clear />\n            </IconButton>\n          ) : null}\n        </>\n      }\n      disabled={disabled}\n      {...props}\n    >\n      <div className={dateInputStyles.wrapper}>\n        {ariaLabel && <VisuallyHidden id={ariaLabelId}>{ariaLabel}</VisuallyHidden>}\n        {currentDateLabel && (\n          <VisuallyHidden id={currentDateLabelId}>{currentDateLabel}</VisuallyHidden>\n        )}\n        <VisuallyHidden\n          id={id}\n          Component=\"input\"\n          readOnly\n          aria-hidden\n          name={name}\n          tabIndex={readOnly ? 0 : -1}\n          value={\n            value\n              ? `${value[0] ? dateFormatter.format(value[0]) : ''} - ${\n                  value[1] ? dateFormatter.format(value[1]) : ''\n                }`\n              : ''\n          }\n          onFocus={handleFieldEnter}\n        />\n        <Text\n          className={dateInputStyles.input}\n          onClick={showCalendarOnInputAreaClick}\n          normalize={false}\n        >\n          <NumberInputLike\n            value={internalValue[0]}\n            minValue={1}\n            maxValue={31}\n            onKeyDown={readOnly ? undefined : handleKeyDown}\n            length={2}\n            getRootRef={daysStartRef}\n            index={0}\n            readOnly={readOnly}\n            onElementSelect={setFocusedElement}\n            label={changeStartDayLabel}\n            data-testid={startDateTestsProps?.day}\n          />\n          <InputLikeDivider>.</InputLikeDivider>\n          <NumberInputLike\n            value={internalValue[1]}\n            minValue={1}\n            maxValue={12}\n            onKeyDown={handleKeyDown}\n            length={2}\n            getRootRef={monthsStartRef}\n            index={1}\n            onElementSelect={setFocusedElement}\n            readOnly={readOnly}\n            label={changeStartMonthLabel}\n            data-testid={startDateTestsProps?.month}\n          />\n          <InputLikeDivider>.</InputLikeDivider>\n          <NumberInputLike\n            value={internalValue[2]}\n            minValue={1}\n            maxValue={275750}\n            onKeyDown={handleKeyDown}\n            length={4}\n            getRootRef={yearsStartRef}\n            index={2}\n            onElementSelect={setFocusedElement}\n            readOnly={readOnly}\n            label={changeStartYearLabel}\n            data-testid={startDateTestsProps?.year}\n          />\n          <InputLikeDivider>{' — '}</InputLikeDivider>\n          <NumberInputLike\n            value={internalValue[3]}\n            minValue={1}\n            maxValue={31}\n            onKeyDown={handleKeyDown}\n            length={2}\n            getRootRef={daysEndRef}\n            index={3}\n            onElementSelect={setFocusedElement}\n            readOnly={readOnly}\n            label={changeEndDayLabel}\n            data-testid={endDateTestsProps?.day}\n          />\n          <InputLikeDivider>.</InputLikeDivider>\n          <NumberInputLike\n            value={internalValue[4]}\n            minValue={1}\n            maxValue={12}\n            onKeyDown={handleKeyDown}\n            length={2}\n            getRootRef={monthsEndRef}\n            index={4}\n            onElementSelect={setFocusedElement}\n            readOnly={readOnly}\n            label={changeEndMonthLabel}\n            data-testid={endDateTestsProps?.month}\n          />\n          <InputLikeDivider>.</InputLikeDivider>\n          <NumberInputLike\n            value={internalValue[5]}\n            minValue={1}\n            maxValue={275750}\n            onKeyDown={handleKeyDown}\n            length={4}\n            getRootRef={yearsEndRef}\n            index={5}\n            onElementSelect={setFocusedElement}\n            readOnly={readOnly}\n            label={changeEndYearLabel}\n            data-testid={endDateTestsProps?.year}\n          />\n        </Text>\n      </div>\n      {open && !disableCalendar && (\n        <Popper\n          targetRef={rootRef}\n          offsetByMainAxis={8}\n          placement={calendarPlacement}\n          onPlacementChange={setCalendarPlacement}\n        >\n          <FocusTrap\n            onClose={closeCalendar}\n            disabled={disableFocusTrap ?? !accessible}\n            restoreFocus={restoreFocus ?? Boolean(accessible)}\n            captureEscapeKeyboardEvent={false}\n            mutationObserverOptions={CALENDAR_MUTATION_OBSERVER_OPTIONS}\n          >\n            <CalendarRange\n              value={value}\n              role=\"dialog\"\n              onChange={onCalendarChange}\n              aria-label={calendarLabel}\n              disablePast={disablePast}\n              disableFuture={disableFuture}\n              shouldDisableDate={shouldDisableDate}\n              getRootRef={calendarRef}\n              disablePickers={disablePickers}\n              prevMonthLabel={prevMonthLabel}\n              nextMonthLabel={nextMonthLabel}\n              changeMonthLabel={changeMonthLabel}\n              changeYearLabel={changeYearLabel}\n              prevMonthIcon={prevMonthIcon}\n              nextMonthIcon={nextMonthIcon}\n              renderDayContent={renderDayContent}\n              {...calendarTestsProps}\n            />\n          </FocusTrap>\n        </Popper>\n      )}\n    </FormField>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { mergeStyle } from '../../helpers/mergeStyle';\nimport { useExternRef } from '../../hooks/useExternRef';\nimport { useResizeObserver } from '../../hooks/useResizeObserver';\nimport { useStateWithPrev } from '../../hooks/useStateWithPrev';\nimport { millisecondsInSecond } from '../../lib/date';\nimport { useDOM } from '../../lib/dom';\nimport { animationVisibilityDelayStyles } from '../../styles/animationVisibilityDelay';\nimport type { CSSCustomProperties, HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Skeleton.module.css';\nimport stylesDelay from '../../styles/animationVisibilityDelay.module.css';\n\nconst CUSTOM_PROPERTY_GRADIENT_LEFT = '--vkui_internal--skeleton_gradient_left';\n\n/**\n * Синхронизирует анимацию скелетонов с помощью временных отрезков.\n *\n * ## visibilitychange\n *\n * В синхронизацию не заложен механизм перехода на оптимизации браузеров при\n * переходе на другую вкладку, поскольку нет уверенности в реальности таких\n * кейсов со скелетонами. Если такой кейс принесут, необходимо обработать\n * событие `visibilitychange` используя функцию `syncAnimation`.\n *\n * Смотри https://developer.chrome.com/blog/page-lifecycle-api/.\n *\n * @param duration Длительность анимации в секундах.\n */\nfunction useSkeletonSyncAnimation(disableAnimation: boolean, duration = 1.5) {\n  const [isAnimationStarted, setIsAnimationStarted] = React.useState<boolean>(false);\n  const timer = React.useRef<ReturnType<typeof setTimeout> | undefined>(undefined);\n\n  const syncAnimation = React.useCallback(() => {\n    clearTimeout(timer.current);\n    setIsAnimationStarted(false);\n\n    const durationInMilliseconds = duration * millisecondsInSecond;\n    const delay = durationInMilliseconds - (performance.now() % durationInMilliseconds);\n\n    timer.current = setTimeout(() => setIsAnimationStarted(true), delay);\n\n    return () => clearTimeout(timer.current);\n  }, [duration]);\n\n  React.useEffect(() => {\n    if (disableAnimation) {\n      setIsAnimationStarted(false);\n      return;\n    }\n\n    if (isAnimationStarted) {\n      return;\n    }\n\n    return syncAnimation();\n  }, [disableAnimation, isAnimationStarted, syncAnimation]);\n\n  return isAnimationStarted;\n}\n\n/**\n * Вычисляет позицию скелетона.\n */\nfunction useSkeletonPosition(rootRef: React.RefObject<HTMLElement | null>) {\n  const { document, window } = useDOM();\n  const [[skeletonGradientLeft, prevSkeletonGradientLeft], setSkeletonGradientLeft] =\n    useStateWithPrev('0');\n\n  const updatePosition = React.useCallback(() => {\n    const el = rootRef.current;\n    if (!el || !document) {\n      return;\n    }\n\n    const value = -(el.getBoundingClientRect().left - document.body.getBoundingClientRect().left);\n    const gradientValue = value === 0 ? '0' : `${value}px`;\n    if (prevSkeletonGradientLeft !== gradientValue) {\n      setSkeletonGradientLeft(gradientValue);\n    }\n  }, [document, prevSkeletonGradientLeft, rootRef, setSkeletonGradientLeft]);\n\n  React.useEffect(updatePosition, [updatePosition]);\n  useResizeObserver(window, updatePosition);\n\n  return skeletonGradientLeft;\n}\n\nexport interface SkeletonProps\n  extends HTMLAttributesWithRootRef<HTMLDivElement | HTMLSpanElement>,\n    Pick<\n      React.CSSProperties,\n      | 'width'\n      | 'height'\n      | 'inlineSize'\n      | 'blockSize'\n      | 'maxWidth'\n      | 'maxInlineSize'\n      | 'borderRadius'\n      | 'margin'\n    > {\n  /**\n   * Начальный цвет анимации.\n   */\n  colorFrom?: string;\n\n  /**\n   * Финальный цвет анимации.\n   */\n  colorTo?: string;\n\n  /**\n   * Выключает анимацию, в результате чего показывается только один цвет.\n   */\n  noAnimation?: boolean;\n\n  /**\n   * Длительность анимации в секундах.\n   */\n  duration?: number;\n\n  /**\n   * Задерживает отрисовку элемента на заданное количество миллисекунд.\n   */\n  visibilityDelay?: number;\n}\n\n/**\n * > Старайтесь минимизировать количество заглушек на экране. Не каждый элемент\n * > на экране должен заменяться заглушкой.\n * >\n * > Текстовые блоки лучше сокращать до трёх строк. Ширина последней строки\n * > скелета вычисляется, как 75% от ширины текстового блока. Высота скелетона\n * > автоматически подстраивается под размер шрифта, поэтому идеально\n * > вписывается в слоты компонентов, которые обычно ожидают текст.\n *\n * @since 6.1.0\n *\n * @see https://vkui.io/components/skeleton\n *\n */\nexport const Skeleton = ({\n  width,\n  height,\n  inlineSize,\n  blockSize,\n  maxWidth,\n  maxInlineSize,\n  borderRadius,\n  children,\n  colorFrom,\n  colorTo,\n  noAnimation = false,\n  duration,\n  margin,\n  getRootRef,\n  visibilityDelay,\n  ...restProps\n}: SkeletonProps): React.ReactNode => {\n  const rootRef = useExternRef(getRootRef);\n\n  const disableAnimation = !useSkeletonSyncAnimation(noAnimation, duration);\n  const skeletonGradientLeft = useSkeletonPosition(rootRef);\n\n  const skeletonStyle: React.CSSProperties & CSSCustomProperties = {\n    width,\n    height,\n    inlineSize,\n    blockSize,\n    maxWidth,\n    maxInlineSize,\n    borderRadius,\n    margin,\n    [CUSTOM_PROPERTY_GRADIENT_LEFT]: skeletonGradientLeft,\n  };\n\n  if (colorFrom) {\n    skeletonStyle['--vkui_internal--skeleton_color_from'] = colorFrom;\n  }\n\n  if (colorTo) {\n    skeletonStyle['--vkui_internal--skeleton_color_to'] = colorTo;\n  }\n\n  if (Number.isFinite(duration)) {\n    skeletonStyle['--vkui_internal--skeleton_animation_duration'] = `${duration}s`;\n  }\n\n  return (\n    <RootComponent\n      getRootRef={rootRef}\n      Component=\"span\"\n      baseClassName={classNames(\n        styles.host,\n        disableAnimation && styles.disableAnimation,\n        visibilityDelay && stylesDelay.visibilityDelay,\n      )}\n      baseStyle={mergeStyle(skeletonStyle, animationVisibilityDelayStyles(visibilityDelay))}\n      {...restProps}\n    >\n      {children || <>&zwnj;</>}\n    </RootComponent>\n  );\n};\n", "import * as React from 'react';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport styles from './Div.module.css';\n\nexport type DivProps = HTMLAttributesWithRootRef<HTMLDivElement>;\n\n/**\n * @see https://vkui.io/components/div\n */\nexport const Div = (props: DivProps): React.ReactNode => (\n  <RootComponent baseClassName={styles.host} {...props} />\n);\n", "import * as React from 'react';\nimport { defineComponentDisplayNames } from '../../lib/react/defineComponentDisplayNames';\nimport { Spinner, type SpinnerProps } from '../Spinner/Spinner';\n\nexport interface PanelSpinnerProps extends SpinnerProps {\n  /**\n   * Высота компонента.\n   */\n  height?: number;\n}\n\n/**\n * @see https://vkui.io/components/panel#panel-spinner\n */\n// eslint-disable-next-line react/display-name -- используется defineComponentDisplayNames\nexport const PanelSpinner = React.memo(\n  ({ height = 96, style, ...restProps }: PanelSpinnerProps) => (\n    <Spinner size=\"m\" {...restProps} style={{ height, ...style }} />\n  ),\n);\n\nif (process.env.NODE_ENV !== 'production') {\n  defineComponentDisplayNames(PanelSpinner, 'PanelSpinner');\n}\n", "'use client';\n\nimport { Icon24CancelOutline, Icon28CancelOutline } from '@vkontakte/icons';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { AdaptiveIconRenderer } from '../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport {\n  PanelHeaderButton,\n  type PanelHeaderButtonProps,\n} from '../PanelHeaderButton/PanelHeaderButton';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\n\nexport type PanelHeaderCloseProps = Omit<PanelHeaderButtonProps, 'children'>;\n\n/**\n * @see https://vkui.io/components/panel-header#panel-header-close\n */\nexport const PanelHeaderClose = ({\n  label = 'Отмена',\n  ...restProps\n}: PanelHeaderCloseProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  return (\n    <PanelHeaderButton\n      {...restProps}\n      label={platform === 'ios' ? label : label && <VisuallyHidden>{label}</VisuallyHidden>}\n    >\n      {platform !== 'ios' && (\n        <AdaptiveIconRenderer IconCompact={Icon24CancelOutline} IconRegular={Icon28CancelOutline} />\n      )}\n    </PanelHeaderButton>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport {\n  Icon20ChevronLeftOutline,\n  Icon24ArrowLeftOutline,\n  Icon28ArrowLeftOutline,\n  Icon28ChevronBack,\n  Icon28ChevronLeftOutline,\n} from '@vkontakte/icons';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivity } from '../../hooks/useAdaptivity';\nimport { useConfigDirection } from '../../hooks/useConfigDirection';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport type { PlatformType } from '../../lib/platform';\nimport { AdaptiveIconRenderer } from '../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport {\n  PanelHeaderButton,\n  type PanelHeaderButtonProps,\n} from '../PanelHeaderButton/PanelHeaderButton';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\nimport styles from '../PanelHeaderButton/PanelHeaderButton.module.css';\n\nconst sizeXClassNames = {\n  none: styles.backSizeXNone,\n  compact: styles.backSizeXCompact,\n};\n\nexport type PanelHeaderBackProps = Omit<PanelHeaderButtonProps, 'children'> & {\n  /**\n   * Скрыть надпись на платформе `vkcom`.\n   */\n  hideLabelOnVKCom?: boolean;\n  /**\n   * Скрыть надпись на платформе `ios`.\n   */\n  hideLabelOnIOS?: boolean;\n};\n\nconst getBackIcon = (platform: PlatformType) => {\n  switch (platform) {\n    case 'ios':\n      return <Icon28ChevronBack />;\n    case 'vkcom':\n      return (\n        <AdaptiveIconRenderer\n          IconCompact={Icon20ChevronLeftOutline}\n          IconRegular={Icon28ChevronLeftOutline}\n        />\n      );\n    default:\n      return (\n        <AdaptiveIconRenderer\n          IconCompact={Icon24ArrowLeftOutline}\n          IconRegular={Icon28ArrowLeftOutline}\n        />\n      );\n  }\n};\n\n/**\n * @see https://vkui.io/components/panel-header#panel-header-back\n */\nexport const PanelHeaderBack = ({\n  label = 'Назад',\n  className,\n  hideLabelOnVKCom = false,\n  hideLabelOnIOS = false,\n  ...restProps\n}: PanelHeaderBackProps): React.ReactNode => {\n  const platform = usePlatform();\n  const direction = useConfigDirection();\n  const { sizeX = 'none' } = useAdaptivity();\n  // также label нужно скрывать при platform === 'ios' && sizeX === regular\n  // https://github.com/VKCOM/VKUI/blob/master/src/components/PanelHeaderButton/PanelHeaderButton.css#L104\n  const showLabel =\n    (platform === 'vkcom' && !hideLabelOnVKCom) || (platform === 'ios' && !hideLabelOnIOS);\n\n  return (\n    <PanelHeaderButton\n      {...restProps}\n      className={classNames(\n        sizeX !== 'regular' && sizeXClassNames[sizeX],\n        platform === 'ios' && styles.backIos,\n        platform === 'vkcom' && styles.backVkcom,\n        showLabel && !!label && styles.backHasLabel,\n        direction === 'rtl' && styles.rtl,\n        className,\n      )}\n      label={showLabel ? label : label && <VisuallyHidden>{label}</VisuallyHidden>}\n    >\n      {getBackIcon(platform)}\n    </PanelHeaderButton>\n  );\n};\n", "'use client';\n\nimport { Icon24DoneOutline, Icon28DoneOutline } from '@vkontakte/icons';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { AdaptiveIconRenderer } from '../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport {\n  PanelHeaderButton,\n  type PanelHeaderButtonProps,\n} from '../PanelHeaderButton/PanelHeaderButton';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\n\nexport type PanelHeaderSubmitProps = Omit<PanelHeaderButtonProps, 'children'>;\n\n/**\n * @see https://vkui.io/components/panel-header#panel-header-submit\n */\nexport const PanelHeaderSubmit = ({\n  label = 'Готово',\n  ...restProps\n}: PanelHeaderSubmitProps): React.ReactNode => {\n  const platform = usePlatform();\n\n  return (\n    <PanelHeaderButton\n      primary\n      label={platform === 'ios' ? label : label && <VisuallyHidden>{label}</VisuallyHidden>}\n      {...restProps}\n    >\n      {platform !== 'ios' && (\n        <AdaptiveIconRenderer IconCompact={Icon24DoneOutline} IconRegular={Icon28DoneOutline} />\n      )}\n    </PanelHeaderButton>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport {\n  Icon24DoneOutline,\n  Icon24PenOutline,\n  Icon28DoneOutline,\n  Icon28EditOutline,\n} from '@vkontakte/icons';\nimport { usePlatform } from '../../hooks/usePlatform';\nimport { AdaptiveIconRenderer } from '../AdaptiveIconRenderer/AdaptiveIconRenderer';\nimport {\n  PanelHeaderButton,\n  type PanelHeaderButtonProps,\n} from '../PanelHeaderButton/PanelHeaderButton';\nimport { VisuallyHidden } from '../VisuallyHidden/VisuallyHidden';\n\nexport interface PanelHeaderEditProps extends Omit<PanelHeaderButtonProps, 'label' | 'children'> {\n  /**\n   * Включен ли режим редактирования.\n   */\n  isActive?: boolean;\n  /**\n   * Текст кнопки, когда режим редактирования не активен. Визуально скрыт везде, кроме iOS.\n   */\n  editLabel?: string;\n  /**\n   * Текст кнопки при активном режиме редактирования для выхода из него. Визуально скрыт везде, кроме iOS.\n   */\n  doneLabel?: string;\n}\n\n/**\n * @see https://vkui.io/components/panel-header#panel-header-edit\n */\nexport const PanelHeaderEdit = ({\n  isActive = false,\n  editLabel = 'Редактировать',\n  doneLabel = 'Готово',\n  ...restProps\n}: PanelHeaderEditProps): React.ReactNode => {\n  const platform = usePlatform();\n  const label = isActive ? doneLabel : editLabel;\n\n  return (\n    <PanelHeaderButton\n      {...restProps}\n      label={platform === 'ios' ? label : label && <VisuallyHidden>{label}</VisuallyHidden>}\n    >\n      {platform !== 'ios' && (\n        <AdaptiveIconRenderer\n          IconCompact={isActive ? Icon24DoneOutline : Icon24PenOutline}\n          IconRegular={isActive ? Icon28DoneOutline : Icon28EditOutline}\n        />\n      )}\n    </PanelHeaderButton>\n  );\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { IconAppearanceProvider } from '@vkontakte/icons';\nimport { useAutoDetectColorScheme } from '../../hooks/useAutoDetectColorScheme';\nimport { useAutoDetectDirection } from '../../hooks/useAutoDetectDirection';\nimport { TokensClassProvider } from '../../lib/tokens/TokensClassProvider';\nimport { excludeKeysWithUndefined } from '../../lib/utils';\nimport {\n  ConfigProviderContext,\n  type ConfigProviderContextInterface,\n  useConfigProvider,\n  useConfigProviderContextMemo,\n} from './ConfigProviderContext';\n\nexport interface ConfigProviderProps extends Partial<ConfigProviderContextInterface> {\n  /**\n   * Содержимое.\n   */\n  children: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/components/config-provider\n */\nexport const ConfigProvider = (propsRaw: ConfigProviderProps): React.ReactNode => {\n  const props = excludeKeysWithUndefined(propsRaw);\n  const parentConfig = useConfigProvider();\n\n  const mergeProps = {\n    ...parentConfig,\n    ...props,\n  };\n\n  const colorScheme = useAutoDetectColorScheme(mergeProps.colorScheme);\n  const direction = useAutoDetectDirection(mergeProps.direction);\n\n  const configContext = useConfigProviderContextMemo({\n    ...mergeProps,\n    colorScheme,\n    direction,\n  });\n\n  return (\n    <ConfigProviderContext.Provider value={configContext}>\n      <IconAppearanceProvider value={colorScheme}>\n        <TokensClassProvider>{mergeProps.children}</TokensClassProvider>\n      </IconAppearanceProvider>\n    </ConfigProviderContext.Provider>\n  );\n};\n", "import * as React from 'react';\nimport { noop } from '@vkontakte/vkjs';\nimport { ColorScheme, type ColorSchemeType } from '../lib/colorScheme';\nimport { useDOM } from '../lib/dom';\nimport { matchMediaListAddListener, matchMediaListRemoveListener } from '../lib/matchMedia';\nimport { useIsomorphicLayoutEffect } from '../lib/useIsomorphicLayoutEffect';\n\n/**\n * @private\n */\nexport const useAutoDetectColorScheme = (colorSchemeProp?: ColorSchemeType): ColorSchemeType => {\n  const { window } = useDOM();\n\n  const [colorScheme, setColorScheme] = React.useState<ColorSchemeType>(\n    colorSchemeProp || ColorScheme.LIGHT,\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    if (colorSchemeProp) {\n      setColorScheme(colorSchemeProp);\n      return noop;\n    }\n\n    const mediaQuery = window ? window.matchMedia('(prefers-color-scheme: dark)') : undefined;\n\n    if (!mediaQuery) {\n      return noop;\n    }\n\n    const check = (event: MediaQueryList | MediaQueryListEvent) => {\n      // eslint-disable-next-line no-restricted-properties\n      setColorScheme(event.matches ? ColorScheme.DARK : ColorScheme.LIGHT);\n    };\n    check(mediaQuery);\n    matchMediaListAddListener(mediaQuery, check);\n    return () => matchMediaListRemoveListener(mediaQuery, check);\n  }, [window, colorSchemeProp]);\n\n  return colorScheme;\n};\n", "import * as React from 'react';\nimport { type Direction } from '../lib/direction';\nimport { useDOM } from '../lib/dom';\n\nexport const useAutoDetectDirection = (directionProp: Direction | undefined): Direction => {\n  const { window, document } = useDOM();\n\n  return React.useMemo(() => {\n    if (directionProp) {\n      return directionProp;\n    }\n    if (!window || !document) {\n      return 'ltr';\n    }\n    const styleDeclaration = window.getComputedStyle(document.body);\n    return (styleDeclaration.direction as Direction) || 'ltr';\n  }, [directionProp, document, window]);\n};\n", "import * as React from 'react';\nimport { type ConfigProviderContextInterface } from '../ConfigProvider/ConfigProviderContext';\nimport { ConfigProviderOverride } from '../ConfigProvider/ConfigProviderOverride';\n\nexport interface LocaleProviderProps {\n  /**\n   * Строка с языковой меткой BCP 47.\n   */\n  value: ConfigProviderContextInterface['locale'];\n  /**\n   * Содержимое.\n   */\n  children: React.ReactNode;\n}\n\n/**\n * Компонент, прокидывающий локаль. Список можно найти в\n * [реестре языковых подметок IANA](https://www.iana.org/assignments/language-subtag-registry/language-subtag-registry).\n *\n * @since 5.0.0\n * @see https://vkui.io/components/locale-provider\n */\nexport function LocaleProvider({ value, children }: LocaleProviderProps): React.ReactNode {\n  return <ConfigProviderOverride locale={value}>{children}</ConfigProviderOverride>;\n}\n", "import * as React from 'react';\nimport { type ConfigProviderContextInterface } from '../ConfigProvider/ConfigProviderContext';\nimport { ConfigProviderOverride } from '../ConfigProvider/ConfigProviderOverride';\n\nexport interface DirectionProviderProps {\n  /**\n   * Направление контента.\n   */\n  value: ConfigProviderContextInterface['direction'];\n  /**\n   * Содержимое.\n   */\n  children: React.ReactNode;\n}\n\n/**\n * Компонент, прокидывающий направление контента.\n * @see https://vkui.io/components/direction-provider\n * @since 7.2.0\n */\nexport function DirectionProvider({ value, children }: DirectionProviderProps): React.ReactNode {\n  return <ConfigProviderOverride direction={value}>{children}</ConfigProviderOverride>;\n}\n", "import * as React from 'react';\nimport type { PlatformType } from '../../lib/platform';\nimport { TokensClassProvider } from '../../lib/tokens/TokensClassProvider';\nimport { ConfigProviderOverride } from '../ConfigProvider/ConfigProviderOverride';\n\nexport interface PlatformProviderProps {\n  /**\n   * Платформа.\n   */\n  value: PlatformType;\n  /**\n   * Содержимое.\n   */\n  children: React.ReactNode;\n}\n\n/**\n * Компонент, позволяющий переопределить платформу для части приложения.\n *\n * @since 5.1.0\n * @see https://vkui.io/components/platform-provider\n */\nexport function PlatformProvider({ value, children }: PlatformProviderProps): React.ReactNode {\n  return (\n    <ConfigProviderOverride platform={value}>\n      <TokensClassProvider>{children}</TokensClassProvider>\n    </ConfigProviderOverride>\n  );\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { useReferenceElement } from '../../hooks/useReferenceElement';\nimport {\n  type FloatingComponentProps,\n  type FloatingContentRenderProp,\n  type OnShownChange,\n} from '../../lib/floating';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { type FloatingArrowProps as FloatingArrowPropsPrivate } from '../FloatingArrow/FloatingArrow';\nimport type { FocusTrapProps } from '../FocusTrap/FocusTrap';\nimport { usePopover } from './usePopover';\n\n/**\n * @alias\n * @public\n */\nexport type PopoverArrowProps = Omit<\n  FloatingArrowPropsPrivate,\n  'getRootRef' | 'coords' | 'placement' | 'Icon'\n>;\n\n/**\n * @alias\n * @public\n */\nexport type PopoverOnShownChange = OnShownChange;\n\n/**\n * @alias\n * @public\n */\nexport type PopoverContentRenderProp = FloatingContentRenderProp;\n\ntype AllowedFloatingComponentProps = Pick<\n  FloatingComponentProps,\n  | 'arrow'\n  | 'arrowHeight'\n  | 'arrowPadding'\n  | 'placement'\n  | 'onPlacementChange'\n  | 'trigger'\n  | 'content'\n  | 'hoverDelay'\n  | 'closeAfterClick'\n  | 'offsetByMainAxis'\n  | 'offsetByCrossAxis'\n  | 'defaultShown'\n  | 'shown'\n  | 'onShownChange'\n  | 'onShownChanged'\n  | 'usePortal'\n  | 'sameWidth'\n  | 'hideWhenReferenceHidden'\n  | 'onReferenceHiddenChange'\n  | 'disabled'\n  | 'disableInteractive'\n  | 'disableCloseOnClickOutside'\n  | 'disableCloseOnEscKey'\n  | 'autoFocus'\n  | 'restoreFocus'\n  | 'children'\n  | 'zIndex'\n  | 'disableFlipMiddleware'\n  | 'disableShiftMiddleware'\n  | 'customMiddlewares'\n  | 'strategy'\n  | 'disableFocusTrap'\n>;\n\n/**\n * @public\n */\nexport interface PopoverProps\n  extends Omit<AllowedFloatingComponentProps, 'autoFocus'>,\n    Omit<HTMLAttributesWithRootRef<HTMLDivElement>, keyof FloatingComponentProps> {\n  /**\n   * Отключает у всплывающего элемента стилизацию по умолчанию.\n   *\n   * У `content`:\n   * - _background_\n   * - _border-radius_\n   * - _box-shadow_.\n   *\n   * У `arrow`:\n   * - _color_.\n   *\n   * Используется в случае, если необходимо стилизовать по своему. Для `arrow` _color_ можно\n   * определить через в `arrowProps.iconClassName` или `arrowProps.iconStyle`.\n   */\n  noStyling?: boolean;\n  /**\n   * Позволяет набросить на стрелку пользовательские атрибуты.\n   */\n  arrowProps?: PopoverArrowProps;\n  /**\n   * Пользовательская SVG иконка.\n   *\n   * Требования:\n   *\n   * 1. Иконка по умолчанию должна быть направлена вверх (a.k.a `IconUp`).\n   * 2. Чтобы избежать проблемы с пространством между стрелкой и контентом на некоторых экранах,\n   *    растяните кривую по высоте на `1px` и увеличьте на этот размер `height` и `viewBox` SVG.\n   *    (смотри https://github.com/VKCOM/VKUI/pull/4496).\n   * 3. Передайте высоту иконки в параметр `arrowHeight`. В значении высоты можно исключить хак с `1px` из п.2.\n   * 4. Убедитесь, что компонент принимает все валидные для SVG параметры.\n   * 5. Убедитесь, что SVG и её элементы наследует цвет через `fill=\"currentColor\"`.\n   */\n  ArrowIcon?: FloatingArrowPropsPrivate['Icon'];\n  /**\n   * Используется для того, чтобы не удалять всплывающий элемент из DOM дерева при скрытии.\n   */\n  keepMounted?: boolean;\n  /**\n   * Управление автоматическим фокусом при открытии всплывающего элемента.\n   */\n  autoFocus?: FocusTrapProps['autoFocus'];\n}\n\n/**\n * @see https://vkui.io/components/popover\n */\nexport const Popover = ({ children, ...restProps }: PopoverProps): React.ReactNode => {\n  const { anchorRef, anchorProps, popover } = usePopover<HTMLDivElement>(restProps);\n\n  const reference = useReferenceElement(children, anchorProps, anchorRef);\n\n  return (\n    <React.Fragment>\n      {reference}\n      {popover}\n    </React.Fragment>\n  );\n};\n", "import { type Ref, useCallback } from 'react';\nimport * as React from 'react';\nimport { classNames } from '@vkontakte/vkjs';\nimport { useFloatingElement, type UseFloatingElementProps } from '../../hooks/useFloatingElement';\nimport { injectAriaExpandedPropByRole } from '../../lib/accessibility';\nimport { animationFadeClassNames, transformOriginClassNames } from '../../lib/animation';\nimport { type ReferenceProps } from '../../lib/floating/useFloatingWithInteractions/types';\nimport { AppRootPortal } from '../AppRoot/AppRootPortal';\nimport {\n  DEFAULT_ARROW_HEIGHT,\n  DEFAULT_ARROW_PADDING,\n  DefaultIcon,\n} from '../FloatingArrow/DefaultIcon';\nimport { FloatingArrow } from '../FloatingArrow/FloatingArrow';\nimport { FocusTrap } from '../FocusTrap/FocusTrap';\nimport { type PopoverProps } from './Popover';\nimport styles from './Popover.module.css';\n\nexport type UsePopoverProps = Omit<PopoverProps, 'children'> & {\n  [key: `data-${string}`]: string | number | boolean;\n};\n\nexport type UsePopoverResult<ElementType extends HTMLElement = HTMLElement> = {\n  /**\n   * Реф на якорный элемент.\n   */\n  anchorRef: Ref<ElementType>;\n  /**\n   * Свойства для якорного элемента, содержит необходимые обработчики.\n   */\n  anchorProps: ReferenceProps<ElementType>;\n  /**\n   * Отрендеренный компонент всплывающего элемента.\n   */\n  popover: React.ReactNode | null;\n};\n\nexport const usePopover = <ElementType extends HTMLElement = HTMLElement>({\n  // UsePopoverProps\n  arrow: withArrow,\n  arrowHeight = DEFAULT_ARROW_HEIGHT,\n  arrowPadding = DEFAULT_ARROW_PADDING,\n  placement = 'bottom-start',\n  onPlacementChange,\n  disableFlipMiddleware = false,\n  disableShiftMiddleware = false,\n  trigger = 'click',\n  strategy,\n  content,\n  hoverDelay = 150,\n  closeAfterClick,\n  offsetByMainAxis = 8,\n  offsetByCrossAxis = 0,\n  sameWidth,\n  hideWhenReferenceHidden,\n  onReferenceHiddenChange,\n  disabled,\n  disableInteractive,\n  disableCloseOnClickOutside,\n  disableCloseOnEscKey,\n  keepMounted = false,\n  customMiddlewares,\n  // uncontrolled\n  defaultShown = false,\n  // controlled\n  shown: shownProp,\n  onShownChange,\n  onShownChanged,\n\n  // Для AppRootPortal\n  usePortal = true,\n\n  // Для FloatingArrow\n  arrowProps,\n  ArrowIcon = DefaultIcon,\n\n  // FocusTrapProps\n  autoFocus = true,\n  restoreFocus = true,\n  className,\n  noStyling = false,\n  zIndex = 'var(--vkui--z_index_popout)',\n  disableFocusTrap,\n  // a11y\n  role = 'dialog',\n  ...restPopoverProps\n}: UsePopoverProps): UsePopoverResult<ElementType> => {\n  const renderFloatingComponent: UseFloatingElementProps<HTMLDivElement>['renderFloatingComponent'] =\n    React.useCallback(\n      ({\n        shown,\n        middlewareData,\n        placement: resolvedPlacement,\n        setArrowRef,\n        floatingRef,\n        floatingProps,\n        willBeHide,\n        onRestoreFocus,\n        onClose,\n      }) => {\n        if (!shown && !keepMounted) {\n          return null;\n        }\n        const hidden = keepMounted && !shown;\n\n        let arrow: React.ReactElement | null = null;\n        if (withArrow) {\n          const { arrow: arrowCoords } = middlewareData;\n          arrow = (\n            <FloatingArrow\n              iconClassName={noStyling ? undefined : styles.arrow}\n              {...arrowProps}\n              coords={arrowCoords}\n              placement={resolvedPlacement}\n              getRootRef={setArrowRef}\n              Icon={ArrowIcon}\n            />\n          );\n        }\n        return (\n          <AppRootPortal usePortal={usePortal}>\n            <div\n              ref={floatingRef}\n              className={classNames(styles.host, hidden && styles.hidden)}\n              {...floatingProps}\n              style={{\n                zIndex: !hidden ? zIndex : undefined,\n                ...floatingProps.style,\n              }}\n            >\n              <FocusTrap\n                {...restPopoverProps}\n                role={role}\n                className={classNames(\n                  styles.in,\n                  noStyling ? undefined : styles.inWithStyling,\n                  willBeHide ? animationFadeClassNames.out : animationFadeClassNames.in,\n                  transformOriginClassNames[resolvedPlacement],\n                  className,\n                )}\n                mount={!hidden}\n                disabled={hidden || disableFocusTrap}\n                autoFocus={disableInteractive ? false : autoFocus}\n                restoreFocus={restoreFocus ? () => onRestoreFocus(restoreFocus) : false}\n              >\n                {arrow}\n                {typeof content === 'function' ? content({ onClose }) : content}\n              </FocusTrap>\n            </div>\n          </AppRootPortal>\n        );\n      },\n      [\n        ArrowIcon,\n        arrowProps,\n        autoFocus,\n        className,\n        content,\n        disableFocusTrap,\n        disableInteractive,\n        keepMounted,\n        noStyling,\n        restPopoverProps,\n        restoreFocus,\n        role,\n        usePortal,\n        withArrow,\n        zIndex,\n      ],\n    );\n\n  const remapReferenceProps: Exclude<UseFloatingElementProps['remapReferenceProps'], undefined> =\n    useCallback(\n      ({ shown, ...referenceProps }) => injectAriaExpandedPropByRole(referenceProps, shown, role),\n      [role],\n    );\n\n  const { anchorRef, anchorProps, component } = useFloatingElement<ElementType, HTMLDivElement>({\n    arrow: withArrow,\n    arrowHeight,\n    arrowPadding,\n    placement,\n    offsetByMainAxis,\n    offsetByCrossAxis,\n    sameWidth,\n    hideWhenReferenceHidden,\n    disableFlipMiddleware,\n    disableShiftMiddleware,\n    customMiddlewares,\n\n    trigger,\n    strategy,\n    hoverDelay,\n    onReferenceHiddenChange,\n    closeAfterClick,\n    disabled,\n    disableInteractive,\n    disableCloseOnClickOutside,\n    disableCloseOnEscKey,\n    defaultShown,\n    shown: shownProp,\n    onShownChange,\n    onShownChanged,\n\n    onPlacementChange,\n    renderFloatingComponent,\n    remapReferenceProps,\n  });\n\n  return {\n    anchorRef,\n    anchorProps,\n    popover: component,\n  };\n};\n", "'use client';\n\nimport * as React from 'react';\nimport { useConfigProvider } from '../components/ConfigProvider/ConfigProviderContext';\nimport type { HasPlatform } from '../types';\n\nexport function withPlatform<T extends HasPlatform>(\n  Component: React.ComponentType<T>,\n): React.FC<Omit<T, keyof HasPlatform>> {\n  function WithPlatform(props: Omit<T, keyof HasPlatform>) {\n    const { platform } = useConfigProvider();\n\n    return <Component {...(props as T)} platform={platform} />;\n  }\n  return WithPlatform;\n}\n", "import { useConfigProvider } from '../components/ConfigProvider/ConfigProviderContext';\n\nexport function useLocale(): string {\n  const { locale } = useConfigProvider();\n\n  return locale;\n}\n", "import { useEffect, useState } from 'react';\nimport { useDOM } from '../lib/dom';\n\nexport type Orientation = 'portrait' | 'landscape';\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Учитывает особенности API на разных платформах.\n */\nfunction getOrientation(window: Window): Orientation {\n  const angle = Math.abs(\n    // eslint-disable-next-line compat/compat\n    window.screen?.orientation?.angle ?? Number(window.orientation),\n  );\n\n  return angle === 90 ? 'landscape' : 'portrait';\n}\n\n/**\n * Возвращает текущую ориентация экрана на человеческом языке.\n * Обновляется при изменении ориентации.\n */\nexport function useOrientationChange(): Orientation {\n  const { window } = useDOM();\n\n  const [orientation, setOrientation] = useState<Orientation>('portrait');\n\n  useEffect(\n    function mount() {\n      /* istanbul ignore if: невозможный кейс (в SSR вызова этой функции не будет) */\n      if (!window) {\n        return;\n      }\n\n      const handleChange = () => {\n        setOrientation(getOrientation(window));\n      };\n\n      handleChange();\n\n      window.addEventListener('orientationchange', handleChange);\n      return function unmount() {\n        window.removeEventListener('orientationchange', handleChange);\n      };\n    },\n    [window],\n  );\n\n  return orientation;\n}\n", "import * as React from 'react';\nimport { NavPanelIdContext, NavViewIdContext } from './NavIdContext';\n\nexport const useNavId = (): {\n  view: string | undefined;\n  panel: string | undefined;\n} => ({\n  view: React.useContext(NavViewIdContext),\n  panel: React.useContext(NavPanelIdContext),\n});\n", "export function removeObjectKeys<T, K extends keyof T>(obj: T, keys: K[] = []): T {\n  let newObj: T = { ...obj };\n\n  keys.forEach((key: K) => delete newObj[key]);\n\n  return newObj;\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { ConfigProviderOverride } from '../components/ConfigProvider/ConfigProviderOverride';\nimport { type BrowserInfo, computeBrowserInfo } from './browser';\nimport { type Direction } from './direction';\nimport { platform as getPlatform } from './platform';\n\nexport interface SSRWrapperProps {\n  userAgent?: string;\n  browserInfo?: BrowserInfo;\n  direction?: Direction;\n  children?: React.ReactNode;\n}\n\n/**\n * @see https://vkui.io/overview/ssr\n */\nexport const SSRWrapper: React.FC<SSRWrapperProps> = ({\n  userAgent,\n  browserInfo,\n  direction = 'ltr',\n  children,\n}) => {\n  if (!browserInfo && userAgent) {\n    browserInfo = computeBrowserInfo(userAgent);\n  }\n\n  return (\n    <ConfigProviderOverride direction={direction} platform={getPlatform(browserInfo)}>\n      {children}\n    </ConfigProviderOverride>\n  );\n};\n", "import type { InitialsAvatarNumberGradients } from '../components/Avatar/Avatar';\n\n/**\n * Вычисляет цвет InitialsAvatar на основании переданного идентификатора объекта\n */\nexport function calcInitialsAvatarColor(objectId: number): InitialsAvatarNumberGradients {\n  return ((objectId % 6) + 1) as InitialsAvatarNumberGradients;\n}\n", "'use client';\n\nimport * as React from 'react';\nimport { classNames, noop } from '@vkontakte/vkjs';\nimport { withContext } from '../../hoc/withContext';\nimport { withPlatform } from '../../hoc/withPlatform';\nimport { millisecondsInSecond } from '../../lib/date';\nimport { canUseDOM, type DOMProps, withDOM } from '../../lib/dom';\nimport { getNavId, type NavIdProps } from '../../lib/getNavId';\nimport { warnOnce } from '../../lib/warnOnce';\nimport type { HasPlatform, HTMLAttributesWithRootRef } from '../../types';\nimport { ScrollContext, type ScrollContextInterface } from '../AppRoot/ScrollContext';\nimport {\n  ConfigProviderContext,\n  type ConfigProviderContextInterface,\n} from '../ConfigProvider/ConfigProviderContext';\nimport { NavViewIdContext } from '../NavIdContext/NavIdContext';\nimport { NavTransitionProvider } from '../NavTransitionContext/NavTransitionContext';\nimport { NavTransitionDirectionProvider } from '../NavTransitionDirectionContext/NavTransitionDirectionContext';\nimport { SplitColContext, type SplitColContextProps } from '../SplitCol/SplitColContext';\nimport { type CustomTouchEvent, Touch } from '../Touch/Touch';\nimport {\n  getSwipeBackPredicates,\n  hasHorizontalScrollableElementWithScrolledToLeft,\n  swipeBackExcluded,\n} from './utils';\nimport styles from './View.module.css';\n\nconst warn = warnOnce('ViewInfinite');\n\ninterface Scrolls {\n  [index: string]: Array<number | undefined>;\n}\n\ninterface ViewsScrolls {\n  [index: string]: Scrolls;\n}\n\ntype TransitionEventHandler = (e?: TransitionEvent) => void;\n\nexport let scrollsCache: ViewsScrolls = {};\n\n// eslint-disable-next-line jsdoc/require-jsdoc\nexport type TransitionParams = { from: string | null; to: string | null };\n\nexport interface ViewInfiniteProps\n  extends HTMLAttributesWithRootRef<HTMLElement>,\n    HasPlatform,\n    NavIdProps {\n  /**\n   * `id` активной панели.\n   */\n  activePanel: string;\n  /**\n   * Обработчик, который вызывается при завершении анимации смены активной панели.\n   */\n  onTransition?: (params: TransitionParams & { isBack: boolean }) => void;\n  /**\n   * Обработчик свайпа назад.\n   */\n  onSwipeBack?: () => void;\n  /**\n   * Обработчик начала анимации свайпа назад.\n   */\n  onSwipeBackStart?: (activePanel: string | null) => void | 'prevent';\n  /**\n   * Обработчик завершения анимации отмененного пользователем свайпа.\n   */\n  onSwipeBackCancel?: () => void;\n  /**\n   * Массив из id панелей в порядке открытия.\n   */\n  history?: string[];\n  /**\n   * Функция проверки перехода назад.\n   */\n  isBackCheck?: (params: TransitionParams) => boolean;\n  /**\n   * @ignore\n   */\n  splitCol?: SplitColContextProps;\n  /**\n   * @ignore\n   */\n  configProvider?: ConfigProviderContextInterface;\n  /**\n   * @ignore\n   */\n  scroll?: ScrollContextInterface;\n}\n\n/* eslint-disable jsdoc/require-jsdoc */\nexport interface ViewInfiniteState {\n  animated: boolean;\n\n  visiblePanels: Array<string | null>;\n  activePanel: string | null;\n  isBack?: boolean;\n  prevPanel: string | null;\n  nextPanel: string | null;\n\n  swipingBack?: boolean;\n  swipeBackStartX: number;\n  swipeBackShift: number;\n  swipeBackNextPanel: string | null;\n  swipeBackPrevPanel: string | null;\n  swipeBackResult: 'success' | 'fail' | null;\n\n  browserSwipe: boolean;\n}\n/* eslint-enable jsdoc/require-jsdoc */\n\nclass ViewInfiniteComponent extends React.Component<\n  ViewInfiniteProps & DOMProps,\n  ViewInfiniteState\n> {\n  constructor(props: ViewInfiniteProps) {\n    super(props);\n\n    this.state = {\n      animated: false,\n\n      visiblePanels: [props.activePanel],\n      activePanel: props.activePanel,\n      isBack: undefined,\n      prevPanel: null,\n      nextPanel: null,\n\n      swipingBack: undefined,\n      swipeBackStartX: 0,\n      swipeBackShift: 0,\n      swipeBackNextPanel: null,\n      swipeBackPrevPanel: null,\n      swipeBackResult: null,\n\n      browserSwipe: false,\n    };\n  }\n\n  static defaultProps: Partial<ViewInfiniteProps> = {\n    history: [],\n  };\n\n  private swipeBackPrevented = false;\n  private scrolls = scrollsCache[getNavId(this.props, warn) as string] || {};\n  private transitionFinishTimeout: ReturnType<typeof setTimeout> | undefined = undefined;\n  private readonly animationFinishTimeout: ReturnType<typeof setTimeout> | undefined = undefined;\n\n  get document() {\n    return this.props.document;\n  }\n\n  get window() {\n    return this.props.window;\n  }\n\n  get panels() {\n    return React.Children.toArray(this.props.children) as Array<React.ReactElement<NavIdProps>>;\n  }\n\n  panelNodes: { [id: string]: HTMLDivElement | null } = {};\n\n  componentWillUnmount() {\n    const id = getNavId(this.props);\n    if (id) {\n      scrollsCache[id] = this.scrolls;\n    }\n    if (this.animationFinishTimeout) {\n      clearTimeout(this.animationFinishTimeout);\n    }\n  }\n\n  componentDidUpdate(prevProps: ViewInfiniteProps, prevState: ViewInfiniteState) {\n    // Нужен переход\n    if (\n      prevProps.activePanel !== this.props.activePanel &&\n      !prevState.swipingBack &&\n      !prevState.browserSwipe\n    ) {\n      let isBack = false;\n\n      if (this.props.isBackCheck) {\n        isBack = this.props.isBackCheck({\n          from: prevProps.activePanel,\n          to: this.props.activePanel,\n        });\n      } else {\n        const firstLayerId = this.panels\n          .map((panel) => getNavId(panel.props, warn))\n          .find((id) => id === prevProps.activePanel || id === this.props.activePanel);\n        isBack = firstLayerId === this.props.activePanel;\n      }\n\n      this.blurActiveElement();\n\n      const prevScrolls = this.scrolls[prevProps.activePanel] || [];\n      const scrolls = {\n        ...this.scrolls,\n        [prevProps.activePanel]: [\n          ...prevScrolls,\n          this.props.scroll?.getScroll({ compensateKeyboardHeight: false }).y,\n        ],\n      };\n      this.scrolls = scrolls;\n\n      if (this.shouldDisableTransitionMotion()) {\n        this.flushTransition(prevProps.activePanel, isBack);\n      } else {\n        this.setState({\n          visiblePanels: [prevProps.activePanel, this.props.activePanel],\n          prevPanel: prevProps.activePanel,\n          nextPanel: this.props.activePanel,\n          activePanel: null,\n          animated: true,\n          isBack,\n        });\n      }\n    }\n\n    // Закончилась анимация свайпа назад\n    if (prevProps.activePanel !== this.props.activePanel && prevState.swipingBack) {\n      const nextPanel = this.state.swipeBackNextPanel;\n      const prevPanel = this.state.swipeBackPrevPanel;\n      let scrollPosition: undefined | number = undefined;\n\n      this.scrolls = {\n        ...this.scrolls,\n      };\n\n      if (prevPanel !== null) {\n        const prevPanelScrolls = [...(this.scrolls[prevPanel] || [])].slice(0, -1);\n        this.scrolls[prevPanel] = prevPanelScrolls;\n      }\n      if (nextPanel !== null) {\n        const newPanelScrolls = [...(this.scrolls[nextPanel] || [])];\n        scrollPosition = newPanelScrolls.pop();\n        this.scrolls[nextPanel] = newPanelScrolls;\n      }\n\n      this.setState(\n        {\n          swipeBackPrevPanel: null,\n          swipeBackNextPanel: null,\n          swipingBack: false,\n          swipeBackResult: null,\n          swipeBackStartX: 0,\n          swipeBackShift: 0,\n          activePanel: nextPanel,\n          visiblePanels: [nextPanel],\n        },\n        () => {\n          this.props.scroll?.scrollTo(0, scrollPosition);\n          prevProps.onTransition &&\n            prevProps.onTransition({\n              isBack: true,\n              from: prevPanel,\n              to: nextPanel,\n            });\n        },\n      );\n    }\n\n    // Началась анимация завершения свайпа назад.\n    if (!prevState.swipeBackResult && this.state.swipeBackResult) {\n      this.waitTransitionFinish(\n        this.pickPanel(this.state.swipeBackNextPanel),\n        this.swipingBackTransitionEndHandler,\n      );\n    }\n\n    // Если свайп назад отменился (когда пользователь недостаточно сильно свайпнул)\n    if (\n      prevState.swipeBackResult === 'fail' &&\n      !this.state.swipeBackResult &&\n      this.state.activePanel !== null\n    ) {\n      const newPanelScrolls = [...(this.scrolls[this.state.activePanel] || [])];\n      const scrollPosition = newPanelScrolls.pop();\n      this.scrolls = {\n        ...this.scrolls,\n        [this.state.activePanel]: newPanelScrolls,\n      };\n\n      this.props.scroll?.scrollTo(0, scrollPosition);\n    }\n\n    // Закончился Safari свайп\n    if (prevProps.activePanel !== this.props.activePanel && this.state.browserSwipe) {\n      this.setState({\n        browserSwipe: false,\n        nextPanel: null,\n        prevPanel: null,\n        animated: false,\n        visiblePanels: [this.props.activePanel],\n        activePanel: this.props.activePanel,\n      });\n    }\n  }\n\n  shouldDisableTransitionMotion(): boolean {\n    return (\n      this.props.configProvider?.transitionMotionEnabled === false ||\n      !this.props.splitCol?.animate ||\n      this.props.platform === 'vkcom'\n    );\n  }\n\n  private transitionDisposer = noop;\n\n  private disposeTransition() {\n    this.transitionDisposer();\n    this.transitionDisposer = noop;\n  }\n\n  waitTransitionFinish(\n    elem: HTMLElement | null | undefined,\n    eventHandler: TransitionEventHandler,\n  ): void {\n    if (this.shouldDisableTransitionMotion()) {\n      this.disposeTransition();\n      this.transitionFinishTimeout = setTimeout(eventHandler);\n    } else if (elem) {\n      this.disposeTransition();\n      elem.addEventListener('transitionend', eventHandler);\n      this.transitionDisposer = () => {\n        elem.removeEventListener('transitionend', eventHandler);\n      };\n    } else {\n      if (this.transitionFinishTimeout) {\n        clearTimeout(this.transitionFinishTimeout);\n      }\n      this.transitionFinishTimeout = setTimeout(\n        eventHandler,\n        this.props.platform === 'android' || this.props.platform === 'vkcom' ? 300 : 600,\n      );\n    }\n  }\n\n  blurActiveElement(): void {\n    if (typeof this.window !== 'undefined' && this.document?.activeElement) {\n      (this.document.activeElement as HTMLElement).blur();\n    }\n  }\n\n  pickPanel(id: string | null) {\n    if (id === null) {\n      return undefined;\n    }\n    return this.panelNodes[id];\n  }\n\n  flushTransition(prevPanel: string, isBack: boolean) {\n    const activePanel = this.props.activePanel;\n\n    const prevPanelScrolls = [...(this.scrolls[prevPanel] || [])].slice(0, -1);\n    const newPanelScrolls = [...(this.scrolls[activePanel] || [])];\n    const scrollPosition = isBack ? newPanelScrolls.pop() : 0;\n    if (isBack) {\n      this.scrolls = {\n        ...this.scrolls,\n        [prevPanel]: prevPanelScrolls,\n        [activePanel]: newPanelScrolls,\n      };\n    }\n\n    this.setState(\n      {\n        prevPanel: null,\n        nextPanel: null,\n        visiblePanels: [activePanel],\n        activePanel: activePanel,\n        animated: false,\n        isBack,\n      },\n      () => {\n        this.props.scroll?.scrollTo(0, isBack ? scrollPosition : 0);\n        this.props.onTransition &&\n          this.props.onTransition({ isBack, from: prevPanel, to: activePanel });\n      },\n    );\n  }\n\n  transitionEndHandler = (): void => {\n    if (this.state.prevPanel !== null) {\n      this.flushTransition(this.state.prevPanel, Boolean(this.state.isBack));\n    }\n  };\n\n  swipingBackTransitionEndHandler = (e?: TransitionEvent): void => {\n    // indexOf because of vendor prefixes in old browsers\n    if (\n      !e ||\n      (e.propertyName.includes('transform') &&\n        e.target === this.pickPanel(this.state.swipeBackNextPanel))\n    ) {\n      switch (this.state.swipeBackResult) {\n        case 'fail':\n          this.onSwipeBackCancel();\n          break;\n        case 'success':\n          this.onSwipeBackSuccess();\n      }\n    }\n  };\n\n  onSwipeBackSuccess(): void {\n    this.props.onSwipeBack && this.props.onSwipeBack();\n  }\n\n  onSwipeBackCancel(): void {\n    this.props.onSwipeBackCancel && this.props.onSwipeBackCancel();\n    this.setState({\n      swipeBackPrevPanel: null,\n      swipeBackNextPanel: null,\n      swipingBack: false,\n      swipeBackResult: null,\n      swipeBackStartX: 0,\n      swipeBackShift: 0,\n    });\n  }\n\n  handleTouchMoveXForNativeIOSSwipeBackOrSwipeNext = (event: CustomTouchEvent) => {\n    if (this.state.browserSwipe) {\n      return;\n    }\n    const { swipeBackTriggered, viewportStartEdgeTouched, viewportEndEdgeTouched } =\n      getSwipeBackPredicates(event.startX, event.shiftX, this.window!.innerWidth);\n\n    if ((viewportStartEdgeTouched || viewportEndEdgeTouched) && swipeBackTriggered) {\n      this.setState({ browserSwipe: true });\n    }\n  };\n\n  handleTouchMoveXForIOSSwipeBackSimulation = (event: CustomTouchEvent) => {\n    if (this.swipeBackPrevented || swipeBackExcluded(event)) {\n      return;\n    }\n\n    const { swipedToOpposite, swipeBackTriggered, viewportStartEdgeTouched } =\n      getSwipeBackPredicates(event.startX, event.shiftX, this.window!.innerWidth);\n\n    if (this.state.animated && swipeBackTriggered) {\n      return;\n    }\n\n    if (!this.state.swipingBack && this.props.history && this.props.history.length > 1) {\n      if (swipedToOpposite) {\n        this.swipeBackPrevented = true;\n        return;\n      }\n\n      if (!swipeBackTriggered) {\n        return;\n      }\n\n      if (\n        !viewportStartEdgeTouched &&\n        hasHorizontalScrollableElementWithScrolledToLeft(event.originalEvent.target as HTMLElement)\n      ) {\n        this.swipeBackPrevented = true;\n        return;\n      }\n      // Начался свайп назад\n      if (this.props.onSwipeBackStart) {\n        const payload = this.props.onSwipeBackStart(this.state.activePanel);\n        if (payload === 'prevent') {\n          this.swipeBackPrevented = true;\n          return;\n        }\n      }\n\n      if (this.state.activePanel !== null) {\n        // Note: вызываем закрытие клавиатуры. В iOS это нативное поведение при свайпе.\n        this.blurActiveElement();\n        const prevScrolls = this.scrolls[this.state.activePanel] || [];\n        this.scrolls = {\n          ...this.scrolls,\n          [this.state.activePanel]: [...prevScrolls, this.props.scroll?.getScroll().y],\n        };\n      }\n\n      this.setState({\n        swipingBack: true,\n        swipeBackStartX: event.startX,\n        swipeBackPrevPanel: this.state.activePanel,\n        swipeBackNextPanel: this.props.history.slice(-2)[0],\n      });\n    }\n\n    if (this.state.swipingBack) {\n      if (event.shiftX < 0) {\n        this.setState({ swipeBackShift: 0 });\n      } else if (event.shiftX > this.window!.innerWidth - this.state.swipeBackStartX) {\n        this.setState({ swipeBackShift: this.window!.innerWidth });\n      } else {\n        this.setState({ swipeBackShift: event.shiftX });\n      }\n    }\n  };\n\n  handleTouchEndForIOSSwipeBackSimulation = (event: CustomTouchEvent) => {\n    this.swipeBackPrevented = false;\n\n    if (this.state.swipingBack && this.window) {\n      const speed = (this.state.swipeBackShift / event.duration) * millisecondsInSecond;\n      if (this.state.swipeBackShift === 0) {\n        this.onSwipeBackCancel();\n      } else if (this.state.swipeBackShift >= this.window.innerWidth) {\n        this.onSwipeBackSuccess();\n      } else if (speed > 250 || this.state.swipeBackShift >= this.window.innerWidth / 2) {\n        this.setState({ swipeBackResult: 'success' });\n      } else {\n        this.setState({ swipeBackResult: 'fail' });\n      }\n    }\n  };\n\n  calcPanelSwipeStyles(panelId: string | undefined): React.CSSProperties {\n    if (!canUseDOM || !this.window) {\n      return {};\n    }\n\n    const isPrev = panelId === this.state.swipeBackPrevPanel;\n    const isNext = panelId === this.state.swipeBackNextPanel;\n\n    if ((!isPrev && !isNext) || this.state.swipeBackResult) {\n      return {};\n    }\n\n    let prevPanelTranslate = `${this.state.swipeBackShift}px`;\n    let nextPanelTranslate = `${\n      -50 + (this.state.swipeBackShift * 100) / this.window.innerWidth / 2\n    }%`;\n    let prevPanelShadow =\n      (0.3 * (this.window.innerWidth - this.state.swipeBackShift)) / this.window.innerWidth;\n\n    if (this.state.swipeBackResult) {\n      return isPrev ? { boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})` } : {};\n    }\n\n    if (isNext) {\n      return {\n        transform: `translate3d(${nextPanelTranslate}, 0, 0)`,\n      };\n    }\n    if (isPrev) {\n      return {\n        transform: `translate3d(${prevPanelTranslate}, 0, 0)`,\n        boxShadow: `-2px 0 12px rgba(0, 0, 0, ${prevPanelShadow})`,\n      };\n    }\n\n    return {};\n  }\n\n  render() {\n    const {\n      platform,\n      activePanel: _1,\n      splitCol,\n      configProvider,\n      history,\n      id,\n      nav,\n      onTransition,\n      onSwipeBack,\n      onSwipeBackStart,\n      onSwipeBackCancel,\n      window,\n      document,\n      scroll,\n      isBackCheck,\n      className,\n      ...restProps\n    } = this.props;\n    const {\n      prevPanel,\n      nextPanel,\n      activePanel,\n      isBack,\n      animated,\n      swipeBackPrevPanel,\n      swipeBackNextPanel,\n      swipeBackResult,\n      swipingBack,\n    } = this.state;\n\n    const panels = this.panels\n      .filter((panel) => {\n        const panelId = getNavId(panel.props, warn);\n\n        return (\n          (panelId !== undefined && this.state.visiblePanels.includes(panelId)) ||\n          panelId === swipeBackPrevPanel ||\n          panelId === swipeBackNextPanel\n        );\n      })\n      .sort((panel) => {\n        const panelId = getNavId(panel.props, warn);\n        const isPrevPanel = panelId === prevPanel || panelId === swipeBackPrevPanel;\n        const isNextPanel = panelId === nextPanel || panelId === swipeBackNextPanel;\n\n        if (isNextPanel) {\n          return swipingBack || this.state.isBack ? -1 : 1;\n        }\n\n        if (isPrevPanel) {\n          return swipingBack || this.state.isBack ? 1 : -1;\n        }\n\n        return 0;\n      });\n\n    const disableAnimation = this.shouldDisableTransitionMotion();\n    const iOSSwipeBackSimulationEnabled =\n      !disableAnimation && platform === 'ios' && configProvider?.isWebView && Boolean(onSwipeBack);\n\n    return (\n      <NavViewIdContext.Provider value={id || nav}>\n        <Touch\n          Component=\"section\"\n          {...restProps}\n          className={classNames(\n            styles.host,\n            platform === 'ios' && classNames(styles.ios, 'vkuiInternalView--ios'),\n            !disableAnimation && this.state.animated && styles.animated,\n            !disableAnimation && this.state.swipingBack && styles.swipingBack,\n            disableAnimation && styles.noMotion,\n            className,\n          )}\n          onMoveX={\n            iOSSwipeBackSimulationEnabled\n              ? this.handleTouchMoveXForIOSSwipeBackSimulation\n              : platform === 'ios'\n                ? this.handleTouchMoveXForNativeIOSSwipeBackOrSwipeNext\n                : undefined\n          }\n          onEnd={\n            iOSSwipeBackSimulationEnabled ? this.handleTouchEndForIOSSwipeBackSimulation : undefined\n          }\n        >\n          <div className={styles.panels}>\n            {panels.map((panel) => {\n              const panelId = getNavId(panel.props, warn);\n              const isPrev = panelId === prevPanel || panelId === swipeBackPrevPanel;\n              const compensateScroll =\n                isPrev || panelId === swipeBackNextPanel || (panelId === nextPanel && isBack);\n              const isTransitionTarget = animated && panelId === (isBack ? prevPanel : nextPanel);\n              const scrollList = (panelId && this.scrolls[panelId]) || [];\n              const scroll = scrollList[scrollList.length - 1] || 0;\n\n              return (\n                <div\n                  className={classNames(\n                    styles.panel,\n                    panelId === activePanel && styles.panelActive,\n                    panelId === prevPanel && styles.panelPrev,\n                    panelId === nextPanel && styles.panelNext,\n                    panelId === swipeBackPrevPanel && styles.panelSwipeBackPrev,\n                    panelId === swipeBackNextPanel && styles.panelSwipeBackNext,\n                    swipeBackResult === 'success' && styles.panelSwipeBackSuccess,\n                    swipeBackResult === 'fail' && styles.panelSwipeBackFailed,\n                  )}\n                  onAnimationEnd={isTransitionTarget ? this.transitionEndHandler : undefined}\n                  ref={(el) => {\n                    panelId !== undefined && (this.panelNodes[panelId] = el);\n                  }}\n                  style={this.calcPanelSwipeStyles(panelId)}\n                  key={panelId}\n                >\n                  <div\n                    className={styles.panelIn}\n                    style={{ marginTop: compensateScroll ? -scroll : undefined }}\n                  >\n                    <NavTransitionDirectionProvider isBack={swipingBack || isBack}>\n                      <NavTransitionProvider\n                        entering={panelId === nextPanel || panelId === swipeBackNextPanel}\n                      >\n                        {panel}\n                      </NavTransitionProvider>\n                    </NavTransitionDirectionProvider>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </Touch>\n      </NavViewIdContext.Provider>\n    );\n  }\n}\n\nexport const ViewInfinite: React.FC<ViewInfiniteProps> = withContext(\n  withContext(\n    withContext(\n      withPlatform(withDOM<ViewInfiniteProps>(ViewInfiniteComponent)),\n      SplitColContext,\n      'splitCol',\n    ),\n    ConfigProviderContext,\n    'configProvider',\n  ),\n  ScrollContext,\n  'scroll',\n);\n", "'use client';\n\nimport * as React from 'react';\n\nexport function withContext<T, X>(\n  Component: React.ComponentType<T>,\n  Ctx: React.Context<X>,\n  prop: string,\n): React.FC<T> {\n  function WithContext(props: T) {\n    const context = React.useContext<X>(Ctx);\n\n    return <Component {...props} {...{ [prop]: context }} />;\n  }\n  return WithContext;\n}\n", "'use client';\n\nimport { classNames } from '@vkontakte/vkjs';\nimport { useAdaptivityWithJSMediaQueries } from '../../hooks/useAdaptivityWithJSMediaQueries';\nimport type { HTMLAttributesWithRootRef } from '../../types';\nimport { RootComponent } from '../RootComponent/RootComponent';\nimport { Separator } from '../Separator/Separator';\nimport styles from './ModalPageFooter.module.css';\n\nexport interface ModalPageFooterProps extends HTMLAttributesWithRootRef<HTMLDivElement> {\n  /**\n   * Отключение отображения разделителя.\n   */\n  noSeparator?: boolean;\n  /**\n   * Отключение отступов сверху и снизу.\n   */\n  noPadding?: boolean;\n}\n\nexport const ModalPageFooter = ({\n  noSeparator = false,\n  noPadding = false,\n  children,\n  ...restProps\n}: ModalPageFooterProps) => {\n  const { sizeX, isDesktop } = useAdaptivityWithJSMediaQueries();\n  return (\n    <RootComponent\n      baseClassName={classNames(\n        styles.host,\n        !noPadding && styles.padded,\n        isDesktop ? styles.hostDesktop : styles.hostMobile,\n      )}\n      {...restProps}\n    >\n      {!noSeparator && <Separator className={styles.Separator} padding={sizeX !== 'regular'} />}\n      {children}\n    </RootComponent>\n  );\n};\n"],
  "mappings": "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L,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EAEL,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,OAAO;EACP,QAAQ;EACR,MAAM;EACN,MAAM;EACN,MAAM;EACN,MAAM;EACN,KAAK;AACP;AAMA,IAAMC,8CAA8C;EAClD,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EAEL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EACL,KAAK;EAEL,KAAM;;EACN,KAAK;;EACL,KAAK;;EACL,KAAK;AACP;AAKO,IAAMC,iBAAN,WAAA;;WAAMA,gB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Ae,CAACK,mBAAmBF,MAAAA,KAAW,CAACA,OAAOG,SAAO;AAEpF;AAEA,IAAMC,kBAAkB,CACtBR,UAAkC,CAAA,GAClCS,WAAmBT,QAAQE,WAAM;AAEjC,MAAIQ,SAAS;AACb,MAAID,YAAY,GAAG;AACjB,WAAOC;EACT;AACA,WAASL,IAAII,WAAW,GAAGJ,KAAK,GAAGA,KAAK;AACtC,QAAID,SAASJ,QAAQK,CAAAA;AAErB,QAAI,CAACC,mBAAmBF,MAAAA,KAAW,CAACA,OAAOG,UAAU;AACnDG,eAASL;AACT;IACF;EACF;AACA,SAAOK;AACT;AA2EO,IAAMC,cAAc,CAAA,WAAA;MAA4B;;IAErDC,IAAIC;IACJC;IACAC;IACAC,SAAS;IACTC,MAAMC;IACNC;;IAGAnB,SAASoB;IACTC,WAAWC,gBAAgB;IAC3BC,mBAAmB;IACnBC,mBAAmBC;IACnBC,YAAYC;IACZC,YAAY;IACZC,WAAW;IACXC;IACAC;IACAC,cAAc;IACdC,WAAWC;IACXC,SAAS;IACTC;IACAC;IACAC;IACAC;IACAC;;IAGAC;IACAC,OAAOC;IACPC;IACAC,YAAYC;IACZC;IACAxC;IACAyC;IACAC,iBAAiBC;IACjBC,iBAAiBC;IACjBC,mBAAmBC;IACnBC,aAAaC;IACbC,eAAeC;IACfC;IACAC,SAASC;IACTC,eAAeC;IACfC,QAAQC;IACRC,WAAWC;IACXC,yBAAyB;IACzBC;IACAC;IACAC;;IAGAC;EAAc,IAEW,QADtBC,YAAAA,2BAAAA,QAAAA;IAnDH7D;IACAE;IACAC;IACAC;IACAC;IACAE;IAGAnB;IACAqB;IACAE;IACAC;IACAE;IACAE;IACAC;IACAC;IACAC;IACAC;IACAC;IACAE;IACAC;IACAC;IACAC;IACAC;IACAC;IAGAC;IACAC;IACAE;IACAC;IACAE;IACAxC;IACAyC;IACAC;IACAE;IACAE;IACAE;IACAE;IACAE;IACAC;IACAE;IACAE;IACAE;IACAE;IACAC;IACAC;IACAC;IAGAC;;AAGA,QAAM;;;IAGJ9B;IACAgC;IACAC;IACAC;IACAC;;IAEAC,UAAUC;IACVlC;IACA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ACvBC,YACA,SAASC,WACTC,cACAC,UACAC,aACAC,eACAC,mBACAC,mBACAC,aAAa,OACbC,gBACAC,oBACAC,gBACAC,YACAC,eAAe,GACfC,gBACA,cAAcC,YAAY,aAC1BC,mBAAmB,gBACnBC,qBAAqB,mBACrBC,iBAAiB,oBACjBC,iBAAiB,mBACjBC,mBAAmB,kBACnBC,kBAAkB,gBAClBC,sBACAC,MAAAA,QAAO,KACP,YAAYC,kBACZC,gBACAC,aACAC,aACAC,eACAC,eACAC,gBACAC,gBACAC,UACAC,2BACAC,kBACAC,aACAC,aACAC,UACAC,eACAC,aACAC,kBACAC,uBACAC,uBACAC,qBACAC,oBACAC,UAAS,IAEK,QADXC,QAAAA,2BAAAA,QAAAA;IA9CH9C;IACA;IACAE;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACA;IACAE;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACA;IACAE;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;;AAGA,QAAME,YAAkBC,qBACtB,CAACC,SAAAA;AACC9C,iBAAAA,QAAAA,aAAAA,SAAAA,SAAAA,SAAW+C,wBAAwBD,MAAMZ,QAAAA,KAAac,MAAAA;EACxD,GACA;IAAChD;IAAUkC;GAAS;AAGtB,QAAM,CAACe,OAAOC,WAAAA,IAAeC,wBAAiD;IAC5EF,OAAOnD;IACPC;IACAC,UAAU4C;EACZ,CAAA;AAEA,QAAMQ,iBAAgDC,iBACpD,MAAMC,sBAAsBL,OAAOf,QAAAA,GACnC;IAACA;IAAUe;GAAM;AAGnB,QAAM,EACJM,UACAC,aACAC,cACAC,cACAC,YACAC,eACAC,cACAC,eACAC,iBACAC,eAAc,IACZC,YAAY;IACdhB,OAAOG;IACPlD;IACAD;IACAE;IACAmB;IACAC;IACAC;IACAQ;IACAC;EACF,CAAA;AAEA,QAAM,CAACiC,cAAcC,eAAAA,IAAyBC,kBAAQ;AAEtDC,4BAA0B,MAAA;AACxB,QAAIjB,gBAAgB;AAClBI,kBAAYJ,cAAAA;IACd;EACF,GAAG;IAACA;GAAe;AAEnB,MAA8C,CAACzC,kBAAkBS,UAAS,KAAK;AAC7E1B,IAAAA,OAAK,yEAAyE,OAAA;EAChF;AAEA,MAA8CW,cAAce,UAAS,KAAK;AACxE1B,IAAAA,OAAK,4DAA4D,OAAA;EACnE;AAEA,QAAM4E,gBAAsBzB,qBAC1B,CAAC0B,UAAAA;AACC,UAAMC,MAAMC,WAAWF,KAAAA;AACvB,QAAIC,OAAOE,gBAAgBC,SAASH,GAAAA,GAAM;AACxCD,YAAMK,eAAc;AAEpB,YAAMC,gBAAgBC,aAAanB,eAAAA,QAAAA,eAAAA,SAAAA,aAAcP,gBAAgBoB,GAAAA;AAEjE,UAAIK,iBAAiB,CAACE,YAAYF,eAAetB,QAAAA,GAAW;AAC1DC,oBAAYqB,aAAAA;MACd;AACAjB,oBAAciB,aAAAA;AACdV,sBAAgBU,aAAAA;AAEhB;IACF;AAEA,QAAIL,QAAQQ,KAAKC,KAAK;AACpBrB,oBAAcZ,MAAAA;AACdmB,sBAAgBR,UAAAA;AAEhB;IACF;AAEA,SAAKa,QAAQQ,KAAKE,SAASV,QAAQQ,KAAKG,UAAUC,cAAcb,MAAMc,MAAM,GAAG;UAE7Ed,qBAAAA;AADAA,YAAMK,eAAc;OACpBL,uBAAAA,gBAAAA,MAAMc,QAAOC,WAAK,QAAlBf,wBAAAA,SAAAA,SAAAA,oBAAAA,KAAAA,aAAAA;IACF;EACF,GACA;IAACZ;IAAYC;IAAeO;IAAiBX;IAAaJ;IAAgBG;GAAS;AAGrF,QAAMgC,cAAoB1C,qBACxB,CAACC,SAAAA;AACC,QAAI0C,aAAaC,aAAa3C,MAAMM,cAAAA;AACpC,QAAIpB,eAAeC,aAAa;AAC9BuD,mBAAaE,OAAMF,YAAY;QAAEG,KAAK3D;QAAa4D,KAAK3D;MAAY,CAAA;IACtE;AACAiB,gBAAYsC,UAAAA;EACd,GACA;IAACpC;IAAgBF;IAAajB;IAAaD;GAAY;AAGzD,QAAM6D,aAAmBhD,qBACvB,CAACC,SAAAA;AACC,QAAIa,cAAcmC,WAAWnC,YAAYb,IAAAA,GAAO;AAC9C;IACF;AAEAc,kBAAcd,IAAAA;AACd,QAAI,CAACoB,gBAAgB,CAAC4B,WAAWhD,MAAMoB,YAAAA,GAAe;AACpDC,sBAAgBrB,IAAAA;IAClB;EACF,GACA;IAACoB;IAAcP;IAAYC;GAAc;AAI3C,QAAMmC,cAAoBlD,qBACxB,CAACmD,QAAcC,QAAQ7C,kBAAkB0C,WAAWE,KAAK5C,cAAAA,CAAAA,GACzD;IAACA;GAAe;AAGlB,QAAM8C,gCAAgChC,gBAAgBa,YAAYb,cAAcX,QAAAA;AAChF,QAAM4C,kCAAkC/C,kBAAkB2B,YAAY3B,gBAAgBG,QAAAA;AAOtF,QAAM6C,iBAAuBvD,qBAC3B,CAACmD,QAAAA;AAEC,QAAIE,+BAA+B;AACjC,aAAOJ,WAAW5B,cAAc8B,GAAAA;IAClC;AAIA,QAAIG,iCAAiC;AACnC,aAAOJ,YAAYC,GAAAA;IACrB;AAIA,WAAOF,WAAWO,aAAa9C,QAAAA,GAAWyC,GAAAA;EAC5C,GACA;IACE9B;IACAX;IACAwC;IACAG;IACAC;GACD;AAGH,aACE,sBAAAG,MAACC,eAAAA,qBAAAA,eAAAA;IACCC,cAAY5F;KACR+B,KAAAA,GAAAA;IACJ8D,eAAeC,KAAAA,sBAAwBtF,UAAS,OAAA,qBAAA;IAChDvB;;UAEA,sBAAA8G,KAACC,gBAAAA;QACCrD,UAAUlC,oBAAoBkC;QAC9BvD,UAAUwD;QACVjC,aAAamC;QACblC,aAAaiC;QACb9C,gBAAgBA,kBAAkBS,UAAS;QAC3CyF,WAAS;QACT9F;QACAC;QACAC;QACAC;QACAO;QACAC;QACAC;QACAC;QACAmC;QACAC;QACAzB;QACAD;QACAE;QACAC;;UAEF,sBAAAkE,KAACG,cAAAA;QACCvD,UAAUlC,oBAAoBkC;QAC9BN,OAAOG;QACP1C;QACAqG,WAAWzC;QACXiB;QACAQ;QACAF;QACAhC;QACAuC;QACAY,qBAAqBC;QACrBC,mBAAmBC;QACnBrD;QACA3C;QACAC,MAAMA;QACNS;QACAC;QACAC;QACAW;;MAEDrC,cAAc+C,kBAAkBhC,UAAS,WACxC,sBAAAuF,KAACS,OAAAA;QAAIP,WAAS;sBACZ,sBAAAF,KAACU,cAAAA;UACCpE,OAAOG;UACPpD,UAAUkD;UACV9C;UACAE;UACAC;UACAC;UACAC;UACAI;UACAC;UACAgD,eAAe9B,eAAeC,cAAc6B,gBAAgBd;UAC5Db;UACAC;UACAC;;;;;AAMZ;;;;A2FnaA,IAAAiF,WAAuB;;;ACFvB,IAAAC,WAAuB;AAShB,SAASC,8BAA8B,EAC5CC,YACAC,OACAC,eACAC,WAAW,CAACC,uBAAuBC,sBAAAA,GACnCC,YAAW,GAOZ;AAEC,QAAM,CAACC,6BAA6BC,8BAAAA,IAAwCC,kBAAQ;AACpF,QAAM,CAACC,8BAA8BC,+BAAAA,IAAyCF,kBAAQ;AAEtF,QAAMG,wBAA8BC,qBAClC,CAACC,OAA4BC,YAAAA;AAC3B,UAAMC,MAAMC,WAAWH,KAAAA;AACvB,QAAI,CAACE,KAAK;AACR;IACF;AAEA,QAAIE,gBAAgBC,SAASH,GAAAA,GAAM;AACjCF,YAAMM,eAAc;AAEpB,YAAMC,gBAAgBC,aAAatB,eAAAA,QAAAA,eAAAA,SAAAA,aAAcC,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAQ,CAAA,GAAIe,GAAAA;AAE7D,UACEK,iBACA,CAACE,YAAYF,eAAejB,qBAAAA,KAC5B,CAACmB,YAAYF,eAAehB,sBAAAA,GAC5B;AACAC,oBAAYe,aAAAA;MACd;AAEA,UAAIN,SAAS;AACX,YAAIQ,YAAYF,eAAejB,qBAAAA,GAAwB;AACrDI,yCAA+Ba,aAAAA;QACjC,WAAWA,gBAAgBjB,uBAAuB;AAChDO,0CAAgCU,aAAAA;QAClC;MACF,OAAO;AACL,YAAIE,YAAYF,eAAehB,sBAAAA,GAAyB;AACtDM,0CAAgCU,aAAAA;QAClC,WAAWA,gBAAgBhB,wBAAwB;AACjDG,yCAA+Ba,aAAAA;QACjC;MACF;AAEAnB,oBAAcmB,aAAAA;AAEd;IACF;AAEA,QAAIL,QAAQQ,KAAKC,KAAK;AACpBvB,oBAAcwB,MAAAA;AACd,UAAIX,SAAS;AACXP,uCAA+BR,UAAAA;MACjC,OAAO;AACLW,wCAAgCX,UAAAA;MAClC;AAEA;IACF;AAEA,SAAKgB,QAAQQ,KAAKG,SAASX,QAAQQ,KAAKI,UAAUC,cAAcf,MAAMgB,MAAM,GAAG;UAE7EhB,qBAAAA;AADAA,YAAMM,eAAc;OACpBN,uBAAAA,gBAAAA,MAAMgB,QAAOC,WAAK,QAAlBjB,wBAAAA,SAAAA,SAAAA,oBAAAA,KAAAA,aAAAA;IACF;EACF,GACA;IAACd;IAAYC;IAAOG;IAAuBC;IAAwBH;IAAeI;GAAY;AAGhG,QAAM0B,6BAAmCnB,qBACvC,CAACC,UAAAA;AACCF,0BAAsBE,OAAO,IAAA;EAC/B,GACA;IAACF;GAAsB;AAGzB,QAAMqB,8BAAoCpB,qBACxC,CAACC,UAAAA;AACCF,0BAAsBE,OAAO,KAAA;EAC/B,GACA;IAACF;GAAsB;AAGzB,QAAMsB,iBAAuBrB,qBAC3B,CAACZ,WAAAA;AACC,QACEsB,YAAYnB,uBAAuBH,MAAAA,MAClC,CAACM,+BAA+B,CAAC4B,WAAW5B,6BAA6BN,MAAAA,IAC1E;AACAO,qCAA+BP,MAAAA;IACjC;AACA,QACEsB,YAAYlB,wBAAwBJ,MAAAA,MACnC,CAACS,gCAAgC,CAACyB,WAAWzB,8BAA8BT,MAAAA,IAC5E;AACAU,sCAAgCV,MAAAA;IAClC;EACF,GACA;IACEG;IACAG;IACAG;IACAL;GACD;AAGH,SAAO;IACLE;IACAG;IACAsB;IACAC;IACAC;EACF;AACF;AAQO,SAASE,kBAAkB,EAChCnC,OACAM,6BACAG,8BACA2B,UACAC,YAAW,GAOZ;AACC,QAAMC,2BAA2BC,QAC/BvC,UACIA,MAAM,CAAA,KAAMsB,YAAYtB,MAAM,CAAA,GAAIoC,QAAAA,KACjCpC,MAAM,CAAA,KAAMsB,YAAYtB,MAAM,CAAA,GAAIoC,QAAAA,EAAS;AAGlD,QAAMI,4BAA4BD,QAC/BjC,+BAA+BgB,YAAYhB,6BAA6B8B,QAAAA,KACtE3B,gCAAgCa,YAAYb,8BAA8B2B,QAAAA,CAAAA;AAG/E,QAAMK,iBAAuB7B,qBAC3B,CAAC8B,QAAAA;AAEC,QAAIF,2BAA2B;AAC7B,aAAOD,QACJjC,+BAA+B4B,WAAW5B,6BAA6BoC,GAAAA,KACrEjC,gCAAgCyB,WAAWzB,8BAA8BiC,GAAAA,CAAAA;IAEhF;AAIA,QAAIJ,0BAA0B;AAC5B,aAAOD,YAAYK,GAAAA;IACrB;AAIA,WAAOR,WAAWS,aAAaP,QAAAA,GAAWM,GAAAA;EAC5C,GACA;IACEF;IACAF;IACAF;IACAC;IACA/B;IACAG;GACD;AAEH,SAAOgC;AACT;;;ADzFA,IAAMG,mBAAmB,CAACC,KAAWC,UAAAA;AACnC,MAAI,EAACA,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAQ,CAAA,MAAM,CAACA,MAAM,CAAA,GAAI;AAC5B,WAAO;EACT;AAEA,SAAOC,iBAAiBF,KAAK;IAACG,WAAWF,MAAM,CAAA,CAAE;IAAGG,SAASH,MAAM,CAAA,CAAE;GAAE;AACzE;AAKO,IAAMI,gBAAgB,CAAA,WAAA;MAAC,EAC5B,SAASC,WACTC,cACAC,UACAC,aACAC,eACAC,mBACAC,eAAe,GACfC,gBACAC,iBAAiB,oBACjBC,iBAAiB,mBACjBC,mBAAmB,kBACnBC,kBAAkB,gBAClB,cAAcC,YAAY,aAC1BC,eACAC,eACAC,2BACAC,kBACAC,WACAC,yBACAC,0BACAC,WAAU,IAES,QADhBC,QAAAA,2BAAAA,QAAAA;IArBH;IACApB;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACA;IACAE;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;;AAGA,QAAME,YAAkBC,qBACtB,CAACC,aAA+CtB,aAAAA,QAAAA,aAAAA,SAAAA,SAAAA,SAAWsB,YAAYC,MAAAA,GACvE;IAACvB;GAAS;AAGZ,QAAM,CAACP,OAAO+B,WAAAA,IAAeC,wBAA0D;IACrFhC,OAAOK;IACPC;IACAC,UAAUoB;EACZ,CAAA;AAEA,QAAM,EACJM,UACAC,aACAC,cACAC,cACAC,YACAC,eACAC,cACAC,eACAC,iBACAC,eAAc,IACZC,YAAY;IAAE3C;IAAOS;IAAeD;IAAaE;EAAkB,CAAA;AAEvE,QAAM,CAACkC,YAAYC,aAAAA,IAAuBC,kBAAQ;AAClD,QAAMC,iBAAiBC,UAAUf,UAAU,CAAA;AAE3C,QAAM,EACJgB,6BACAC,8BACAC,4BACAC,6BACAC,eAAc,IACZC,8BAA8B;IAChCjB;IACAC;IACAtC;IACAuD,WAAW;MAACtB;MAAUc;;IACtBb;EACF,CAAA;AAEA,QAAMsB,cAAoB5B,qBACxB,CAAC6B,SAAAA;AACC,UAAMC,eAAe,CAAC1D,SAAUA,MAAM,CAAA,MAAO,QAAQA,MAAM,CAAA,MAAO;AAClE,UAAM2D,kBAAkB3D,SAAS,CAAC,CAACA,MAAM,CAAA,KAAM,CAAC,CAACA,MAAM,CAAA;AACvD,QAAI0D,gBAAgBC,iBAAiB;AACnC,aAAO;QAACF;QAAM;;IAChB;AAEA,UAAM,CAACG,KAAAA,IAAS5D;AAChB,QAAI4D,SAASC,WAAWJ,MAAMG,KAAAA,GAAQ;AACpC,aAAO;QAAC1D,WAAW0D,KAAAA;QAAQzD,SAASyD,KAAAA;;IACtC,WAAWA,SAASH,OAAOG,OAAO;AAChC,aAAO;QAAC1D,WAAWuD,IAAAA;QAAOtD,SAASyD,KAAAA;;IACrC,WAAWA,SAASH,OAAOG,OAAO;AAChC,aAAO;QAACA;QAAOzD,SAASsD,IAAAA;;IAC1B;AACA,WAAOzD;EACT,GACA;IAACA;GAAM;AAGT,QAAM8D,cAAoBlC,qBACxB,CAAC6B,SAAAA;AACC1B,gBAAYyB,YAAYC,IAAAA,CAAAA;AACxBZ,kBAAcf,MAAAA;EAChB,GACA;IAACC;IAAayB;GAAY;AAG5B,QAAMO,gBAAsBnC,qBAAY,CAAC7B,QAAcD,iBAAiBC,KAAKC,KAAAA,GAAQ;IAACA;GAAM;AAE5F,QAAMgE,cAAoBpC,qBACxB,CAAC7B,QACCkE,SACGjE,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAQ,CAAA,MAAM6D,WAAW9D,KAAKC,MAAM,CAAA,CAAE,MAAOA,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAQ,CAAA,MAAM6D,WAAW9D,KAAKC,MAAM,CAAA,CAAE,CAAA,GAExF;IAACA;GAAM;AAGT,QAAMkE,oBAA0BtC,qBAC9B,CAAC7B,KAAWoE,cACVF,QAAQG,UAAUrE,KAAKoE,SAAAA,MAAenE,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAQ,CAAA,MAAM6D,WAAW9D,KAAKC,MAAM,CAAA,CAAE,CAAA,GAC9E;IAACA;GAAM;AAGT,QAAMqE,0BAAgCzC,qBACpC,CAAC7B,KAAWoE,cACVF,QAAQG,UAAUrE,KAAKoE,SAAAA,MAAevB,eAAAA,QAAAA,eAAAA,SAAAA,SAAAA,WAAa,CAAA,MAAMiB,WAAW9D,KAAK6C,WAAW,CAAA,CAAE,CAAA,GACxF;IAACA;GAAW;AAGd,QAAM0B,sBAA4B1C,qBAChC,CAAC7B,KAAWoE,cACVF,QAAQM,WAAWxE,KAAKoE,SAAAA,MAAenE,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAQ,CAAA,MAAM6D,WAAW9D,KAAKC,MAAM,CAAA,CAAE,CAAA,GAC/E;IAACA;GAAM;AAGT,QAAMwE,4BAAkC5C,qBACtC,CAAC7B,KAAWoE,cACVF,QAAQM,WAAWxE,KAAKoE,SAAAA,MAAevB,eAAAA,QAAAA,eAAAA,SAAAA,SAAAA,WAAa,CAAA,MAAMiB,WAAW9D,KAAK6C,WAAW,CAAA,CAAE,CAAA,GACzF;IAACA;GAAW;AAGd,QAAM6B,aAAmB7C,qBACvB,CAAC6B,SAAeZ,cAAcW,YAAYC,IAAAA,CAAAA,GAC1C;IAACZ;IAAeW;GAAY;AAG9B,QAAMkB,aAAmB9C,qBAAY,MAAMiB,cAAcf,MAAAA,GAAY;IAACe;GAAc;AAEpF,QAAM8B,cAAoB/C,qBACxB,CAAC7B,QAAcD,iBAAiBC,KAAK6C,UAAAA,GACrC;IAACA;GAAW;AAGd,QAAMgC,4BAAkChD,qBACtC,CAACiD,YAAkB3C,YAAY4C,UAAUD,SAAS,CAAA,CAAA,GAClD;IAAC3C;GAAY;AAGf,QAAM6C,gCAAgCC,kBAAkB;IACtDhF;IACAiD;IACAC;IACAjB;IACA+B;EACF,CAAA;AAEA,QAAMiB,iCAAiCD,kBAAkB;IACvDhF;IACAiD;IACAC;IACAjB,UAAUc;IACViB;EACF,CAAA;AAEA,QAAMkB,aAAmBtD,qBACvB,CAAC6B,SAAAA;AACC,QAAIpB,cAAcwB,WAAWxB,YAAYoB,IAAAA,GAAO;AAC9C;IACF;AAEAnB,kBAAcmB,IAAAA;AACdJ,mBAAeI,IAAAA;EACjB,GACA;IAACpB;IAAYgB;IAAgBf;GAAc;AAG7C,aACE,sBAAA6C,MAACC,eAAAA,qBAAAA,eAAAA;IACCC,cAAYpE;KACRS,KAAAA,GAAAA;IACJ4D,eAAa;IACb7D;;UAEA,sBAAA0D,MAACI,OAAAA;QAAIC,WAAS;;cACZ,sBAAAC,KAACC,gBAAAA,eAAAA;YACCzD;YACA1B,UAAU2B;YACVyD,iBAAe;YACfC,aAAazD;YACbvB;YACA4E,WAAS;YACT3E;YACAC;YACAC;YACAC;YACAE;YACAuB;YACAC;aACInB,uBAAAA,CAAAA;cAEN,sBAAAkE,KAACI,cAAAA;YACC5D;YACAjC;YACAW;YACAmF,WAAW3C;YACX+B;YACA3C;YACAwD,gBAAgBhB;YAChBjB;YACAC;YACAC;YACAE;YACAI;YACAK;YACAF;YACAC;YACAL;YACAG;YACAhC;YACApB;YACAC;YACAC;;;;UAGJ,sBAAA6D,MAACI,OAAAA;QAAIC,WAAS;;cACZ,sBAAAC,KAACC,gBAAAA,eAAAA;YACCzD,UAAUc;YACVxC,UAAUqE;YACVoB,iBAAe;YACfC,aAAa7D;YACbxB;YACA4E,WAAS;YACT3E;YACAC;YACAC;YACAC;YACAG;YACAsB;YACAC;aACIlB,wBAAAA,CAAAA;cAEN,sBAAAiE,KAACI,cAAAA;YACC5D,UAAUc;YACV/C;YACAW;YACAmF,WAAW1C;YACX8B;YACA3C;YACAwD,gBAAgBd;YAChBnB;YACAC;YACAC;YACAE;YACAI;YACAK;YACAF;YACAC;YACAL;YACAG;YACAhC;YACApB;YACAC;YACAC;;;;;;AAKV;;;;AEtXA,IAAA4E,WAAuB;;;ACFvB,IAAAC,iBAA4B;AAC5B,IAAAC,WAAuB;AAuBhB,SAASC,aAAuC,EACrDC,YACAC,MACAC,WACAC,UACAC,gBAAAA,iBACAC,SACAC,uBACAC,kBAAAA,mBACAC,OACAC,uBACAC,WAAU,GACqB;AAgB/B,QAAM,EAAEC,UAAAA,UAAQ,IAAKC,OAAAA;AACrB,QAAM,EAAEJ,OAAOK,MAAMC,SAASC,cAAcC,UAAUC,cAAa,IAAKC,gBAAgB,KAAA;AACxF,QAAMC,UAAgBC,gBAA8B,IAAA;AACpD,QAAMC,cAAoBD,gBAA8B,IAAA;AACxD,QAAM,CAACE,eAAeC,gBAAAA,IAA0BC,kBAAmB,CAAA,CAAE;AACrE,QAAM,CAACC,gBAAgBC,iBAAAA,IAA2BF,kBAAwB,IAAA;AAC1E,QAAMG,sBAA4BP,gBAAO,KAAA;AACzC,QAAM,EAAEQ,QAAAA,QAAM,IAAKhB,OAAAA;AAEnB,QAAMiB,qBAA2BC,qBAAY,MAAA;AAG3C,WAAO,CAACH,oBAAoBI;EAC9B,GAAG,CAAA,CAAE;AAEL,QAAMC,uBAAmBF,4BAAY,MAAA;AACnC,QAAIjB,MAAM;AACRI,oBAAAA;AACAR,gCAAAA,QAAAA,0BAAAA,SAAAA,SAAAA,sBAAwB,KAAA;IAC1B;EACF,GAAG;IAACQ;IAAeR;IAAuBI;GAAK;AAE/C,QAAMoB,sBAAkBH,4BAAY,MAAA;AAClC,QAAI,CAACjB,MAAM;AACTE,mBAAAA;AACAN,gCAAAA,QAAAA,0BAAAA,SAAAA,SAAAA,sBAAwB,IAAA;AACxB,UAAIC,YAAY;AACdgB,0BAAkB,IAAA;MACpB;AACAC,0BAAoBI,UAAU;IAChC;EACF,GAAG;IAACtB;IAAuBI;IAAME;IAAcL;GAAW;AAE1D,QAAMwB,sBAA4BJ,qBAAY,MAAA;AAC5C,QAAIL,mBAAmB,MAAM;UAE3BG;AADAF,wBAAkB,IAAA;OAClBE,uBAAAA,QAAQO,aAAY,OAAA,QAApBP,yBAAAA,SAAAA,SAAAA,qBAAwBQ,gBAAe;AACvCb,uBAAiBhB,kBAAiBC,KAAAA,CAAAA;IACpC;EACF,GAAG;IAACiB;IAAgBlB;IAAkBC;IAAOoB;GAAO;AAEpD,QAAMS,uBAA6BP,qBAAY,MAAA;AAC7CI,wBAAAA;AACAF,qBAAAA;EACF,GAAG;IAACE;IAAqBF;GAAiB;AAE1C,QAAMM,qBAAiBR,4BAAY,MAAA;AACjCI,wBAAAA;AACA,QAAIrB,MAAM;AACRmB,uBAAAA;IACF,OAAO;AACLC,sBAAAA;IACF;EACF,GAAG;IAACC;IAAqBrB;IAAMmB;IAAkBC;GAAgB;AAEjE,QAAMM,qBAA2BT,qBAC/B,CAACU,MAAAA;QAEIrB,kBACAE;AAFH,QACE,GAACF,mBAAAA,QAAQY,aAAO,QAAfZ,qBAAAA,SAAAA,SAAAA,iBAAiBsB,SAASD,EAAEE,MAAM,MACnC,GAACrB,uBAAAA,YAAYU,aAAO,QAAnBV,yBAAAA,SAAAA,SAAAA,qBAAqBoB,SAASD,EAAEE,MAAM,IACvC;AACAf,0BAAoBI,UAAU;AAC9BM,2BAAAA;IACF;EACF,GACA;IAACA;GAAqB;AAGxB,QAAMM,cAAoBb,qBAAY,MAAA;AACpC,QAAIL,mBAAmB,MAAM;AAC3B;IACF;AAEAC,sBAAkB,CAAA;EACpB,GAAG;IAACD;GAAe;AAEnBmB,yBAAuBjC,WAAU,SAAS4B,oBAAoB;IAC5DM,SAAS;EACX,CAAA;AAEAC,EAAMC,mBAAU,MAAA;AACdxB,qBAAiBhB,kBAAiBC,KAAAA,CAAAA;EACpC,GAAG;IAACD;IAAkBC;GAAM;AAE5BsC,EAAMC,mBAAU,MAAA;AACd,QAAI7C,WAAW;AACbyC,kBAAAA;IACF;EACF,GAAG;IAACzC;IAAWyC;GAAY;AAE3BG,EAAMC,mBAAU,MAAA;AACd,QAAI5C,YAAYsB,mBAAmB,MAAM;AACvC;IACF;AAEA,UAAMuB,SAAQpB,QAAQjB,SAASsC,YAAW;AAE1C,QAAIC,UAAUjD,KAAKwB,cAAAA,EAAgBM;AAEnC,QAAIoB;AACJ,QAAID,SAAS;AACXA,cAAQE,MAAK;AACb,UAAI,CAAC1C,YAAY;AACfuB,wBAAAA;MACF;AACAe,MAAAA,OAAMK,mBAAmBH,OAAAA;AAKzBC,gBAAUG,WAAW,MAAA;AACnB,cAAMC,YAAY3B,QAAQO,aAAY;AACtCoB,sBAAAA,QAAAA,cAAAA,SAAAA,SAAAA,UAAWnB,gBAAe;AAC1BmB,sBAAAA,QAAAA,cAAAA,SAAAA,SAAAA,UAAWC,SAASR,MAAAA;MACtB,GAAG,CAAA;IACL;AAEA,WAAO,MAAA;AACLS,mBAAaN,OAAAA;IACf;EACF,GAAG;IAAChD;IAAUsB;IAAgBxB;IAAM2B;IAAQK;IAAiBvB;GAAW;AAExE,QAAMgD,QAAc5B,qBAAY,MAAA;AAC9BzB,gBAAAA,QAAAA,YAAAA,SAAAA,SAAAA,QAAAA;AACAsC,gBAAAA;EACF,GAAG;IAACtC;IAASsC;GAAY;AAEzB,QAAMgB,mBAAyB7B,qBAAY,MAAA;AACzCa,gBAAAA;EACF,GAAG;IAACA;GAAY;AAEhB,QAAMiB,gBAAsB9B,qBAC1B,CAACU,MAAAA;AACC,QAAIf,mBAAmB,MAAM;AAC3B;IACF;AAEA,UAAMoC,SAAS;SAAIvC;;AACnB,UAAMwC,SAAS1D,gBAAeqB,cAAAA;AAE9B,QAAI,QAAQsC,KAAKvB,EAAEwB,GAAG,GAAG;AACvB,UAAIH,OAAOpC,cAAAA,EAAgBwC,UAAUH,OAAOG,QAAQ;AAClDJ,eAAOpC,cAAAA,IAAkBe,EAAEwB;MAC7B,OAAO;AACLH,eAAOpC,cAAAA,KAAmBe,EAAEwB;AAC5B,YAAIH,OAAOpC,cAAAA,EAAgBwC,UAAUH,OAAOG,UAAUxC,iBAAiBzB,YAAY;AACjF0B,4BAAkBD,iBAAiB,CAAA;QACrC;MACF;IACF,WAAWe,EAAEwB,QAAQ,aAAa;AAChC,UAAI,CAACH,OAAOpC,cAAAA,GAAiB;AAC3BC,0BAAkBD,kBAAkB,IAAIzB,aAAayB,iBAAiB,CAAA;MACxE,OAAO;AACLoC,eAAOpC,cAAAA,IAAkBoC,OAAOpC,cAAAA,EAAgByC,MAAM,GAAG,EAAC;MAC5D;IACF,WAAW1B,EAAEwB,QAAQ,eAAexB,EAAEwB,QAAQ,QAAQ;AACpD,UAAIG,eAAeC,OAAOP,OAAOpC,cAAAA,CAAe;AAChDoC,aAAOpC,cAAAA,IAAkB4C,OACvBF,gBAAgBL,OAAOQ,MAAMR,OAAOS,MAAMJ,eAAe,CAAA,EACzDK,SAASV,OAAOG,QAAQ,GAAA;IAC5B,WAAWzB,EAAEwB,QAAQ,aAAaxB,EAAEwB,QAAQ,MAAM;AAChD,UAAIG,eAAeC,OAAOP,OAAOpC,cAAAA,CAAe;AAChDoC,aAAOpC,cAAAA,IAAkB4C,OACvBF,gBAAgBL,OAAOS,MAAMT,OAAOQ,MAAMH,eAAe,CAAA,EACzDK,SAASV,OAAOG,QAAQ,GAAA;IAC5B,WAAWzB,EAAEwB,QAAQ,eAAexB,EAAEwB,QAAQ,UAAWxB,EAAEwB,QAAQ,SAASxB,EAAEiC,UAAW;AACvF,UAAIhD,kBAAkB,GAAG;AACvB,YAAIe,EAAEwB,QAAQ,OAAO;AACnB3B,+BAAAA;QACF;AACA;MACF;AACAX,wBAAkBD,iBAAiB,CAAA;IACrC,WAAWe,EAAEwB,QAAQ,gBAAgBxB,EAAEwB,QAAQ,WAAWxB,EAAEwB,QAAQ,OAAO;AACzE,UAAIvC,kBAAkBzB,YAAY;AAChC,YAAIwC,EAAEwB,QAAQ,OAAO;AACnB3B,+BAAAA;QACF;AACA;MACF;AAEAX,wBAAkBD,iBAAiB,CAAA;IACrC,WAAWe,EAAEwB,QAAQ,YAAYxB,EAAEwB,QAAQ,OAAO;AAChDH,aAAOpC,cAAAA,IAAkB;IAC3B,WAAWe,EAAEwB,QAAQ,KAAK;AACxBxB,QAAEkC,eAAc;AAChBzC,sBAAAA;AACA;IACF,OAAO;AACL;IACF;AAEAO,MAAEkC,eAAc;AAChBnD,qBAAiBsC,MAAAA;AACjBvD,0BAAsBuD,MAAAA;EACxB,GACA;IACE5B;IACAI;IACAjC;IACAqB;IACAH;IACAtB;IACAM;GACD;AAGH,SAAO;IACLa;IACAE;IACAR;IACAE,cAAckB;IACdhB,eAAee;IACfM;IACAhB;IACAG;IACAC;IACAkC;IACAF;IACAC;IACAtB;IACAR;EACF;AACF;;;;ACnRA,IAAA8C,WAAuB;AAIhB,IAAMC,mBAAmB,CAAA,WAAA;MAAC,EAC/BC,UACAC,UAAS,IAEkC,QADxCC,QAAAA,2BAAAA,QAAAA;IAFHF;IACAC;;AAGA,aACE,sBAAAE,KAACC,QAAAA,qBAAAA,eAAAA;IAAKH,WAAWI,KAAAA,0BAA2BJ,SAAAA;KAAgBC,KAAAA,GAAAA;;;AAIhE;;;;;;;ACXA,IAAAI,WAAuB;AAevB,IAAMC,cAAcC,OAAOC,aAAa,IAAA;AAExC,SAASC,gBAAgBC,QAAc;AACrC,QAAMC,SAAS,CAAA;AACf,WAASC,SAAQ,GAAGA,SAAQF,QAAQE,UAAS,GAAG;AAC9CD,WAAOE,SACL,sBAAAC,KAACC,QAAAA;MAAiBC,WAAS;gBACxBV;OADQM,MAAAA,CAAAA;EAIf;AACA,SAAOD;AACT;AAEO,IAAMM,YAAY,CAAA,WAAA;MAAC,EACxBC,OACAR,QACAE,OAAAA,QACAO,iBACAC,SACAC,OACAC,UACAC,UAAS,IAEM,QADZC,YAAAA,2BAAAA,QAAAA;IARHN;IACAR;IACAE;IACAO;IACAC;IACAC;IACAC;IACAC;;AAGA,QAAME,sBAA4BC,qBAChC,CAACC,UAAAA;AACCC,oBAAgBD,KAAAA;AAChBR,wBAAAA,QAAAA,oBAAAA,SAAAA,SAAAA,gBAAkBP,MAAAA;EACpB,GACA;IAACA;IAAOO;GAAgB;MAmBKD;AAhB/B,aACE,sBAAAW,MAACC,eAAAA,qBAAAA,eAAAA;IACCC,WAAU;IACVC,gBAAed,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAOR,YAAWA,SAAAA,wBAAuBuB;IACxDC,UAAUZ,WAAW,KAAK;IAC1BF,SAASe,aAAaf,SAASK,mBAAAA;IAC/BF,WAAWD,WAAWW,SAAYV;KAC9BC,SAAAA,GAAAA;;MAEHH,aAAS,sBAAAP,KAACsB,gBAAAA;kBAAgBf;;MAC1BH,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAOmB,MAAM,GAAG3B,SAAS,CAAA;OACzBQ,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAOmB,MAAM3B,SAAS,CAAA,UACrB,sBAAAI,KAACC,QAAAA;QAAiBC,WAAS;kBACxBE,MAAMmB,MAAM3B,SAAS,CAAA;SADbE,MAAAA;MAIZH,gBAAgBC,WAAUQ,gBAAAA,UAAAA,QAAAA,UAAAA,SAAAA,SAAAA,MAAOR,YAAM,QAAbQ,kBAAAA,SAAAA,gBAAiB,EAAA;;;AAGlD;;;AC3DA,IAAMoB,iBAAiB,CACrBC,OACAC,WAAAA;AAEA,MAAID,UAAUE,QAAW;AACvB,WAAOA;EACT;AACA,MAAI,OAAOF,UAAU,UAAU;AAC7B,WAAOA;EACT;AACA,SAAOG,OAAOH,KAAAA,EAAOI,SAASH,QAAQ,GAAA;AACxC;AAEO,IAAMI,kBAAkD,CAAA,WAAA;MAAC,EAC9DL,OACAC,QACAK,UACAC,UACAC,UACAC,UACAC,OACAC,WACA,cAAcC,UAAS,IAExB,QADIC,YAAAA,2BAAAA,QAAAA;IATHb;IACAC;IACAK;IACAC;IACAC;IACAC;IACAC;IACAC;IACA;;AAGA,QAAMG,cAAcf,eAAeC,OAAOC,MAAAA;AAC1C,aACE,sBAAAc,KAACC,WAAAA,eAAAA;IACCC,MAAK;IACLjB,OAAOc;IACPb;IACAiB,iBAAeZ;IACfa,iBAAeZ;IACfa,iBAAepB,UAAUE,SAAYmB,OAAOrB,KAAAA,IAASE;IACrDoB,kBAAgBR;IAChBS,iBAAef;IACfgB,iBAAef;IACfgB,cAAYf;IACZA;IACAgB,UAAUlB,WAAW,KAAK;IAC1BG,WAAWH,WAAWN,SAAYS;KAC9BE,SAAAA,CAAAA;AAGV;;;ACrDA,IAAAc,WAAuB;AAkBvB,IAAMC,yBAAyB,CAACC,MAAmBC,aAAAA;AACjD,SAAOC,sBAAsBF,MAAMC,QAAAA,KAAa;AAClD;AAEA,IAAME,2BAA2B,CAACH,MAAYC,aAAAA;AAC5C,SAAOG,wBAAwBJ,MAAMC,QAAAA;AACvC;AAEA,IAAMI,gBAAgB,CACpBC,mBACAC,OACAC,cACAP,aAAAA;AAEA,MAAIM,UAAUE,QAAW;AACvB,WAAOV,uBAAuBQ,OAAON,QAAAA;EACvC;AACA,MAAIO,iBAAiBC,QAAW;AAC9B,WAAOV,uBAAuBS,cAAcP,QAAAA;EAC9C;AACA,SAAOF,uBAAuBO,mBAAmBL,QAAAA;AACnD;AAEO,IAAMS,oBAAoB,CAAC,EAChCH,OACAC,cACAG,UACAV,SAAQ,MACiB;AACzB,QAAM,CAACW,eAAeC,gBAAAA,IAA0BC,kBAC9CT,cAAc,MAAME,OAAOC,cAAcP,QAAAA,CAAAA;AAE3C,QAAMc,sBAA4BC,gBAChCX,cAAc,MAAME,OAAOC,cAAcP,QAAAA,CAAAA;AAG3C,QAAMgB,eAAeV,UAAUE;AAE/BS,EAAMC,mBAAU,MAAA;AACd,QAAIF,cAAc;AAChB,YAAMG,mBAAmBrB,uBAAuBQ,OAAON,QAAAA;AACvDY,uBAAiBO,gBAAAA;AACjBL,0BAAoBM,UAAUD;IAChC;EACF,GAAG;IAACH;IAAchB;IAAUM;GAAM;AAElC,QAAMe,sBAA4BC,qBAAY,MAAMR,oBAAoBM,SAAS,CAAA,CAAE;AAEnF,QAAMG,cAAoBD,qBACxB,CAACE,aAAAA;AACC,QAAI,CAACR,cAAc;AACjBJ,uBAAiBY,QAAAA;AACjBV,0BAAoBM,UAAUI;IAChC;AACA,UAAMC,wBAAwBvB,yBAAyBsB,UAAUxB,QAAAA;AACjEU,iBAAAA,QAAAA,aAAAA,SAAAA,SAAAA,SAAWe,qBAAAA;AACX,WAAOA;EACT,GACA;IAACT;IAAcN;IAAUV;GAAS;AAGpC,QAAM0B,aAAa,MAAA;AACjBd,qBAAiB,IAAA;AACjBE,wBAAoBM,UAAU;AAC9BV,iBAAAA,QAAAA,aAAAA,SAAAA,SAAAA,SAAWF,MAAAA;EACb;AAEA,SAAO;IACLF,OAAOK;IACPY;IACAX;IACAS;IACAK;EACF;AACF;;;ALlEA,IAAMC,oBAAkB;EACtBC,MAAI;EACJC,SAAO;AACT;AA2IA,IAAMC,iBAAiB,CAACC,WAAAA;AACtB,MAAIC,SAAS;AACb,MAAIC,OAAM;AACV,MAAIC,OAAM;AAEV,UAAQH,QAAAA;IACN,KAAK;AACHG,MAAAA,OAAM;AACN;IACF,KAAK;AACHA,MAAAA,OAAM;AACN;IACF,KAAK;AACHA,MAAAA,OAAM;AACND,MAAAA,OAAM;AACND,eAAS;AACT;IACF,KAAK;AACHE,MAAAA,OAAM;AACN;IACF,KAAK;AACHA,MAAAA,OAAM;AACN;EACJ;AAEA,SAAO;IAAEF;IAAQC,KAAAA;IAAKC,KAAAA;EAAI;AAC5B;AAEA,IAAMC,mBAAmB,CAACC,UAAAA;AACxB,QAAMC,WAAW;IAAC;IAAI;IAAI;IAAI;IAAI;;AAClC,MAAID,OAAO;AACTC,aAAS,CAAA,IAAKC,OAAOF,MAAMG,QAAO,CAAA,EAAIC,SAAS,GAAG,GAAA;AAClDH,aAAS,CAAA,IAAKC,OAAOF,MAAMK,SAAQ,IAAK,CAAA,EAAGD,SAAS,GAAG,GAAA;AACvDH,aAAS,CAAA,IAAKC,OAAOF,MAAMM,YAAW,CAAA,EAAIF,SAAS,GAAG,GAAA;AACtDH,aAAS,CAAA,IAAKC,OAAOF,MAAMO,SAAQ,CAAA,EAAIH,SAAS,GAAG,GAAA;AACnDH,aAAS,CAAA,IAAKC,OAAOF,MAAMQ,WAAU,CAAA,EAAIJ,SAAS,GAAG,GAAA;EACvD;AACA,SAAOH;AACT;AAEA,IAAMQ,qCAA2D;EAC/DC,WAAW;EACXC,SAAS;EACTC,YAAY;EACZC,iBAAiB;IAAC;;AACpB;AAKO,IAAMC,YAAY,CAAA,WAAA;MAAC,EACxBC,YACAC,mBACAC,eACAC,aACAC,aACAC,aACA,SAASC,WACTC,cACAC,UACA,qBAAqBC,wBAAwB,gBAC7CC,OACAC,WACAC,gBACAC,YACAC,gBAAgB,MAChBC,gBACAC,YACAC,MACAC,WACAC,UACAC,YACAC,gBAAgB,aAChBC,iBAAiB,oBACjBC,iBAAiB,mBACjBC,iBAAiB,QACjBC,mBAAmB,SACnBC,kBAAkB,OAClBC,mBAAmB,OACnBC,qBAAqB,UACrBC,kBAAkB,iBAClBC,oBAAoB,sBACpBC,sBACAC,MAAAA,OACAC,UACAC,gBACAC,aACAC,aACAC,eACAC,eACAC,kBACAC,uBACAC,oBACAC,gBACAC,kBACAC,iBACAC,iBACAC,mBACAC,0BACAC,mBACAC,IACAC,SACAC,mBACAC,UACAC,cACAC,kBACAC,UACA,mBAAmBC,sBAAsB,OACzC,cAAcC,YAAY,GAAE,IAEb,QADZC,QAAAA,2BAAAA,QAAAA;IA1DH1D;IACAC;IACAC;IACAC;IACAC;IACAC;IACA;IACAE;IACAC;IACA;IACAE;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACAC;IACA;IACA;;AAGA,QAAMI,UAAgBC,gBAAwB,IAAA;AAC9C,QAAMC,YAAkBD,gBAAwB,IAAA;AAChD,QAAME,WAAiBF,gBAAwB,IAAA;AAC/C,QAAMG,WAAiBH,gBAAwB,IAAA;AAC/C,QAAMI,aAAmBJ,gBAAwB,IAAA;AAEjD,QAAMK,kBAAkBV,WAAW,OAAOC;AAE1C,QAAM,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",
  "names": ["React", "canUseDOM", "window", "document", "createElement", "canUseEventListeners", "addEventListener", "animationEvent", "obj", "supported", "name", "canUseDOM", "AnimationEvent", "WebKitAnimationEvent", "transitionEvent", "TransitionEvent", "WebKitTransitionEvent", "debounce", "fn", "delay", "context", "window", "undefined", "timeoutId", "args", "later", "apply", "debouncedFn", "a", "clearTimeout", "setTimeout", "cancel", "throttle", "fn", "threshold", "scope", "window", "undefined", "prevDate", "Date", "now", "timeoutId", "throttledFn", "args", "timeLeft", "clearTimeout", "setTimeout", "apply", "cancel", "isSameDate", "d1", "d2", "getDate", "getMonth", "getFullYear", "SECONDS_IN_THE_DAY", "MILLISECONDS_IN_THE_DAY", "detectIOS", "ua", "canUseDOM", "navigator", "userAgent", "toLowerCase", "isIPadOS", "checkIPadOS", "isIPad", "includes", "isIPhone", "search", "isIOS", "iosVersion", "match", "iosMajor", "iosMinor", "split", "isScrollBasedViewport", "isWKWebView", "checkWKWebView", "isIPhoneX", "screen", "width", "height", "window", "devicePixelRatio", "isIOSChrome", "detect", "checkWKWebView", "ua", "canUseDOM", "webkit", "window", "messageHandlers", "lte9", "test", "String", "HTMLElement", "idb", "indexedDB", "includes", "navigator", "standalone", "statusbar", "visible", "checkIPadOS", "isNotIOS", "isMacOS", "document", "detect", "obj", "hasMouse", "hasTouchEvents", "hasHover", "hasTouch", "canUseDOM", "isIOS", "isIPadOS", "document", "navigator", "maxTouchPoints", "notMobile", "test", "userAgent", "window", "matchMedia", "matches", "escapeRegExp", "string", "replace", "Replacer", "map", "regexp", "build", "groups", "Object", "keys", "escapeRegExp", "sort", "a", "b", "length", "pattern", "join", "RegExp", "replace", "string", "substring", "fromCodePoint", "String", "astralCodePoint", "fromCharCode", "Math", "floor", "codePointAtNative", "prototype", "codePointAt", "escapeReplacer", "Replacer", "unescapeReplacer", "outOfBoundsChar", "String", "fromCharCode", "noop", "isPassiveEventsSupported", "isSupported", "canUseEventListeners", "options", "Object", "defineProperty", "get", "window", "addEventListener", "noop", "removeEventListener", "e", "detectSmoothScrollSupport", "canUseDOM", "div", "document", "createElement", "scrollTo", "top", "behavior", "isSmoothScrollSupported", "isObjectLike", "object", "isFunction", "object", "isEqual", "value", "other", "isObjectLike", "Object", "keys", "length", "prop", "hasOwnProperty", "hasReactNode", "value", "undefined", "isPrimitiveReactNode", "node", "CustomStorage", "data", "getItem", "key", "hasOwnProperty", "keys", "Object", "setItem", "val", "String", "removeItem", "id", "clear", "length", "index", "transliterationDictVKRusToEng", "transliterationDictVKEngToRus", "transliterationDictGostLetterCombinationsRu", "Transliterator", "dict", "replacer", "Replacer", "transliteration", "text", "replace", "transliteratorVKRusToEng", "transliteratorVKEngToRus", "transliteratorGostLetterCombinationsRu", "React", "childToString", "child", "JSON", "stringify", "toString", "getTextFromChildren", "children", "Array", "isValidElement", "Children", "toArray", "reduce", "text", "newText", "isValidElementResult", "hasChildren", "props", "concat", "FOCUSABLE_ELEMENTS_LIST", "Keys", "ENTER", "SPACE", "TAB", "ESCAPE", "HOME", "END", "DELETE", "BACKSPACE", "ARROW_LEFT", "ARROW_RIGHT", "ARROW_UP", "ARROW_DOWN", "PAGE_UP", "PAGE_DOWN", "EVENT_KEY_TO_COMMON_KEY_MAP", "Map", "pressedKey", "event", "foundKey", "get", "key", "FOCUS_ALLOW_LIST_KEYS", "Set", "isKeyboardFocusingStarted", "has", "shouldTriggerClickOnEnterOrSpace", "e", "el", "target", "tagName", "role", "getAttribute", "isValidKeyboardEventTarget", "isContentEditable", "isNativeAnchorEl", "hasAttribute", "keyPressed", "injectAriaExpandedPropByRole", "props", "state", "hasAccessibleName", "ariaLabel", "ariaLabelledBy", "title", "children", "accessibleLabel", "getTextFromChildren", "trim", "getHorizontalFocusGoTo", "keys", "getComputedStyle", "getComputedStyle", "getDOM", "window", "canUseDOM", "undefined", "document", "DOMContext", "createContext", "useDOM", "useContext", "isWindow", "node", "isDocumentElement", "node", "undefined", "tagName", "withDOM", "Component", "WithDOM", "props", "dom", "useDOM", "_jsx", "blurActiveElement", "document", "activeElement", "blur", "TRANSFORM_DEFAULT_VALUES", "WILL_CHANGE_DEFAULT_VALUES", "getTransformedParentCoords", "element", "parentNode", "isHTMLElement", "transform", "willChange", "getComputedStyle", "includes", "x", "y", "getBoundingClientRect", "isFixedStrategy", "isWindow", "documentElement", "clientRect", "height", "clientHeight", "offsetX", "offsetY", "rectToClientRect", "left", "top", "width", "getRelativeBoundingClientRect", "parent", "child", "parentRect", "childRect", "getNearestOverflowAncestor", "terminalNode", "getParentNode", "isLastTraversableNode", "getWindow", "isOverflowElement", "getScrollHeight", "scrollHeight", "getScrollRect", "window", "isElement", "scrollElRect", "edgeTop", "scrollY", "edgeBottom", "relative", "edges", "getDocumentBody", "body", "getActiveElementByAnotherElement", "el", "ownerDocument", "contains", "getFirstTouchEventData", "event", "dataRaw", "resolveData", "type", "changedTouches", "touches", "screenX", "screenY", "clientX", "clientY", "pageX", "pageY", "process", "initializeBrowserGesturePreventionEffect", "options", "passive", "handleWindowTouchMove", "preventDefault", "stopPropagation", "classList", "add", "addEventListener", "dispose", "remove", "removeEventListener", "nonTextInputTypes", "button", "submit", "reset", "color", "file", "image", "checkbox", "radio", "isHTMLContentEditableElement", "closest", "getVisualViewport", "win", "result", "offsetTop", "offsetLeft", "visualViewport", "Math", "round", "pageYOffset", "pageXOffset", "innerWidth", "innerHeight", "hasSelectionWithRangeType", "selection", "getSelection", "isSVGElement", "value", "canUseDOM", "SVGElement", "React", "useIsomorphicLayoutEffect", "canUseDOM", "useLayoutEffect", "useEffect", "ENABLE_KEYBOARD_INPUT_EVENT_NAME", "DISABLE_KEYBOARD_INPUT_EVENT_NAME", "EVENT_OPTIONS", "passive", "capture", "useKeyboardInputTracker", "document", "useDOM", "keyboardFocusingStartedRef", "useRef", "useIsomorphicLayoutEffect", "handleKeydown", "event", "isKeyboardFocusingStarted", "current", "handleCustomEnableKeyboardEvent", "handleCustomDisableKeyboardEvent", "addEventListener", "removeEventListener", "layoutClassNames", "card", "plain", "useSyncHTMLWithBaseVKUIClasses", "appRootRef", "mode", "enable", "layout", "useIsomorphicLayoutEffect", "htmlElement", "current", "ownerDocument", "documentElement", "parentElement", "htmlElementClasses", "parentElementClasses", "push", "classList", "add", "remove", "React", "React", "memoized", "computeBrowserInfo", "userAgent", "browserInfo", "system", "systemVersion", "isIOS", "iosMajor", "iosMinor", "detectIOS", "major", "minor", "mediaQueryNull", "query", "matches", "media", "onchange", "noop", "addListener", "removeListener", "addEventListener", "removeEventListener", "dispatchEvent", "Platform", "ANDROID", "IOS", "VKCOM", "platform", "browserInfo", "computeBrowserInfo", "system", "DEFAULT_TOKENS_CLASS_NAMES", "android", "light", "dark", "ios", "vkcom", "ConfigProviderContext", "createContext", "hasCustomPanelHeaderAfter", "customPanelHeaderAfterMinWidth", "isWebView", "transitionMotionEnabled", "platform", "colorScheme", "undefined", "tokensClassNames", "DEFAULT_TOKENS_CLASS_NAMES", "locale", "direction", "useConfigProvider", "useContext", "useConfigProviderContextMemo", "config", "useMemo", "DEFAULT_COLOR_SCHEME", "ColorScheme", "DARK", "LIGHT", "isTokensClassNamesForPlatforms", "tokensClassNames", "Platform", "ANDROID", "IOS", "VKCOM", "getTokenClassNameByAppearance", "colorScheme", "undefined", "getAppearanceTokenClassNameByPlatform", "platform", "useTokensClassName", "DEFAULT_COLOR_SCHEME", "useContext", "ConfigProviderContext", "colorSchemeClassName", "tokensClassName", "DEFAULT_TOKENS_CLASS_NAMES", "useSyncHTMLWithTokens", "appRootRef", "enable", "tokenClassName", "useTokensClassName", "useIsomorphicLayoutEffect", "htmlElement", "current", "ownerDocument", "documentElement", "classList", "add", "remove", "React", "DEFAULT_APP_ROOT_CONTEXT_VALUE", "appRoot", "createRef", "mode", "portalRoot", "safeAreaInsets", "undefined", "embedded", "keyboardInput", "disablePortal", "AppRootContext", "createContext", "React", "React", "React", "AdaptivityContext", "createContext", "useAdaptivity", "useContext", "AdaptivityContext", "React", "mergeStyle", "a", "b", "RootComponent", "Component", "baseClassName", "className", "baseStyle", "style", "getRootRef", "restProps", "_jsx", "ref", "classNames", "hidden", "mergeStyle", "React", "isRefObject", "refObject", "hasOwnProperty", "CUSTOM_PROPERTY_INSET_PREFIX", "useSafeAreaInsetsMemo", "safeAreaInsetsProp", "top", "right", "bottom", "left", "safeAreaInsets", "useMemo", "getSafeAreaInsetsAsCssVariables", "cssVariables", "key", "hasOwnProperty", "propertyKey", "propertyValue", "getUserSelectModeClassName", "userSelectMode", "isWebView", "hasPointer", "enableByHasPointerMediaQuery", "undefined", "sizeYClassNames", "none", "compact", "useAppRootStyles", "safeAreaInsets", "mode", "userSelectMode", "useContext", "AppRootContext", "hasPointer", "sizeY", "useAdaptivity", "isWebView", "useConfigProvider", "userSelectModeClassName", "getUserSelectModeClassName", "tokensClassName", "useTokensClassName", "style", "getSafeAreaInsetsAsCssVariables", "undefined", "className", "classNames", "AppRootStyleContainer", "props", "appRootStyle", "appRootClassName", "_jsx", "RootComponent", "baseClassName", "baseStyle", "React", "clamp", "value", "min", "max", "Math", "getDecimalPrecision", "num", "Math", "abs", "parts", "toExponential", "split", "matissaDecimalPart", "length", "parseInt", "decimalPart", "toString", "roundValueToStep", "value", "step", "min", "nearest", "round", "Number", "toFixed", "decimatedClamp", "val", "max", "clamp", "roundedValue", "rescale", "from", "to", "options", "scaled", "clearDisableScrollStyle", "node", "Object", "assign", "style", "position", "top", "left", "right", "overscrollBehavior", "overflowY", "overflowX", "getPageYOffsetWithoutKeyboardHeight", "window", "scrollTop", "diffOfClientHeightAndViewportHeight", "document", "documentElement", "clientHeight", "innerHeight", "ScrollContext", "createContext", "getScroll", "x", "y", "scrollTo", "noop", "incrementScrollLockCounter", "decrementScrollLockCounter", "useScroll", "useContext", "useScrollLockController", "enableScrollLock", "disableScrollLock", "countRef", "useRef", "updateScrollLock", "useCallback", "current", "useManualScroll", "useMemo", "_scrollTo", "scrollWidth", "clientWidth", "scrollHeight", "scrollLockEnabled", "lockedElement", "elementToScroll", "clamp", "_getScroll", "xOffset", "yOffset", "element", "customCalcY", "v", "elementStyles", "scrollLeft", "parseFloat", "GlobalScrollController", "children", "useDOM", "beforeScrollLockFnSetRef", "Set", "scrollLockEnabledRef", "options", "compensateKeyboardHeight", "pageXOffset", "pageYOffset", "body", "innerWidth", "forEach", "fn", "scrollX", "scrollY", "scrollData", "scrollController", "_jsx", "Provider", "value", "ElementScrollController", "elRef", "el", "useScrollLock", "enabled", "React", "useEffect", "layoutClassNames", "card", "plain", "AppRoot", "children", "mode", "scroll", "portalRoot", "disablePortal", "disableParentTransformForPositionFixedElements", "safeAreaInsets", "safeAreaInsetsProp", "layout", "userSelectMode", "disableSettingVKUIClassesInRuntime", "className", "props", "appRootRef", "useRef", "isKeyboardInputActiveRef", "useKeyboardInputTracker", "useSafeAreaInsetsMemo", "contextValue", "useMemo", "appRoot", "embedded", "keyboardInput", "current", "useSyncHTMLWithTokens", "enable", "useSyncHTMLWithBaseVKUIClasses", "ScrollController", "ElementScrollController", "GlobalScrollController", "_jsx", "AppRootContext", "Provider", "value", "elRef", "AppRootStyleContainer", "getRootRef", "classNames", "undefined", "React", "useColorScheme", "colorScheme", "useConfigProvider", "DEFAULT_COLOR_SCHEME", "createPortal", "children", "container", "key", "resolvedContainer", "getDocumentBody", "React", "React", "InjectTokenClassNameToChild", "children", "tokensClassName", "useTokensClassName", "cloneElement", "className", "classNames", "props", "TokensClassProvider", "Children", "map", "child", "isValidElement", "_jsx", "React", "ConfigProviderOverride", "children", "contextValue", "parentConfig", "useConfigProvider", "configContext", "useConfigProviderContextMemo", "_jsx", "ConfigProviderContext", "Provider", "value", "ColorSchemeProvider", "value", "children", "_jsx", "ConfigProviderOverride", "colorScheme", "IconAppearanceProvider", "TokensClassProvider", "AppRootPortal", "children", "usePortal", "className", "mode", "disablePortal", "disableCreatePortalInGlobalPortalRoot", "useContext", "AppRootContext", "colorScheme", "useColorScheme", "canUsePortal", "shouldUsePortal", "Boolean", "portalContainer", "usePortalContainer", "createPortal", "_jsx", "ColorSchemeProvider", "value", "AppRootStyleContainer", "undefined", "portalRoot", "portalRootFromContext", "document", "useDOM", "isRefObject", "current", "resolvedPortalFromContext", "body", "React", "stylesWeight", "weightClassNames", "weight", "useAccentWeight", "classNames", "Typography", "Component", "normalize", "inline", "restProps", "_jsx", "RootComponent", "baseClassName", "stylesLevel", "sizeYClassNames", "none", "compact", "DisplayTitle", "className", "level", "Component", "normalize", "inline", "restProps", "sizeY", "useAdaptivity", "_jsx", "Typography", "classNames", "stylesLevel", "sizeYClassNames", "none", "compact", "Title", "className", "level", "Component", "normalize", "inline", "restProps", "sizeY", "useAdaptivity", "_jsx", "Typography", "classNames", "stylesLevel", "sizeYClassNames", "none", "compact", "Headline", "className", "level", "Component", "normalize", "inline", "restProps", "sizeY", "useAdaptivity", "_jsx", "Typography", "classNames", "sizeYClassNames", "none", "compact", "Text", "className", "Component", "normalize", "inline", "restProps", "sizeY", "useAdaptivity", "_jsx", "Typography", "classNames", "sizeYClassNames", "none", "compact", "Paragraph", "className", "Component", "normalize", "inline", "restProps", "sizeY", "useAdaptivity", "_jsx", "Typography", "classNames", "sizeYClassNames", "none", "compact", "Subhead", "className", "Component", "normalize", "inline", "restProps", "sizeY", "useAdaptivity", "_jsx", "Typography", "classNames", "sizeYClassNames", "none", "compact", "footnoteClassNames", "sizeY", "caps", "classNames", "Footnote", "className", "Component", "normalize", "inline", "restProps", "useAdaptivity", "_jsx", "Typography", "stylesLevel", "sizeYClassNames", "none", "compact", "captionClassNames", "sizeY", "level", "caps", "classNames", "Caption", "className", "Component", "normalize", "inline", "restProps", "useAdaptivity", "_jsx", "Typography", "import_react", "EllipsisText", "Component", "className", "children", "maxWidth", "maxLines", "disableNativeTitle", "restProps", "contentRef", "useRef", "useIsomorphicLayoutEffect", "current", "style", "setProperty", "_jsx", "RootComponent", "classNames", "title", "undefined", "getTextFromChildren", "span", "ref", "React", "UnstyledTextField", "as", "noPadding", "className", "restProps", "_jsx", "Text", "Component", "normalize", "classNames", "ViewWidth", "SMALL_MOBILE", "MOBILE", "SMALL_TABLET", "TABLET", "DESKTOP", "ViewHeight", "EXTRA_SMALL", "SMALL", "MEDIUM", "SizeType", "COMPACT", "REGULAR", "VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP", "BREAKPOINTS", "DESKTOP", "TABLET", "SMALL_TABLET", "MOBILE", "MOBILE_LANDSCAPE_HEIGHT", "MEDIUM_HEIGHT", "widthPlus", "a", "widthMinus", "b", "widthHalfInterval", "heightPlus", "MEDIA_QUERIES", "DESKTOP_PLUS", "widthPlus", "BREAKPOINTS", "DESKTOP", "TABLET", "widthHalfInterval", "SMALL_TABLET_PLUS", "SMALL_TABLET", "MOBILE", "MEDIUM_HEIGHT", "heightPlus", "MOBILE_LANDSCAPE_HEIGHT", "getViewWidthByViewportWidth", "viewportWidth", "BREAKPOINTS", "DESKTOP", "ViewWidth", "TABLET", "SMALL_TABLET", "MOBILE", "SMALL_MOBILE", "getViewWidthByMediaQueries", "mediaQueries", "desktopPlus", "matches", "tablet", "smallTablet", "mobile", "getViewHeightByViewportHeight", "viewportHeight", "MEDIUM_HEIGHT", "ViewHeight", "MEDIUM", "MOBILE_LANDSCAPE_HEIGHT", "SMALL", "EXTRA_SMALL", "getViewHeightByMediaQueries", "mediumHeight", "mobileLandscapeHeight", "getSizeX", "viewWidth", "isCompactByViewWidth", "hasPointer", "undefined", "isCompactByViewHeight", "viewHeight", "getSizeY", "tryToCheckIsDesktop", "platform", "IS_VKCOM_CRUTCH", "widthIsLikeDesktop", "otherParametersIsLikeDesktop", "viewWidthToClassName", "breakpointClassNames", "hasOwnProperty", "breakpoints", "breakpointName", "VIEW_WIDTH_TO_CSS_BREAKPOINT_MAP", "push", "length", "join", "callMultiple", "fns", "args", "filter", "f", "forEach", "mergeCalls", "props", "objectToArrays", "reduce", "record", "obj", "Object", "entries", "forEach", "key", "value", "hasOwnProperty", "push", "array", "callMultiple", "React", "import_react", "useFocusVisible", "isFocused", "setIsFocused", "useState", "withKeyboardInputCheck", "keyboardInput", "useContext", "AppRootContext", "onFocus", "useCallback", "event", "stopPropagation", "onBlur", "focusVisible", "focusVisiblePresetModeClassNames", "inside", "outside", "isPresetMode", "mode", "useFocusVisibleClassName", "focusVisible", "modeClassName", "focusVisibleClassNames", "classNames", "React", "setRef", "element", "ref", "current", "stopPropagation", "event", "preventDefault", "excludeKeysWithUndefined", "obj", "filteredObj", "key", "hasOwnProperty", "undefined", "isDOMTypeElement", "element", "type", "isValidNotReactFragmentElement", "children", "isValidElement", "$$typeof", "Symbol", "for", "isForwardRefElement", "typeOfOfType", "getFetchPriorityProp", "value", "version", "startsWith", "fetchPriority", "fetchpriority", "clickByKeyboardHandler", "event", "isHTMLElement", "target", "shouldTriggerClickOnEnterOrSpace", "preventDefault", "click", "React", "React", "useStateWithDelay", "initialState", "defaultDelay", "onStateChange", "noop", "value", "setValue", "useState", "timeout", "useRef", "undefined", "handleSetValue", "useCallback", "nextValue", "isFunction", "prevValue", "setValueWithDelay", "newValue", "delay", "clearTimeout", "current", "setTimeout", "DEFAULT_ACTIVE_EFFECT_DELAY", "ACTIVE_DELAY", "useHover", "hovered", "hasHover", "lockState", "setParentStateLock", "hoveredStateLocal", "setHoveredStateLocal", "useState", "prevIsHoveredRef", "useRef", "undefined", "handleHover", "useCallback", "isHover", "isHovered", "calculateStateValue", "hasState", "isLocked", "stateValueLocal", "current", "onPointerEnter", "e", "pointerType", "onPointerLeave", "noop", "useActive", "activated", "activeEffectDelay", "hasActive", "lockStateRef", "activatedState", "setActivated", "useStateWithDelay", "pointersUp", "useMemo", "Set", "onPointerDown", "onPointerCancel", "has", "pointerId", "delete", "onPointerUp", "add", "isActivated", "ClickableLockStateContext", "createContext", "lockHoverStateBubbling", "lockActiveStateBubbling", "useLockState", "setParentStateLockBubbling", "setLockState", "setStateLockBubblingImmediate", "isLock", "useLockRef", "unlockParentHover", "hoverClassName", "activeClassName", "useContext", "lockHoverState", "setParentStateLockHoverBubbling", "setLockHoverBubblingImmediate", "lockActiveStateRef", "setParentStateLockActiveBubbling", "setLockActiveBubblingImmediate", "hoverEvent", "activeEvent", "stateClassName", "classNames", "handlers", "mergeCalls", "nonClickableProps", "href", "onClick", "onClickCapture", "activeClassName", "hoverClassName", "hasActive", "hasHover", "hovered", "unlockParentHover", "activated", "activeEffectDelay", "focusVisibleMode", "DefaultComponent", "Component", "restProps", "lockStateContextValue", "lockHoverStateBubbling", "undefined", "lockActiveStateBubbling", "useClickableProps", "baseClassName", "DEFAULT_ACTIVE_EFFECT_DELAY", "hasHoverWithChildren", "onPointerEnter", "onPointerLeave", "onPointerDown", "onPointerCancel", "onPointerUp", "onBlur", "onFocus", "onKeyDown", "useFocusVisible", "focusVisible", "focusEvents", "focusVisibleClassNames", "useFocusVisibleClassName", "mode", "useState", "stateClassName", "setLockHoverBubblingImmediate", "setLockActiveBubblingImmediate", "stateEvents", "handlers", "mergeCalls", "clickByKeyboardHandler", "useMemo", "noop", "classNames", "useProps", "props", "commonProps", "component", "isClickable", "checkClickable", "disabled", "nextProps", "clickableProps", "role", "tabIndex", "Clickable", "children", "_jsx", "RootComponent", "ClickableLockStateContext", "Provider", "value", "React", "usePlatform", "platform", "useConfigProvider", "getOffsetRect", "elem", "box", "getBoundingClientRect", "top", "left", "width", "offsetWidth", "height", "offsetHeight", "useMaybeNeedRipple", "activeMode", "hasPointer", "platform", "usePlatform", "DELAY", "WAVE_LIVE", "useRipple", "needRipple", "hasPointerContext", "clicks", "setClicks", "useState", "pointerDelayTimers", "useMemo", "Map", "React", "useEffect", "setClearClicksTimeout", "clicksTimeoutId", "length", "setTimeout", "cancelClearClicksTimeout", "clearTimeout", "addClick", "x", "y", "pointerId", "dateNow", "Date", "now", "filteredClicks", "filter", "click", "id", "delete", "onPointerDown", "e", "top", "left", "getOffsetRect", "currentTarget", "clientX", "clientY", "set", "onPointerCancel", "timer", "get", "reallyNeedRipple", "hasPointerLib", "noop", "Ripple", "_jsx", "span", "aria-hidden", "className", "classNames", "map", "wave", "style", "DEFAULT_STATE_MODE", "stylesHovered", "background", "opacity", "none", "hoverClass", "hoverMode", "presetClass", "undefined", "stylesActivated", "activeClass", "activeMode", "sizeXClassNames", "none", "compact", "hasPointerClassName", "hasPointer", "undefined", "Tappable", "baseClassName", "borderRadiusMode", "children", "hoverMode", "DEFAULT_STATE_MODE", "activeMode", "onPointerDown", "onPointerCancel", "restProps", "isClickable", "checkClickable", "sizeX", "useAdaptivity", "needRipple", "useMaybeNeedRipple", "useRipple", "clicks", "rippleEvents", "handlers", "mergeCalls", "typeProps", "Component", "type", "_jsxs", "Clickable", "classNames", "SizeType", "REGULAR", "hoverClassName", "hoverClass", "activeClassName", "activeClass", "_jsx", "Ripple", "import_react", "React", "import_react", "defaultIframeStyles", "position", "left", "top", "zIndex", "width", "height", "pointerEvents", "opacity", "border", "CustomResizeObserver", "observe", "element", "isPositioned", "observeUsingIframe", "observeUsingMutationObserver", "appendToTheDOM", "record", "records", "target", "appendChild", "iframe", "contentWindow", "addEventListener", "updateFunction", "ownerDocument", "createElement", "ariaHidden", "tabIndex", "Object", "assign", "style", "push", "mutationObserverFallback", "MutationObserver", "childList", "subtree", "disconnect", "map", "removeEventListener", "removeChild", "getComputedStyle", "React", "useStableCallback", "fn", "ref", "useRef", "useIsomorphicLayoutEffect", "current", "useCallback", "args", "useResizeObserver", "ref", "callback", "stableCallback", "useStableCallback", "window", "useDOM", "useEffect", "addResizeObserverHandler", "onResize", "addEventListener", "removeEventListener", "isRefObject", "current", "element", "canUseResizeObserver", "ResizeObserver", "undefined", "observeFn", "observer", "CustomResizeObserver", "observe", "appendToTheDOM", "disconnect", "React", "defineComponentDisplayNames", "Component", "name", "displayName", "Object", "defineProperty", "value", "onboardingTooltipContainerAttr", "OnboardingTooltipContainer", "forwardRef", "ref", "fixed", "Component", "props", "dataProps", "_jsx", "process", "defineComponentDisplayNames", "React", "SplitColContext", "createContext", "colRef", "animate", "useSplitCol", "useContext", "stylesVertical", "top", "bottom", "classNames", "FixedLayout", "children", "style", "vertical", "getRootRef", "filled", "className", "useParentWidth", "restProps", "platform", "usePlatform", "ref", "useRef", "width", "setWidth", "useState", "undefined", "window", "useDOM", "colRef", "useContext", "SplitColContext", "parentRef", "handleRootRef", "useCallback", "node", "setRef", "parentElement", "doResize", "current", "parentWidth", "getBoundingClientRect", "computedStyle", "getComputedStyle", "clientWidth", "parseFloat", "paddingLeft", "paddingRight", "React", "useEffect", "useResizeObserver", "_jsx", "OnboardingTooltipContainer", "fixed", "import_react", "React", "React", "ExternalRef", "updateExternRefs", "refs", "forEach", "ref", "has", "setRef", "add", "current", "el", "hasOwnProperty", "v", "externRefs", "Set", "useExternRef", "useRef", "isNotUndefined", "value", "undefined", "fnArgsOr", "fn", "args", "defaultValue", "definedArgs", "filter", "length", "minOr", "Math", "min", "React", "React", "ImageBaseContext", "createContext", "size", "onMouseOverHandlers", "onMouseOutHandlers", "warnOnce", "zone", "didWarn", "Set", "message", "type", "has", "add", "formattedMessage", "styles", "undefined", "console", "getA11yRuleUrl", "ruleName", "AXE_CORE_MINOR_VERSION", "COMMON_WARNINGS", "a11y", "getFallbackIconSizeByImageBaseSize", "imageSize", "MAX_SIZE", "getBadgeIconSizeByImageBaseSize", "getOverlayIconSizeByImageBaseSize", "imageBaseSizes", "parseIconSizeByDisplayName", "displayName", "match", "exec", "Number", "parseIconSizeByWidthProp", "width", "size", "getElementDisplayName", "element", "type", "name", "getElementWidthProp", "props", "getIconSizeByElement", "sizeByDisplayName", "sizeByWidth", "validateIconComponentSizeByImageSize", "imageSize", "iconProp", "selectorFn", "logger", "iconSize", "value", "result", "MAX_SIZE", "iconName", "propMessage", "warnImageBase", "warnOnce", "validateFallbackIcon", "getFallbackIconSizeByImageBaseSize", "mapOfExpectedSize", "Set", "imageBaseSizes", "arrayOfSizes", "Array", "from", "map", "str", "maxSize", "reduce", "validateSize", "has", "join", "warnImageBaseBadge", "validateBadgeIcon", "getBadgeIconSizeByImageBaseSize", "warnImageBaseOverlay", "validateOverlayIcon", "getOverlayIconSizeByImageBaseSize", "DevelopmentCheck", "children", "size", "useContext", "ImageBaseContext", "validateBadgeIcon", "name", "value", "backgroundStyles", "stroke", "shadow", "ImageBaseBadge", "background", "restProps", "_jsxs", "_Fragment", "_jsx", "RootComponent", "baseClassName", "classNames", "React", "isIndentSizeConstant", "indent", "calculateIndent", "resolveIndent", "cssProperty", "classNames", "undefined", "calculatedIndent", "mutableRemoveElement", "arr", "element", "splice", "indexOf", "positionPlacementClassNames", "inlineIndentClassNames", "blockIndentClassNames", "ImageBaseFloatElement", "placement", "visibility", "style", "className", "inlineIndent", "blockIndent", "restProps", "hidden", "setHidden", "useState", "onMouseOverHandlers", "onMouseOutHandlers", "useContext", "ImageBaseContext", "useIsomorphicLayoutEffect", "resetHidden", "addMouseHandlers", "onMouseOver", "onMouseOut", "push", "mutableRemoveElement", "inlineIndentStyle", "blockIndentStyle", "inlineIndentClassName", "blockIndentClassName", "useMemo", "resolveIndent", "_jsx", "RootComponent", "classNames", "React", "React", "React", "isFocusWithin", "ref", "document", "contains", "activeElement", "useFocusWithin", "useDOM", "focusWithin", "setFocusWithin", "useState", "current", "useIsomorphicLayoutEffect", "handleAutoFocus", "handleFocusOrBlurEvents", "addEventListener", "capture", "removeEventListener", "React", "useIsClient", "initial", "isClient", "setIsClient", "useState", "useIsomorphicLayoutEffect", "useNonInteractiveOverlayProps", "rootRef", "focusWithin", "useFocusWithin", "nonInteractiveFocusShown", "setNonInteractiveFocusShown", "useState", "onClick", "event", "detail", "useIsomorphicLayoutEffect", "shown", "useCalculatedDefaultVisibility", "hasPointer", "hasPointerContext", "useAdaptivity", "needTwoPassRendering", "undefined", "isClient", "useIsClient", "hasPointerLib", "DevelopmentCheck", "children", "size", "useContext", "ImageBaseContext", "process", "validateOverlayIcon", "name", "value", "ImageBaseOverlayInteractive", "className", "getRootRef", "overlayShown", "restProps", "useFocusVisible", "focusVisible", "focusEvents", "focusVisibleClassNames", "useFocusVisibleClassName", "mode", "_jsxs", "_Fragment", "_jsx", "div", "tabIndex", "role", "classNames", "ref", "onKeyDown", "clickByKeyboardHandler", "ImageBaseOverlayNonInteractive", "overlayShownProps", "rootRef", "useExternRef", "shown", "onClick", "onOverlayClick", "useNonInteractiveOverlayProps", "ImageBaseOverlay", "theme", "themeProp", "visibility", "visibilityProp", "colorScheme", "useColorScheme", "commonClassNames", "defaultVisibility", "useCalculatedDefaultVisibility", "commonProps", "defaultSize", "getObjectFitClassName", "objectFit", "undefined", "parsePx", "value", "endsWith", "parseInt", "sizeToNumber", "size", "ImageBase", "alt", "crossOrigin", "decoding", "loading", "referrerPolicy", "sizes", "src", "srcSet", "useMap", "fetchPriority", "getRef", "sizeProp", "width", "widthImg", "height", "heightImg", "widthSize", "heightSize", "noBorder", "fallbackIcon", "fallbackIconProp", "children", "onLoad", "onError", "withTransparentBackground", "objectPosition", "filter", "keepAspectRatio", "getRootRef", "elementTiming", "restProps", "minOr", "wrapperRef", "useExternRef", "loaded", "setLoaded", "useState", "failed", "setFailed", "mouseOverHandlersRef", "useRef", "mouseOutHandlersRef", "hasSrc", "process", "validateSize", "isValidElement", "validateFallbackIcon", "name", "handleImageLoad", "event", "handleImageError", "imgRef", "isOnLoadStatusCheckedRef", "React", "useEffect", "dispatchLoadEventForAlreadyLoadedResourceIfReactInitializedLater", "current", "complete", "Event", "dispatchEvent", "onMouseOver", "forEach", "fn", "onMouseOut", "contextValue", "useMemo", "onMouseOverHandlers", "onMouseOutHandlers", "imgStyles", "keepAspectRationStyles", "_jsx", "ImageBaseContext", "Provider", "_jsxs", "Clickable", "baseStyle", "baseClassName", "classNames", "img", "ref", "className", "style", "mergeStyle", "elementtiming", "getFetchPriorityProp", "div", "aria-hidden", "Badge", "ImageBaseBadge", "Overlay", "ImageBaseOverlay", "FloatElement", "ImageBaseFloatElement", "defineComponentDisplayNames", "React", "React", "animationVisibilityDelayStyles", "delay", "undefined", "VisuallyHidden", "Component", "baseClassName", "restProps", "_jsx", "RootComponent", "classNames", "React", "useCSSKeyframesAnimationController", "stateProp", "onEnter", "onEnterProp", "onEntering", "onEntered", "onExit", "onExitProp", "onExiting", "onExited", "disableInitAnimation", "state", "setState", "useState", "prevStateRef", "useRef", "undefined", "React", "useEffect", "current", "onAnimationStart", "onAnimationEnd", "useStableCallback", "noop", "useIsomorphicLayoutEffect", "updateState", "prevState", "React", "matchMediaListAddListener", "mediaQueryList", "listener", "addEventListener", "addListener", "matchMediaListRemoveListener", "removeEventListener", "removeListener", "REDUCE_MOTION_MEDIA_QUERY", "useReducedMotion", "window", "useDOM", "reducedMotion", "setReducedMotion", "useState", "undefined", "useIsomorphicLayoutEffect", "match", "matchMedia", "matches", "handleMediaQueryChange", "event", "matchMediaListAddListener", "matchMediaListRemoveListener", "rubberband", "distance", "dimension", "constant", "Math", "abs", "Infinity", "pow", "rubberbandIfOutOfBounds", "position", "min", "max", "clamp", "animationFadeClassNames", "in", "out", "transformOriginClassNames", "import_react", "format", "format", "hours", "minutes", "offset", "hours", "minutes", "offset", "parse", "input", "format", "referenceDate", "Date", "match2", "match4", "entries", "val", "numVal", "okay", "parseInt", "superRegExp", "RegExp", "map", "item", "join", "store", "y", "getFullYear", "M", "getMonth", "d", "getDate", "h", "getHours", "m", "getMinutes", "s", "getSeconds", "ms", "getMilliseconds", "prevInputIndex", "lastNonFormatting", "lastFormatIndex", "found", "match", "exec", "length", "atIndex", "lastIndex", "find", "slice", "value", "key", "newValue", "date", "Y", "D", "convertDateToTimeZone", "timezone", "TZDateMini", "tz", "undefined", "convertDateFromTimeZone", "systemTimezone", "Intl", "DateTimeFormat", "resolvedOptions", "timeZone", "dateOptions", "day", "month", "year", "dateFormatter", "replace", "hour", "minute", "dateTimeFormatter", "endOfMonth", "result", "setFullYear", "setHours", "endOfDay", "isSameMonth", "d1", "d2", "isLastDayOfMonth", "isWithinInterval", "interval", "startTime", "endTime", "sort", "a", "b", "isMatch", "input", "format", "isNaN", "parse", "millisecondsInSecond", "forceReflowForFixNewMountedElement", "node", "scrollTop", "TRANSITION_FALLBACK_DELAY", "useCSSTransition", "inProp", "enableAppear", "enableEnter", "enableExit", "onEnter", "onEnterProp", "onEntering", "onEnteringProp", "onEntered", "onEnteredProp", "onExit", "onExitProp", "onExiting", "onExitingProp", "onExited", "onExitedProp", "useStableCallback", "noop", "timerRef", "useRef", "ref", "state", "setState", "useState", "clearTimer", "current", "clearTimeout", "useIsomorphicLayoutEffect", "updateState", "completeTransition", "event", "propertyName", "scheduleTransitionCompletionFallback", "el", "style", "getComputedStyle", "parseTime", "s", "includes", "parseFloat", "millisecondsInSecond", "duration", "Math", "max", "transitionDuration", "split", "map", "transitionDelay", "setTimeout", "onTransitionEnd", "undefined", "SpinnerAnimation", "size", "isReducedMotion", "useReducedMotion", "undefined", "_jsx", "animate", "attributeName", "keyTimes", "values", "begin", "dur", "repeatCount", "center", "s", "m", "l", "xl", "animateTransform", "attributeType", "type", "from", "to", "React", "iconClassName", "size", "Icon16Spinner", "children", "_jsx", "svg", "className", "aria-hidden", "width", "height", "path", "fill", "d", "Icon24Spinner", "Icon32Spinner", "Icon44Spinner", "spinnerIconMap", "s", "Icon16Spinner", "m", "Icon24Spinner", "l", "Icon32Spinner", "xl", "Icon44Spinner", "Spinner", "memo", "size", "children", "disableAnimation", "noColor", "visibilityDelay", "restProps", "SpinnerIcon", "_jsxs", "RootComponent", "Component", "role", "baseClassName", "classNames", "baseStyle", "animationVisibilityDelayStyles", "_jsx", "SpinnerAnimation", "hasReactNode", "VisuallyHidden", "process", "defineComponentDisplayNames", "stylesSize", "s", "m", "l", "stylesMode", "primary", "secondary", "tertiary", "outline", "link", "stylesAppearance", "stylesAlign", "left", "right", "sizeYClassNames", "none", "regular", "Button", "size", "mode", "appearance", "stretched", "align", "children", "before", "after", "getRootRef", "loading", "onClick", "disableSpinnerAnimation", "rounded", "disabled", "restProps", "hasIconOnly", "Boolean", "sizeY", "useAdaptivity", "platform", "usePlatform", "_jsxs", "Tappable", "hoverMode", "activeMode", "Component", "href", "focusVisibleMode", "undefined", "baseClassName", "classNames", "_jsx", "Spinner", "className", "disableAnimation", "noColor", "span", "hasReactNode", "role", "data-testid", "process", "sizeYClassNames", "none", "compact", "warn", "warnOnce", "IconButton", "label", "children", "restProps", "platform", "usePlatform", "sizeY", "useAdaptivity", "process", "isAccessible", "hasAccessibleName", "COMMON_WARNINGS", "a11y", "href", "_jsxs", "Tappable", "activeEffectDelay", "activeMode", "Component", "baseClassName", "classNames", "_jsx", "VisuallyHidden", "React", "React", "forcedProps", "className", "sizeXCompactMediaQueryProps", "sizeXRegularMediaQueryProps", "sizeYCompactMediaQueryProps", "sizeYRegularMediaQueryProps", "viewWidthMediaQueryMapProps", "tabletMinus", "tabletPlus", "deviceTypeMediaQueryMapProps", "mobile", "desktop", "getAdaptiveSizeType", "type", "compactMediaQueryProps", "regularMediaQueryProps", "compact", "undefined", "forcedProps", "regular", "getAdaptiveViewWidth", "viewWidth", "viewWidthMapProps", "tabletMinus", "ViewWidth", "TABLET", "tabletPlus", "getAdaptiveDeviceType", "viewHeight", "hasPointer", "platform", "deviceTypeMapProps", "isDesktop", "tryToCheckIsDesktop", "mobile", "desktop", "useAdaptivityConditionalRender", "sizeX", "sizeXContext", "sizeY", "sizeYContext", "viewWidth", "viewWidthContext", "viewHeight", "viewHeightContext", "hasPointer", "hasPointerContext", "useContext", "AdaptivityContext", "platform", "usePlatform", "useMemo", "getAdaptiveSizeType", "sizeXCompactMediaQueryProps", "sizeXRegularMediaQueryProps", "sizeYCompactMediaQueryProps", "sizeYRegularMediaQueryProps", "getAdaptiveViewWidth", "viewWidthMediaQueryMapProps", "deviceType", "getAdaptiveDeviceType", "deviceTypeMediaQueryMapProps", "AdaptiveIconRenderer", "IconCompact", "IconRegular", "sizeY", "useAdaptivityConditionalRender", "_jsxs", "Fragment", "compact", "_jsx", "className", "regular", "stylesMode", "primary", "secondary", "tertiary", "outline", "stylesAppearance", "accent", "neutral", "stylesDirection", "row", "column", "sizeYClassNames", "none", "regular", "ToolButton", "mode", "appearance", "direction", "children", "IconCompact", "IconRegular", "rounded", "restProps", "sizeY", "useAdaptivity", "hasChildren", "hasReactNode", "_jsxs", "Tappable", "hoverMode", "activeMode", "Component", "href", "focusVisibleMode", "baseClassName", "classNames", "getRoundedClassName", "_jsx", "AdaptiveIconRenderer", "span", "className", "undefined", "React", "getNavId", "props", "warn", "id", "nav", "React", "TransitionContext", "createContext", "entering", "useNavTransition", "useContext", "NavTransitionProvider", "children", "parentContext", "contextValue", "useMemo", "_jsx", "Provider", "value", "React", "TransitionDirectionContext", "createContext", "undefined", "NavTransitionDirectionProvider", "children", "isBack", "isBackProp", "parentIsBack", "useContext", "isBackOnMount", "useState", "_jsx", "Provider", "value", "useNavDirection", "transitionDirection", "warn", "warnOnce", "Root", "children", "activeView", "_activeView", "onTransition", "nav", "restProps", "scroll", "useContext", "ScrollContext", "platform", "usePlatform", "document", "useDOM", "scrolls", "useRef", "current", "viewNodes", "transitionMotionEnabled", "useConfigProvider", "animate", "SplitColContext", "disableAnimation", "views", "Children", "toArray", "prevView", "transition", "isBack", "_setState", "useState", "transitionTo", "panel", "viewIds", "map", "view", "getNavId", "props", "indexOf", "getScroll", "y", "finishTransition", "useCallback", "useIsomorphicLayoutEffect", "activeElement", "blur", "scrollTo", "Boolean", "from", "to", "React", "useEffect", "onAnimationEndFallback", "onAnimationEnd", "_jsx", "RootComponent", "baseClassName", "classNames", "viewId", "isTransitionTarget", "compensateScroll", "div", "ref", "e", "undefined", "className", "NavTransitionDirectionProvider", "NavTransitionProvider", "entering", "style", "marginTop", "React", "React", "usePrevious", "value", "ref", "useRef", "undefined", "useEffect", "current", "React", "NavViewIdContext", "createContext", "undefined", "NavPanelIdContext", "React", "coordX", "event", "clientX", "changedTouches", "coordY", "clientY", "touchEnabled", "canUseDOM", "window", "DEFAULT_INITIAL_TIME", "UIPanGestureRecognizer", "setInitialTimeOnce", "initialTime", "Date", "now", "setStartCoords", "event", "clientX", "clientY", "getFirstTouchEventData", "x1", "y1", "setEndCoords", "x2", "y2", "delta", "x", "y", "distance", "Math", "sqrt", "pow", "velocity", "deltaTime", "millisecondsInSecond", "angle", "deltaX", "deltaY", "radians", "atan2", "degrees", "PI", "direction", "abs", "axis", "reset", "Touch", "onStart", "onStartX", "onStartY", "onMove", "onMoveX", "onMoveY", "onEnter", "onLeave", "onEnd", "onEndX", "onEndY", "onClickCapture", "usePointerHover", "slideThreshold", "useCapture", "Component", "getRootRef", "noSlideClick", "stopPropagation", "restProps", "hostRef", "useExternRef", "isTouchEnabled", "useState", "touchEnabled", "gestureRef", "useRef", "didSlide", "disposeTargetNativeGestureEvents", "cleanupTargetNativeGestureEvents", "current", "React", "useEffect", "isTouchEvent", "event", "type", "startsWith", "handleNativePointerUp", "useStableCallback", "gesture", "isPressed", "dispatchUserHandlers", "isSlide", "Boolean", "handleNativePointerMove", "clientX", "coordX", "clientY", "coordY", "shiftX", "startX", "shiftY", "startY", "shiftXAbs", "Math", "abs", "shiftYAbs", "touches", "length", "isX", "isY", "willBeX", "willBeY", "willBeSlidedX", "willBeSlidedY", "isSlideX", "isSlideY", "handlePointerDown", "nativeEvent", "initGesture", "shouldCallDirectionHandlerOnlyIsSlide", "eventOptions", "capture", "passive", "isHTMLElement", "target", "isSVGElement", "addEventListener", "removeEventListener", "doc", "getWindow", "currentTarget", "document", "handlePointerEnter", "undefined", "handlePointerLeave", "handleDragStart", "tagName", "preventDefault", "handleClickCapture", "useIsomorphicLayoutEffect", "initializeNativeTouchStartEventWithPassiveFalse", "hostEl", "options", "_jsx", "ref", "onDragStart", "onPointerEnter", "onMouseEnter", "onPointerLeave", "onMouseLeave", "onMouseDownCapture", "onMouseDown", "startT", "Date", "duration", "handler", "handlerX", "handlerY", "data", "originalEvent", "now", "getTime", "React", "useLayoutEffectCall", "fns", "useState", "useIsomorphicLayoutEffect", "length", "pop", "add", "useCallback", "fn", "push", "checkIsNotAutoPlacement", "placement", "startsWith", "getAutoPlacementAlign", "align", "replace", "convertFloatingDataToReactCSSProperties", "strategy", "x", "y", "initialWidth", "middlewareData", "styles", "position", "top", "right", "bottom", "left", "width", "hide", "referenceHidden", "getArrowCoordsByMiddlewareData", "coords", "arrow", "platform", "max", "offset", "alignment", "placements", "sides", "side", "placement", "overflow", "platform", "x", "y", "min", "max", "platform", "hasWindow", "getNodeName", "isNode", "getWindow", "getDocumentElement", "isElement", "isHTMLElement", "isShadowRoot", "invalidOverflowDisplayValues", "isOverflowElement", "getComputedStyle", "getParentNode", "isLastTraversableNode", "lastTraversableNodeNames", "getNodeScroll", "getNearestOverflowAncestor", "getComputedStyle", "isHTMLElement", "isElement", "getWindow", "getBoundingClientRect", "getNodeScroll", "getDocumentElement", "getNodeName", "isOverflowElement", "getParentNode", "isLastTraversableNode", "platform", "offset", "autoPlacement", "shift", "flip", "size", "hide", "arrow", "computePosition", "platform", "React", "import_react", "ReactDOM", "noop", "platform", "whileElementsMounted", "computePosition", "data", "isRef", "arrow", "offset", "shift", "flip", "size", "autoPlacement", "hide", "arrow", "defaultOptions", "ancestorScroll", "ancestorResize", "elementResize", "animationFrame", "autoUpdateFloatingElement", "reference", "floating", "update", "options", "restOptions", "canUseResizeObserver", "window", "ResizeObserver", "undefined", "autoUpdateLibDisposer", "autoUpdateLib", "observer", "CustomResizeObserver", "isHTMLElement", "observe", "appendToTheDOM", "disconnect", "React", "useFloatingMiddlewaresBootstrap", "placement", "arrowRef", "arrow", "arrowHeight", "arrowPadding", "sameWidth", "offsetByMainAxis", "offsetByCrossAxis", "customMiddlewares", "hideWhenReferenceHidden", "disableFlipMiddleware", "disableShiftMiddleware", "flipMiddlewareFallbackAxisSideDirection", "useMemo", "isAutoPlacement", "checkIsNotAutoPlacement", "middlewares", "offsetMiddleware", "crossAxis", "mainAxis", "shift", "shiftMiddleware", "push", "autoPlacementMiddleware", "alignment", "getAutoPlacementAlign", "flip", "flipMiddleware", "fallbackAxisSideDirection", "includes", "sizeMiddleware", "apply", "rects", "elements", "Object", "assign", "floating", "style", "width", "reference", "arrowMiddleware", "element", "padding", "hideMiddleware", "strictPlacement", "undefined", "React", "React", "useEnsuredControl", "onChange", "onChangeProp", "disabled", "props", "value", "onChangeValue", "useCustomEnsuredControl", "useCallback", "e", "target", "warn", "warnOnce", "defaultValue", "isControlled", "undefined", "localValue", "setLocalValue", "useState", "preservedControlledValueRef", "useRef", "useIsomorphicLayoutEffect", "current", "currentFallbackValueRef", "nextValue", "isFunction", "prevValue", "resolvedValue", "process", "useGlobalOnEventOutside", "event", "callback", "refs", "document", "useDOM", "useIsomorphicLayoutEffect", "someRefNotNull", "some", "ref", "current", "handleClick", "targetEl", "target", "someRefHasTargetEl", "isElement", "contains", "addEventListener", "passive", "capture", "removeEventListener", "useGlobalOnClickOutside", "DEFAULT_TRIGGER", "useResolveTriggerType", "triggerProp", "reduce", "result", "trigger", "triggerOnClick", "triggerOnHover", "triggerOnFocus", "whileElementsMounted", "args", "autoUpdateFloatingElement", "elementResize", "useFloatingWithInteractions", "trigger", "DEFAULT_TRIGGER", "placement", "placementProp", "strategy", "strategyProp", "middlewares", "hoverDelay", "closeAfterClick", "disabled", "disableInteractive", "disableCloseOnClickOutside", "disableCloseOnEscKey", "defaultShown", "shown", "shownProp", "onShownChange", "onShownChangeProp", "onShownChanged", "onShownChangedProp", "memoizedValue", "useMemo", "undefined", "shownLocalState", "setShownLocalState", "useCustomEnsuredControl", "value", "defaultValue", "onChange", "useStableCallback", "reason", "noop", "shownFinalState", "setShownFinalState", "useState", "willBeHide", "setWillBeHide", "hasCSSAnimation", "useRef", "blockMouseEnterRef", "blockFocusRef", "blurTimeoutRef", "handleCloseOnReferenceClickOutsideDisabled", "handleCloseOnFloatingClickOutsideDisabled", "triggerOnFocus", "triggerOnClick", "triggerOnHover", "useResolveTriggerType", "x", "y", "refs", "middlewareData", "useFloating", "middleware", "commitShownLocalState", "useCallback", "nextShown", "prevState", "mouseEnterDelay", "mouseLeaveDelay", "showWithDelay", "debounce", "hideWithDelay", "handleFocusOnReference", "current", "handleBlurOnReference", "event", "clearTimeout", "relatedTarget", "setTimeout", "waitWindowBlurFire", "reference", "getActiveElementByAnotherElement", "contains", "floating", "handleClickOnReference", "handleClickOnReferenceForOnlyClose", "handleMouseEnterOnBoth", "currentTarget", "cancel", "handleMouseLeaveOnBothForHoverAndFocusStates", "handleFloatingAnimationStart", "handleFloatingAnimationEnd", "handleOnClose", "handleRestoreFocus", "restoreFocus", "HTMLElement", "handleEscapeKeyDown", "handleClickOutside", "useGlobalOnClickOutside", "useIsomorphicLayoutEffect", "setGlobalBlurForTriggerOnFocus", "handleGlobalBlur", "isHTMLElement", "win", "getWindow", "addEventListener", "removeEventListener", "resolveShownStates", "referencePropsRef", "floatingPropsRef", "style", "convertFloatingDataToReactCSSProperties", "pointerEvents", "onFocus", "onBlur", "onClick", "onMouseOver", "onMouseLeave", "onAnimationStart", "onAnimationEnd", "referenceProps", "floatingProps", "onClose", "onEscapeKeyDown", "onRestoreFocus", "React", "usePlacementChangeCallback", "initialPlacement", "resolvedPlacement", "onPlacementChange", "prevPlacementRef", "useRef", "undefined", "React", "useEffect", "current", "useIsomorphicLayoutEffect", "prevPlacement", "isInitialPlacementChanged", "isResolvedPlacementChanged", "swipeBackExcludedSelector", "swipeBackExcluded", "e", "target", "originalEvent", "Boolean", "closest", "hasHorizontalScrollableElementWithScrolledToLeft", "node", "getOverflowAncestors", "some", "scrollLeft", "SWIPE_BACK_EDGE_SIZE_THRESHOLD", "SWIPE_BACK_SHIFT_THRESHOLD", "getSwipeBackPredicates", "startX", "shiftX", "innerWidth", "swipedToOpposite", "swipeBackTriggered", "viewportStartEdgeTouched", "viewportEndEdgeTouched", "scrollsCache", "warn", "warnOnce", "View", "activePanel", "activePanelProp", "history", "nav", "onTransition", "onSwipeBack", "onSwipeBackStart", "onSwipeBackCancel", "onSwipeBackCancelProp", "children", "className", "restProps", "id", "getNavId", "scrolls", "useRef", "layoutEffectCall", "useLayoutEffectCall", "React", "useEffect", "current", "panelNodes", "window", "document", "useDOM", "scroll", "useScroll", "configProvider", "useConfigProvider", "splitCol", "useSplitCol", "platform", "usePlatform", "animated", "setAnimated", "useState", "visiblePanels", "setVisiblePanels", "setActivePanel", "isBack", "setIsBack", "undefined", "prevPanel", "setPrevPanel", "nextPanel", "setNextPanel", "swipeBackPrevented", "swipingBack", "setSwipingBack", "swipeBackStartX", "setSwipeBackStartX", "swipeBackShift", "setSwipeBackShift", "swipeBackNextPanel", "setSwipeBackNextPanel", "swipeBackPrevPanel", "setSwipeBackPrevPanel", "swipeBackResult", "setSwipeBackResult", "browserSwipe", "setBrowserSwipe", "prevActivePanel", "usePrevious", "prevSwipingBack", "prevBrowserSwipe", "prevSwipeBackResult", "prevSwipeBackShift", "prevSwipeBackPrevPanel", "prevOnTransition", "panels", "Children", "toArray", "filter", "panel", "panelId", "props", "includes", "disableAnimation", "transitionMotionEnabled", "animate", "iOSSwipeBackSimulationEnabled", "isWebView", "Boolean", "flushTransition", "useCallback", "isBackTransition", "scrollTo", "from", "to", "handleAnimatedTargetAnimationEnd", "onSwipeBackSuccess", "swipingBackTransitionEndHandler", "handleTouchMoveXForNativeIOSSwipeBackOrSwipeNext", "event", "swipeBackTriggered", "viewportStartEdgeTouched", "viewportEndEdgeTouched", "getSwipeBackPredicates", "startX", "shiftX", "innerWidth", "handleTouchMoveXForIOSSwipeBackSimulation", "swipeBackExcluded", "swipedToOpposite", "length", "hasHorizontalScrollableElementWithScrolledToLeft", "originalEvent", "target", "payload", "blurActiveElement", "getScroll", "y", "slice", "handleTouchEndForIOSSwipeBackSimulation", "speed", "duration", "millisecondsInSecond", "calcPanelSwipeStyles", "isPrev", "isNext", "transform", "calcPanelSwipeBackOverlayStyles", "opacityOnSwipeEnd", "display", "opacity", "handleSwipeBackTargetTransitionEnd", "propertyName", "firstLayerId", "map", "find", "compensateKeyboardHeight", "restoreScrollPositionWhenSwipeBackIsCancelled", "swipeBackCancelledInTheMiddleOfAction", "swipeBackCancelledByMovingPanelBackToInitialPoint", "_jsx", "NavViewIdContext", "Provider", "value", "Touch", "Component", "classNames", "onMoveX", "onEnd", "div", "isPanelActive", "isPanelPrev", "isPanelNext", "isAnimatedTarget", "isSwipeBackPrev", "isSwipeBackNext", "isSwipeBackTarget", "scrollCompensateStyle", "marginTop", "_jsxs", "onTransitionEnd", "onAnimationEnd", "ref", "el", "style", "NavTransitionDirectionProvider", "NavTransitionProvider", "entering", "React", "sizeXClassNames", "none", "compact", "regular", "stylesMode", "plain", "card", "Panel", "centered", "children", "nav", "mode", "modeProp", "disableBackground", "restProps", "sizeX", "useAdaptivity", "usePanelMode", "_jsx", "NavPanelIdContext", "Provider", "value", "id", "RootComponent", "baseClassName", "classNames", "_jsxs", "Touch", "Component", "OnboardingTooltipContainer", "className", "div", "layout", "useContext", "AppRootContext", "React", "platformClassNames", "ios", "android", "vkcom", "ButtonTypography", "primary", "children", "platform", "usePlatform", "_jsx", "Title", "Component", "level", "weight", "Text", "undefined", "warn", "warnOnce", "PanelHeaderButton", "label", "restProps", "isPrimitive", "isPrimitiveReactNode", "isPrimitiveLabel", "hoverMode", "activeMode", "process", "isAccessible", "hasAccessibleName", "COMMON_WARNINGS", "a11y", "href", "elements", "filter", "item", "onlyPrimitive", "length", "_jsxs", "Tappable", "activeEffectDelay", "baseClassName", "classNames", "hasOwnProperty", "className", "React", "import_react", "ModalContext", "createContext", "useModalContext", "id", "useContext", "labelId", "spacingSizeClassNames", "resolveSpacingSize", "cssVariable", "size", "startsWith", "undefined", "CUSTOM_CSS_TOKEN_FOR_USER_SIZE", "appearanceClassNames", "directionClassNames", "horizontal", "vertical", "alignClassNames", "start", "end", "Separator", "padding", "appearance", "direction", "align", "size", "restProps", "spacingSizeClassName", "spacingSizeStyle", "resolveSpacingSize", "_jsx", "RootComponent", "baseClassName", "classNames", "undefined", "baseStyle", "hr", "className", "React", "CUSTOM_CSS_TOKEN_FOR_USER_GAP", "Spacing", "size", "restProps", "spacingSizeClassName", "spacingSizeStyle", "resolveSpacingSize", "_jsx", "RootComponent", "baseStyle", "baseClassName", "classNames", "platformClassNames", "ios", "android", "vkcom", "classNames", "sizeXClassNames", "none", "regular", "sizeYClassNames", "compact", "PanelHeaderIn", "before", "after", "children", "typographyProps", "Component", "restProps", "hasCustomPanelHeaderAfter", "customPanelHeaderAfterMinWidth", "useConfigProvider", "isInsideModal", "useModalContext", "id", "platform", "usePlatform", "afterSlotProps", "style", "minWidth", "typographyNode", "_jsx", "Text", "weight", "className", "_jsxs", "OnboardingTooltipContainer", "fixed", "div", "PanelHeader", "float", "transparent", "delimiter", "shadow", "getRef", "getRootRef", "sizeX", "sizeY", "useAdaptivity", "adaptiveSizeX", "useAdaptivityConditionalRender", "isVKCOM", "isFixed", "undefined", "separatorVisible", "staticSeparatorVisible", "staticSpacingVisible", "RootComponent", "baseClassName", "hasOwnProperty", "FixedLayout", "vertical", "_Fragment", "Separator", "padding", "Spacing", "size", "React", "platformClassNames", "ios", "android", "vkcom", "sizeYClassNames", "none", "compact", "PanelHeaderChildren", "hasSubtitle", "hasBefore", "children", "platform", "usePlatform", "_jsx", "Text", "className", "Component", "weight", "undefined", "div", "PanelHeaderContent", "aside", "subtitle", "before", "onClick", "restProps", "sizeY", "useAdaptivity", "InComponent", "Tappable", "rootProps", "inProps", "activeEffectDelay", "hasActive", "activeMode", "_jsxs", "RootComponent", "baseClassName", "classNames", "hasOwnProperty", "hasReactNode", "Footnote", "React", "sizeXClassNames", "none", "compact", "regular", "PanelHeaderContext", "children", "opened", "className", "onClose", "restProps", "platform", "usePlatform", "sizeX", "useAdaptivity", "elementRef", "useRef", "animationState", "animationHandlers", "useCSSKeyframesAnimationController", "undefined", "visible", "useScrollLock", "handleGlobalOnClickOutside", "useCallback", "event", "stopPropagation", "useGlobalOnClickOutside", "_jsxs", "FixedLayout", "classNames", "vertical", "_jsx", "div", "onClick", "data-testid", "process", "ref", "React", "SplitLayout", "header", "children", "getRootRef", "getRef", "className", "center", "modal", "popout", "restProps", "platform", "usePlatform", "_jsxs", "div", "classNames", "ref", "React", "React", "mediaQueriesCache", "WeakMap", "getMediaQueries", "matchMedia", "desktopPlus", "MEDIA_QUERIES", "DESKTOP_PLUS", "smallTabletPlus", "SMALL_TABLET_PLUS", "tablet", "TABLET", "smallTablet", "SMALL_TABLET", "mobile", "MOBILE", "mediumHeight", "MEDIUM_HEIGHT", "mobileLandscapeHeight", "MOBILE_LANDSCAPE_HEIGHT", "useMediaQueries", "window", "useDOM", "useMemo", "initializeStoreOrUpdateStoreIfWindowChanges", "mediaQueryNull", "storedMediaQueries", "get", "mediaQueries", "bind", "set", "breakpointClassNames", "none", "classNames", "tabletMinus", "smallTabletPlus", "tabletPlus", "useTransitionAnimate", "animateProp", "viewWidth", "useAdaptivity", "animate", "setAnimate", "useState", "Boolean", "mediaQueries", "useMediaQueries", "React", "useEffect", "undefined", "ViewWidth", "TABLET", "listener", "matches", "matchMediaListAddListener", "matchMediaListRemoveListener", "SplitCol", "props", "children", "width", "maxWidth", "minWidth", "fixed", "autoSpaced", "stretchedOnMobile", "getRootRef", "restProps", "baseRef", "useExternRef", "contextValue", "useMemo", "colRef", "_jsx", "RootComponent", "baseStyle", "baseClassName", "viewWidthToClassName", "SplitColContext", "Provider", "value", "div", "className", "React", "React", "ScrollSaver", "children", "initialScroll", "saveScroll", "getScroll", "scrollTo", "useContext", "ScrollContext", "useIsomorphicLayoutEffect", "y", "_jsx", "Fragment", "warn", "warnOnce", "Epic", "activeStory", "tabbar", "children", "restProps", "scroll", "useRef", "current", "React", "story", "Children", "toArray", "find", "isValidElement", "getNavId", "props", "_jsxs", "RootComponent", "baseClassName", "classNames", "_jsx", "ScrollSaver", "initialScroll", "saveScroll", "value", "React", "getItemsLayoutClassName", "itemsLayout", "children", "Children", "count", "Tabbar", "plain", "mode", "restProps", "platform", "usePlatform", "_jsx", "RootComponent", "baseClassName", "classNames", "React", "warn", "warnOnce", "TabbarItem", "children", "selected", "indicator", "label", "href", "Component", "disabled", "onFocus", "onFocusProp", "onBlur", "onBlurProp", "restProps", "platform", "usePlatform", "process", "hasAccessibleName", "COMMON_WARNINGS", "a11y", "focusVisible", "handleFocusVisibleOnFocus", "handleFocusVisibleOnBlur", "useFocusVisible", "focusVisibleClassNames", "useFocusVisibleClassName", "_jsxs", "RootComponent", "callMultiple", "baseClassName", "classNames", "_jsx", "Tappable", "role", "activeMode", "activeEffectDelay", "hasHover", "className", "onClick", "noop", "tabIndex", "div", "hasReactNode", "Footnote", "weight", "React", "useConfigDirection", "direction", "useConfigProvider", "stylesSize", "s", "m", "stylesDirection", "up", "right", "down", "left", "labelDirection", "ArrowIcon", "size", "Icon", "Icon24Chevron", "Icon16Chevron", "_jsx", "className", "ScrollArrow", "offsetY", "direction", "label", "labelProp", "children", "restProps", "textDirection", "useConfigDirection", "_jsxs", "RootComponent", "Component", "type", "baseClassName", "classNames", "VisuallyHidden", "span", "style", "top", "undefined", "React", "React", "useAdaptivityHasPointer", "deferDetect", "hasPointer", "hasPointerContext", "useContext", "AdaptivityContext", "needTwoPassRendering", "undefined", "isClient", "useIsClient", "hasPointerLib", "easeInOutSine", "x", "Math", "cos", "PI", "cubicBezier", "x1", "x2", "progress", "t", "cx", "bx", "ax", "pow", "now", "performance", "Date", "roundingAwayFromZero", "value", "Math", "ceil", "floor", "roundUpElementScrollLeft", "el", "scrollLeft", "SCROLL_ONE_FRAME_TIME", "doScroll", "scrollElement", "getScrollPosition", "animationQueue", "onScrollToEndBorder", "onScrollEnd", "onScrollStart", "initialScrollWidth", "scrollAnimationDuration", "textDirection", "extremeScrollLeft", "offsetWidth", "startScrollLeft", "remappedStartScrollLeft", "endScrollLeft", "diff", "abs", "startTime", "scroll", "time", "elapsed", "min", "easeInOutSine", "currentScrollLeft", "scrollEnd", "max", "requestAnimationFrame", "shift", "length", "HorizontalScroll", "children", "getScrollToLeft", "getScrollToRight", "showArrows", "arrowSize", "arrowOffsetY", "getRef", "scrollOnAnyWheel", "prevButtonTestId", "nextButtonTestId", "ContentWrapperComponent", "contentWrapperRef", "contentWrapperClassName", "restProps", "canScrollStart", "setCanScrollStart", "useState", "canScrollEnd", "setCanScrollEnd", "useFocusVisible", "focusVisible", "focusEvents", "focusVisibleClassNames", "useFocusVisibleClassName", "direction", "useConfigDirection", "isRtl", "isCustomScrollingRef", "useRef", "scrollerRef", "useExternRef", "hasPointer", "useAdaptivityHasPointer", "scrollTo", "useCallback", "current", "push", "firstElementChild", "scrollWidth", "scrollToStart", "i", "scrollToEnd", "calculateArrowsVisibility", "React", "useEffect", "useIsomorphicLayoutEffect", "addWheelEventHandler", "scrollEl", "noop", "onWheel", "e", "scrollBy", "left", "deltaX", "deltaY", "behavior", "preventDefault", "listenerOptions", "passive", "addEventListener", "removeEventListener", "_jsxs", "RootComponent", "baseClassName", "classNames", "onMouseEnter", "undefined", "_jsx", "ScrollArrow", "data-testid", "size", "offsetY", "aria-hidden", "tabIndex", "className", "onClick", "div", "ref", "React", "AspectRatio", "ratio", "mode", "props", "style", "String", "_jsx", "RootComponent", "baseClassName", "classNames", "baseStyle", "columnGapClassNames", "rowGapClassNames", "calculateGap", "gap", "undefined", "flexClassNames", "grow", "shrink", "content", "fixed", "alignSelfClassNames", "start", "end", "center", "baseline", "stretch", "FlexItem", "children", "alignSelf", "flex", "flexBasis", "rest", "_jsx", "RootComponent", "baseStyle", "baseClassName", "classNames", "justifyClassNames", "alignClassNames", "start", "end", "center", "stretch", "baseline", "Flex", "gap", "align", "justify", "margin", "noWrap", "direction", "reverse", "children", "props", "rowGap", "columnGap", "calculateGap", "_jsx", "RootComponent", "baseClassName", "classNames", "getGapsPresets", "baseStyle", "getGapsByUser", "rowGapClassNames", "columnGapClassNames", "style", "Item", "FlexItem", "marginClassNames", "alignClassNames", "start", "end", "center", "stretch", "baseline", "SimpleGrid", "columns", "gap", "margin", "minColWidth", "align", "props", "style", "rowGap", "columnGap", "calculateGap", "_jsx", "RootComponent", "baseClassName", "classNames", "columnGapClassNames", "rowGapClassNames", "baseStyle", "React", "stylesAlignX", "center", "left", "right", "stylesAlignY", "top", "bottom", "stylesStrategy", "fixed", "absolute", "none", "undefined", "PopoutWrapper", "alignY", "alignX", "closing", "noBackground", "strategy", "strategyProp", "children", "onClick", "zIndex", "restProps", "_jsx", "RootComponent", "baseClassName", "classNames", "baseStyle", "_jsxs", "div", "className", "React", "React", "React", "getOrDefault", "value", "defaultValue", "useAdaptivityWithJSMediaQueries", "canUseDOM", "console", "error", "viewWidth", "viewWidthContext", "viewHeight", "viewHeightContext", "sizeX", "sizeXContext", "sizeY", "sizeYContext", "hasPointer", "hasPointerContext", "hasHover", "hasHoverContext", "useContext", "AdaptivityContext", "platform", "usePlatform", "mediaQueries", "useMediaQueries", "viewWidthLocal", "viewHeightLocal", "setViewSizeLocal", "useState", "getOrDefault", "getViewWidthByMediaQueries", "getViewHeightByMediaQueries", "adaptivityProps", "useMemo", "hasPointerLib", "hasHoverLib", "getSizeX", "getSizeY", "isDesktop", "tryToCheckIsDesktop", "React", "useEffect", "handleMediaQuery", "prevSizeLocal", "newViewWidthLocal", "newViewHeightLocal", "prevViewWidthLocal", "prevViewHeightLocal", "desktopPlus", "tablet", "smallTablet", "mobile", "forEach", "matchMediaListener", "matchMediaListAddListener", "mediumHeight", "mobileLandscapeHeight", "matchMediaListRemoveListener", "import_react", "arraysEquals", "arrA", "arrB", "length", "every", "item", "index", "DEFAULT_MUTATION_OBSERVER_OPTIONS", "subtree", "childList", "useMutationObserver", "ref", "callback", "options", "stableCallback", "useStableCallback", "useIsomorphicLayoutEffect", "current", "observer", "MutationObserver", "observe", "disconnect", "useRestoreFocus", "restoreFocus", "timeout", "mount", "ref", "restoreFocusRef", "useRef", "current", "restoreFocusTo", "setRestoreFocusTo", "useState", "restoreFocusImpl", "useStableCallback", "shouldRestoreFocus", "setTimeout", "restoreFocusElement", "isHTMLElement", "focus", "useIsomorphicLayoutEffect", "calculateRestoreFocusTo", "getActiveElementByAnotherElement", "tryToRestoreFocusOnUnmount", "tryToRestoreFocusWhenFakeUnmount", "FOCUSABLE_ELEMENTS", "FOCUSABLE_ELEMENTS_LIST", "join", "useFocusTrap", "disabled", "autoFocus", "onClose", "captureEscapeKeyboardEvent", "mutationObserverOptions", "document", "useDOM", "focusableNodesRef", "focusNodeByIndex", "nodeIndex", "element", "preventScroll", "recalculateFocusableNodesRef", "parentNode", "newFocusableElements", "querySelectorAll", "nodes", "forEach", "focusableEl", "display", "visibility", "getComputedStyle", "push", "length", "onMutateParentHandler", "oldFocusableNodes", "arraysEquals", "activeElement", "currentElementIndex", "Math", "max", "indexOf", "useMutationObserver", "tryToAutoFocusToFirstNode", "autoFocusToNode", "contains", "timeoutId", "clearTimeout", "initializeFocusTrap", "onDocumentKeydown", "event", "pressedKeyResult", "pressedKey", "Keys", "TAB", "lastIdx", "targetIdx", "findIndex", "node", "target", "shouldFocusFirstNode", "shiftKey", "preventDefault", "onEscapeKeydown", "ESCAPE", "doc", "getWindow", "addEventListener", "capture", "removeEventListener", "FocusTrap", "Component", "onClose", "autoFocus", "restoreFocus", "disabled", "mount", "timeout", "getRootRef", "children", "captureEscapeKeyboardEvent", "mutationObserverOptions", "DEFAULT_MUTATION_OBSERVER_OPTIONS", "restProps", "ref", "useExternRef", "useFocusTrap", "_jsx", "tabIndex", "React", "React", "ModalOutsideButton", "children", "ariaLabel", "restProps", "_jsxs", "Tappable", "baseClassName", "activeMode", "hoverMode", "_jsx", "VisuallyHidden", "ModalDismissButton", "children", "className", "restProps", "_jsxs", "ModalOutsideButton", "classNames", "_jsx", "VisuallyHidden", "Icon20Cancel", "React", "React", "AlertActionIos", "mode", "restProps", "_jsx", "Tappable", "Component", "href", "baseClassName", "classNames", "AlertActionBase", "platform", "usePlatform", "buttonMode", "Button", "className", "size", "AlertAction", "props", "alignStyles", "left", "center", "right", "directionStyles", "vertical", "horizontal", "AlertActions", "actions", "renderAction", "props", "_jsx", "AlertAction", "onItemClick", "actionsAlign", "actionsLayout", "platform", "usePlatform", "direction", "div", "className", "classNames", "map", "action", "i", "title", "children", "_", "autoCloseDisabled", "restProps", "Fragment", "onClick", "React", "AlertTitle", "props", "platform", "usePlatform", "_jsx", "Title", "className", "weight", "level", "AlertDescription", "Footnote", "Caption", "Text", "Component", "AlertBase", "actions", "actionsLayout", "children", "title", "description", "onClose", "dismissLabel", "renderAction", "actionsAlign", "dismissButtonMode", "dismissButtonTestId", "onClick", "allowClickPropagation", "titleTestId", "descriptionTestId", "closing", "setClosing", "restProps", "generatedId", "useId", "titleId", "descriptionId", "platform", "usePlatform", "isDesktop", "useAdaptivityWithJSMediaQueries", "itemActionCallbackRef", "useRef", "noop", "animationState", "animationHandlers", "useCSSKeyframesAnimationController", "onExited", "current", "isDismissButtonVisible", "elementRef", "close", "useCallback", "onItemClick", "item", "action", "itemAction", "autoCloseDisabled", "handleClick", "event", "stopPropagation", "_jsxs", "FocusTrap", "getRootRef", "autoFocus", "className", "classNames", "role", "aria-modal", "aria-labelledby", "aria-describedby", "div", "hasReactNode", "_jsx", "AlertTitle", "data-testid", "id", "AlertDescription", "IconButton", "label", "hoverMode", "activeMode", "Icon20Cancel", "ModalDismissButton", "AlertActions", "warn", "warnOnce", "Alert", "usePortal", "style", "className", "getRootRef", "restProps", "closing", "setClosing", "useState", "close", "useCallback", "useScrollLock", "title", "_jsx", "AppRootPortal", "PopoutWrapper", "onClick", "strategy", "AlertBase", "React", "React", "ActionSheetContext", "createContext", "React", "isRealClickEvent", "event", "type", "clientX", "clientY", "React", "adaptiveIcon", "_jsx", "AdaptiveIconRenderer", "IconCompact", "Icon20CheckCircleOn", "IconRegular", "Icon24CheckCircleOn", "Radio", "children", "getRootRef", "getRef", "className", "style", "restProps", "_jsxs", "RootComponent", "VisuallyHidden", "Component", "type", "ActionSheetItem", "children", "autoCloseDisabled", "mode", "meta", "subtitle", "before", "after", "selectable", "value", "name", "checked", "defaultChecked", "onChange", "onClick", "onImmediateClick", "multiline", "iconChecked", "isCancelItem", "restProps", "platform", "usePlatform", "onItemClick", "noop", "actionSheetMode", "onClose", "onActionSheetClose", "useContext", "ActionSheetContext", "sizeY", "useAdaptivityWithJSMediaQueries", "Component", "undefined", "isRich", "isCentered", "onItemClickHandler", "useCallback", "e", "action", "immediateAction", "autoClose", "Boolean", "onKeyDown", "event", "pressedKey", "Keys", "ENTER", "onItemClickImpl", "isRealClickEvent", "_jsxs", "Tappable", "activeMode", "baseClassName", "classNames", "disabled", "_jsx", "div", "className", "Title", "weight", "level", "Text", "Subhead", "Radio", "ActionSheetDefaultIosCloseItem", "children", "restProps", "_jsx", "ActionSheetItem", "mode", "isCancelItem", "React", "import_react", "useEffectDev", "process", "useEffect", "noop", "React", "EventListener", "type", "callback", "options", "noop", "undefined", "eventType", "ev", "add", "el", "canUseDOM", "remove", "addEventListener", "removeEventListener", "useEventListener", "event", "_cb", "_options", "ref", "useRef", "current", "React", "useEffect", "detach", "bind", "React", "React", "useReferenceHiddenChangeCallback", "hideMiddleware", "onReferenceHiddenChange", "prevHiddenRef", "useRef", "referenceHidden", "React", "useEffect", "current", "useIsomorphicLayoutEffect", "checkHiddenChanged", "React", "DEFAULT_ARROW_WIDTH", "DEFAULT_ARROW_HEIGHT", "DEFAULT_ARROW_PADDING", "PLATFORM_HEIGHT", "ARROW_HEIGHT_WITH_WHITE_SPACE", "DefaultIcon", "props", "_jsx", "svg", "width", "height", "viewBox", "xmlns", "path", "d", "fill", "React", "placementClassNames", "right", "bottom", "left", "FloatingArrow", "offset", "isStaticOffset", "coords", "iconStyle", "iconClassName", "placement", "Icon", "DefaultIcon", "restProps", "arrowPlacement", "arrowStyles", "getArrowPositionData", "_jsx", "RootComponent", "baseStyle", "baseClassName", "classNames", "className", "style", "x", "y", "withOffset", "isVerticalPlacement", "parsedCoords", "startsWith", "xOffsetProp", "getXOffsetProp", "top", "yOffsetProp", "getYOffsetProp", "undefined", "endsWith", "Popper", "placement", "placementProp", "sameWidth", "hideWhenReferenceHidden", "offsetByMainAxis", "offsetByCrossAxis", "arrow", "arrowHeight", "DEFAULT_ARROW_HEIGHT", "arrowPadding", "DEFAULT_ARROW_PADDING", "customMiddlewares", "disableFlipMiddleware", "disableShiftMiddleware", "flipMiddlewareFallbackAxisSideDirection", "autoUpdateOnTargetResize", "strategy", "strategyProp", "arrowProps", "ArrowIcon", "DefaultIcon", "targetRef", "getRootRef", "children", "usePortal", "onPlacementChange", "onReferenceHiddenChange", "zIndex", "style", "restProps", "arrowRef", "setArrowRef", "useState", "strictPlacement", "middlewares", "useFloatingMiddlewaresBootstrap", "x", "floatingDataX", "y", "floatingDataY", "floatingPositionStrategy", "resolvedPlacement", "refs", "middlewareData", "useFloating", "middleware", "whileElementsMounted", "args", "autoUpdateFloatingElement", "elementResize", "usePlacementChangeCallback", "useReferenceHiddenChangeCallback", "hide", "arrowCoords", "handleRootRef", "useExternRef", "setFloating", "useIsomorphicLayoutEffect", "setReference", "current", "dropdownStyle", "undefined", "dropdown", "_jsxs", "RootComponent", "mergeStyle", "baseClassName", "baseStyle", "convertFloatingDataToReactCSSProperties", "initialWidth", "_jsx", "FloatingArrow", "coords", "Icon", "AppRootPortal", "warn", "warnOnce", "getEl", "ref", "current", "ActionSheetDropdownMenu", "children", "toggleRef", "closing", "onClose", "className", "style", "popupOffsetDistance", "placement", "onAnimationStart", "onAnimationEnd", "allowClickPropagation", "onClick", "restProps", "document", "useDOM", "platform", "usePlatform", "sizeY", "useAdaptivityWithJSMediaQueries", "elementRef", "useRef", "useEffectDev", "toggleEl", "bodyClickListener", "useEventListener", "e", "dropdownElement", "contains", "target", "React", "useEffect", "setTimeout", "add", "body", "targetRef", "useMemo", "isRefObject", "handleClick", "event", "stopPropagation", "_jsx", "Popper", "offsetByMainAxis", "classNames", "getRootRef", "usePortal", "FocusTrap", "React", "ActionSheetDropdownSheet", "children", "closing", "toggleRef", "className", "onClick", "allowClickPropagation", "restProps", "sizeY", "useAdaptivityWithJSMediaQueries", "platform", "usePlatform", "handleClick", "event", "stopPropagation", "_jsx", "FocusTrap", "classNames", "ActionSheet", "children", "className", "title", "description", "style", "iosCloseItem", "popupOffsetDistance", "placement", "mode", "modeProp", "onClose", "restProps", "platform", "usePlatform", "closingBy", "setClosingBy", "useState", "undefined", "onCloseWithOther", "useCallback", "actionCallbackRef", "useRef", "noop", "animationState", "animationHandlers", "useCSSKeyframesAnimationController", "onExited", "closedBy", "current", "isDesktop", "useAdaptivityWithJSMediaQueries", "useScrollLock", "onItemClick", "action", "immediateAction", "autoClose", "isCancelItem", "event", "persist", "contextValue", "useMemo", "DropdownComponent", "ActionSheetDropdownMenu", "ActionSheetDropdownSheet", "dropdownProps", "Object", "assign", "actionSheet", "_jsx", "ActionSheetContext", "Provider", "value", "_jsxs", "closing", "Boolean", "role", "aria-modal", "autoFocus", "div", "Footnote", "weight", "ActionSheetDefaultIosCloseItem", "AppRootPortal", "PopoutWrapper", "noBackground", "alignY", "onClick", "strategy", "React", "React", "ScreenSpinnerContext", "createContext", "state", "label", "undefined", "customIcon", "stateClassNames", "cancelable", "done", "error", "custom", "modeClassNames", "shadow", "overlay", "ScreenSpinnerContainer", "state", "mode", "customIcon", "label", "children", "visibilityDelay", "restProps", "_jsx", "ScreenSpinnerContext", "Provider", "value", "_jsxs", "RootComponent", "baseClassName", "classNames", "hasReactNode", "div", "className", "Footnote", "aria-hidden", "React", "ScreenSpinnerLoader", "children", "restProps", "label", "useContext", "ScreenSpinnerContext", "a11yText", "_jsx", "Spinner", "className", "classNames", "size", "noColor", "React", "React", "Icon48CancelCircle", "props", "_jsx", "svg", "className", "width", "height", "viewBox", "fill", "xmlns", "path", "fillRule", "clipRule", "d", "React", "Icon48DoneOutline", "props", "_jsx", "svg", "className", "width", "height", "viewBox", "fill", "xmlns", "path", "d", "stroke", "strokeWidth", "strokeLinecap", "strokeLinejoin", "ScreenSpinnerCancelIcon", "onKeyDown", "ariaLabel", "restProps", "handlers", "mergeCalls", "clickByKeyboardHandler", "clickableProps", "_jsx", "RootComponent", "baseClassName", "Icon24Cancel", "ScreenSpinnerSwapIcon", "cancelLabel", "state", "customIcon", "useContext", "ScreenSpinnerContext", "aria-label", "getContent", "Icon", "loading", "done", "Icon48DoneOutline", "error", "Icon48CancelCircle", "ScreenSpinner", "style", "className", "state", "onClick", "cancelLabel", "mode", "label", "customIcon", "usePortal", "visibilityDelay", "restProps", "useScrollLock", "_jsx", "AppRootPortal", "PopoutWrapper", "noBackground", "strategy", "_jsxs", "ScreenSpinnerContainer", "ScreenSpinnerLoader", "ScreenSpinnerSwapIcon", "Container", "Loader", "SwapIcon", "process", "defineComponentDisplayNames", "React", "EVENT_OPTIONS", "passive", "capture", "useGlobalEscKeyDown", "init", "callback", "document", "useDOM", "useIsomorphicLayoutEffect", "handleKeyDown", "event", "pressedKey", "Keys", "ESCAPE", "addEventListener", "removeEventListener", "React", "stylesLayout", "none", "vertical", "horizontal", "sizeYClassNames", "regular", "Basic", "layout", "layoutProps", "action", "after", "before", "mode", "subtitle", "children", "restProps", "sizeY", "useAdaptivity", "_jsxs", "RootComponent", "baseClassName", "classNames", "_jsx", "div", "className", "Paragraph", "Subhead", "resolveOffsetYCssStyle", "placement", "offsetY", "undefined", "top", "bottom", "revertRtlValue", "value", "isRtl", "getInitialShiftData", "width", "height", "mediaQueries", "shifted", "direction", "isDesktop", "smallTabletPlus", "matches", "x", "y", "getMovedShiftData", "shiftData", "nextShift", "endsWith", "rubberbandIfOutOfBounds", "startsWith", "movingToLeft", "movingToRight", "MINIMUM_PAN_GESTURE_FOR_TRIGGER_CLOSE", "shouldBeClosedByShiftData", "relativeClientRect", "velocity", "shouldBeClosedThreshold", "shouldBeClosedByVelocity", "placementClassNames", "animationStateClassNames", "enter", "entering", "entered", "exit", "exiting", "exited", "undefined", "Snackbar", "placement", "children", "layout", "action", "before", "after", "duration", "onActionClick", "onClose", "mode", "subtitle", "offsetY", "getRootRef", "restProps", "platform", "usePlatform", "open", "setOpen", "useState", "touched", "setTouched", "direction", "useConfigDirection", "isRtl", "rootRef", "useExternRef", "focused", "useFocusWithin", "inRef", "useRef", "panGestureRecognizer", "shiftDataRef", "rafRef", "closeTimeoutIdRef", "mediaQueries", "useMediaQueries", "animationState", "animationHandlers", "useCSSKeyframesAnimationController", "onExited", "clearRAF", "useCallback", "current", "cancelAnimationFrame", "updateShiftAxisCSSProperties", "x", "y", "requestAnimationFrame", "style", "removeProperty", "setProperty", "close", "handleActionClick", "event", "handleTouchStart", "UIPanGestureRecognizer", "setStartCoords", "nativeEvent", "getInitialShiftData", "offsetWidth", "offsetHeight", "handleTouchMove", "setInitialTimeOnce", "setEndCoords", "getMovedShiftData", "delta", "shifted", "handleTouchEnd", "shouldBeClosedByShiftData", "getRelativeBoundingClientRect", "velocity", "useIsomorphicLayoutEffect", "closeAfterDelay", "setTimeout", "preventCloseAfterDelayOnUnmount", "clearTimeout", "clearUserInteractionDataAfterTouchEnd", "React", "useEffect", "useGlobalEscKeyDown", "_jsx", "RootComponent", "role", "baseClassName", "classNames", "baseStyle", "resolveOffsetYCssStyle", "div", "className", "ref", "onTouchStart", "onTouchMove", "onTouchEnd", "onMouseDown", "onMouseMove", "onMouseUp", "onMouseLeave", "Basic", "Button", "align", "appearance", "size", "onClick", "React", "React", "isFunctionExistInProps", "props", "key", "getMergedSameEventsByProps", "mainProps", "secondProps", "result", "eventName", "hasOwnProperty", "mergeSameEventsByProps", "args", "apply", "warn", "warnOnce", "usePatchChildren", "children", "injectProps", "externRef", "isValidElementResult", "isValidNotReactFragmentElement", "isDOMTypeElementResult", "isDOMTypeElement", "isForwardedRefElementResult", "isForwardRefElement", "shouldUseRef", "childRef", "useExternRef", "ref", "props", "getRootRef", "undefined", "mergedEventsByInjectProps", "getMergedSameEventsByProps", "patchedChildren", "cloneElement", "useEffectDev", "current", "type", "useReferenceElement", "args", "children", "injectProps", "externRef", "child", "isValidNotReactFragmentElement", "_jsx", "span", "patchedChild", "usePatchChildren", "React", "import_react", "React", "import_react", "useFloatingElement", "placement", "arrow", "arrowHeight", "arrowPadding", "sameWidth", "offsetByMainAxis", "offsetByCrossAxis", "customMiddlewares", "hideWhenReferenceHidden", "disableFlipMiddleware", "disableShiftMiddleware", "trigger", "hoverDelay", "closeAfterClick", "disabled", "disableInteractive", "disableCloseOnClickOutside", "disableCloseOnEscKey", "defaultShown", "shown", "shownProp", "onShownChange", "onShownChanged", "strategy", "onReferenceHiddenChange", "onPlacementChange", "renderFloatingComponent", "externalFloatingElementRef", "remapReferenceProps", "arrowRef", "setArrowRef", "useState", "middlewares", "strictPlacement", "useFloatingMiddlewaresBootstrap", "resolvedPlacement", "willBeHide", "refs", "referenceProps", "floatingProps", "middlewareData", "onClose", "onRestoreFocus", "onEscapeKeyDown", "useFloatingWithInteractions", "resultRef", "useExternRef", "setFloating", "usePlacementChangeCallback", "useReferenceHiddenChangeCallback", "hide", "component", "floatingRef", "useGlobalEscKeyDown", "remappedReferenceProps", "useMemo", "anchorRef", "setReference", "anchorProps", "React", "TOOLTIP_MAX_WIDTH", "stylesAppearance", "accent", "white", "black", "inversion", "TooltipBase", "appearance", "arrowProps", "ArrowIcon", "DefaultIcon", "description", "title", "titleId", "maxWidth", "closeIconLabel", "onCloseIconClick", "className", "restProps", "_jsxs", "RootComponent", "baseClassName", "classNames", "role", "_jsx", "FloatingArrow", "iconClassName", "Icon", "div", "style", "undefined", "hasReactNode", "Subhead", "id", "weight", "Tappable", "Component", "hoverMode", "activeMode", "onClick", "VisuallyHidden", "Icon16Cancel", "display", "useTooltip", "placement", "placementProp", "arrowPadding", "arrowHeight", "offsetByMainAxis", "offsetByCrossAxis", "hideWhenReferenceHidden", "disableFlipMiddleware", "disableShiftMiddleware", "disableTriggerOnFocus", "onReferenceHiddenChange", "defaultShown", "shown", "shownProp", "onShownChange", "hoverDelay", "strategy", "enableInteractive", "disableArrow", "disableCloseAfterClick", "usePortal", "id", "idProp", "getRootRef", "appearance", "style", "styleProp", "className", "zIndex", "closable", "onPlacementChange", "popperProps", "generatedId", "useId", "tooltipId", "renderFloatingComponent", "useCallback", "floatingProps", "floatingRef", "resultPlacement", "middlewareData", "setArrowRef", "willBeHide", "onClose", "_jsx", "AppRootPortal", "TooltipBase", "arrowProps", "undefined", "coords", "getArrowCoordsByMiddlewareData", "classNames", "animationFadeClassNames", "out", "in", "onCloseIconClick", "remapReferenceProps", "_param", "referenceProps", "component", "anchorRef", "anchorProps", "useFloatingElement", "arrow", "trigger", "closeAfterClick", "disableInteractive", "externalFloatingElementRef", "tooltip", "Tooltip", "children", "restProps", "anchorRef", "anchorProps", "tooltip", "useTooltip", "anchor", "useReferenceElement", "_jsxs", "Fragment", "React", "positionClassNames", "absolute", "fixed", "transitionStateClassNames", "appear", "appearing", "appeared", "enter", "entering", "entered", "exit", "exiting", "exited", "ModalOverlay", "visible", "position", "getRootRef", "onClick", "restProps", "transitionState", "ref", "onTransitionEnd", "useCSSTransition", "enableAppear", "handleRef", "useExternRef", "_jsx", "div", "aria-hidden", "hidden", "className", "classNames", "undefined", "import_react", "ModalRootOverlayContext", "createContext", "current", "ModalRootContext", "updateModalHeight", "noop", "registerModal", "isInsideModal", "warn", "warnOnce", "ModalRoot", "activeModal", "children", "modalOverlayTestId", "noFocusToDialog", "disableModalOverlay", "usePortal", "onOpen", "onOpened", "onClose", "onClosed", "contextValue", "useMemo", "isInsideModal", "updateModalHeight", "process", "noop", "registerModal", "modalOverlayRef", "useRef", "_jsx", "AppRootPortal", "ModalRootContext", "Provider", "value", "_jsxs", "ModalRootOverlayContext", "ModalOverlay", "position", "visible", "getRootRef", "React", "withModalRootContext", "Component", "WithModalRootContext", "props", "updateModalHeight", "useContext", "ModalRootContext", "_jsx", "import_react", "useModalRootContext", "activeModal", "isInsideModal", "onClose", "onCloseContext", "updateModalHeight", "registerModal", "useContext", "ModalRootContext", "useCallback", "undefined", "React", "overscrollBehaviorClassNames", "auto", "undefined", "contain", "none", "scrollBehaviorClassNames", "smooth", "CustomScrollView", "className", "children", "enableHorizontalScroll", "onScroll", "getRootRef", "overscrollBehavior", "scrollBehavior", "scrollbarHidden", "restProps", "_jsx", "div", "classNames", "ref", "ModalPageContent", "children", "className", "getRootRef", "restProps", "_jsx", "CustomScrollView", "classNames", "import_react", "range", "from", "to", "step", "direction", "distance", "Math", "abs", "arrayLength", "ceil", "arr", "Array", "index", "length", "rangeIncrement", "inRange", "number", "BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE_KEY", "BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE", "DRAG_THRESHOLDS", "DISTANCE_FOR_MOVING_START", "VELOCITY", "SNAP_POINT_SAFE_RANGE", "LOWER", "HIGHEST", "SNAP_POINT_DETENTS", "MIN", "MEDIUM", "LARGE", "DYNAMIC_SNAP_POINT_DATA", "IDLE_POINT_VALUE", "COMPUTED_INDEX", "import_react", "BottomSheetController", "init", "snapPoint", "isInitialized", "unit", "currentSnapPoint", "DYNAMIC_SNAP_POINT_DATA", "IDLE_POINT_VALUE", "snapPointDetents", "SNAP_POINT_DETENTS", "MIN", "initial", "detents", "destroy", "pannedEl", "sheetTransitionController", "cleanup", "backdropTransitionController", "disableVerticalScrollBouncingDispose", "noop", "panStart", "event", "panState", "hasSelectionWithRangeType", "target", "panGestureRecognizer", "setStartCoords", "panMove", "setInitialTimeOnce", "setEndCoords", "preventUntilPanGestureBecomesExpected", "preventImmediatelyIfPannedElIsNotValid", "preventUntilVerticalScrollingOnSheetScrollElBecomesExpected", "preventImmediatelyIfVerticalScrollingOnPannedElIsScrolled", "sheetHeight", "sheetEl", "offsetHeight", "disableVerticalScrollBouncingIfNeeded", "sheetScrollEl", "isDynamicSnapPoint", "COMPUTED_INDEX", "y1", "y2", "nextSnapPoint", "rubberbandIfOutOfBounds", "LARGE", "calculateSnapPoint", "panEnd", "prevCurrentSnapPoint", "getSnapPointTo", "onSnapPointChange", "reset", "immediately", "rafId", "cancelAnimationFrame", "enableTransition", "onDismiss", "backdropOpacity", "clamp", "requestAnimationFrame", "_this_backdropTransitionController", "disableTransition", "set", "cleanupOnTransitionEnd", "unset", "closestSnapPoint", "getClosestSnapPoint", "panDirection", "direction", "axis", "velocity", "Math", "abs", "y", "DRAG_THRESHOLDS", "VELOCITY", "closestSnapPointByDirection", "getClosestSnapPointByDirection", "distance", "DISTANCE_FOR_MOVING_START", "closest", "BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE_KEY", "contains", "scrollHeight", "clientHeight", "scrollTop", "isLastSnapPointDetents", "overflowAncestor", "getNearestOverflowAncestor", "targetEl", "style", "setProperty", "dispose", "removeProperty", "currentY", "length", "foundIndex", "findIndex", "i", "minDifference", "difference", "UIPanGestureRecognizer", "CSSTransitionController", "set", "to", "el", "style", "setProperty", "property", "unset", "cleanup", "enableTransition", "removeProperty", "disableTransition", "removeEventListener", "handleTransitionEnd", "cleanupOnTransitionEnd", "addEventListener", "once", "useBottomSheet", "enabled", "blocked", "snapPoint", "sheetCSSProperty", "backdropCSSProperty", "onSnapPointChange", "onSnapPointChangeProp", "onDismiss", "onDismissProp", "sheetScrollEl", "setSheetScrollEl", "useState", "sheetEl", "setSheetEl", "backdropEl", "setBackdropEl", "initialStyle", "useMemo", "initial", "undefined", "useStableCallback", "noop", "bsController", "BottomSheetController", "sheetTransitionController", "CSSTransitionController", "backdropTransitionController", "onPanStart", "event", "panStart", "nativeEvent", "onPanMove", "panMove", "onPanEnd", "panEnd", "useIsomorphicLayoutEffect", "init", "unmount", "destroy", "onTouchStart", "onTouchMove", "onTouchEnd", "onTouchCancel", "onMouseDown", "onMouseMove", "onMouseUp", "onMouseLeave", "import_react", "import_react", "VisuallyHiddenModalOverlay", "visible", "visibleExcluded", "position", "positionExcluded", "getRootRef", "restProps", "ref", "useContext", "ModalRootOverlayContext", "_jsx", "div", "aria-hidden", "className", "handleCurrentRefForForwardContextRef", "setRef", "current", "warn", "warnOnce", "useModalManager", "id", "idProp", "open", "keepMounted", "modalOverlayTestId", "noFocusToDialog", "disableModalOverlay", "onOpen", "onOpened", "onClose", "onClosed", "context", "useContext", "ModalRootContext", "generatingId", "useId", "getNavId", "nav", "isInsideModal", "undefined", "opened", "activeModal", "shouldPreserveSnapPoint", "unmounted", "setUnmounted", "useState", "useIsomorphicLayoutEffect", "unsetUnmounted", "prev", "mounted", "ModalOverlay", "VisuallyHiddenModalOverlay", "getContextCallback", "handleClosed", "args", "fn", "import_react", "import_react", "useVirtualKeyboardState", "enabled", "window", "document", "useDOM", "focusedEl", "setFocusedEl", "useState", "keyboardOpened", "setKeyboardOpened", "prevVisualViewportRef", "useRef", "useEffect", "handleFocusedEl", "handleFocus", "event", "activeElement", "target", "isHTMLContentEditableElement", "patchedEvent", "type", "current", "getVisualViewport", "eventOptions", "passive", "capture", "addEventListener", "removeEventListener", "handleVirtualKeyboardOpened", "handleResize", "debounce", "nextVisualViewport", "offsetTop", "prevOffsetTop", "height", "prevHeight", "nextOffsetTop", "nextHeight", "visualViewport", "dispose", "preventWindowScrollIfKeyboardOpened", "prevent", "throttle", "scrollTo", "opened", "ModalOutlet", "className", "hidden", "isDesktop", "children", "getRootRef", "disableModalOverlay", "restProps", "_jsx", "div", "ref", "classNames", "aria-hidden", "ModalOutsideButtons", "className", "children", "restProps", "_jsx", "Flex", "direction", "classNames", "ModalPageBase", "isDesktop", "getRef", "disableContentPanningGesture", "header", "children", "footer", "outsideButtons", "modalContentTestId", "modalDismissButtonTestId", "modalDismissButtonLabel", "hideCloseButton", "closable", "onClose", "noop", "restProps", "disableContentPanningGestureProp", "BLOCK_SHEET_BEHAVIOR_DATA_ATTRIBUTE", "undefined", "closeButton", "_jsx", "ModalOutsideButton", "data-testid", "onClick", "handleDismissButtonClick", "event", "aria-label", "Icon20Cancel", "_jsxs", "RootComponent", "role", "baseClassName", "div", "className", "classNames", "hasReactNode", "ModalPageContent", "getRootRef", "ModalOutsideButtons", "transitionStateClassNames", "appear", "appearing", "enter", "entering", "exiting", "exited", "ModalPageInternal", "open", "header", "footer", "size", "desktopMaxWidth", "height", "children", "className", "style", "snapPoint", "onSnapPointChange", "getModalContentRef", "ModalOverlay", "ModalOverlayDefault", "modalOverlayTestId", "modalContentTestId", "modalDismissButtonTestId", "modalDismissButtonLabel", "outsideButtons", "noFocusToDialog", "hideCloseButton", "preventClose", "disableContentPanningGesture", "restoreFocus", "onOpen", "onOpened", "onClose", "noop", "onClosed", "disableFocusTrap", "disableModalOverlay", "restProps", "hasCustomPanelHeaderAfter", "useConfigProvider", "transitionState", "ref", "onTransitionEnd", "useCSSTransition", "enableAppear", "onEnter", "onEntered", "onExited", "opened", "hidden", "closable", "sizeX", "isDesktop", "useAdaptivityWithJSMediaQueries", "bottomSheetEnabled", "keyboardOpened", "useVirtualKeyboardState", "initialStyle", "setSheetEl", "setSheetScrollEl", "setBackdropEl", "bottomSheetEventHandlers", "useBottomSheet", "blocked", "sheetCSSProperty", "backdropCSSProperty", "onDismiss", "documentStyle", "handleSheetRef", "useExternRef", "handleSheetScrollRef", "desktopMaxWidthClassName", "desktopMaxWidthStyle", "resolveDesktopMaxWidth", "modalOverlay", "_jsx", "getRootRef", "data-testid", "visible", "onClick", "handleBackdropClick", "event", "undefined", "handleEscKeyDown", "useCallback", "pressedKey", "Keys", "ESCAPE", "useScrollLock", "_jsxs", "ModalOutlet", "onKeyDown", "FocusTrap", "autoFocus", "role", "aria-modal", "disabled", "classNames", "mergeStyle", "getHeightCSSVariable", "ModalPageBase", "getRef", "desktopMaxWidthClassNames", "s", "m", "l", "snapPointCache", "Map", "ModalPage", "id", "idProp", "nav", "open", "modalOverlayTestId", "noFocusToDialog", "onOpen", "onOpened", "onClose", "onClosed", "size", "settlingHeight", "dynamicContentHeight", "disableModalOverlay", "keepMounted", "restProps", "useModalManager", "mounted", "shouldPreserveSnapPoint", "resolvedProps", "snapPoint", "useMemo", "snapPointCached", "get", "nextSnapPoint", "transformSettlingHeightToSnapPoint", "set", "delete", "_jsx", "ModalContext", "Provider", "value", "ModalPageInternal", "aria-labelledby", "onSnapPointChange", "initial", "undefined", "currentSnapPoint", "Math", "min", "max", "SNAP_POINT_SAFE_RANGE", "LOWER", "SNAP_POINT_DETENTS", "LARGE", "detents", "inRange", "HIGHEST", "MIN", "React", "ModalPageHeader", "children", "noSeparator", "getRootRef", "className", "typographyProps", "restProps", "platform", "usePlatform", "isDesktop", "sizeX", "useAdaptivityWithJSMediaQueries", "modalContext", "useModalContext", "_jsxs", "_Fragment", "_jsx", "div", "classNames", "ref", "PanelHeader", "Component", "id", "labelId", "fixed", "delimiter", "transparent", "Separator", "padding", "import_react", "React", "ModalCardBase", "icon", "title", "titleComponent", "description", "descriptionComponent", "children", "actions", "onClose", "dismissLabel", "size", "sizeProp", "modalDismissButtonTestId", "dismissButtonMode", "preventClose", "outsideButtons", "titleId", "restProps", "platform", "usePlatform", "isDesktop", "useAdaptivityWithJSMediaQueries", "undefined", "withSafeZone", "hasTitle", "hasReactNode", "hasDescription", "_jsx", "RootComponent", "baseClassName", "classNames", "baseStyle", "maxWidth", "_jsxs", "div", "className", "Title", "id", "level", "weight", "Component", "Spacing", "AdaptivityContext", "Provider", "value", "sizeY", "Subhead", "ModalOutsideButtons", "ModalOutsideButton", "aria-label", "data-testid", "onClick", "Icon20Cancel", "Tappable", "hoverMode", "activeMode", "VisuallyHidden", "Icon24Dismiss", "sizeByPlatformClassNames", "vkcom", "ios", "android", "transitionStateClassNames", "appear", "appearing", "enter", "entering", "exiting", "exited", "ModalCardInternal", "icon", "title", "titleComponent", "description", "descriptionComponent", "children", "actions", "size", "open", "style", "styleProp", "className", "preventClose", "ModalOverlay", "ModalOverlayDefault", "modalOverlayTestId", "modalDismissButtonTestId", "getRootRef", "dismissButtonMode", "dismissLabel", "noFocusToDialog", "restoreFocus", "onOpen", "onOpened", "onClose", "noop", "onClosed", "disableFocusTrap", "disableModalOverlay", "restProps", "platform", "usePlatform", "transitionState", "ref", "onTransitionEnd", "useCSSTransition", "enableAppear", "onEnter", "onEntered", "onExited", "opened", "hidden", "closable", "isDesktop", "useAdaptivityWithJSMediaQueries", "bottomSheetEnabled", "keyboardOpened", "useVirtualKeyboardState", "setSheetEl", "setBackdropEl", "bottomSheetEventHandlers", "useBottomSheet", "blocked", "snapPoint", "sheetCSSProperty", "backdropCSSProperty", "onDismiss", "handleRef", "useExternRef", "modalOverlay", "_jsx", "data-testid", "visible", "onClick", "handleBackdropClick", "event", "undefined", "handleEscKeyDown", "useCallback", "pressedKey", "Keys", "ESCAPE", "useScrollLock", "useFocusTrap", "autoFocus", "disabled", "_jsxs", "ModalOutlet", "onKeyDown", "ModalCardBase", "tabIndex", "role", "aria-modal", "classNames", "ModalCard", "id", "idProp", "nav", "open", "modalOverlayTestId", "noFocusToDialog", "onOpen", "onOpened", "onClose", "onClosed", "keepMounted", "disableModalOverlay", "restProps", "useModalManager", "mounted", "shouldPreserveSnapPoint", "excludedProp", "resolvedProps", "_jsx", "ModalContext", "Provider", "value", "ModalCardInternal", "aria-labelledby", "titleId", "stylesMode", "new", "prominent", "Badge", "mode", "children", "restProps", "_jsx", "RootComponent", "Component", "baseClassName", "classNames", "VisuallyHidden", "React", "React", "ContentBadgeContext", "createContext", "isSingleChild", "size", "React", "iconsClassNames", "m", "l", "singleIconClassNames", "ContentBadgeIconSlot", "className", "getRootRef", "children", "restProps", "size", "isSingleChild", "useContext", "ContentBadgeContext", "_jsx", "div", "ref", "classNames", "appearanceClassNames", "primary", "secondary", "outline", "sizeClassNames", "s", "m", "l", "ContentBadge", "appearance", "mode", "capsule", "size", "weight", "children", "restProps", "sizeY", "useAdaptivity", "typographyClassNames", "footnoteClassNames", "captionClassNames", "_jsx", "Tappable", "baseClassName", "classNames", "weightClassNames", "DefaultComponent", "hoverMode", "activeMode", "ContentBadgeContext", "Provider", "value", "isSingleChild", "Children", "count", "IconSlot", "ContentBadgeIconSlot", "SlotIcon", "process", "defineComponentDisplayNames", "stylesMode", "vertical", "horizontal", "stylesGap", "space", "s", "m", "stylesAlign", "left", "center", "right", "ButtonGroup", "mode", "gap", "stretched", "align", "restProps", "_jsx", "RootComponent", "baseClassName", "classNames", "role", "Card", "mode", "Component", "restProps", "withBorder", "_jsx", "RootComponent", "baseClassName", "classNames", "sizeXClassNames", "none", "compact", "stylesSize", "s", "m", "l", "CardGrid", "size", "padding", "Component", "restProps", "sizeX", "useAdaptivity", "_jsx", "RootComponent", "baseClassName", "classNames", "React", "stylesSize", "s", "m", "l", "CardScroll", "children", "size", "showArrows", "padding", "CardsListComponent", "prevButtonTestId", "nextButtonTestId", "restProps", "refContainer", "useRef", "direction", "useConfigDirection", "window", "useDOM", "getPadding", "container", "parseFloat", "getComputedStyle", "getPropertyValue", "slideOffsetFromStart", "slide", "containerWidth", "current", "offsetWidth", "offsetLeft", "getScrollToLeft", "offset", "getMarginEnd", "el", "computedStyles", "parseInt", "marginInlineEnd", "marginLeft", "marginRight", "slideIndex", "findIndex", "scrollTo", "getScrollToRight", "Array", "prototype", "find", "call", "_jsx", "RootComponent", "baseClassName", "classNames", "HorizontalScroll", "ContentWrapperComponent", "contentWrapperRef", "contentWrapperClassName", "React", "ContentCard", "overTitle", "title", "titleComponent", "description", "caption", "className", "mode", "style", "getRootRef", "getRef", "maxHeight", "src", "srcSet", "alt", "width", "height", "crossOrigin", "decoding", "loading", "referrerPolicy", "sizes", "useMap", "fetchPriority", "imageObjectFit", "hasHover", "hasActive", "Component", "restProps", "_jsx", "Card", "classNames", "disabled", "_jsxs", "Tappable", "baseClassName", "img", "ref", "getFetchPriorityProp", "objectFit", "div", "hasReactNode", "Caption", "weight", "level", "caps", "Headline", "Text", "Footnote", "React", "sizeClassNames", "s", "m", "l", "xl", "HeaderContent", "size", "restProps", "_jsx", "Title", "level", "weight", "Headline", "Footnote", "caps", "Subtitle", "subtitleComponent", "children", "multiline", "SubtitleElement", "Caption", "Subhead", "className", "classNames", "Component", "Header", "subtitle", "indicator", "after", "before", "beforeTitle", "afterTitle", "beforeSubtitle", "afterSubtitle", "_jsxs", "RootComponent", "baseClassName", "isPrimitiveReactNode", "div", "span", "hasReactNode", "Paragraph", "React", "React", "sizeXClassNames", "none", "classNames", "regular", "compact", "stylesMode", "plain", "card", "stylesPadding", "s", "m", "useGroupMode", "forcedMode", "sizeX", "isInsideModal", "layout", "useContext", "AppRootContext", "warn", "warnOnce", "GroupContainer", "children", "separator", "mode", "modeProps", "padding", "tabIndex", "tabIndexProp", "restProps", "useModalContext", "id", "useAdaptivity", "isTabPanel", "role", "undefined", "siblingSeparatorElement", "_jsx", "div", "className", "_jsxs", "_Fragment", "RootComponent", "Component", "baseClassName", "GroupDescription", "className", "restProps", "_jsx", "Footnote", "classNames", "stylesDirection", "inline", "block", "GroupExpandedContent", "direction", "restProps", "_jsx", "RootComponent", "Component", "baseClassName", "GroupHeader", "className", "restProps", "_jsx", "div", "classNames", "Group", "header", "description", "children", "restProps", "_jsxs", "GroupContainer", "hasReactNode", "_jsx", "GroupHeader", "GroupDescription", "Container", "Header", "Description", "ExpandedContent", "GroupExpandedContent", "process", "defineComponentDisplayNames", "modeStyles", "overlay", "tint", "Gradient", "mode", "to", "restProps", "_jsx", "RootComponent", "role", "baseClassName", "classNames", "React", "AUTO_SCROLL_START_DELAY", "ITEM_INITIAL_INDEX", "DATA_DRAGGABLE_PLACEHOLDER_KEY", "DATA_DRAGGABLE_PLACEHOLDER_REACT_PROP", "React", "rafSchd", "fn", "lastArgs", "frameId", "wrapperFn", "args", "requestAnimationFrame", "cancel", "cancelAnimationFrame", "SCROLL_SPEED", "EDGE_SIZE", "getAutoScrollingData", "clientY", "scrollEl", "scrollTop", "Math", "floor", "getNodeScroll", "relative", "edges", "getScrollRect", "viewportHeight", "height", "documentHeight", "getScrollHeight", "maxScrollY", "canScrollUp", "canScrollDown", "edgeTop", "edgeBottom", "y", "topDistance", "bottomDistance", "isInTopEdge", "isInBottomEdge", "result", "shouldScrolling", "createAutoScrollController", "isRunning", "scheduledScroll", "rafSchd", "scroll", "fn", "scrollBy", "cancel", "tryAutoScroll", "stop", "getTargetIsOverOrUnderElData", "clientY", "elRect", "elRectHalfHeight", "height", "isUnderEl", "bottom", "isOverEl", "top", "setDraggingItemShiftStyles", "draggingEl", "nextShiftY", "requestAnimationFrame", "style", "transform", "setSiblingItemsShiftStyles", "el", "draggingElRect", "direction", "additionalGap", "setProperty", "removeProperty", "setInitialDraggingItemStyles", "left", "width", "unsetInitialDraggingItemStyles", "setInitialPlaceholderItemStyles", "firstElementChild", "node", "cloneNode", "appendChild", "unsetInitialPlaceholderItemStyles", "display", "removeAttribute", "remove", "setInitialSiblingItemStyles", "shifted", "unsetInitialSiblingItemStyles", "useDraggableWithDomApi", "elRef", "draggingElRef", "onDragFinish", "dragging", "setDragging", "useState", "lastClientYRef", "useRef", "lastDragShiftYRef", "scrollElRef", "lastScrollTopRef", "scrollControllerRef", "initializeScrollRefs", "draggableEl", "node", "getNearestOverflowAncestor", "current", "getNodeScroll", "scrollTop", "createAutoScrollController", "cleanupScrollRefs", "stop", "lastDragDirectionRef", "undefined", "toggleDragDirection", "prevShiftY", "nextShiftY", "shiftYDiff", "itemStartIndexRef", "ITEM_INITIAL_INDEX", "itemEndIndexRef", "draggingItemRef", "placeholderItemRef", "siblingItemsRef", "itemsGapRef", "initializeItems", "draggingEl", "draggingElRect", "getBoundingClientRect", "parentElement", "parseInt", "style", "gridGap", "children", "Array", "prototype", "forEach", "call", "el", "index", "getAttribute", "DATA_DRAGGABLE_PLACEHOLDER_KEY", "push", "shifted", "setInitialPlaceholderItemStyles", "setInitialDraggingItemStyles", "sibling", "setInitialSiblingItemStyles", "cleanupItems", "unsetInitialPlaceholderItemStyles", "unsetInitialDraggingItemStyles", "unsetInitialSiblingItemStyles", "swappedItemIndexRange", "from", "to", "getShiftAndUnshiftItemsPreparedData", "clientY", "shiftItemEls", "unshiftItemEls", "siblingItem", "isOverEl", "isUnderEl", "getTargetIsOverOrUnderElData", "setShiftAndUnshiftItemStyles", "item", "setSiblingItemsShiftStyles", "schedulingAutoScrollTimeoutIdRef", "clearSchedulingAutoScrollTimeout", "clearTimeout", "tryAutoScroll", "getAutoScrollingData", "shouldScrolling", "y", "schedulingAutoScroll", "setTimeout", "AUTO_SCROLL_START_DELAY", "onDragStart", "event", "originalEvent", "stopPropagation", "preventDefault", "onDragMove", "shiftY", "isRunning", "setDraggingItemShiftStyles", "prevDragging", "onDragEnd", "swappedItemRange", "handleScroll", "useCallback", "nextScrollTop", "scrollDiff", "clientYWithScrollOffset", "useIsomorphicLayoutEffect", "recalculateOnScroll", "scrollEl", "addEventListener", "removeEventListener", "componentWillUnmount", "List", "children", "gap", "restProps", "_jsxs", "RootComponent", "role", "baseClassName", "baseStyle", "gridGap", "_jsx", "div", "aria-hidden", "DATA_DRAGGABLE_PLACEHOLDER_REACT_PROP", "className", "React", "React", "React", "useGlobalEventListener", "element", "event", "cb", "options", "listener", "useEventListener", "useIsomorphicLayoutEffect", "add", "remove", "Boolean", "RemovableIosWithRemove", "onRemove", "removePlaceholder", "removePlaceholderString", "children", "childrenProp", "toggleButtonTestId", "removeButtonTestId", "disabled", "direction", "useConfigDirection", "isRtl", "window", "useDOM", "removeButtonRef", "useRef", "disabledRef", "removeOffset", "updateRemoveOffset", "useState", "useGlobalEventListener", "capture", "onRemoveTransitionEnd", "current", "focus", "onRemoveActivateClick", "e", "stopPropagation", "offsetWidth", "style", "String", "_jsxs", "div", "className", "classNames", "onTransitionEnd", "IconButton", "hasActive", "hasHover", "onClick", "data-testid", "_jsx", "VisuallyHidden", "i", "role", "isRemoving", "span", "aria-hidden", "Tappable", "Component", "getRootRef", "RemovableIosWithIndent", "RemovableIos", "indent", "restProps", "RemovableCommon", "noPadding", "children", "removePlaceholderString", "onRemoveClick", "removeButtonTestId", "disabled", "indent", "_jsxs", "div", "className", "classNames", "isRemoving", "_jsx", "IconButton", "activeMode", "hoverMode", "onClick", "label", "data-testid", "Icon24Cancel", "role", "span", "aria-hidden", "Removable", "onRemove", "removePlaceholder", "align", "toggleButtonTestId", "restProps", "platform", "usePlatform", "e", "preventDefault", "getTextFromChildren", "RootComponent", "baseClassName", "RemovableIos", "React", "React", "iconSize", "s", "Icon16Chevron", "m", "Icon24ChevronCompactRight", "Chevron", "size", "restProps", "Icon", "_jsx", "sizeYClassNames", "none", "compact", "SimpleCell", "badgeBeforeTitle", "badgeAfterTitle", "badgeBeforeSubtitle", "badgeAfterSubtitle", "before", "indicator", "children", "after", "chevron", "multiline", "overTitle", "subtitle", "extraSubtitle", "chevronSize", "restProps", "platform", "usePlatform", "hasChevron", "hasAfter", "hasReactNode", "sizeY", "useAdaptivity", "_jsxs", "Tappable", "baseClassName", "classNames", "disabled", "_jsx", "div", "className", "Subhead", "Component", "VisuallyHidden", "span", "Headline", "weight", "Footnote", "normalize", "Chevron", "size", "React", "CheckBoxOn", "_jsx", "AdaptiveIconRenderer", "IconCompact", "Icon20CheckBoxOn", "IconRegular", "Icon24CheckBoxOn", "CheckBoxOff", "Icon20CheckBoxOff", "Icon24CheckBoxOff", "CheckCircleOn", "Icon20CheckCircleOn", "Icon24CheckCircleOn", "CheckCircleOff", "Icon20CheckCircleOff", "Icon24CheckCircleOff", "useTypeIcon", "type", "platform", "usePlatform", "CellCheckbox", "getRootRef", "getRef", "className", "style", "restProps", "typeIcon", "IconOff", "IconOn", "_jsxs", "span", "classNames", "ref", "VisuallyHidden", "Component", "aria-hidden", "CellDragger", "elRef", "disabled", "className", "onDragStateChange", "onDragFinish", "children", "restProps", "platform", "usePlatform", "Icon", "Icon24ReorderIos", "Icon24Reorder", "dragging", "onDragStart", "onDragMove", "onDragEnd", "useDraggableWithDomApi", "useIsomorphicLayoutEffect", "_jsxs", "Touch", "classNames", "onStart", "undefined", "onMoveY", "onEnd", "_jsx", "VisuallyHidden", "DEFAULT_DRAGGABLE_LABEL", "Cell", "mode", "onRemove", "removePlaceholder", "onDragFinish", "before", "after", "disabled", "draggable", "Component", "ComponentProps", "onChange", "name", "value", "checked", "defaultChecked", "getRootRef", "draggerLabel", "DEFAULT_DRAGGABLE_LABEL", "className", "style", "toggleButtonTestId", "removeButtonTestId", "href", "hrefProp", "restProps", "dragging", "setDragging", "useState", "selectable", "removable", "undefined", "platform", "usePlatform", "rootElRef", "useExternRef", "dragger", "_jsx", "CellDragger", "elRef", "classNames", "onDragStateChange", "checkbox", "checkboxProps", "CellCheckbox", "hasActive", "cellClasses", "simpleCellProps", "hasHover", "_jsxs", "Fragment", "Removable", "e", "current", "isRemoving", "SimpleCell", "onClick", "div", "ref", "Checkbox", "React", "RichCellIcon", "props", "_jsx", "RootComponent", "baseClassName", "sizeYClassNames", "none", "compact", "alignAfterClassNames", "start", "center", "end", "alignBeforeClassNames", "alignContentClassNames", "RichCell", "overTitle", "children", "subtitle", "extraSubtitle", "before", "after", "afterCaption", "bottom", "actions", "multiline", "beforeAlign", "contentAlign", "afterAlign", "restProps", "sizeY", "useAdaptivity", "withAfter", "afterRender", "_jsxs", "div", "className", "_jsx", "Tappable", "baseClassName", "classNames", "Subhead", "Component", "Icon", "RichCellIcon", "appearanceClassNames", "accent", "neutral", "negative", "CellButton", "centered", "appearance", "className", "restProps", "_jsx", "SimpleCell", "classNames", "React", "CellButtonGroupSeparator", "className", "restProps", "_jsx", "Separator", "classNames", "direction", "padding", "CellButtonGroup", "props", "_jsx", "ButtonGroup", "gap", "stretched", "Separator", "CellButtonGroupSeparator", "process", "defineComponentDisplayNames", "React", "React", "AvatarBadge", "className", "restProps", "size", "useContext", "ImageBaseContext", "_jsx", "ImageBase", "Badge", "classNames", "React", "React", "Icon12Circle", "width", "height", "restProps", "_jsx", "Icon12CircleLib", "Icon12OnlineMobile", "Icon12OnlineMobileLib", "AvatarBadgeWithPreset", "preset", "className", "restProps", "direction", "useConfigDirection", "isRtl", "size", "useContext", "ImageBaseContext", "badgeSize", "getBadgeIconSizeByImageBaseSize", "isOnlinePreset", "presetClassName", "Icon", "Icon12Circle", "Icon12OnlineMobile", "_jsx", "ImageBase", "Badge", "background", "classNames", "width", "height", "MAX_FONT_SIZE", "MAX_IMAGE_BASE_SIZE", "RELATIVE_SIZE", "getInitialsFontSize", "avatarSize", "calculatedFontSize", "Math", "ceil", "evenFix", "AVATAR_DEFAULT_SIZE", "COLORS_NUMBER_TO_TEXT_MAP", "gradientStyles", "Avatar", "size", "className", "gradientColor", "initials", "fallbackIcon", "fallbackIconProp", "children", "restProps", "gradientName", "isGradientNotCustom", "_jsx", "div", "style", "fontSize", "getInitialsFontSize", "ImageBase", "classNames", "Badge", "AvatarBadge", "BadgeWithPreset", "AvatarBadgeWithPreset", "Overlay", "ImageBaseOverlay", "process", "defineComponentDisplayNames", "CUSTOM_CSS_TOKEN_FOR_CELL_WIDTH", "stylesSize", "s", "m", "l", "xl", "auto", "textAlignClassNames", "center", "end", "HorizontalCell", "className", "title", "style", "subtitle", "size", "children", "_jsx", "Avatar", "getRootRef", "getRef", "extraSubtitle", "textAlign", "noPadding", "TitleComponent", "Caption", "Subhead", "restProps", "hasTypography", "hasReactNode", "customProperties", "undefined", "div", "ref", "mergeStyle", "classNames", "_jsxs", "Tappable", "Footnote", "sizeClassNames", "s", "m", "HorizontalCellShowMore", "className", "style", "getRef", "getRootRef", "height", "size", "children", "centered", "restProps", "_jsx", "div", "classNames", "ref", "_jsxs", "Tappable", "undefined", "activeMode", "hoverMode", "Icon28ChevronRightCircle", "Subhead", "weight", "React", "Footer", "children", "className", "Component", "role", "roleProp", "restProps", "undefined", "_jsx", "Footnote", "classNames", "React", "InfoRow", "header", "children", "className", "restProps", "_jsxs", "Headline", "Component", "classNames", "weight", "hasReactNode", "Subhead", "_jsx", "VisuallyHidden", "React", "React", "import_jsx_runtime", "stylesBullets", "dark", "light", "Bullets", "bullets", "slideIndex", "count", "bulletTestId", "_jsx", "div", "aria-hidden", "className", "classNames", "Array", "from", "length", "map", "_", "index", "data-testid", "React", "CarouselViewPort", "slideTestId", "slideWidth", "onStart", "onMoveX", "onEnd", "getRootRef", "layerRef", "children", "setSlideRef", "_jsx", "Touch", "className", "onStartX", "style", "width", "noSlideClick", "div", "ref", "Children", "map", "item", "i", "data-testid", "el", "React", "stylesArrowAreaHeight", "stretch", "fit", "getArrowClassName", "side", "arrowAreaHeight", "classNames", "ScrollArrows", "hasPointer", "canSlideLeft", "canSlideRight", "onSlideRight", "onSlideLeft", "showArrows", "arrowSize", "arrowPrevLabel", "arrowNextLabel", "nextArrowTestId", "prevArrowTestId", "_jsxs", "_Fragment", "_jsx", "ScrollArrow", "className", "direction", "onClick", "size", "data-testid", "label", "ANIMATION_DURATION", "SLIDE_THRESHOLD", "CONTROL_ELEMENTS_STATE", "canSlideLeft", "canSlideRight", "isDraggable", "SLIDES_MANAGER_STATE", "viewportOffsetWidth", "slides", "isFullyVisible", "loopPoints", "contentSize", "snaps", "containerWidth", "layerWidth", "min", "max", "getRequiredValueByKey", "key", "map", "hasOwnProperty", "Error", "revertRtlValue", "n", "isRtl", "isBigger", "a", "b", "isBiggerOrEqual", "isLower", "isLowerOrEqual", "validateIndent", "slidesManager", "value", "bounded", "localMax", "max", "localMin", "min", "moreThanMax", "Number", "lessThanMin", "calculateIndent", "targetIndex", "isCenter", "looped", "slides", "length", "targetSlide", "coordX", "width", "containerWidth", "indent", "getShiftedIndexes", "direction", "availableWidth", "gap", "shiftedSlideIndexes", "startIndex", "endIndex", "i", "slideWidth", "push", "calculateLoopPoints", "indexes", "edge", "contentSize", "snaps", "isStartEdge", "offset", "map", "index", "initial", "altered", "snap", "firstSnap", "loopPoint", "target", "currentLocation", "getLoopPoints", "startShiftedIndexes", "endShiftedIndexes", "getTargetIndex", "slideIndex", "currentShiftX", "currentShiftXDelta", "shift", "reduce", "val", "item", "previousCoordX", "currentCoordX", "previousValue", "Math", "abs", "currentValue", "SLIDE_THRESHOLD", "calcMin", "layerWidth", "viewportOffsetWidth", "isFullyVisible", "align", "result", "getRequiredValueByKey", "left", "right", "center", "calcMax", "isCenterAlign", "React", "animate", "duration", "timing", "draw", "animationQueue", "canUseDOM", "start", "requestAnimationFrame", "time", "timeFraction", "Math", "min", "progress", "shift", "length", "TIMING_FUNCTION", "cubicBezier", "useSlideAnimation", "animationQueue", "useRef", "getAnimateFunction", "drawFunction", "animate", "duration", "ANIMATION_DURATION", "timing", "current", "draw", "addToAnimationQueue", "func", "push", "startAnimation", "length", "warn", "warnOnce", "CarouselBase", "bullets", "getRootRef", "children", "slideWidth", "slideIndex", "dragDisabled", "resizeSource", "onDragStart", "onDragEnd", "onChange", "onPrevClick", "onNextClick", "align", "showArrows", "getRef", "arrowSize", "arrowAreaHeight", "arrowNextLabel", "arrowPrevLabel", "slideTestId", "bulletTestId", "nextArrowTestId", "prevArrowTestId", "looped", "restProps", "slidesStore", "useRef", "slidesManager", "SLIDES_MANAGER_STATE", "textDirection", "useConfigDirection", "isRtl", "rootRef", "useExternRef", "viewportRef", "layerRef", "animationFrameRef", "shiftXCurrentRef", "shiftXDeltaRef", "initialized", "addToAnimationQueue", "getAnimateFunction", "startAnimation", "useSlideAnimation", "isDragging", "controlElementsState", "setControlElementsState", "useState", "CONTROL_ELEMENTS_STATE", "hasPointer", "useAdaptivityHasPointer", "isCenterAlign", "calculateCanSlideLeft", "current", "isFullyVisible", "isStartShiftX", "isBiggerOrEqual", "calculateCanSlideRight", "containerWidth", "revertRtlValue", "layerWidth", "slides", "length", "transformCssStyles", "shiftX", "animation", "Math", "round", "loopPoints", "forEach", "loopPoint", "target", "index", "slide", "style", "transform", "Object", "values", "indent", "validateIndent", "transition", "ANIMATION_DURATION", "checkShiftOutOfBoundsFromStart", "snaps", "isBigger", "checkShiftOutOfBoundsFromEnd", "firstSlideShift", "width", "lastPoint", "coordX", "requestTransform", "contentSize", "cancelAnimationFrame", "requestAnimationFrame", "firstSnap", "abs", "initializeSlides", "localSlides", "layerOffsetWidth", "offsetWidth", "calcRtlCoord", "element", "offsetLeft", "Children", "map", "_item", "i", "elem", "viewportOffsetWidth", "reduce", "val", "remainingWidth", "currentSlideOffsetOnCenterAlignment", "onlyOneSlide", "max", "calcMax", "min", "calcMin", "_", "calculateIndent", "targetIndex", "isCenter", "getLoopPoints", "canSlideLeft", "canSlideRight", "isDraggable", "onResize", "window", "useDOM", "useResizeObserver", "loopedSlideChangePerform", "startPoint", "fromLastToFirst", "isLowerOrEqual", "endEdge", "distance", "progress", "diff", "direction", "simpleSlideChangePerform", "useIsomorphicLayoutEffect", "performSlideChange", "v", "updateIsDraggable", "useMutationObserver", "calculateMinDeltaXToSlide", "SLIDE_THRESHOLD", "slideLeft", "event", "slideRight", "onStart", "e", "originalEvent", "stopPropagation", "onMoveX", "preventDefault", "isSlideX", "onEnd", "isSlide", "getTargetIndex", "currentShiftX", "currentShiftXDelta", "initialShiftX", "setSlideRef", "slideRef", "_jsxs", "RootComponent", "baseClassName", "classNames", "_jsx", "CarouselViewPort", "Bullets", "count", "ScrollArrows", "onSlideRight", "onSlideLeft", "React", "useAutoPlay", "timeout", "slideIndex", "onNext", "document", "useDOM", "paused", "setPaused", "useState", "timeoutRef", "useRef", "callbackFn", "useStableCallback", "pause", "useCallback", "resume", "clearAutoPlayTimeout", "current", "clearTimeout", "startAutoPlayTimeout", "visibilityState", "setTimeout", "React", "useEffect", "initializeAutoPlay", "addEventListener", "removeEventListener", "Gallery", "initialSlideIndex", "children", "timeout", "onChange", "bullets", "onDragStart", "onDragEnd", "props", "localSlideIndex", "setSlideIndex", "useState", "isControlled", "slideIndex", "slides", "useMemo", "Children", "toArray", "filter", "item", "Boolean", "childCount", "length", "isClient", "useIsClient", "handleChange", "useCallback", "current", "autoPlayControls", "useAutoPlay", "onNext", "safeSlideIndex", "clamp", "React", "useEffect", "_jsx", "CarouselBase", "dragDisabled", "callMultiple", "pause", "resume", "React", "GridAvatarBadge", "className", "restProps", "size", "useContext", "ImageBaseContext", "_jsx", "ImageBase", "Badge", "classNames", "GRID_AVATAR_DEFAULT_SIZE", "MAX_GRID_LENGTH", "warn", "warnOnce", "GridAvatar", "src", "size", "className", "children", "restProps", "process", "length", "_jsxs", "ImageBase", "classNames", "_jsx", "div", "aria-hidden", "map", "url", "index", "style", "backgroundImage", "Badge", "GridAvatarBadge", "React", "React", "ImageBadge", "className", "restProps", "size", "useContext", "ImageBaseContext", "_jsx", "ImageBase", "Badge", "classNames", "IMAGE_DEFAULT_SIZE", "getBorderRadiusBySize", "size", "borderRadius", "getBorderRadiusBySizeInPx", "undefined", "Image", "borderStartStartRadius", "borderStartEndRadius", "borderEndStartRadius", "borderEndEndRadius", "style", "className", "objectFit", "restProps", "borderStyles", "useMemo", "_jsx", "ImageBase", "mergeStyle", "classNames", "Badge", "ImageBadge", "Overlay", "FloatElement", "process", "defineComponentDisplayNames", "React", "stylesAppearance", "accent", "positive", "negative", "progressCustomHeightStyle", "height", "borderRadius", "undefined", "PROGRESS_MIN_VALUE", "PROGRESS_MAX_VALUE", "resolveAppearance", "appearance", "Progress", "value", "trackDisable", "restProps", "progress", "clamp", "title", "styleHeight", "appearanceStyles", "appearanceClassName", "style", "_jsx", "RootComponent", "aria-valuenow", "role", "aria-valuemin", "aria-valuemax", "baseClassName", "classNames", "baseStyle", "React", "React", "useBooleanState", "defaultValue", "value", "setValue", "useState", "setTrue", "useCallback", "setFalse", "toggle", "useNativeFormResetListener", "ref", "handler", "useIsomorphicLayoutEffect", "current", "formEl", "closest", "addEventListener", "removeEventListener", "Search", "id", "idProp", "before", "_jsx", "Icon16SearchOutline", "className", "placeholder", "after", "getRef", "icon", "iconProp", "onIconClick", "style", "autoComplete", "onChange", "iconLabel", "clearLabel", "clearButtonTestId", "noPadding", "getRootRef", "findButtonText", "findButtonTestId", "onFindButtonClick", "inputProps", "direction", "useConfigDirection", "isRtl", "inputRef", "useExternRef", "value", "isFocused", "setTrue", "setFocusedTrue", "setFalse", "setFocusedFalse", "useBooleanState", "generatedId", "useId", "inputId", "hasValue", "setHasValue", "useState", "Boolean", "defaultValue", "checkHasValue", "e", "currentTarget", "sizeY", "useAdaptivity", "adaptiveSizeY", "useAdaptivityConditionalRender", "platform", "usePlatform", "hasAfter", "hasReactNode", "onFocus", "onBlur", "onCancel", "useCallback", "Object", "nativeInputValueSetter", "getOwnPropertyDescriptor", "HTMLInputElement", "prototype", "set", "call", "current", "ev2", "Event", "bubbles", "dispatchEvent", "onIconClickStart", "onIconCancelClickStart", "preventDefault", "focus", "touchEnabled", "useIsomorphicLayoutEffect", "undefined", "useNativeFormResetListener", "renderIconButton", "props", "_jsxs", "IconButton", "hoverMode", "onPointerDown", "onClick", "noop", "VisuallyHidden", "div", "classNames", "disabled", "ref", "label", "htmlFor", "Headline", "Component", "type", "level", "weight", "callMultiple", "tabIndex", "data-testid", "Icon16Clear", "Icon24Cancel", "compact", "Button", "mode", "size", "focusVisibleMode", "activeMode", "span", "React", "React", "useTabsNavigation", "enabled", "isRtl", "document", "useDOM", "tabsRef", "useRef", "getTabEls", "current", "Array", "from", "querySelectorAll", "handleDocumentKeydown", "event", "key", "pressedKey", "tabEls", "currentFocusedElIndex", "findIndex", "el", "activeElement", "nextIndex", "length", "offset", "nextTabEl", "preventDefault", "focus", "currentFocusedEl", "find", "getAttribute", "relatedContentElId", "relatedContentEl", "getElementById", "click", "useGlobalEventListener", "capture", "useTabsController", "selectedId", "defaultSelectedId", "onSelectedIdChange", "onSelectedIdChangeProp", "useStableCallback", "id", "value", "onChange", "useCustomEnsuredControl", "defaultValue", "selectedTab", "React", "TabsControllerContext", "createContext", "React", "TabsModeContext", "createContext", "mode", "withGaps", "layoutFillMode", "withScrollToSelectedTab", "scrollBehaviorToSelectedTab", "Tabs", "children", "mode", "role", "withScrollToSelectedTab", "scrollBehaviorToSelectedTab", "layoutFillMode", "selectedId", "defaultSelectedId", "onSelectedIdChange", "restProps", "controller", "useTabsController", "platform", "usePlatform", "direction", "useConfigDirection", "isTabFlow", "withGaps", "tabsRef", "useTabsNavigation", "tabsModeContext", "useMemo", "_jsx", "RootComponent", "baseClassName", "classNames", "div", "className", "ref", "TabsModeContext", "Provider", "value", "TabsControllerContext", "React", "sizeYClassNames", "none", "compact", "stylesMode", "default", "accent", "secondary", "fillModeClassNames", "stretched", "shrinked", "warn", "warnOnce", "TabsItem", "before", "children", "status", "after", "selected", "selectedProp", "role", "tabIndex", "tabIndexProp", "getRootRef", "hoverMode", "activeMode", "hasActive", "focusVisibleMode", "id", "onClick", "restProps", "sizeY", "useAdaptivity", "mode", "withGaps", "layoutFillMode", "scrollBehaviorToSelectedTab", "withScrollToSelectedTab", "useContext", "TabsModeContext", "controller", "TabsControllerContext", "statusComponent", "isTabFlow", "selectedTab", "hasReactNode", "_jsxs", "Subhead", "Component", "className", "classNames", "weight", "_jsx", "VisuallyHidden", "span", "undefined", "rootRef", "useExternRef", "prevSelected", "usePrevious", "isInitialRender", "shouldScrollToSelected", "document", "useDOM", "React", "useEffect", "scrollToSelectedItem", "current", "tabDOMRect", "getBoundingClientRect", "isTabVerticallyOutsideOfViewport", "top", "bottom", "documentElement", "clientHeight", "scrollIntoView", "inline", "block", "behavior", "_onClick", "useCallback", "e", "onChange", "Tappable", "aria-selected", "baseClassName", "div", "Headline", "level", "aria-hidden", "data-selected", "React", "React", "basicStateInitializer", "initialArg", "Function", "initializer", "initialState", "undefined", "basicStateReducer", "state", "action", "reducer", "prevState", "newState", "useStateWithPrev", "useReducer", "React", "TouchRootContext", "createContext", "calcStrokeDashOffset", "value", "radius", "progress", "Math", "PI", "PullToRefreshSpinner", "on", "size", "strokeWidth", "children", "restProps", "dasharray", "circleCenter", "dashoffset", "_jsxs", "RootComponent", "baseClassName", "classNames", "_jsx", "VisuallyHidden", "svg", "role", "className", "style", "width", "height", "viewBox", "xmlns", "g", "transformOrigin", "circle", "fill", "strokeDasharray", "strokeDashoffset", "strokeLinecap", "cx", "cy", "r", "WAIT_FETCHING_TIMEOUT_MS", "cancelEvent", "event", "originalEvent", "cancelable", "preventDefault", "stopPropagation", "PullToRefresh", "children", "isFetching", "onRefresh", "className", "restProps", "platform", "usePlatform", "scroll", "useScroll", "window", "useDOM", "prevIsFetchingRef", "useRef", "undefined", "React", "useEffect", "current", "initParams", "useMemo", "start", "max", "maxY", "refreshing", "positionMultiplier", "spinnerY", "setSpinnerY", "useState", "watching", "setWatching", "setRefreshing", "canRefresh", "setCanRefresh", "touchDown", "prevTouchDown", "setTouchDown", "useStateWithPrev", "touchY", "contentShift", "setContentShift", "spinnerProgress", "setSpinnerProgress", "resetRefreshingState", "useCallback", "onRefreshingFinish", "waitFetchingTimeoutId", "useIsomorphicLayoutEffect", "prevIsFetching", "clearTimeout", "runRefreshing", "setTimeout", "prevSpinnerY", "toggleDocumentOverscrollBehavior", "initializeBrowserGesturePreventionEffect", "startYRef", "onTouchStart", "startY", "iosRefreshStartedRef", "onTouchMove", "isY", "shiftY", "pageYOffset", "getScroll", "y", "shift", "Math", "currentY", "clamp", "progress", "abs", "iosCanStartRefreshDuringGesture", "onTouchEnd", "spinnerTransform", "contentTransform", "_jsx", "TouchRootContext", "Provider", "value", "_jsxs", "Touch", "aria-live", "aria-busy", "onStart", "onMove", "onEnd", "classNames", "FixedLayout", "useParentWidth", "PullToRefreshSpinner", "style", "transform", "opacity", "on", "div", "Link", "before", "beforeProp", "after", "afterProp", "noUnderline", "hasVisited", "children", "restProps", "_jsx", "span", "className", "_jsxs", "Tappable", "activeMode", "hoverMode", "focusVisibleMode", "DefaultComponent", "baseClassName", "classNames", "React", "Mark", "props", "_jsx", "RootComponent", "baseClassName", "Component", "React", "warn", "warnOnce", "OnboardingTooltip", "idProp", "children", "shownProp", "arrowPadding", "DEFAULT_ARROW_PADDING", "arrowHeight", "DEFAULT_ARROW_HEIGHT", "offsetByMainAxis", "offsetByCrossAxis", "arrowOffset", "isStaticArrowOffset", "onClose", "placementProp", "maxWidth", "TOOLTIP_MAX_WIDTH", "styleProp", "getRootRef", "disableArrow", "onPlacementChange", "disableFlipMiddleware", "disableShiftMiddleware", "overlayLabel", "title", "ariaLabel", "ariaLabelledBy", "restoreFocus", "disableFocusTrap", "restProps", "generatedId", "useId", "tooltipId", "entering", "useNavTransition", "arrowRef", "setArrowRef", "useState", "tooltipContainer", "setTooltipContainer", "positionStrategy", "setPositionStrategy", "shown", "middlewares", "strictPlacement", "useFloatingMiddlewaresBootstrap", "placement", "arrow", "x", "floatingDataX", "y", "floatingDataY", "refs", "resolvedPlacement", "middlewareData", "arrowCoords", "useFloating", "strategy", "middleware", "whileElementsMounted", "autoUpdateFloatingElement", "tooltipRef", "useExternRef", "setFloating", "childRef", "child", "usePatchChildren", "undefined", "usePlacementChangeCallback", "titleId", "tooltip", "floatingStyle", "convertFloatingDataToReactCSSProperties", "createPortal", "_jsxs", "FocusTrap", "role", "aria-modal", "aria-label", "aria-labelledby", "disabled", "_jsx", "button", "className", "onClickCapture", "TooltipBase", "id", "style", "mergeStyle", "arrowProps", "offset", "isStaticOffset", "coords", "useIsomorphicLayoutEffect", "initialize", "referenceEl", "current", "closest", "onboardingTooltipContainerAttr", "position", "setReference", "process", "multiChildren", "Children", "count", "primitiveChild", "hasReactNode", "JSON", "stringify", "filter", "Boolean", "join", "reference", "Error", "Fragment", "React", "modeClassNames", "primary", "contrast", "tertiary", "inherit", "appearanceClassNames", "sizeClassNames", "s", "m", "Counter", "mode", "appearance", "appearanceProp", "color", "size", "children", "className", "style", "styleProp", "restProps", "useMemo", "undefined", "Children", "count", "CounterTypography", "Caption", "Headline", "counterLevel", "_jsx", "mergeStyle", "Component", "classNames", "level", "React", "stylesSize", "s", "m", "l", "avatarsPositionStyles", "PathElement", "photoSize", "direction", "props", "radius", "_jsx", "circle", "cx", "cy", "r", "path", "d", "photoSizes", "UsersStack", "photos", "visibleCount", "count", "Math", "max", "length", "size", "children", "avatarsPosition", "restProps", "cmpId", "useId", "useConfigDirection", "canShowOthers", "CounterTypography", "Footnote", "Caption", "directionClip", "photosElements", "slice", "map", "photo", "i", "id", "hrefID", "maskID", "isPhotoType", "photoSrc", "src", "photoElement", "_jsxs", "svg", "xmlns", "className", "classNames", "aria-hidden", "display", "defs", "clipPath", "use", "href", "g", "image", "width", "height", "fill", "stroke", "renderWrapper", "div", "othersElement", "caps", "weight", "RootComponent", "baseClassName", "hasReactNode", "React", "PlaceholderContainer", "stretched", "noPadding", "restProps", "_jsx", "RootComponent", "baseClassName", "classNames", "PlaceholderIcon", "props", "PlaceholderTitle", "className", "Title", "level", "weight", "PlaceholderDescription", "Headline", "PlaceholderActions", "Placeholder", "icon", "title", "children", "action", "_jsxs", "hasReactNode", "Container", "Icon", "Description", "Actions", "React", "Banner", "mode", "imageTheme", "size", "before", "after", "afterProp", "title", "subtitle", "extraSubtitle", "children", "background", "actions", "onDismiss", "dismissLabel", "Component", "restProps", "platform", "usePlatform", "HeaderTypography", "Title", "Headline", "SubheadTypography", "Text", "Subhead", "IconDismissIOS", "Icon24DismissDark", "Icon24Dismiss", "content", "_jsxs", "_Fragment", "_jsx", "div", "aria-hidden", "className", "hasReactNode", "weight", "level", "Children", "count", "afterMap", "chevron", "Icon24Chevron", "dismiss", "IconButton", "label", "onClick", "hoverMode", "hasActive", "Icon24Cancel", "isClickable", "onClickCapture", "href", "Tappable", "undefined", "activeMode", "baseClassName", "classNames", "React", "stylesMode", "add", "accent", "more", "stylesTextWrap", "nowrap", "full", "short", "MiniInfoCell", "before", "after", "children", "mode", "textWrap", "chevron", "restProps", "cellClasses", "classNames", "cellContent", "_jsxs", "Fragment", "hasReactNode", "_jsx", "span", "className", "div", "Paragraph", "weight", "undefined", "Icon16Chevron", "Tappable", "baseClassName", "React", "React", "useResizeTextarea", "onResize", "grow", "elementRef", "useRef", "currentScrollHeight", "undefined", "resizeElement", "useCallback", "el", "offsetParent", "style", "height", "scrollHeight", "current", "resize", "WriteBarTypography", "props", "platform", "usePlatform", "_jsx", "Title", "level", "weight", "Headline", "WriteBar", "className", "style", "before", "inlineAfter", "after", "getRootRef", "getRef", "onHeightChange", "shadow", "onChange", "restProps", "refResizeTextarea", "resize", "useResizeTextarea", "textareaRef", "useExternRef", "React", "useEffect", "div", "ref", "classNames", "_jsxs", "hasReactNode", "Component", "callMultiple", "React", "predefinedLabel", "attach", "send", "done", "warn", "warnOnce", "WriteBarIcon", "mode", "children", "count", "label", "labelProp", "restProps", "platform", "usePlatform", "predefinedIcons", "IconCompact", "Icon28AddCircleOutline", "Icon24Attach", "IconRegular", "Icon28AttachOutline", "Icon48WritebarSend", "Icon24Send", "Icon28Send", "Icon48WritebarDone", "Icon24CheckCircleOutline", "Icon28CheckCircleOutline", "process", "isAccessible", "hasAccessibleName", "COMMON_WARNINGS", "a11y", "_jsxs", "Tappable", "Component", "hasHover", "activeMode", "baseClassName", "classNames", "span", "className", "_jsx", "VisuallyHidden", "AdaptiveIconRenderer", "hasReactNode", "Counter", "size", "React", "defaultScrollToLeft", "x", "defaultScrollToRight", "SubnavigationBar", "fixed", "children", "showArrows", "getScrollToLeft", "getScrollToRight", "scrollAnimationDuration", "restProps", "ScrollWrapper", "scrollWrapperProps", "HorizontalScroll", "_jsx", "RootComponent", "baseClassName", "className", "ul", "Children", "map", "child", "idx", "hasReactNode", "li", "React", "appearanceStyles", "accent", "neutral", "modeStyles", "primary", "outline", "tertiary", "sizeStyles", "s", "m", "l", "sizeYClassNames", "none", "compact", "SubnavigationButtonTypography", "textLevel", "restProps", "_jsx", "Subhead", "Caption", "level", "SubnavigationButton", "mode", "appearance", "size", "selected", "before", "after", "chevron", "children", "sizeY", "useAdaptivity", "Tappable", "hasActive", "focusVisibleMode", "baseClassName", "classNames", "disabled", "_jsxs", "span", "className", "Component", "Icon16Dropdown", "React", "React", "usePagination", "currentPage", "siblingCount", "boundaryCount", "totalPages", "endPage", "useMemo", "startPages", "rangeIncrement", "Math", "min", "endPages", "max", "lowerBoundaryWhenCurrentPageHigh", "siblingsStart", "clamp", "upperBoundaryWhenCurrentPageLow", "siblingsEnd", "length", "pages", "push", "React", "getButtonPropsFromPaginationNavigationButton", "opts", "icon", "style", "_jsxs", "_Fragment", "_jsx", "VisuallyHidden", "a11yLabel", "Icon", "caption", "span", "aria-hidden", "type", "disabled", "onClick", "PaginationNavigationButton", "renderNavigationButton", "restProps", "buttonProps", "Button", "React", "getPaginationPageClassNames", "opts", "classNames", "sizeY", "isCurrent", "disabled", "usePaginationPageClassNames", "useAdaptivity", "getTappablePropsFromPaginationPage", "opts", "isCurrent", "getPageLabel", "children", "className", "disabled", "sizeY", "restProps", "pageClassNames", "getPaginationPageClassNames", "pageLabel", "classNames", "undefined", "_jsxs", "Text", "normalize", "VisuallyHidden", "PaginationPageButton", "renderPageButton", "tappableProps", "_jsx", "Tappable", "React", "PaginationPageEllipsis", "className", "disabled", "restProps", "paginationClassNames", "usePaginationPageClassNames", "isCurrent", "_jsx", "Text", "classNames", "Pagination", "currentPage", "siblingCount", "boundaryCount", "totalPages", "disabled", "prevButtonCaption", "nextButtonCaption", "navigationButtonsStyle", "getPageLabel", "navigationLabel", "navigationLabelComponent", "prevButtonLabel", "nextButtonLabel", "onChange", "renderPageButton", "pageButtonTestId", "prevButtonTestId", "nextButtonTestId", "renderNavigationButton", "resetProps", "direction", "useConfigDirection", "isRtl", "pages", "usePagination", "isFirstPage", "isLastPage", "prevPage", "undefined", "nextPage", "handlePrevClick", "useCallback", "event", "handleClick", "page", "currentTarget", "dataset", "Number", "handleNextClick", "sizeY", "useAdaptivity", "renderPages", "isCurrent", "dataTestId", "_jsx", "li", "PaginationPageEllipsis", "data-testid", "PaginationPageButton", "onClick", "navigationLabelId", "useId", "_jsxs", "RootComponent", "Component", "role", "aria-labelledby", "VisuallyHidden", "id", "ul", "className", "PaginationNavigationButton", "type", "style", "caption", "Icon", "Icon24ChevronCompactRight", "Icon24ChevronCompactLeft", "a11yLabel", "data-page", "map", "React", "React", "import_react", "React", "AccordionContext", "createContext", "labelId", "contentId", "expanded", "unmountOnCollapsed", "onChange", "noop", "useAccordionContext", "useContext", "useMemo", "CUSTOM_PROPERTY_ACCORDION_CONTENT_HEIGHT", "stateClassNames", "enter", "entering", "entered", "exit", "exiting", "exited", "AccordionContent", "getRootRef", "getRef", "className", "children", "restProps", "expanded", "labelId", "contentId", "unmountOnCollapsed", "useContext", "AccordionContext", "inRef", "useExternRef", "animationState", "animationHandlers", "useCSSKeyframesAnimationController", "undefined", "useIsomorphicLayoutEffect", "inEl", "current", "style", "setProperty", "scrollHeight", "removeProperty", "_jsx", "div", "ref", "id", "role", "aria-labelledby", "aria-hidden", "classNames", "React", "AccordionSummary", "after", "before", "ExpandIcon", "Icon24ChevronDown", "CollapseIcon", "Icon24ChevronUp", "iconPosition", "onClick", "children", "restProps", "expanded", "labelId", "contentId", "onChange", "useContext", "AccordionContext", "Icon", "icon", "_jsx", "span", "className", "toggle", "SimpleCell", "id", "aria-expanded", "aria-controls", "callMultiple", "_jsxs", "_Fragment", "useAccordionId", "id", "generatedId", "useId", "labelId", "contentId", "Accordion", "expanded", "expandedProp", "defaultExpanded", "onChange", "onChangeProp", "children", "unmountOnCollapsed", "restProps", "useCustomEnsuredControl", "value", "defaultValue", "disabled", "context", "useMemo", "_jsx", "AccordionContext", "Provider", "Summary", "AccordionSummary", "Content", "AccordionContent", "process", "defineComponentDisplayNames", "React", "FormItemTop", "props", "_jsx", "RootComponent", "baseClassName", "React", "FormItemTopAside", "children", "restProps", "_jsx", "Subhead", "className", "React", "React", "FormItemContext", "createContext", "required", "topMultiline", "FormItemTopLabel", "children", "Component", "componentProp", "htmlFor", "restProps", "component", "required", "topMultiline", "useContext", "FormItemContext", "_jsxs", "Subhead", "className", "classNames", "_jsx", "span", "aria-hidden", "sizeYClassNames", "none", "classNames", "compact", "stylesStatus", "error", "valid", "FormItem", "children", "top", "topId", "topMultiline", "topComponent", "topComponentProp", "bottom", "status", "removable", "onRemove", "removePlaceholder", "getRootRef", "htmlFor", "bottomId", "noPadding", "required", "disabled", "restProps", "rootEl", "useExternRef", "sizeY", "useAdaptivity", "wrappedChildren", "_jsxs", "Fragment", "isPrimitiveReactNode", "_jsx", "FormItemTop", "FormItemTopLabel", "Component", "id", "hasReactNode", "Footnote", "className", "role", "undefined", "context", "useMemo", "RootComponent", "baseClassName", "FormItemContext", "Provider", "value", "Removable", "align", "e", "current", "indent", "div", "Top", "TopLabel", "TopAside", "FormItemTopAside", "process", "defineComponentDisplayNames", "React", "sizeYClassNames", "none", "compact", "stylesStatus", "error", "valid", "iconAlignClassNames", "center", "undefined", "start", "end", "renderIcon", "icon", "align", "className", "_jsx", "div", "span", "classNames", "FormField", "Component", "status", "children", "getRootRef", "before", "after", "beforeAlign", "afterAlign", "disabled", "mode", "maxHeight", "style", "restProps", "elRef", "useExternRef", "sizeY", "useAdaptivity", "hover", "setHover", "useState", "focusWithin", "useFocusWithin", "focusVisibleClassNames", "useFocusVisibleClassName", "focusVisible", "handleMouseEnter", "e", "stopPropagation", "handleMouseLeave", "_jsxs", "ref", "onMouseEnter", "onMouseLeave", "aria-hidden", "React", "sizeYClassNames", "none", "classNames", "compact", "FormLayoutGroup", "children", "mode", "removable", "segmented", "removePlaceholder", "onRemove", "getRootRef", "disabled", "restProps", "sizeY", "useAdaptivity", "isRemovable", "rootEl", "useExternRef", "_jsx", "RootComponent", "Component", "baseClassName", "Removable", "className", "align", "e", "current", "indent", "_jsxs", "Fragment", "span", "aria-hidden", "React", "FormStatus", "mode", "children", "className", "role", "title", "restProps", "_jsx", "Banner", "subtitle", "classNames", "React", "sizeYClassNames", "none", "compact", "Switch", "style", "className", "getRootRef", "getRef", "checked", "checkedProp", "disabled", "onBlur", "onBlurProp", "onFocus", "onFocusProp", "onClick", "restProps", "direction", "useConfigDirection", "isRtl", "platform", "usePlatform", "sizeY", "useAdaptivity", "focusVisible", "useFocusVisible", "focusVisibleClassNames", "useFocusVisibleClassName", "mode", "handleBlur", "callMultiple", "handleFocus", "localUncontrolledChecked", "setLocalUncontrolledChecked", "useState", "Boolean", "defaultChecked", "isControlled", "undefined", "syncUncontrolledCheckedStateOnClick", "useCallback", "e", "switchTarget", "target", "inputProps", "Component", "type", "role", "_jsxs", "label", "classNames", "ref", "_jsx", "VisuallyHidden", "span", "aria-hidden", "React", "File", "children", "align", "size", "mode", "stretched", "before", "after", "loading", "className", "style", "getRef", "getRootRef", "appearance", "restProps", "_jsxs", "Button", "Component", "disabled", "_jsx", "VisuallyHidden", "title", "type", "React", "directionStyle", "row", "column", "DropZoneGrid", "direction", "props", "_jsx", "RootComponent", "baseClassName", "classNames", "DropZone", "onDragOver", "onDragLeave", "onDrop", "children", "props", "active", "setActive", "useState", "onActive", "event", "isPropagationStopped", "offActive", "_jsx", "RootComponent", "baseClassName", "classNames", "callMultiple", "Grid", "DropZoneGrid", "process", "defineComponentDisplayNames", "React", "sizeYClassNames", "none", "compact", "Input", "type", "align", "getRef", "className", "getRootRef", "style", "before", "after", "status", "mode", "restProps", "sizeY", "useAdaptivity", "_jsx", "FormField", "classNames", "disabled", "UnstyledTextField", "as", "React", "sizeYClassNames", "none", "compact", "modeClassNames", "primary", "secondary", "Chip", "mode", "Component", "value", "removable", "onRemove", "removeLabel", "before", "after", "disabled", "readOnly", "children", "className", "onFocus", "onFocusProp", "onBlur", "onBlurProp", "restProps", "sizeY", "useAdaptivity", "focusVisible", "useFocusVisible", "focusVisibleClassName", "useFocusVisibleClassName", "handleFocus", "event", "handleBlur", "onRemoveWrapper", "useCallback", "_jsxs", "RootComponent", "classNames", "aria-readonly", "aria-disabled", "undefined", "div", "hasReactNode", "_jsx", "Footnote", "button", "type", "tabIndex", "onClick", "VisuallyHidden", "Icon16Cancel", "React", "React", "FormFieldClearButton", "className", "onClick", "restProps", "_jsx", "IconButton", "Component", "label", "onKeyDown", "stopPropagation", "type", "activeMode", "hoverMode", "e", "preventDefault", "Icon16Cancel", "React", "DEFAULT_VALUE", "DEFAULT_INPUT_VALUE", "getOptionValueDefault", "option", "value", "getOptionLabelDefault", "label", "getNewOptionDataDefault", "renderChipDefault", "props", "rest", "_jsx", "Chip", "removable", "disabled", "isValueLikeChipOptionObject", "v", "isInputValueEmpty", "input", "value", "DEFAULT_INPUT_VALUE", "getChipOptionIndexByValueProp", "optionProp", "valueProp", "findIndex", "option", "getChipOptionIndexByHTMLElement", "el", "dataset", "index", "Number", "getChipOptionValueByHTMLElement", "valueType", "getNextChipOptionIndexByNavigateToProp", "currentIndex", "navigateTo", "length", "LAST_INDEX", "prevIndex", "nextIndex", "sizeYClassNames", "none", "compact", "ChipsInputBase", "getRootRef", "style", "className", "before", "after", "status", "mode", "maxHeight", "value", "DEFAULT_VALUE", "onAddChipOption", "onRemoveChipOptionProp", "renderChip", "renderChipDefault", "getRef", "idProp", "inputValue", "DEFAULT_INPUT_VALUE", "placeholder", "disabled", "readOnly", "addOnBlur", "onBlur", "onInputChange", "ClearButton", "FormFieldClearButton", "clearButtonShown", "clearButtonTestId", "onClear", "chipsListLabel", "ariaLabel", "restProps", "sizeY", "useAdaptivity", "idGenerated", "useId", "inputRef", "useExternRef", "containerRef", "useRef", "listboxRef", "valueLength", "length", "withPlaceholder", "lastFocusedChipOptionIndex", "setLastFocusedChipOptionIndex", "useState", "resetChipOptionFocusToInputEl", "inputEl", "focus", "moveFocusToChipOption", "currentIndex", "navigateTo", "listboxEl", "index", "getNextChipOptionIndexByNavigateToProp", "foundEl", "querySelector", "removeChipOption", "o", "current", "handleListboxKeyDown", "event", "targetEl", "target", "defaultPrevented", "isHTMLElement", "key", "Keys", "ENTER", "checkTargetIsInputEl", "isInputValueEmpty", "preventDefault", "DELETE", "BACKSPACE", "getChipOptionValueByHTMLElement", "getChipOptionIndexByHTMLElement", "HOME", "END", "ARROW_UP", "ARROW_LEFT", "ARROW_DOWN", "ARROW_RIGHT", "getHorizontalFocusGoTo", "handleInputBlur", "handleChipRemove", "v", "stopPropagation", "getChipOptionIndexByValueProp", "handleRootClick", "activeElement", "getActiveElementByAnotherElement", "currentTarget", "contains", "handleClear", "useCallback", "clearButton", "useMemo", "_jsx", "onClick", "data-testid", "undefined", "afterItems", "_jsxs", "_Fragment", "inputId", "handleRootMouseDown", "e", "FormField", "Component", "role", "aria-label", "onMouseDown", "div", "classNames", "ref", "onKeyDown", "aria-orientation", "aria-disabled", "aria-readonly", "map", "option", "Fragment", "label", "Text", "autoCapitalize", "autoComplete", "autoCorrect", "spellCheck", "type", "id", "onChange", "React", "simulateReactInput", "target", "nextValue", "prevValue", "value", "tracker", "_valueTracker", "setValue", "event", "Event", "bubbles", "dispatchEvent", "error", "process", "transformValue", "value", "getOptionValue", "getOptionLabel", "map", "option", "label", "getRegExpFromArray", "separators", "validSeparators", "filter", "s", "length", "escaped", "escapeRegExp", "RegExp", "join", "getRegexFromDelimiter", "delimiter", "useChipsInput", "valueProp", "defaultValue", "DEFAULT_VALUE", "onChange", "getOptionLabelDefault", "getOptionValueDefault", "getNewOptionData", "getNewOptionDataDefault", "inputValue", "inputValueProp", "defaultInputValue", "DEFAULT_INPUT_VALUE", "onInputChange", "onInputChangeProp", "disabled", "setValue", "useCustomEnsuredControl", "undefined", "inputRef", "useRef", "setInputChange", "useEnsuredControl", "toggleOption", "useCallback", "nextValuesProp", "isNewValue", "prevValue", "resolvedNextOptionsSet", "Set", "resolvedNextOptions", "isLikeObjectOption", "isValueLikeChipOptionObject", "resolvedOption", "add", "nextValue", "has", "push", "clearInput", "current", "simulateReactInput", "addOption", "newValue", "addOptions", "newValues", "removeOption", "addOptionFromInput", "trim", "reset", "clearOptions", "e", "canCreate", "newInputValue", "target", "delimiterRegex", "test", "values", "split", "v", "Boolean", "currentTarget", "useNativeFormResetListener", "ChipsInput", "value", "valueProp", "defaultValue", "onChange", "getRef", "inputValue", "inputValueProp", "defaultInputValue", "inputDefaultValueProp", "onInputChange", "onInputChangeProp", "getOptionValue", "getOptionLabel", "getNewOptionData", "disabled", "allowClearButton", "delimiter", "restProps", "addOptionFromInput", "removeOption", "clearOptions", "inputRef", "inputRefHook", "useChipsInput", "useExternRef", "_jsx", "ChipsInputBase", "clearButtonShown", "length", "onAddChipOption", "onRemoveChipOption", "onClear", "React", "getOptionLabelDefault", "option", "label", "defaultFilterFn", "args", "rawSearchQuery", "getOptionLabel", "foundRawLabel", "undefined", "searchQuery", "toLocaleLowerCase", "getTextFromChildren", "startsWith", "findAllIncludes", "target", "search", "includes", "i", "indexOf", "push", "length", "letterRegexp", "RegExp", "index", "test", "getFormFieldModeFromSelectType", "selectType", "React", "CustomSelectDropdown", "children", "targetRef", "scrollBoxRef", "placement", "fetching", "offsetDistance", "autoWidth", "forcePortal", "className", "noMaxHeight", "overscrollBehavior", "restProps", "_jsx", "Popper", "offsetByMainAxis", "sameWidth", "classNames", "includes", "usePortal", "autoUpdateOnTargetResize", "flipMiddlewareFallbackAxisSideDirection", "CustomScrollView", "getRootRef", "undefined", "tabIndex", "aria-busy", "div", "Spinner", "size", "React", "sizeYClassNames", "none", "regular", "CustomSelectOption", "children", "hierarchy", "hovered", "hoveredProp", "selected", "before", "after", "description", "disabled", "style", "styleProp", "className", "onClick", "restProps", "sizeY", "useAdaptivity", "useMemo", "undefined", "_jsxs", "Paragraph", "Component", "role", "aria-disabled", "aria-selected", "data-hovered", "classNames", "mergeStyle", "hasReactNode", "_jsx", "div", "Footnote", "VisuallyHidden", "Icon16Done", "React", "DropdownIcon", "opened", "className", "restProps", "sizeY", "useAdaptivityConditionalRender", "IconCompact", "Icon20ChevronUp", "Icon20Dropdown", "IconRegular", "Icon24ChevronUp", "Icon24ChevronDown", "_jsxs", "Fragment", "compact", "_jsx", "classNames", "regular", "DEFAULT_SELECTED_BEHAVIOR", "DEFAULT_EMPTY_TEXT", "FOCUS_ACTION_NEXT", "FOCUS_ACTION_PREV", "renderOptionDefault", "props", "_jsx", "CustomSelectOption", "isCreateNewOptionPreset", "option", "isEmptyOptionPreset", "isNotServicePreset", "React", "useChipsSelect", "disabled", "delimiter", "value", "valueProp", "defaultValue", "onChange", "getOptionLabel", "getOptionLabelDefault", "getOptionValue", "getOptionValueDefault", "getNewOptionData", "getNewOptionDataDefault", "inputValue", "inputValueProp", "defaultInputValue", "DEFAULT_INPUT_VALUE", "onInputChange", "onInputChangeProp", "creatable", "emptyText", "DEFAULT_EMPTY_TEXT", "filterFn", "defaultFilterFn", "sortFn", "selectedBehavior", "DEFAULT_SELECTED_BEHAVIOR", "options", "optionsProp", "DEFAULT_VALUE", "onClose", "onOpen", "useChipsInput", "restChipsInputProps", "opened", "setOpened", "useState", "setOptions", "transformOptions", "focusedOptionIndex", "setFocusedOptionIndex", "focusedOption", "setFocusedOption", "handleOpened", "useCallback", "isOpened", "handleInputChange", "event", "useIsomorphicLayoutEffect", "handleDropdownOpen", "prevOptions", "nextOptions", "isEqual", "filteredOptionsProp", "filter", "option", "length", "actionText", "placeholder", "sort", "optionA", "optionB", "parsedOptions", "transformValue", "selected", "map", "item", "isNotServicePreset", "includes", "findIndexAfter", "options", "startIndex", "length", "findIndex", "option", "i", "isNotServicePreset", "disabled", "findIndexBefore", "endIndex", "result", "ChipsSelect", "id", "labelledbyId", "getRootRef", "className", "status", "icon", "dropdownIconProp", "onChangeStart", "optionsProp", "placement", "placementProp", "closeAfterSelect", "selectedBehavior", "DEFAULT_SELECTED_BEHAVIOR", "emptyText", "DEFAULT_EMPTY_TEXT", "creatable", "fetching", "dropdownAutoWidth", "forceDropdownPortal", "noMaxHeight", "filterFn", "defaultFilterFn", "sortFn", "dropdownTestId", "onClose", "onOpen", "overscrollBehavior", "renderDropdown", "getRef", "value", "valueProp", "defaultValue", "inputValue", "inputValueProp", "defaultInputValue", "readOnly", "getOptionValue", "getOptionValueDefault", "getOptionLabel", "getOptionLabelDefault", "getNewOptionData", "getNewOptionDataDefault", "renderChip", "renderChipDefault", "renderOption", "renderOptionDefault", "onChange", "onFocus", "onFocusProp", "onInputChange", "onInputChangeProp", "onBlur", "onBlurProp", "onKeyDown", "onKeyDownProp", "dropdownOffsetDistance", "allowClearButton", "clearButtonTestId", "delimiter", "chipsListLabel", "restProps", "addOptionFromInput", "addOption", "removeOption", "clearOptions", "inputRef", "inputRefHook", "clearInput", "opened", "setOpened", "focusedOption", "focusedOptionIndex", "setFocusedOption", "setFocusedOptionIndex", "useChipsSelect", "rootRef", "useExternRef", "dropdownVerticalPlacement", "setDropdownVerticalPlacement", "useState", "onDropdownPlacementChange", "useCallback", "startsWith", "dropdownId", "useId", "dropdownCurrentItemId", "undefined", "dropdownScrollBoxRef", "useRef", "handleFocus", "event", "handleBlur", "defaultPrevented", "preventDefault", "chipsSelectOptions", "current", "scrollToElement", "index", "center", "dropdown", "item", "dropdownHeight", "offsetHeight", "scrollTop", "itemTop", "offsetTop", "itemHeight", "focusOptionByIndex", "oldIndex", "focusOption", "nextIndex", "type", "FOCUS_ACTION_NEXT", "FOCUS_ACTION_PREV", "beforeIndex", "handleKeyDown", "key", "Keys", "ARROW_UP", "ARROW_DOWN", "ENTER", "foundOption", "ESCAPE", "TAB", "React", "useEffect", "foundFocusedOptionIndex", "onDropdownMouseLeave", "handleClickOutside", "useGlobalOnEventOutside", "onDropdownIconClick", "e", "dropdownContent", "useMemo", "defaultDropdownContent", "map", "dropdownItemId", "isEmptyOptionPreset", "_jsx", "Footnote", "placeholder", "isCreateNewOptionPreset", "CustomSelectOption", "hovered", "onMouseDown", "onMouseEnter", "actionText", "Fragment", "children", "label", "selected", "find", "selectedOption", "node", "openedClassNames", "includes", "clearButtonShown", "_jsxs", "_Fragment", "ChipsInputBase", "classNames", "after", "DropdownIcon", "onClick", "onAddChipOption", "onRemoveChipOption", "onClear", "role", "aria-expanded", "aria-autocomplete", "aria-activedescendant", "aria-haspopup", "CustomSelectDropdown", "data-testid", "targetRef", "scrollBoxRef", "onPlacementChange", "onMouseLeave", "autoWidth", "forcePortal", "offsetDistance", "aria-labelledby", "React", "React", "SliderThumb", "className", "getRootRef", "inputProps", "withTooltip", "isActive", "restProps", "focusVisible", "onBlur", "onFocus", "useFocusVisible", "focusVisibleClassNames", "useFocusVisibleClassName", "mode", "arrowRef", "setArrowRef", "useState", "memoizedMiddlewares", "useMemo", "offsetMiddleware", "crossAxis", "mainAxis", "flipMiddleware", "shiftMiddleware", "padding", "arrowMiddleware", "element", "x", "floatingDataX", "y", "floatingDataY", "placement", "resolvedPlacement", "refs", "strategy", "floatingPositionStrategy", "middlewareData", "arrow", "arrowCoords", "update", "updateTooltipPosition", "useFloating", "middleware", "value", "isHovered", "setTrue", "setHoveredTrue", "setFalse", "setHoveredFalse", "useBooleanState", "handleRootRef", "useExternRef", "setReference", "shouldShowTooltip", "inputValue", "React", "useEffect", "udpateTooltipPositionOnValueChange", "_jsxs", "Fragment", "_jsx", "span", "ref", "onMouseEnter", "onMouseLeave", "classNames", "input", "type", "aria-orientation", "TooltipBase", "appearance", "setFloating", "style", "convertFloatingDataToReactCSSProperties", "arrowProps", "coords", "description", "toPercent", "v", "min", "max", "offsetToValue", "startX", "width", "step", "rescale", "restrictValueByMinMax", "value", "updateInternalStateValue", "prevValue", "nextValue", "dragging", "prevStartValue", "prevEndValue", "updateInternalStateValueByNativeChange", "isMultipleValues", "snapDirection", "type", "startRaw", "endRaw", "FORCE_DIFF_VALUE", "start", "end", "Math", "abs", "getDraggingTypeByTargetDataset", "target", "dataset", "resetProps", "undefined", "extractSliderAriaAttributesFromRestProps", "restProps", "ariaLabel", "ariaValueText", "ariaLabelledBy", "sizeYClassNames", "none", "compact", "sizeClassNames", "l", "m", "s", "Slider", "step", "min", "max", "value", "valueProp", "multiple", "multipleProp", "defaultValue", "disabled", "className", "getRootRef", "getAriaLabel", "getAriaValueText", "startThumbTestId", "endThumbTestId", "onChange", "withTooltip", "size", "style", "styleProp", "restProps", "sizeY", "useAdaptivity", "direction", "useConfigDirection", "isRtl", "isControlled", "undefined", "localValue", "setValue", "useState", "useMemo", "resolvedValue", "Array", "isArray", "clamp", "startValue", "endValue", "startValueInPercent", "toPercent", "endReversedValueInPercent", "activeThumb", "setActiveThumb", "gesture", "useRef", "dragging", "startX", "containerWidth", "current", "thumbsContainerRef", "useExternRef", "thumbStartInputRef", "thumbEndInputRef", "extractSliderAriaAttributesFromRestProps", "ariaLabel", "ariaValueText", "ariaLabelledBy", "restPropsWithoutAriaAttributes", "changeValue", "nextValue", "event", "isMultipleValues", "handlePointerStart", "left", "nextContainerX", "width", "nextContainerWidth", "getBoundingClientRect", "foundDraggingType", "getDraggingTypeByTargetDataset", "originalEvent", "target", "nextStartX", "offsetToValue", "nextDragging", "snapDirection", "updatedInternalStateValue", "updateInternalStateValue", "nextStartValue", "nextEndValue", "focus", "preventDefault", "stopPropagation", "handlePointerMove", "shiftX", "handlePointerEnd", "handleChangeByNativeInput", "updateInternalStateValueByNativeChange", "Number", "String", "_jsxs", "Touch", "data-value", "classNames", "mergeStyle", "onStart", "onMove", "onEnd", "_jsx", "div", "ref", "SliderThumb", "data-type", "zIndex", "inputProps", "isActive", "React", "sizeYClassNames", "none", "compact", "Textarea", "grow", "style", "onResize", "className", "getRootRef", "getRef", "rows", "maxHeight", "status", "onChange", "align", "mode", "after", "before", "afterAlign", "beforeAlign", "value", "restProps", "sizeY", "useAdaptivity", "platform", "usePlatform", "window", "useDOM", "refResizeTextarea", "resize", "useResizeTextarea", "elementRef", "useExternRef", "React", "useEffect", "useResizeObserver", "_jsx", "FormField", "classNames", "disabled", "UnstyledTextField", "as", "callMultiple", "React", "import_react", "SelectionControlContext", "createContext", "noPadding", "useSelectionControlContext", "useContext", "sizeYClassNames", "none", "compact", "SelectionControlLabel", "children", "titleAfter", "description", "restProps", "noPadding", "useSelectionControlContext", "sizeY", "useAdaptivity", "_jsxs", "RootComponent", "baseClassName", "classNames", "div", "className", "_jsx", "Text", "hasReactNode", "Footnote", "sizeYClassNames", "none", "compact", "SelectionControl", "noPadding", "hoverMode", "hoverModeProp", "activeMode", "activeModeProp", "restProps", "sizeY", "useAdaptivity", "platform", "usePlatform", "_jsx", "SelectionControlContext", "Provider", "value", "Tappable", "Component", "baseClassName", "classNames", "activeEffectDelay", "DEFAULT_ACTIVE_EFFECT_DELAY", "Label", "SelectionControlLabel", "React", "React", "RadioIcon24", "props", "_jsxs", "svg", "xmlns", "width", "height", "aria-hidden", "_jsx", "circle", "cx", "cy", "r", "stroke", "strokeWidth", "fill", "className", "RadioIcon20", "RadioIcon", "div", "AdaptiveIconRenderer", "IconCompact", "IconRegular", "RadioInput", "style", "getRootRef", "getRef", "restProps", "RootComponent", "VisuallyHidden", "Component", "type", "baseClassName", "Radio", "children", "description", "style", "className", "getRootRef", "titleAfter", "getRef", "labelProps", "hoverMode", "activeMode", "hasHover", "hasActive", "focusVisibleMode", "restProps", "_jsxs", "SelectionControl", "classNames", "disabled", "_jsx", "RadioInput", "SelectionControlLabel", "Input", "React", "RadioGroup", "mode", "restProps", "_jsx", "RootComponent", "baseClassName", "classNames", "role", "React", "React", "setIndeterminate", "el", "indeterminate", "warn", "warnOnce", "CheckboxInput", "className", "style", "getRootRef", "getRef", "defaultIndeterminate", "onChange", "IconOnCompact", "Icon20CheckBoxOn", "IconOnRegular", "Icon24CheckBoxOn", "IconOffCompact", "Icon20CheckBoxOff", "IconOffRegular", "Icon24CheckBoxOff", "IconIndeterminate", "Icon20CheckBoxIndetermanate", "restProps", "inputRef", "useExternRef", "platform", "usePlatform", "sizeY", "adaptiveSizeY", "useAdaptivityConditionalRender", "React", "useEffect", "indeterminateValue", "undefined", "current", "Boolean", "handleChange", "useCallback", "event", "checked", "process", "defaultChecked", "_jsxs", "RootComponent", "baseClassName", "_jsx", "VisuallyHidden", "Component", "type", "Fragment", "compact", "classNames", "regular", "width", "height", "sizeYClassNames", "none", "compact", "CheckboxSimple", "children", "className", "style", "getRootRef", "description", "hoverMode", "hoverModeProp", "activeMode", "activeModeProp", "hasHover", "hasActive", "focusVisibleMode", "titleAfter", "noPadding", "restProps", "sizeY", "useAdaptivity", "_jsx", "Tappable", "classNames", "disabled", "Component", "CheckboxInput", "CheckboxComponent", "children", "className", "style", "getRootRef", "description", "hoverMode", "activeMode", "hasHover", "hasActive", "focusVisibleMode", "titleAfter", "noPadding", "restProps", "_jsxs", "SelectionControl", "disabled", "_jsx", "CheckboxInput", "SelectionControlLabel", "Checkbox", "props", "simple", "hasReactNode", "CheckboxSimple", "Input", "React", "React", "React", "SelectTypography", "selectType", "children", "restProps", "_jsx", "Text", "weight", "sizeYClassNames", "none", "compact", "NOT_SELECTED", "NATIVE", "CUSTOM", "remapFromSelectValueToNativeValue", "value", "remapFromNativeValueToSelectValue", "NativeSelect", "style", "align", "placeholder", "children", "className", "getRef", "getRootRef", "disabled", "multiline", "selectType", "status", "icon", "_jsx", "DropdownIcon", "before", "onChange", "defaultValue", "restProps", "title", "setTitle", "useState", "empty", "setEmpty", "selectRef", "useExternRef", "sizeY", "useAdaptivity", "checkSelectedOption", "selectedOption", "current", "options", "selectedIndex", "text", "_onChange", "e", "newValue", "target", "currentTarget", "useIsomorphicLayoutEffect", "_jsxs", "FormField", "Component", "classNames", "after", "mode", "getFormFieldModeFromSelectType", "select", "undefined", "callMultiple", "ref", "option", "div", "aria-hidden", "SelectTypography", "React", "sizeYClassNames", "none", "compact", "CustomSelectInput", "align", "getRef", "className", "getRootRef", "style", "before", "after", "status", "children", "placeholder", "selectType", "multiline", "disabled", "fetching", "labelTextTestId", "searchable", "accessible", "restProps", "sizeY", "useAdaptivity", "title", "showLabelOrPlaceholder", "Boolean", "value", "handleRootRef", "useExternRef", "focusWithin", "useFocusWithin", "inputReadonly", "readOnly", "input", "_jsx", "Text", "type", "Component", "normalize", "classNames", "inputHidden", "useMemo", "labelHidden", "platform", "usePlatform", "FormField", "mode", "getFormFieldModeFromSelectType", "_jsxs", "div", "tabIndex", "aria-hidden", "data-testid", "SelectTypography", "VisuallyHidden", "findIndexAfter", "options", "startIndex", "length", "findIndex", "option", "i", "disabled", "findIndexBefore", "endIndex", "result", "warn", "warnOnce", "checkOptionsValueType", "Set", "map", "item", "value", "size", "checkMixControlledAndUncontrolledState", "oldIsControlled", "newIsControlled", "findSelectedIndex", "NOT_SELECTED", "CUSTOM", "Number", "getOptionByValue", "index", "filter", "inputValue", "filterFn", "calculateInputValueFromOptions", "selectValue", "selectedOption", "getTextFromChildren", "label", "React", "React", "CustomSelectClearButton", "className", "onClick", "restProps", "_jsx", "IconButton", "Component", "label", "onKeyDown", "stopPropagation", "type", "activeMode", "hoverMode", "e", "preventDefault", "Icon16Cancel", "useAfterItems", "value", "nativeSelectValue", "isControlledOutside", "opened", "allowClearButton", "ClearButton", "CustomSelectClearButton", "onClearButtonClick", "clearButtonTestId", "disabled", "readOnly", "icon", "iconProp", "onClearButtonClickCb", "useStableCallback", "controlledValueSet", "NOT_SELECTED", "CUSTOM", "uncontrolledValueSet", "NATIVE", "clearButtonShown", "clearButton", "useMemo", "_jsx", "className", "undefined", "onClick", "data-testid", "DropdownIcon", "_jsxs", "Fragment", "React", "useDropdownOpenedController", "onClose", "onOpen", "onOpened", "onClosed", "opened", "setOpened", "useState", "onCloseCb", "useStableCallback", "noop", "onOpenCb", "onOpenedCb", "onClosedCb", "close", "useCallback", "open", "toggleOpened", "React", "useEffect", "React", "useFocusedOptionController", "selectedOptionValue", "filteredOptions", "scrollToElement", "focusedOptionValue", "setFocusedOptionValue", "useState", "focusOptionByIndex", "useCallback", "index", "scrollTo", "undefined", "length", "option", "disabled", "value", "resetFocusedOption", "focusOption", "type", "findSelectedIndex", "nextIndex", "findIndexAfter", "beforeIndex", "findIndexBefore", "selectFocusedValue", "React", "KEYS_TO_PREVENT_DEFAULT", "Keys", "ARROW_UP", "ARROW_DOWN", "ESCAPE", "ENTER", "useInputKeyboardController", "opened", "resetFocusedOption", "focusOption", "scrollBoxRef", "selectFocused", "onInputKeyDown", "open", "close", "handleKeyDownSelect", "useCallback", "event", "key", "pressedKey", "length", "SPACE", "areOptionsShown", "current", "includes", "preventDefault", "BACKSPACE", "DELETE", "handleInputKeydown", "_onInputKeyDown", "callMultiple", "React", "useInputValueController", "options", "accessible", "selectedValue", "onInputChange", "onInputChangeProp", "inputValue", "setInputValue", "useState", "optionsRef", "useRef", "useIsomorphicLayoutEffect", "current", "resetInputValueBySelectedOption", "useCallback", "calculateInputValueFromOptions", "resetInputValue", "e", "target", "value", "React", "useScrollListController", "scrollBoxRef", "useRef", "optionsWrapperRef", "scrollToElement", "useCallback", "index", "center", "dropdown", "current", "optionsWrapper", "children", "length", "item", "dropdownHeight", "offsetHeight", "scrollTop", "itemTop", "offsetTop", "itemHeight", "React", "useSelectedOptionController", "value", "defaultValue", "isControlledOutside", "allowClearButton", "onChange", "nativeSelectValue", "prevNativeSelectValue", "setNativeSelectValue", "useStateWithPrev", "undefined", "remapFromSelectValueToNativeValue", "NOT_SELECTED", "NATIVE", "nativeSelectValueRef", "useRef", "selectedOptionValue", "setSelectedOptionValue", "useState", "remapFromNativeValueToSelectValue", "_setNativeSelectValue", "useCallback", "newValue", "current", "React", "useEffect", "syncNativeSelectValueWithPropValue", "syncNativeSelectValueWithSelectedOptionValue", "remappedSelectedValue", "onNativeSelectChange", "e", "convertedNativeSelectValue", "String", "isCalledWithSameControlledOptionValue", "isNativeValueChanged", "isTriggeredByClearButton", "shouldCallOnChange", "remappedNativeValue", "currentTarget", "target", "sizeYClassNames", "none", "compact", "defaultRenderOptionFn", "option", "props", "_jsx", "CustomSelectOption", "isMousePositionChanged", "event", "prevPosition", "Math", "abs", "x", "clientX", "y", "clientY", "FETCH_STATUS_RESET_DELAY", "FetchingStatus", "fetching", "options", "fetchingInProgressLabel", "fetchingCompletedLabel", "length", "status", "setStatus", "useState", "content", "getRequiredValueByKey", "loaded", "useIsomorphicLayoutEffect", "updateStatus", "setTimeout", "VisuallyHidden", "aria-live", "CustomSelect", "before", "name", "className", "getRef", "getRootRef", "popupDirection", "style", "onChange", "children", "onInputChangeProp", "renderDropdown", "onOpen", "onClose", "forceDropdownPortal", "selectType", "searchable", "renderOptionProp", "emptyText", "filterFn", "defaultFilterFn", "iconProp", "ClearButton", "allowClearButton", "dropdownOffsetDistance", "dropdownAutoWidth", "noMaxHeight", "ariaLabelledBy", "clearButtonTestId", "nativeSelectTestId", "defaultValue", "required", "getSelectInputRef", "overscrollBehavior", "onInputKeyDownProp", "readOnly", "accessible", "restProps", "process", "checkOptionsValueType", "sizeY", "useAdaptivity", "containerRef", "useRef", "handleRootRef", "useExternRef", "selectElRef", "selectInputRef", "propsValue", "useMemo", "getOptionByValue", "value", "undefined", "isControlledOutside", "setIsControlledOutside", "popperPlacement", "setPopperPlacement", "nativeSelectValue", "setNativeSelectValue", "selectedOptionValue", "setSelectedOptionValue", "onNativeSelectChange", "useSelectedOptionController", "selected", "find", "inputValue", "onInputChange", "resetInputValue", "resetInputValueBySelectedOption", "useInputValueController", "selectedValue", "filteredOptions", "filter", "scrollToElement", "optionsWrapperRef", "scrollBoxRef", "useScrollListController", "focusedOptionValue", "setFocusedOptionValue", "resetFocusedOption", "focusOptionByIndex", "focusOption", "selectFocusedValue", "useFocusedOptionController", "scrollToSelectedOption", "findSelectedIndex", "opened", "open", "close", "toggleOpened", "useDropdownOpenedController", "callMultiple", "onOpened", "onClosed", "React", "useEffect", "updateOptionsValue", "remapFromNativeValueToSelectValue", "syncIsControlledState", "oldIsControlled", "newIsControlled", "checkMixControlledAndUncontrolledState", "some", "NOT_SELECTED", "NATIVE", "Event", "bubbles", "current", "dispatchEvent", "openedClassNames", "includes", "selectOption", "useCallback", "shouldTriggerOnChangeWhenControlledAndInnerValueIsOutOfSync", "selectFocused", "onInputKeyDown", "useInputKeyboardController", "onBlur", "onFocus", "handleOptionClick", "e", "index", "Array", "prototype", "indexOf", "call", "currentTarget", "parentNode", "disabled", "lastMousePositionRef", "focusOptionOnMouseMove", "popupAriaId", "useId", "renderOption", "hovered", "Fragment", "label", "onClick", "onMouseDown", "preventDefault", "onMouseMove", "id", "resolvedContent", "defaultDropdownContent", "div", "ref", "map", "Footnote", "afterItems", "useAfterItems", "onClearButtonClick", "focus", "icon", "document", "useDOM", "passClickAndFocusToInputOnClick", "clickTargetIsNotAnInput", "target", "click", "inputIsNotFocused", "activeElement", "preventInputBlurWhenClickInsideFocusedSelectArea", "isInputFocused", "ariaActiveDescendantId", "selectInputAriaProps", "resetOptionFocusOnMouseLeave", "_jsxs", "classNames", "updateLastMousePosition", "CustomSelectInput", "autoComplete", "autoCapitalize", "autoCorrect", "spellCheck", "onKeyDown", "after", "select", "tabIndex", "aria-hidden", "data-testid", "item", "CustomSelectDropdown", "targetRef", "placement", "onPlacementChange", "onMouseLeave", "offsetDistance", "autoWidth", "forcePortal", "role", "aria-labelledby", "Select", "children", "className", "props", "options", "searchable", "emptyText", "onInputChange", "filterFn", "popupDirection", "renderOption", "renderDropdown", "fetching", "onClose", "onOpen", "icon", "ClearButton", "allowClearButton", "clearButtonTestId", "dropdownOffsetDistance", "dropdownAutoWidth", "forceDropdownPortal", "noMaxHeight", "labelTextTestId", "nativeSelectTestId", "after", "mode", "pattern", "minLength", "maxLength", "readOnly", "getSelectInputRef", "overscrollBehavior", "beforeAlign", "afterAlign", "onInputKeyDown", "accessible", "fetchingCompletedLabel", "fetchingInProgressLabel", "restProps", "deviceType", "useAdaptivityConditionalRender", "nativeProps", "_jsxs", "Fragment", "desktop", "_jsx", "CustomSelect", "classNames", "mobile", "NativeSelect", "map", "label", "value", "disabled", "option", "React", "useAutoFocus", "ref", "autoFocus", "useIsomorphicLayoutEffect", "current", "focus", "sizeYClassNames", "none", "compact", "SelectMimicry", "tabIndex", "placeholder", "children", "align", "getRootRef", "multiline", "disabled", "onClick", "before", "after", "_jsx", "DropdownIcon", "selectType", "status", "className", "autoFocus", "restProps", "rootRef", "useExternRef", "sizeY", "useAdaptivity", "title", "useAutoFocus", "FormField", "undefined", "classNames", "mode", "getFormFieldModeFromSelectType", "div", "SelectTypography", "React", "React", "SegmentedControlOption", "getRef", "children", "getRootRef", "before", "rootProps", "inputProps", "_jsxs", "Clickable", "Component", "baseClassName", "hoverClassName", "activeClassName", "_jsx", "VisuallyHidden", "type", "hasReactNode", "div", "className", "Headline", "level", "weight", "options", "sizeYClassNames", "none", "regular", "warn", "warnOnce", "SegmentedControl", "size", "name", "defaultValue", "value", "children", "onChange", "onChangeProp", "valueProp", "role", "restProps", "id", "useId", "direction", "useConfigDirection", "isRtl", "useCustomEnsuredControl", "sizeY", "useAdaptivity", "tabsRef", "useTabsNavigation", "actualIndex", "findIndex", "option", "useIsomorphicLayoutEffect", "process", "sliderStyle", "String", "length", "_jsx", "RootComponent", "baseClassName", "classNames", "_jsxs", "div", "ref", "className", "aria-hidden", "style", "map", "_param", "label", "before", "optionProps", "selected", "onSelect", "optionRootProps", "tabIndex", "undefined", "optionInputProps", "checked", "SegmentedControlOption", "rootProps", "inputProps", "React", "millisecondsInSecond", "constructFromSymbol", "constructFromSymbol", "addDays", "defaultOptions", "defaultOptions", "addDays", "defaultOptions", "format", "index", "index", "defaultOptions", "defaultOptions", "lastDayOfMonth", "validateValue", "match", "match", "hours", "minutes", "millisecondsInSecond", "match", "match", "match", "match", "match", "match", "match", "match", "match", "isLeapYear", "match", "isLeapYear", "defaultOptions", "addDays", "match", "match", "match", "addDays", "match", "match", "match", "match", "match", "match", "match", "match", "hours", "match", "match", "addDays", "hours", "minutes", "now", "React", "DEFAULT_MAX_YEAR", "DEFAULT_MIN_YEAR", "getYears", "currentYear", "range", "years", "minYear", "clampNumber", "maxYear", "i", "push", "label", "String", "padStart", "value", "getMonths", "locale", "months", "formatter", "Intl", "DateTimeFormat", "month", "format", "Date", "getDaysNames", "now", "weekStartsOn", "shortFormatter", "weekday", "longFormatter", "eachDayOfInterval", "start", "startOfWeek", "end", "endOfWeek", "map", "day", "short", "long", "NAVIGATION_KEYS", "Keys", "ARROW_UP", "ARROW_DOWN", "ARROW_LEFT", "ARROW_RIGHT", "HOME", "END", "PAGE_UP", "PAGE_DOWN", "navigateDate", "date", "key", "newDate", "addDays", "subDays", "subWeeks", "addWeeks", "subMonths", "addMonths", "getWeeks", "viewDate", "startOfMonth", "endOfMonth", "count", "current", "nestedWeeks", "lastDay", "weekNumber", "Math", "floor", "getDay", "setTimeEqual", "to", "from", "setHours", "getHours", "setMinutes", "getMinutes", "setSeconds", "getSeconds", "setMilliseconds", "getMilliseconds", "isFirstDay", "dayOfWeek", "getDate", "isLastDay", "isLastDayOfMonth", "clamp", "options", "min", "max", "isDayMinMaxRestricted", "withTime", "isSameDate", "Boolean", "useCalendar", "value", "disablePast", "disableFuture", "shouldDisableDate", "onHeaderChange", "onNextMonth", "onPrevMonth", "minDateTime", "maxDateTime", "Array", "viewDate", "setViewDate", "useState", "isArray", "Date", "focusedDay", "setFocusedDay", "setPrevMonth", "useCallback", "subMonths", "setNextMonth", "addMonths", "handleSetViewDate", "isDayFocused", "day", "Boolean", "isSameDate", "isDayDisabled", "withTime", "now", "startOfDay", "endOfDay", "isDayMinMaxRestricted", "min", "max", "isMonthDisabled", "month", "year", "getFullYear", "minMonth", "getMonth", "maxMonth", "minYear", "DEFAULT_MIN_YEAR", "maxYear", "DEFAULT_MAX_YEAR", "isDisabled", "isYearDisabled", "React", "React", "useTodayDate", "listenDayChangesForUpdate", "document", "window", "useDOM", "todayDate", "setTodayDate", "useState", "Date", "React", "useEffect", "setupTodaysDateRecalculationListener", "timeout", "undefined", "recalcTimeout", "visibilityState", "now", "timeToDayChange", "differenceInMilliseconds", "startOfTomorrow", "clearTimeout", "setTimeout", "isSameDate", "addEventListener", "removeEventListener", "React", "CalendarDay", "memo", "day", "today", "selected", "onChange", "hidden", "disabled", "active", "selectionStart", "selectionEnd", "focused", "onEnter", "onLeave", "onFocus", "onBlur", "hinted", "hintedSelectionStart", "hintedSelectionEnd", "sameMonth", "size", "children", "renderDayContent", "testId", "role", "colIndex", "restProps", "locale", "direction", "useConfigProvider", "ref", "useRef", "onClick", "useCallback", "handleEnter", "handleLeave", "handleFocus", "focusVisibleMode", "useFocusVisible", "focusVisible", "focusEvents", "focusVisibleClassNames", "useFocusVisibleClassName", "mode", "focusHandlers", "mergeCalls", "label", "Intl", "DateTimeFormat", "weekday", "month", "format", "React", "useEffect", "current", "focus", "content", "useMemo", "_jsxs", "div", "className", "_jsx", "VisuallyHidden", "span", "aria-hidden", "getDate", "aria-colindex", "classNames", "Tappable", "baseClassName", "hoverMode", "activeMode", "hasActive", "getRootRef", "onPointerEnter", "onPointerLeave", "data-testid", "process", "defineComponentDisplayNames", "CalendarDays", "viewDate", "value", "weekStartsOn", "onDayChange", "isDaySelected", "isDayActive", "isDaySelectionEnd", "isDaySelectionStart", "onDayEnter", "onDayLeave", "onDayFocus", "isDayHinted", "isHintedDaySelectionStart", "isHintedDaySelectionEnd", "isDayFocused", "isDayFocusable", "isDayDisabled", "size", "showNeighboringMonth", "dayProps", "listenDayChangesForUpdate", "getRootRef", "renderDayContent", "dayTestId", "props", "locale", "useConfigProvider", "now", "useTodayDate", "weeks", "useMemo", "getWeeks", "daysNames", "getDaysNames", "handleDayChange", "useCallback", "date", "viewDateLabelId", "useId", "currentMonthLabel", "Intl", "DateTimeFormat", "year", "month", "format", "_jsxs", "Fragment", "_jsx", "VisuallyHidden", "aria-live", "id", "RootComponent", "role", "baseClassName", "aria-labelledby", "div", "aria-rowindex", "className", "classNames", "map", "short", "shortDayName", "long", "longDayName", "Footnote", "aria-label", "week", "i", "day", "sameMonth", "isSameMonth", "isHidden", "isToday", "isSameDate", "isActive", "isFocused", "CalendarDay", "aria-current", "undefined", "aria-selected", "aria-colindex", "tabIndex", "today", "active", "onChange", "hidden", "disabled", "selectionStart", "selectionEnd", "hintedSelectionStart", "hintedSelectionEnd", "selected", "focused", "onEnter", "onLeave", "onFocus", "hinted", "testId", "toISOString", "React", "React", "AdaptivityProvider", "viewWidth", "viewHeight", "sizeX", "sizeXProp", "sizeY", "sizeYProp", "hasPointer", "hasHover", "children", "adaptivity", "useMemo", "nextProps", "undefined", "getSizeX", "isCompactByViewWidth", "isCompactByViewHeight", "_jsx", "AdaptivityContext", "Provider", "value", "CalendarHeader", "viewDate", "onChange", "prevMonthHidden", "prevMonthHiddenProp", "nextMonthHidden", "nextMonthHiddenProp", "disablePickers", "onNextMonth", "onPrevMonth", "prevMonthProps", "nextMonthProps", "prevMonthLabel", "nextMonthLabel", "changeMonthLabel", "changeYearLabel", "prevMonthIcon", "_jsx", "Icon20ChevronLeftOutline", "className", "width", "height", "nextMonthIcon", "Icon20ChevronRightOutline", "isMonthDisabled", "isYearDisabled", "monthDropdownTestId", "yearDropdownTestId", "prevMonthButtonTestId", "nextMonthButtonTestId", "restProps", "locale", "direction", "useConfigProvider", "onMonthsChange", "useCallback", "_", "newValue", "setMonth", "Number", "onYearChange", "setYear", "currentYear", "getFullYear", "currentMonth", "getMonth", "months", "useMemo", "getMonths", "map", "value", "label", "span", "disabled", "years", "getYears", "year", "formatter", "Intl", "DateTimeFormat", "month", "prevMonthClassName", "restPrevMonthProps", "nextMonthClassName", "restNextMonthProps", "DEFAULT_MAX_YEAR", "Math", "min", "DEFAULT_MIN_YEAR", "max", "stopPropogationOfEscapeKeyboardEventWhenSelectIsOpen", "event", "isOpen", "key", "stopPropagation", "_jsxs", "RootComponent", "baseClassName", "AdaptivityProvider", "sizeX", "Tappable", "classNames", "onClick", "data-testid", "VisuallyHidden", "format", "subMonths", "Paragraph", "weight", "sizeY", "div", "CustomSelect", "options", "dropdownOffsetDistance", "dropdownAutoWidth", "icon", "Icon12Dropdown", "forceDropdownPortal", "selectType", "aria-label", "onInputKeyDown", "addMonths", "import_react", "React", "selectFilterFn", "hours", "i", "push", "value", "label", "String", "padStart", "minutes", "validateValue", "validValues", "numValue", "Number", "isNaN", "some", "v", "CalendarTime", "onChange", "onDoneButtonClick", "changeHoursLabel", "changeMinutesLabel", "isDayDisabled", "doneButtonText", "doneButtonDisabled", "doneButtonShow", "minutesTestId", "hoursTestId", "doneButtonTestId", "DoneButton", "hoursInputRef", "useRef", "minutesInputRef", "doneButtonRef", "localHours", "map", "hour", "disabled", "setHours", "localMinutes", "minute", "setMinutes", "onPickerValueChange", "e", "validate", "setter", "numericValue", "target", "replace", "onHoursInputChange", "onMinutesInputChange", "onHoursChange", "useCallback", "_", "newValue", "onMinutesChange", "onPickerKeyDown", "key", "pressedKey", "Keys", "ENTER", "steps", "filter", "ref", "Boolean", "current", "currentStepIndex", "findIndex", "step", "nextStepIndex", "length", "nextStep", "preventDefault", "focus", "stopPropogationOfEscapeKeyboardEventWhenSelectIsOpen", "event", "isOpen", "stopPropagation", "onSelectInputKeyDown", "callMultiple", "renderDoneButton", "ButtonComponent", "Button", "_jsx", "mode", "onClick", "size", "getRootRef", "onKeyDown", "data-testid", "_jsxs", "div", "className", "classNames", "AdaptivityProvider", "sizeY", "CustomSelect", "getHours", "options", "forceDropdownPortal", "searchable", "filterFn", "onInputChange", "onInputKeyDown", "getSelectInputRef", "aria-label", "getMinutes", "warn", "warnOnce", "Calendar", "getRootRef", "valueProp", "defaultValue", "onChange", "disablePast", "disableFuture", "shouldDisableDate", "onDoneButtonClick", "enableTime", "doneButtonText", "doneButtonDisabled", "doneButtonShow", "DoneButton", "weekStartsOn", "disablePickers", "ariaLabel", "changeHoursLabel", "changeMinutesLabel", "prevMonthLabel", "nextMonthLabel", "changeMonthLabel", "changeYearLabel", "showNeighboringMonth", "size", "externalViewDate", "onHeaderChange", "onNextMonth", "onPrevMonth", "prevMonthIcon", "nextMonthIcon", "prevMonthProps", "nextMonthProps", "dayProps", "listenDayChangesForUpdate", "renderDayContent", "minDateTime", "maxDateTime", "timezone", "minutesTestId", "hoursTestId", "doneButtonTestId", "prevMonthButtonTestId", "nextMonthButtonTestId", "monthDropdownTestId", "yearDropdownTestId", "dayTestId", "props", "_onChange", "useCallback", "date", "convertDateFromTimeZone", "undefined", "value", "updateValue", "useCustomEnsuredControl", "timeZonedValue", "useMemo", "convertDateToTimeZone", "viewDate", "setViewDate", "setPrevMonth", "setNextMonth", "focusedDay", "setFocusedDay", "isDayFocused", "isDayDisabled", "isMonthDisabled", "isYearDisabled", "useCalendar", "focusableDay", "setFocusableDay", "useState", "useIsomorphicLayoutEffect", "handleKeyDown", "event", "key", "pressedKey", "NAVIGATION_KEYS", "includes", "preventDefault", "newFocusedDay", "navigateDate", "isSameMonth", "Keys", "TAB", "ENTER", "SPACE", "isHTMLElement", "target", "click", "onDayChange", "actualDate", "setTimeEqual", "clamp", "min", "max", "onDayFocus", "isSameDate", "isDayActive", "day", "Boolean", "isFocusableDayInViewDateMonth", "isInputValueDateInViewDateMonth", "isDayFocusable", "startOfMonth", "_jsxs", "RootComponent", "aria-label", "baseClassName", "classNames", "_jsx", "CalendarHeader", "className", "CalendarDays", "onKeyDown", "isDaySelectionStart", "isFirstDay", "isDaySelectionEnd", "isLastDay", "div", "CalendarTime", "React", "React", "useCalendarKeyboardNavigation", "focusedDay", "value", "setFocusedDay", "viewDates", "firstCalendarViewDate", "secondCalendarViewDate", "setViewDate", "focusableDayOnFirstCalendar", "setFocusableDayOnFirstCalendar", "useState", "focusableDayOnSecondCalendar", "setFocusableDayOnSecondCalendar", "handleCalendarKeyDown", "useCallback", "event", "isFirst", "key", "pressedKey", "NAVIGATION_KEYS", "includes", "preventDefault", "newFocusedDay", "navigateDate", "isSameMonth", "Keys", "TAB", "undefined", "ENTER", "SPACE", "isHTMLElement", "target", "click", "handleFirstCalendarKeyDown", "handleSecondCalendarKeyDown", "handleDayFocus", "isSameDate", "useIsDayFocusable", "viewDate", "isDayActive", "isValueVisibleOnCalendar", "Boolean", "isCalendarHasFocusableDay", "isDayFocusable", "day", "startOfMonth", "getIsDaySelected", "day", "value", "isWithinInterval", "startOfDay", "endOfDay", "CalendarRange", "valueProp", "defaultValue", "onChange", "disablePast", "disableFuture", "shouldDisableDate", "weekStartsOn", "disablePickers", "prevMonthLabel", "nextMonthLabel", "changeMonthLabel", "changeYearLabel", "ariaLabel", "prevMonthIcon", "nextMonthIcon", "listenDayChangesForUpdate", "renderDayContent", "dayTestId", "leftPartHeaderTestsData", "rightPartHeaderTestsData", "getRootRef", "props", "_onChange", "useCallback", "newValue", "undefined", "updateValue", "useCustomEnsuredControl", "viewDate", "setViewDate", "setPrevMonth", "setNextMonth", "focusedDay", "setFocusedDay", "isDayFocused", "isDayDisabled", "isMonthDisabled", "isYearDisabled", "useCalendar", "hintedDate", "setHintedDate", "useState", "secondViewDate", "addMonths", "focusableDayOnFirstCalendar", "focusableDayOnSecondCalendar", "handleFirstCalendarKeyDown", "handleSecondCalendarKeyDown", "handleDayFocus", "useCalendarKeyboardNavigation", "viewDates", "getNewValue", "date", "isValueEmpty", "isRangeSelected", "start", "isSameDate", "onDayChange", "isDaySelected", "isDayActive", "Boolean", "isDaySelectionEnd", "dayOfWeek", "isLastDay", "isHintedDaySelectionEnd", "isDaySelectionStart", "isFirstDay", "isHintedDaySelectionStart", "onDayEnter", "onDayLeave", "isDayHinted", "onRightPartViewDateChange", "newDate", "subMonths", "isDayFocusableInFirstCalendar", "useIsDayFocusable", "isDayFocusableInSecondCalendar", "onDayFocus", "_jsxs", "RootComponent", "aria-label", "baseClassName", "div", "className", "_jsx", "CalendarHeader", "nextMonthHidden", "onPrevMonth", "CalendarDays", "onKeyDown", "isDayFocusable", "prevMonthHidden", "onNextMonth", "React", "import_react", "React", "useDateInput", "maxElement", "refs", "autoFocus", "disabled", "elementsConfig", "onClear", "onInternalValueChange", "getInternalValue", "value", "onCalendarOpenChanged", "accessible", "document", "useDOM", "open", "setTrue", "openCalendar", "setFalse", "closeCalendar", "useBooleanState", "rootRef", "useRef", "calendarRef", "internalValue", "setInternalValue", "useState", "focusedElement", "setFocusedElement", "isClickedOutsideRef", "window", "handleRestoreFocus", "useCallback", "current", "_onCalendarClose", "_onCalendarOpen", "resetFocusedElement", "getSelection", "removeAllRanges", "removeFocusFromField", "toggleCalendar", "handleClickOutside", "e", "contains", "target", "selectFirst", "useGlobalEventListener", "capture", "React", "useEffect", "range", "createRange", "element", "timerId", "focus", "selectNodeContents", "setTimeout", "selection", "addRange", "clearTimeout", "clear", "handleFieldEnter", "handleKeyDown", "_value", "config", "test", "key", "length", "slice", "currentValue", "Number", "String", "min", "max", "padStart", "shiftKey", "preventDefault", "React", "InputLikeDivider", "children", "className", "props", "_jsx", "span", "classNames", "React", "MASK_SYMBOL", "String", "fromCharCode", "getMaskElements", "length", "result", "index", "push", "_jsx", "span", "className", "InputLike", "value", "onElementSelect", "onFocus", "label", "readOnly", "onKeyDown", "restProps", "handleElementSelect", "useCallback", "event", "stopPropagation", "_jsxs", "RootComponent", "Component", "baseClassName", "undefined", "tabIndex", "callMultiple", "VisuallyHidden", "slice", "stringifyValue", "value", "length", "undefined", "String", "padStart", "NumberInputLike", "minValue", "maxValue", "readOnly", "disabled", "label", "onKeyDown", "ariaLabel", "restProps", "stringValue", "_jsx", "InputLike", "role", "aria-valuemin", "aria-valuemax", "aria-valuenow", "Number", "aria-valuetext", "aria-readonly", "aria-disabled", "aria-label", "tabIndex", "React", "_convertDateToTimeZone", "date", "timezone", "convertDateToTimeZone", "_convertDateFromTimeZone", "convertDateFromTimeZone", "getStateValue", "defaultStateValue", "value", "defaultValue", "undefined", "useDateInputValue", "onChange", "internalValue", "setInternalValue", "useState", "lastUpdatedValueRef", "useRef", "isControlled", "React", "useEffect", "newInternalValue", "current", "getLastUpdatedValue", "useCallback", "updateValue", "newValue", "originalTimezoneValue", "clearValue", "sizeYClassNames", "none", "compact", "elementsConfig", "index", "length", "min", "max", "getInternalValue", "value", "newValue", "String", "getDate", "padStart", "getMonth", "getFullYear", "getHours", "getMinutes", "CALENDAR_MUTATION_OBSERVER_OPTIONS", "childList", "subtree", "attributes", "attributeFilter", "DateInput", "enableTime", "shouldDisableDate", "disableFuture", "disablePast", "minDateTime", "maxDateTime", "valueProp", "defaultValue", "onChange", "calendarPlacementProp", "style", "className", "doneButtonText", "DoneButton", "closeOnChange", "disablePickers", "getRootRef", "name", "autoFocus", "disabled", "accessible", "calendarLabel", "prevMonthLabel", "nextMonthLabel", "changeDayLabel", "changeMonthLabel", "changeYearLabel", "changeHoursLabel", "changeMinutesLabel", "clearFieldLabel", "showCalendarLabel", "showNeighboringMonth", "size", "viewDate", "onHeaderChange", "onNextMonth", "onPrevMonth", "prevMonthIcon", "nextMonthIcon", "renderDayContent", "onCalendarOpenChanged", "calendarTestsProps", "dayFieldTestId", "monthFieldTestId", "yearFieldTestId", "hourFieldTestId", "minuteFieldTestId", "showCalendarButtonTestId", "clearButtonTestId", "id", "onApply", "renderCustomValue", "timezone", "restoreFocus", "disableFocusTrap", "readOnly", "disableCalendarProp", "ariaLabel", "props", "daysRef", "useRef", "monthsRef", "yearsRef", "hoursRef", "minutesRef", "disableCalendar", "updateValue", "setInternalValue", "getLastUpdatedValue", "clearValue", "useDateInputValue", "maxElement", "onInternalValueChange", "useCallback", "internalValue", "i", "formattedValue", "mask", "isMatch", "now", "Date", "parse", "startOfMinute", "startOfDay", "refs", "useMemo", "rootRef", "calendarRef", "open", "handleKeyDown", "setFocusedElement", "handleFieldEnter", "clear", "removeFocusFromField", "closeCalendar", "toggleCalendar", "openCalendar", "handleRestoreFocus", "useDateInput", "onClear", "sizeY", "useAdaptivity", "handleRootRef", "useExternRef", "useIsomorphicLayoutEffect", "resetValueOnCloseCalendar", "onCalendarChange", "onDoneButtonClick", "customValue", "undefined", "calendarPlacement", "setCalendarPlacement", "useState", "locale", "useConfigProvider", "currentDateLabel", "Intl", "DateTimeFormat", "weekday", "year", "month", "day", "format", "currentDateLabelId", "useId", "ariaLabelId", "showCalendarOnInputAreaClick", "_jsxs", "FormField", "classNames", "role", "aria-labelledby", "after", "Fragment", "_jsx", "IconButton", "hoverMode", "label", "onClick", "data-testid", "Icon20CalendarOutline", "Icon16Clear", "div", "VisuallyHidden", "Component", "aria-hidden", "tabIndex", "dateTimeFormatter", "dateFormatter", "onFocus", "Text", "normalize", "NumberInputLike", "minValue", "maxValue", "onKeyDown", "onElementSelect", "InputLikeDivider", "Popper", "targetRef", "offsetByMainAxis", "placement", "onPlacementChange", "autoUpdateOnTargetResize", "FocusTrap", "onClose", "Boolean", "captureEscapeKeyboardEvent", "mutationObserverOptions", "Calendar", "aria-label", "React", "sizeYClassNames", "none", "compact", "elementsConfig", "index", "length", "min", "max", "getInternalValue", "value", "newValue", "String", "getDate", "padStart", "getMonth", "getFullYear", "CALENDAR_MUTATION_OBSERVER_OPTIONS", "childList", "subtree", "attributes", "attributeFilter", "DateRangeInput", "shouldDisableDate", "disableFuture", "disablePast", "valueProp", "defaultValue", "onChange", "calendarPlacementProp", "style", "className", "closeOnChange", "disablePickers", "getRootRef", "name", "autoFocus", "disabled", "disableFocusTrap", "restoreFocus", "calendarLabel", "prevMonthLabel", "nextMonthLabel", "changeMonthLabel", "changeYearLabel", "changeStartDayLabel", "changeStartMonthLabel", "changeStartYearLabel", "changeEndDayLabel", "changeEndMonthLabel", "changeEndYearLabel", "clearFieldLabel", "showCalendarLabel", "ariaLabel", "prevMonthIcon", "nextMonthIcon", "onCalendarOpenChanged", "renderDayContent", "calendarTestsProps", "startDateTestsProps", "endDateTestsProps", "clearButtonTestId", "showCalendarButtonTestId", "id", "accessible", "readOnly", "disableCalendarProp", "props", "daysStartRef", "useRef", "monthsStartRef", "yearsStartRef", "daysEndRef", "monthsEndRef", "yearsEndRef", "disableCalendar", "_onChange", "useCallback", "undefined", "updateValue", "useCustomEnsuredControl", "onInternalValueChange", "internalValue", "isStartValid", "isEndValid", "i", "formattedStartValue", "formattedEndValue", "mask", "isMatch", "valueExists", "Array", "isArray", "now", "Date", "start", "parse", "end", "refs", "useMemo", "onClear", "rootRef", "calendarRef", "open", "openCalendar", "closeCalendar", "toggleCalendar", "handleKeyDown", "setFocusedElement", "handleFieldEnter", "clear", "removeFocusFromField", "useDateInput", "maxElement", "sizeY", "useAdaptivity", "handleRootRef", "useExternRef", "onCalendarChange", "calendarPlacement", "setCalendarPlacement", "useState", "locale", "useConfigProvider", "currentDateLabel", "startDate", "endDate", "Intl", "DateTimeFormat", "weekday", "year", "month", "day", "format", "join", "currentDateLabelId", "useId", "ariaLabelId", "showCalendarOnInputAreaClick", "_jsxs", "FormField", "classNames", "role", "aria-labelledby", "after", "_Fragment", "_jsx", "IconButton", "hoverMode", "label", "onClick", "data-testid", "Icon20CalendarOutline", "Icon16Clear", "div", "VisuallyHidden", "Component", "aria-hidden", "tabIndex", "dateFormatter", "onFocus", "Text", "normalize", "NumberInputLike", "minValue", "maxValue", "onKeyDown", "onElementSelect", "InputLikeDivider", "Popper", "targetRef", "offsetByMainAxis", "placement", "onPlacementChange", "FocusTrap", "onClose", "Boolean", "captureEscapeKeyboardEvent", "mutationObserverOptions", "CalendarRange", "aria-label", "React", "CUSTOM_PROPERTY_GRADIENT_LEFT", "useSkeletonSyncAnimation", "disableAnimation", "duration", "isAnimationStarted", "setIsAnimationStarted", "useState", "timer", "useRef", "undefined", "syncAnimation", "useCallback", "clearTimeout", "current", "durationInMilliseconds", "millisecondsInSecond", "delay", "performance", "now", "setTimeout", "React", "useEffect", "useSkeletonPosition", "rootRef", "document", "window", "useDOM", "skeletonGradientLeft", "prevSkeletonGradientLeft", "setSkeletonGradientLeft", "useStateWithPrev", "updatePosition", "el", "value", "getBoundingClientRect", "left", "body", "gradientValue", "useResizeObserver", "Skeleton", "width", "height", "inlineSize", "blockSize", "maxWidth", "maxInlineSize", "borderRadius", "children", "colorFrom", "colorTo", "noAnimation", "margin", "getRootRef", "visibilityDelay", "restProps", "useExternRef", "skeletonStyle", "Number", "isFinite", "_jsx", "RootComponent", "Component", "baseClassName", "classNames", "baseStyle", "mergeStyle", "animationVisibilityDelayStyles", "_Fragment", "React", "Div", "props", "_jsx", "RootComponent", "baseClassName", "React", "PanelSpinner", "memo", "height", "style", "restProps", "_jsx", "Spinner", "size", "process", "defineComponentDisplayNames", "PanelHeaderClose", "label", "restProps", "platform", "usePlatform", "_jsx", "PanelHeaderButton", "VisuallyHidden", "AdaptiveIconRenderer", "IconCompact", "Icon24CancelOutline", "IconRegular", "Icon28CancelOutline", "React", "sizeXClassNames", "none", "compact", "getBackIcon", "platform", "_jsx", "Icon28ChevronBack", "AdaptiveIconRenderer", "IconCompact", "Icon20ChevronLeftOutline", "IconRegular", "Icon28ChevronLeftOutline", "Icon24ArrowLeftOutline", "Icon28ArrowLeftOutline", "PanelHeaderBack", "label", "className", "hideLabelOnVKCom", "hideLabelOnIOS", "restProps", "usePlatform", "direction", "useConfigDirection", "sizeX", "useAdaptivity", "showLabel", "PanelHeaderButton", "classNames", "VisuallyHidden", "PanelHeaderSubmit", "label", "restProps", "platform", "usePlatform", "_jsx", "PanelHeaderButton", "primary", "VisuallyHidden", "AdaptiveIconRenderer", "IconCompact", "Icon24DoneOutline", "IconRegular", "Icon28DoneOutline", "React", "PanelHeaderEdit", "isActive", "editLabel", "doneLabel", "restProps", "platform", "usePlatform", "label", "_jsx", "PanelHeaderButton", "VisuallyHidden", "AdaptiveIconRenderer", "IconCompact", "Icon24DoneOutline", "Icon24PenOutline", "IconRegular", "Icon28DoneOutline", "Icon28EditOutline", "React", "React", "useAutoDetectColorScheme", "colorSchemeProp", "window", "useDOM", "colorScheme", "setColorScheme", "useState", "ColorScheme", "LIGHT", "useIsomorphicLayoutEffect", "noop", "mediaQuery", "matchMedia", "undefined", "check", "event", "matches", "DARK", "matchMediaListAddListener", "matchMediaListRemoveListener", "React", "useAutoDetectDirection", "directionProp", "window", "document", "useDOM", "useMemo", "styleDeclaration", "getComputedStyle", "body", "direction", "ConfigProvider", "propsRaw", "props", "excludeKeysWithUndefined", "parentConfig", "useConfigProvider", "mergeProps", "colorScheme", "useAutoDetectColorScheme", "direction", "useAutoDetectDirection", "configContext", "useConfigProviderContextMemo", "_jsx", "ConfigProviderContext", "Provider", "value", "IconAppearanceProvider", "TokensClassProvider", "children", "React", "LocaleProvider", "value", "children", "_jsx", "ConfigProviderOverride", "locale", "React", "DirectionProvider", "value", "children", "_jsx", "ConfigProviderOverride", "direction", "React", "PlatformProvider", "value", "children", "_jsx", "ConfigProviderOverride", "platform", "TokensClassProvider", "React", "import_react", "React", "usePopover", "arrow", "withArrow", "arrowHeight", "DEFAULT_ARROW_HEIGHT", "arrowPadding", "DEFAULT_ARROW_PADDING", "placement", "onPlacementChange", "disableFlipMiddleware", "disableShiftMiddleware", "trigger", "strategy", "content", "hoverDelay", "closeAfterClick", "offsetByMainAxis", "offsetByCrossAxis", "sameWidth", "hideWhenReferenceHidden", "onReferenceHiddenChange", "disabled", "disableInteractive", "disableCloseOnClickOutside", "disableCloseOnEscKey", "keepMounted", "customMiddlewares", "defaultShown", "shown", "shownProp", "onShownChange", "onShownChanged", "usePortal", "arrowProps", "ArrowIcon", "DefaultIcon", "autoFocus", "restoreFocus", "className", "noStyling", "zIndex", "disableFocusTrap", "role", "restPopoverProps", "renderFloatingComponent", "useCallback", "middlewareData", "resolvedPlacement", "setArrowRef", "floatingRef", "floatingProps", "willBeHide", "onRestoreFocus", "onClose", "hidden", "arrowCoords", "_jsx", "FloatingArrow", "iconClassName", "undefined", "coords", "getRootRef", "Icon", "AppRootPortal", "div", "ref", "classNames", "style", "_jsxs", "FocusTrap", "animationFadeClassNames", "out", "in", "transformOriginClassNames", "mount", "remapReferenceProps", "_param", "referenceProps", "injectAriaExpandedPropByRole", "anchorRef", "anchorProps", "component", "useFloatingElement", "popover", "Popover", "children", "restProps", "anchorRef", "anchorProps", "popover", "usePopover", "reference", "useReferenceElement", "_jsxs", "Fragment", "React", "withPlatform", "Component", "WithPlatform", "props", "platform", "useConfigProvider", "_jsx", "useLocale", "locale", "useConfigProvider", "import_react", "getOrientation", "window", "angle", "Math", "abs", "screen", "orientation", "Number", "useOrientationChange", "useDOM", "setOrientation", "useState", "useEffect", "mount", "handleChange", "addEventListener", "unmount", "removeEventListener", "React", "useNavId", "view", "useContext", "NavViewIdContext", "panel", "NavPanelIdContext", "removeObjectKeys", "obj", "keys", "newObj", "forEach", "key", "React", "SSRWrapper", "userAgent", "browserInfo", "direction", "children", "computeBrowserInfo", "_jsx", "ConfigProviderOverride", "platform", "getPlatform", "calcInitialsAvatarColor", "objectId", "React", "React", "withContext", "Component", "Ctx", "prop", "WithContext", "props", "context", "useContext", "_jsx", "warn", "warnOnce", "scrollsCache", "React", "ViewInfiniteComponent", "Component", "document", "props", "window", "panels", "Children", "toArray", "children", "componentWillUnmount", "id", "getNavId", "scrolls", "animationFinishTimeout", "clearTimeout", "componentDidUpdate", "prevProps", "prevState", "activePanel", "swipingBack", "browserSwipe", "isBack", "isBackCheck", "from", "to", "firstLayerId", "map", "panel", "find", "blurActiveElement", "prevScrolls", "scroll", "getScroll", "compensateKeyboardHeight", "y", "shouldDisableTransitionMotion", "flushTransition", "setState", "visiblePanels", "prevPanel", "nextPanel", "animated", "state", "swipeBackNextPanel", "swipeBackPrevPanel", "scrollPosition", "undefined", "prevPanelScrolls", "slice", "newPanelScrolls", "pop", "swipeBackResult", "swipeBackStartX", "swipeBackShift", "_this_props_scroll", "scrollTo", "onTransition", "waitTransitionFinish", "pickPanel", "swipingBackTransitionEndHandler", "configProvider", "transitionMotionEnabled", "splitCol", "animate", "platform", "disposeTransition", "transitionDisposer", "noop", "elem", "eventHandler", "transitionFinishTimeout", "setTimeout", "addEventListener", "removeEventListener", "activeElement", "blur", "panelNodes", "onSwipeBackSuccess", "onSwipeBack", "onSwipeBackCancel", "calcPanelSwipeStyles", "panelId", "canUseDOM", "isPrev", "isNext", "prevPanelTranslate", "nextPanelTranslate", "innerWidth", "prevPanelShadow", "boxShadow", "transform", "render", "_1", "history", "nav", "onSwipeBackStart", "className", "restProps", "filter", "includes", "sort", "isPrevPanel", "isNextPanel", "disableAnimation", "iOSSwipeBackSimulationEnabled", "isWebView", "Boolean", "_jsx", "NavViewIdContext", "Provider", "value", "Touch", "classNames", "onMoveX", "handleTouchMoveXForIOSSwipeBackSimulation", "handleTouchMoveXForNativeIOSSwipeBackOrSwipeNext", "onEnd", "handleTouchEndForIOSSwipeBackSimulation", "div", "compensateScroll", "isTransitionTarget", "scrollList", "length", "onAnimationEnd", "transitionEndHandler", "ref", "el", "style", "marginTop", "NavTransitionDirectionProvider", "NavTransitionProvider", "entering", "swipeBackPrevented", "e", "propertyName", "target", "event", "swipeBackTriggered", "viewportStartEdgeTouched", "viewportEndEdgeTouched", "getSwipeBackPredicates", "startX", "shiftX", "swipeBackExcluded", "swipedToOpposite", "hasHorizontalScrollableElementWithScrolledToLeft", "originalEvent", "payload", "speed", "duration", "millisecondsInSecond", "defaultProps", "ViewInfinite", "withContext", "withPlatform", "withDOM", "SplitColContext", "ConfigProviderContext", "ScrollContext", "ModalPageFooter", "noSeparator", "noPadding", "children", "restProps", "sizeX", "isDesktop", "useAdaptivityWithJSMediaQueries", "_jsxs", "RootComponent", "baseClassName", "classNames", "_jsx", "Separator", "className", "padding"]
}
